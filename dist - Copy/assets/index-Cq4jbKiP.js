var JI = Object.defineProperty; var QI = (t, e, r) => e in t ? JI(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[e] = r; var At = (t, e, r) => QI(t, typeof e != "symbol" ? e + "" : e, r); (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const s of document.querySelectorAll('link[rel="modulepreload"]')) n(s); new MutationObserver(s => { for (const o of s) if (o.type === "childList") for (const c of o.addedNodes) c.tagName === "LINK" && c.rel === "modulepreload" && n(c) }).observe(document, { childList: !0, subtree: !0 }); function r(s) { const o = {}; return s.integrity && (o.integrity = s.integrity), s.referrerPolicy && (o.referrerPolicy = s.referrerPolicy), s.crossOrigin === "use-credentials" ? o.credentials = "include" : s.crossOrigin === "anonymous" ? o.credentials = "omit" : o.credentials = "same-origin", o } function n(s) { if (s.ep) return; s.ep = !0; const o = r(s); fetch(s.href, o) } })(); var yh = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function It(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } var xy = { exports: {} }, gu = {};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO; function ZI() { if (RO) return gu; RO = 1; var t = Symbol.for("react.transitional.element"), e = Symbol.for("react.fragment"); function r(n, s, o) { var c = null; if (o !== void 0 && (c = "" + o), s.key !== void 0 && (c = "" + s.key), "key" in s) { o = {}; for (var u in s) u !== "key" && (o[u] = s[u]) } else o = s; return s = o.ref, { $$typeof: t, type: n, key: c, ref: s !== void 0 ? s : null, props: o } } return gu.Fragment = e, gu.jsx = r, gu.jsxs = r, gu } var $O; function eL() { return $O || ($O = 1, xy.exports = ZI()), xy.exports } var a = eL(), gy = { exports: {} }, lt = {};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO; function tL() { if (IO) return lt; IO = 1; var t = Symbol.for("react.transitional.element"), e = Symbol.for("react.portal"), r = Symbol.for("react.fragment"), n = Symbol.for("react.strict_mode"), s = Symbol.for("react.profiler"), o = Symbol.for("react.consumer"), c = Symbol.for("react.context"), u = Symbol.for("react.forward_ref"), f = Symbol.for("react.suspense"), h = Symbol.for("react.memo"), p = Symbol.for("react.lazy"), x = Symbol.for("react.activity"), g = Symbol.iterator; function v(M) { return M === null || typeof M != "object" ? null : (M = g && M[g] || M["@@iterator"], typeof M == "function" ? M : null) } var j = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, S = Object.assign, w = {}; function O(M, Z, ce) { this.props = M, this.context = Z, this.refs = w, this.updater = ce || j } O.prototype.isReactComponent = {}, O.prototype.setState = function (M, Z) { if (typeof M != "object" && typeof M != "function" && M != null) throw Error("takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, M, Z, "setState") }, O.prototype.forceUpdate = function (M) { this.updater.enqueueForceUpdate(this, M, "forceUpdate") }; function D() { } D.prototype = O.prototype; function R(M, Z, ce) { this.props = M, this.context = Z, this.refs = w, this.updater = ce || j } var H = R.prototype = new D; H.constructor = R, S(H, O.prototype), H.isPureReactComponent = !0; var C = Array.isArray; function k() { } var F = { H: null, A: null, T: null, S: null }, P = Object.prototype.hasOwnProperty; function W(M, Z, ce) { var ne = ce.ref; return { $$typeof: t, type: M, key: Z, ref: ne !== void 0 ? ne : null, props: ce } } function J(M, Z) { return W(M.type, Z, M.props) } function Q(M) { return typeof M == "object" && M !== null && M.$$typeof === t } function V(M) { var Z = { "=": "=0", ":": "=2" }; return "$" + M.replace(/[=:]/g, function (ce) { return Z[ce] }) } var ae = /\/+/g; function ie(M, Z) { return typeof M == "object" && M !== null && M.key != null ? V("" + M.key) : Z.toString(36) } function se(M) { switch (M.status) { case "fulfilled": return M.value; case "rejected": throw M.reason; default: switch (typeof M.status == "string" ? M.then(k, k) : (M.status = "pending", M.then(function (Z) { M.status === "pending" && (M.status = "fulfilled", M.value = Z) }, function (Z) { M.status === "pending" && (M.status = "rejected", M.reason = Z) })), M.status) { case "fulfilled": return M.value; case "rejected": throw M.reason } }throw M } function U(M, Z, ce, ne, L) { var I = typeof M; (I === "undefined" || I === "boolean") && (M = null); var _ = !1; if (M === null) _ = !0; else switch (I) { case "bigint": case "string": case "number": _ = !0; break; case "object": switch (M.$$typeof) { case t: case e: _ = !0; break; case p: return _ = M._init, U(_(M._payload), Z, ce, ne, L) } }if (_) return L = L(M), _ = ne === "" ? "." + ie(M, 0) : ne, C(L) ? (ce = "", _ != null && (ce = _.replace(ae, "$&/") + "/"), U(L, Z, ce, "", function (q) { return q })) : L != null && (Q(L) && (L = J(L, ce + (L.key == null || M && M.key === L.key ? "" : ("" + L.key).replace(ae, "$&/") + "/") + _)), Z.push(L)), 1; _ = 0; var X = ne === "" ? "." : ne + ":"; if (C(M)) for (var E = 0; E < M.length; E++)ne = M[E], I = X + ie(ne, E), _ += U(ne, Z, ce, I, L); else if (E = v(M), typeof E == "function") for (M = E.call(M), E = 0; !(ne = M.next()).done;)ne = ne.value, I = X + ie(ne, E++), _ += U(ne, Z, ce, I, L); else if (I === "object") { if (typeof M.then == "function") return U(se(M), Z, ce, ne, L); throw Z = String(M), Error("Objects are not valid as a React child (found: " + (Z === "[object Object]" ? "object with keys {" + Object.keys(M).join(", ") + "}" : Z) + "). If you meant to render a collection of children, use an array instead.") } return _ } function le(M, Z, ce) { if (M == null) return M; var ne = [], L = 0; return U(M, ne, "", "", function (I) { return Z.call(ce, I, L++) }), ne } function de(M) { if (M._status === -1) { var Z = M._result; Z = Z(), Z.then(function (ce) { (M._status === 0 || M._status === -1) && (M._status = 1, M._result = ce) }, function (ce) { (M._status === 0 || M._status === -1) && (M._status = 2, M._result = ce) }), M._status === -1 && (M._status = 0, M._result = Z) } if (M._status === 1) return M._result.default; throw M._result } var me = typeof reportError == "function" ? reportError : function (M) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var Z = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof M == "object" && M !== null && typeof M.message == "string" ? String(M.message) : String(M), error: M }); if (!window.dispatchEvent(Z)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", M); return } console.error(M) }, pe = { map: le, forEach: function (M, Z, ce) { le(M, function () { Z.apply(this, arguments) }, ce) }, count: function (M) { var Z = 0; return le(M, function () { Z++ }), Z }, toArray: function (M) { return le(M, function (Z) { return Z }) || [] }, only: function (M) { if (!Q(M)) throw Error("React.Children.only expected to receive a single React element child."); return M } }; return lt.Activity = x, lt.Children = pe, lt.Component = O, lt.Fragment = r, lt.Profiler = s, lt.PureComponent = R, lt.StrictMode = n, lt.Suspense = f, lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = F, lt.__COMPILER_RUNTIME = { __proto__: null, c: function (M) { return F.H.useMemoCache(M) } }, lt.cache = function (M) { return function () { return M.apply(null, arguments) } }, lt.cacheSignal = function () { return null }, lt.cloneElement = function (M, Z, ce) { if (M == null) throw Error("The argument must be a React element, but you passed " + M + "."); var ne = S({}, M.props), L = M.key; if (Z != null) for (I in Z.key !== void 0 && (L = "" + Z.key), Z) !P.call(Z, I) || I === "key" || I === "__self" || I === "__source" || I === "ref" && Z.ref === void 0 || (ne[I] = Z[I]); var I = arguments.length - 2; if (I === 1) ne.children = ce; else if (1 < I) { for (var _ = Array(I), X = 0; X < I; X++)_[X] = arguments[X + 2]; ne.children = _ } return W(M.type, L, ne) }, lt.createContext = function (M) { return M = { $$typeof: c, _currentValue: M, _currentValue2: M, _threadCount: 0, Provider: null, Consumer: null }, M.Provider = M, M.Consumer = { $$typeof: o, _context: M }, M }, lt.createElement = function (M, Z, ce) { var ne, L = {}, I = null; if (Z != null) for (ne in Z.key !== void 0 && (I = "" + Z.key), Z) P.call(Z, ne) && ne !== "key" && ne !== "__self" && ne !== "__source" && (L[ne] = Z[ne]); var _ = arguments.length - 2; if (_ === 1) L.children = ce; else if (1 < _) { for (var X = Array(_), E = 0; E < _; E++)X[E] = arguments[E + 2]; L.children = X } if (M && M.defaultProps) for (ne in _ = M.defaultProps, _) L[ne] === void 0 && (L[ne] = _[ne]); return W(M, I, L) }, lt.createRef = function () { return { current: null } }, lt.forwardRef = function (M) { return { $$typeof: u, render: M } }, lt.isValidElement = Q, lt.lazy = function (M) { return { $$typeof: p, _payload: { _status: -1, _result: M }, _init: de } }, lt.memo = function (M, Z) { return { $$typeof: h, type: M, compare: Z === void 0 ? null : Z } }, lt.startTransition = function (M) { var Z = F.T, ce = {}; F.T = ce; try { var ne = M(), L = F.S; L !== null && L(ce, ne), typeof ne == "object" && ne !== null && typeof ne.then == "function" && ne.then(k, me) } catch (I) { me(I) } finally { Z !== null && ce.types !== null && (Z.types = ce.types), F.T = Z } }, lt.unstable_useCacheRefresh = function () { return F.H.useCacheRefresh() }, lt.use = function (M) { return F.H.use(M) }, lt.useActionState = function (M, Z, ce) { return F.H.useActionState(M, Z, ce) }, lt.useCallback = function (M, Z) { return F.H.useCallback(M, Z) }, lt.useContext = function (M) { return F.H.useContext(M) }, lt.useDebugValue = function () { }, lt.useDeferredValue = function (M, Z) { return F.H.useDeferredValue(M, Z) }, lt.useEffect = function (M, Z) { return F.H.useEffect(M, Z) }, lt.useEffectEvent = function (M) { return F.H.useEffectEvent(M) }, lt.useId = function () { return F.H.useId() }, lt.useImperativeHandle = function (M, Z, ce) { return F.H.useImperativeHandle(M, Z, ce) }, lt.useInsertionEffect = function (M, Z) { return F.H.useInsertionEffect(M, Z) }, lt.useLayoutEffect = function (M, Z) { return F.H.useLayoutEffect(M, Z) }, lt.useMemo = function (M, Z) { return F.H.useMemo(M, Z) }, lt.useOptimistic = function (M, Z) { return F.H.useOptimistic(M, Z) }, lt.useReducer = function (M, Z, ce) { return F.H.useReducer(M, Z, ce) }, lt.useRef = function (M) { return F.H.useRef(M) }, lt.useState = function (M) { return F.H.useState(M) }, lt.useSyncExternalStore = function (M, Z, ce) { return F.H.useSyncExternalStore(M, Z, ce) }, lt.useTransition = function () { return F.H.useTransition() }, lt.version = "19.2.3", lt } var LO; function NN() { return LO || (LO = 1, gy.exports = tL()), gy.exports } var b = NN(); const he = It(b); var yy = { exports: {} }, yu = {}, by = { exports: {} }, vy = {};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO; function rL() { return FO || (FO = 1, (function (t) { function e(U, le) { var de = U.length; U.push(le); e: for (; 0 < de;) { var me = de - 1 >>> 1, pe = U[me]; if (0 < s(pe, le)) U[me] = le, U[de] = pe, de = me; else break e } } function r(U) { return U.length === 0 ? null : U[0] } function n(U) { if (U.length === 0) return null; var le = U[0], de = U.pop(); if (de !== le) { U[0] = de; e: for (var me = 0, pe = U.length, M = pe >>> 1; me < M;) { var Z = 2 * (me + 1) - 1, ce = U[Z], ne = Z + 1, L = U[ne]; if (0 > s(ce, de)) ne < pe && 0 > s(L, ce) ? (U[me] = L, U[ne] = de, me = ne) : (U[me] = ce, U[Z] = de, me = Z); else if (ne < pe && 0 > s(L, de)) U[me] = L, U[ne] = de, me = ne; else break e } } return le } function s(U, le) { var de = U.sortIndex - le.sortIndex; return de !== 0 ? de : U.id - le.id } if (t.unstable_now = void 0, typeof performance == "object" && typeof performance.now == "function") { var o = performance; t.unstable_now = function () { return o.now() } } else { var c = Date, u = c.now(); t.unstable_now = function () { return c.now() - u } } var f = [], h = [], p = 1, x = null, g = 3, v = !1, j = !1, S = !1, w = !1, O = typeof setTimeout == "function" ? setTimeout : null, D = typeof clearTimeout == "function" ? clearTimeout : null, R = typeof setImmediate < "u" ? setImmediate : null; function H(U) { for (var le = r(h); le !== null;) { if (le.callback === null) n(h); else if (le.startTime <= U) n(h), le.sortIndex = le.expirationTime, e(f, le); else break; le = r(h) } } function C(U) { if (S = !1, H(U), !j) if (r(f) !== null) j = !0, k || (k = !0, V()); else { var le = r(h); le !== null && se(C, le.startTime - U) } } var k = !1, F = -1, P = 5, W = -1; function J() { return w ? !0 : !(t.unstable_now() - W < P) } function Q() { if (w = !1, k) { var U = t.unstable_now(); W = U; var le = !0; try { e: { j = !1, S && (S = !1, D(F), F = -1), v = !0; var de = g; try { t: { for (H(U), x = r(f); x !== null && !(x.expirationTime > U && J());) { var me = x.callback; if (typeof me == "function") { x.callback = null, g = x.priorityLevel; var pe = me(x.expirationTime <= U); if (U = t.unstable_now(), typeof pe == "function") { x.callback = pe, H(U), le = !0; break t } x === r(f) && n(f), H(U) } else n(f); x = r(f) } if (x !== null) le = !0; else { var M = r(h); M !== null && se(C, M.startTime - U), le = !1 } } break e } finally { x = null, g = de, v = !1 } le = void 0 } } finally { le ? V() : k = !1 } } } var V; if (typeof R == "function") V = function () { R(Q) }; else if (typeof MessageChannel < "u") { var ae = new MessageChannel, ie = ae.port2; ae.port1.onmessage = Q, V = function () { ie.postMessage(null) } } else V = function () { O(Q, 0) }; function se(U, le) { F = O(function () { U(t.unstable_now()) }, le) } t.unstable_IdlePriority = 5, t.unstable_ImmediatePriority = 1, t.unstable_LowPriority = 4, t.unstable_NormalPriority = 3, t.unstable_Profiling = null, t.unstable_UserBlockingPriority = 2, t.unstable_cancelCallback = function (U) { U.callback = null }, t.unstable_forceFrameRate = function (U) { 0 > U || 125 < U ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : P = 0 < U ? Math.floor(1e3 / U) : 5 }, t.unstable_getCurrentPriorityLevel = function () { return g }, t.unstable_next = function (U) { switch (g) { case 1: case 2: case 3: var le = 3; break; default: le = g }var de = g; g = le; try { return U() } finally { g = de } }, t.unstable_requestPaint = function () { w = !0 }, t.unstable_runWithPriority = function (U, le) { switch (U) { case 1: case 2: case 3: case 4: case 5: break; default: U = 3 }var de = g; g = U; try { return le() } finally { g = de } }, t.unstable_scheduleCallback = function (U, le, de) { var me = t.unstable_now(); switch (typeof de == "object" && de !== null ? (de = de.delay, de = typeof de == "number" && 0 < de ? me + de : me) : de = me, U) { case 1: var pe = -1; break; case 2: pe = 250; break; case 5: pe = 1073741823; break; case 4: pe = 1e4; break; default: pe = 5e3 }return pe = de + pe, U = { id: p++, callback: le, priorityLevel: U, startTime: de, expirationTime: pe, sortIndex: -1 }, de > me ? (U.sortIndex = de, e(h, U), r(f) === null && U === r(h) && (S ? (D(F), F = -1) : S = !0, se(C, de - me))) : (U.sortIndex = pe, e(f, U), j || v || (j = !0, k || (k = !0, V()))), U }, t.unstable_shouldYield = J, t.unstable_wrapCallback = function (U) { var le = g; return function () { var de = g; g = le; try { return U.apply(this, arguments) } finally { g = de } } } })(vy)), vy } var BO; function nL() { return BO || (BO = 1, by.exports = rL()), by.exports } var wy = { exports: {} }, Xr = {};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO; function aL() { if (qO) return Xr; qO = 1; var t = NN(); function e(f) { var h = "https://react.dev/errors/" + f; if (1 < arguments.length) { h += "?args[]=" + encodeURIComponent(arguments[1]); for (var p = 2; p < arguments.length; p++)h += "&args[]=" + encodeURIComponent(arguments[p]) } return "Minified React error #" + f + "; visit " + h + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function r() { } var n = { d: { f: r, r: function () { throw Error(e(522)) }, D: r, C: r, L: r, m: r, X: r, S: r, M: r }, p: 0, findDOMNode: null }, s = Symbol.for("react.portal"); function o(f, h, p) { var x = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null; return { $$typeof: s, key: x == null ? null : "" + x, children: f, containerInfo: h, implementation: p } } var c = t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE; function u(f, h) { if (f === "font") return ""; if (typeof h == "string") return h === "use-credentials" ? h : "" } return Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE = n, Xr.createPortal = function (f, h) { var p = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null; if (!h || h.nodeType !== 1 && h.nodeType !== 9 && h.nodeType !== 11) throw Error(e(299)); return o(f, h, null, p) }, Xr.flushSync = function (f) { var h = c.T, p = n.p; try { if (c.T = null, n.p = 2, f) return f() } finally { c.T = h, n.p = p, n.d.f() } }, Xr.preconnect = function (f, h) { typeof f == "string" && (h ? (h = h.crossOrigin, h = typeof h == "string" ? h === "use-credentials" ? h : "" : void 0) : h = null, n.d.C(f, h)) }, Xr.prefetchDNS = function (f) { typeof f == "string" && n.d.D(f) }, Xr.preinit = function (f, h) { if (typeof f == "string" && h && typeof h.as == "string") { var p = h.as, x = u(p, h.crossOrigin), g = typeof h.integrity == "string" ? h.integrity : void 0, v = typeof h.fetchPriority == "string" ? h.fetchPriority : void 0; p === "style" ? n.d.S(f, typeof h.precedence == "string" ? h.precedence : void 0, { crossOrigin: x, integrity: g, fetchPriority: v }) : p === "script" && n.d.X(f, { crossOrigin: x, integrity: g, fetchPriority: v, nonce: typeof h.nonce == "string" ? h.nonce : void 0 }) } }, Xr.preinitModule = function (f, h) { if (typeof f == "string") if (typeof h == "object" && h !== null) { if (h.as == null || h.as === "script") { var p = u(h.as, h.crossOrigin); n.d.M(f, { crossOrigin: p, integrity: typeof h.integrity == "string" ? h.integrity : void 0, nonce: typeof h.nonce == "string" ? h.nonce : void 0 }) } } else h == null && n.d.M(f) }, Xr.preload = function (f, h) { if (typeof f == "string" && typeof h == "object" && h !== null && typeof h.as == "string") { var p = h.as, x = u(p, h.crossOrigin); n.d.L(f, p, { crossOrigin: x, integrity: typeof h.integrity == "string" ? h.integrity : void 0, nonce: typeof h.nonce == "string" ? h.nonce : void 0, type: typeof h.type == "string" ? h.type : void 0, fetchPriority: typeof h.fetchPriority == "string" ? h.fetchPriority : void 0, referrerPolicy: typeof h.referrerPolicy == "string" ? h.referrerPolicy : void 0, imageSrcSet: typeof h.imageSrcSet == "string" ? h.imageSrcSet : void 0, imageSizes: typeof h.imageSizes == "string" ? h.imageSizes : void 0, media: typeof h.media == "string" ? h.media : void 0 }) } }, Xr.preloadModule = function (f, h) { if (typeof f == "string") if (h) { var p = u(h.as, h.crossOrigin); n.d.m(f, { as: typeof h.as == "string" && h.as !== "script" ? h.as : void 0, crossOrigin: p, integrity: typeof h.integrity == "string" ? h.integrity : void 0 }) } else n.d.m(f) }, Xr.requestFormReset = function (f) { n.d.r(f) }, Xr.unstable_batchedUpdates = function (f, h) { return f(h) }, Xr.useFormState = function (f, h, p) { return c.H.useFormState(f, h, p) }, Xr.useFormStatus = function () { return c.H.useHostTransitionStatus() }, Xr.version = "19.2.3", Xr } var zO; function sL() { if (zO) return wy.exports; zO = 1; function t() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t) } catch (e) { console.error(e) } } return t(), wy.exports = aL(), wy.exports }/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO; function iL() {
  if (UO) return yu; UO = 1; var t = nL(), e = NN(), r = sL(); function n(i) { var l = "https://react.dev/errors/" + i; if (1 < arguments.length) { l += "?args[]=" + encodeURIComponent(arguments[1]); for (var d = 2; d < arguments.length; d++)l += "&args[]=" + encodeURIComponent(arguments[d]) } return "Minified React error #" + i + "; visit " + l + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } function s(i) { return !(!i || i.nodeType !== 1 && i.nodeType !== 9 && i.nodeType !== 11) } function o(i) { var l = i, d = i; if (i.alternate) for (; l.return;)l = l.return; else { i = l; do l = i, (l.flags & 4098) !== 0 && (d = l.return), i = l.return; while (i) } return l.tag === 3 ? d : null } function c(i) { if (i.tag === 13) { var l = i.memoizedState; if (l === null && (i = i.alternate, i !== null && (l = i.memoizedState)), l !== null) return l.dehydrated } return null } function u(i) { if (i.tag === 31) { var l = i.memoizedState; if (l === null && (i = i.alternate, i !== null && (l = i.memoizedState)), l !== null) return l.dehydrated } return null } function f(i) { if (o(i) !== i) throw Error(n(188)) } function h(i) { var l = i.alternate; if (!l) { if (l = o(i), l === null) throw Error(n(188)); return l !== i ? null : i } for (var d = i, m = l; ;) { var y = d.return; if (y === null) break; var N = y.alternate; if (N === null) { if (m = y.return, m !== null) { d = m; continue } break } if (y.child === N.child) { for (N = y.child; N;) { if (N === d) return f(y), i; if (N === m) return f(y), l; N = N.sibling } throw Error(n(188)) } if (d.return !== m.return) d = y, m = N; else { for (var B = !1, re = y.child; re;) { if (re === d) { B = !0, d = y, m = N; break } if (re === m) { B = !0, m = y, d = N; break } re = re.sibling } if (!B) { for (re = N.child; re;) { if (re === d) { B = !0, d = N, m = y; break } if (re === m) { B = !0, m = N, d = y; break } re = re.sibling } if (!B) throw Error(n(189)) } } if (d.alternate !== m) throw Error(n(190)) } if (d.tag !== 3) throw Error(n(188)); return d.stateNode.current === d ? i : l } function p(i) { var l = i.tag; if (l === 5 || l === 26 || l === 27 || l === 6) return i; for (i = i.child; i !== null;) { if (l = p(i), l !== null) return l; i = i.sibling } return null } var x = Object.assign, g = Symbol.for("react.element"), v = Symbol.for("react.transitional.element"), j = Symbol.for("react.portal"), S = Symbol.for("react.fragment"), w = Symbol.for("react.strict_mode"), O = Symbol.for("react.profiler"), D = Symbol.for("react.consumer"), R = Symbol.for("react.context"), H = Symbol.for("react.forward_ref"), C = Symbol.for("react.suspense"), k = Symbol.for("react.suspense_list"), F = Symbol.for("react.memo"), P = Symbol.for("react.lazy"), W = Symbol.for("react.activity"), J = Symbol.for("react.memo_cache_sentinel"), Q = Symbol.iterator; function V(i) { return i === null || typeof i != "object" ? null : (i = Q && i[Q] || i["@@iterator"], typeof i == "function" ? i : null) } var ae = Symbol.for("react.client.reference"); function ie(i) { if (i == null) return null; if (typeof i == "function") return i.$$typeof === ae ? null : i.displayName || i.name || null; if (typeof i == "string") return i; switch (i) { case S: return "Fragment"; case O: return "Profiler"; case w: return "StrictMode"; case C: return "Suspense"; case k: return "SuspenseList"; case W: return "Activity" }if (typeof i == "object") switch (i.$$typeof) { case j: return "Portal"; case R: return i.displayName || "Context"; case D: return (i._context.displayName || "Context") + ".Consumer"; case H: var l = i.render; return i = i.displayName, i || (i = l.displayName || l.name || "", i = i !== "" ? "ForwardRef(" + i + ")" : "ForwardRef"), i; case F: return l = i.displayName || null, l !== null ? l : ie(i.type) || "Memo"; case P: l = i._payload, i = i._init; try { return ie(i(l)) } catch { } }return null } var se = Array.isArray, U = e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, le = r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE, de = { pending: !1, data: null, method: null, action: null }, me = [], pe = -1; function M(i) { return { current: i } } function Z(i) { 0 > pe || (i.current = me[pe], me[pe] = null, pe--) } function ce(i, l) { pe++, me[pe] = i.current, i.current = l } var ne = M(null), L = M(null), I = M(null), _ = M(null); function X(i, l) { switch (ce(I, l), ce(L, i), ce(ne, null), l.nodeType) { case 9: case 11: i = (i = l.documentElement) && (i = i.namespaceURI) ? aO(i) : 0; break; default: if (i = l.tagName, l = l.namespaceURI) l = aO(l), i = sO(l, i); else switch (i) { case "svg": i = 1; break; case "math": i = 2; break; default: i = 0 } }Z(ne), ce(ne, i) } function E() { Z(ne), Z(L), Z(I) } function q(i) { i.memoizedState !== null && ce(_, i); var l = ne.current, d = sO(l, i.type); l !== d && (ce(L, i), ce(ne, d)) } function T(i) { L.current === i && (Z(ne), Z(L)), _.current === i && (Z(_), hu._currentValue = de) } var Y, G; function A(i) {
    if (Y === void 0) try { throw Error() } catch (d) {
      var l = d.stack.trim().match(/\n( *(at )?)/); Y = l && l[1] || "", G = -1 < d.stack.indexOf(`
    at`) ? " (<anonymous>)" : -1 < d.stack.indexOf("@") ? "@unknown:0:0" : ""
    } return `
`+ Y + i + G
  } var z = !1; function $(i, l) {
    if (!i || z) return ""; z = !0; var d = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try {
      var m = { DetermineComponentFrameRoot: function () { try { if (l) { var Te = function () { throw Error() }; if (Object.defineProperty(Te.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(Te, []) } catch (Oe) { var Se = Oe } Reflect.construct(i, [], Te) } else { try { Te.call() } catch (Oe) { Se = Oe } i.call(Te.prototype) } } else { try { throw Error() } catch (Oe) { Se = Oe } (Te = i()) && typeof Te.catch == "function" && Te.catch(function () { }) } } catch (Oe) { if (Oe && Se && typeof Oe.stack == "string") return [Oe.stack, Se.stack] } return [null, null] } }; m.DetermineComponentFrameRoot.displayName = "DetermineComponentFrameRoot"; var y = Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot, "name"); y && y.configurable && Object.defineProperty(m.DetermineComponentFrameRoot, "name", { value: "DetermineComponentFrameRoot" }); var N = m.DetermineComponentFrameRoot(), B = N[0], re = N[1]; if (B && re) {
        var xe = B.split(`
`), Ne = re.split(`
`); for (y = m = 0; m < xe.length && !xe[m].includes("DetermineComponentFrameRoot");)m++; for (; y < Ne.length && !Ne[y].includes("DetermineComponentFrameRoot");)y++; if (m === xe.length || y === Ne.length) for (m = xe.length - 1, y = Ne.length - 1; 1 <= m && 0 <= y && xe[m] !== Ne[y];)y--; for (; 1 <= m && 0 <= y; m--, y--)if (xe[m] !== Ne[y]) {
          if (m !== 1 || y !== 1) do if (m--, y--, 0 > y || xe[m] !== Ne[y]) {
            var Ae = `
`+ xe[m].replace(" at new ", " at "); return i.displayName && Ae.includes("<anonymous>") && (Ae = Ae.replace("<anonymous>", i.displayName)), Ae
          } while (1 <= m && 0 <= y); break
        }
      }
    } finally { z = !1, Error.prepareStackTrace = d } return (d = i ? i.displayName || i.name : "") ? A(d) : ""
  } function K(i, l) { switch (i.tag) { case 26: case 27: case 5: return A(i.type); case 16: return A("Lazy"); case 13: return i.child !== l && l !== null ? A("Suspense Fallback") : A("Suspense"); case 19: return A("SuspenseList"); case 0: case 15: return $(i.type, !1); case 11: return $(i.type.render, !1); case 1: return $(i.type, !0); case 31: return A("Activity"); default: return "" } } function ee(i) {
    try { var l = "", d = null; do l += K(i, d), d = i, i = i.return; while (i); return l } catch (m) {
      return `
Error generating stack: `+ m.message + `
`+ m.stack
    }
  } var te = Object.prototype.hasOwnProperty, oe = t.unstable_scheduleCallback, fe = t.unstable_cancelCallback, ue = t.unstable_shouldYield, ye = t.unstable_requestPaint, be = t.unstable_now, Pe = t.unstable_getCurrentPriorityLevel, $e = t.unstable_ImmediatePriority, Fe = t.unstable_UserBlockingPriority, Ue = t.unstable_NormalPriority, Ze = t.unstable_LowPriority, nt = t.unstable_IdlePriority, Kt = t.log, ft = t.unstable_setDisableYieldValue, Fr = null, jt = null; function yr(i) { if (typeof Kt == "function" && ft(i), jt && typeof jt.setStrictMode == "function") try { jt.setStrictMode(Fr, i) } catch { } } var er = Math.clz32 ? Math.clz32 : Br, Uo = Math.log, Tr = Math.LN2; function Br(i) { return i >>>= 0, i === 0 ? 32 : 31 - (Uo(i) / Tr | 0) | 0 } var qr = 256, Pr = 262144, zr = 4194304; function In(i) { var l = i & 42; if (l !== 0) return l; switch (i & -i) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: return 64; case 128: return 128; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: return i & 261888; case 262144: case 524288: case 1048576: case 2097152: return i & 3932160; case 4194304: case 8388608: case 16777216: case 33554432: return i & 62914560; case 67108864: return 67108864; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 0; default: return i } } function Wa(i, l, d) { var m = i.pendingLanes; if (m === 0) return 0; var y = 0, N = i.suspendedLanes, B = i.pingedLanes; i = i.warmLanes; var re = m & 134217727; return re !== 0 ? (m = re & ~N, m !== 0 ? y = In(m) : (B &= re, B !== 0 ? y = In(B) : d || (d = re & ~i, d !== 0 && (y = In(d))))) : (re = m & ~N, re !== 0 ? y = In(re) : B !== 0 ? y = In(B) : d || (d = m & ~i, d !== 0 && (y = In(d)))), y === 0 ? 0 : l !== 0 && l !== y && (l & N) === 0 && (N = y & -y, d = l & -l, N >= d || N === 32 && (d & 4194048) !== 0) ? l : y } function bn(i, l) { return (i.pendingLanes & ~(i.suspendedLanes & ~i.pingedLanes) & l) === 0 } function Xa(i, l) { switch (i) { case 1: case 2: case 4: case 8: case 64: return l + 250; case 16: case 32: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return l + 5e3; case 4194304: case 8388608: case 16777216: case 33554432: return -1; case 67108864: case 134217728: case 268435456: case 536870912: case 1073741824: return -1; default: return -1 } } function Ea() { var i = zr; return zr <<= 1, (zr & 62914560) === 0 && (zr = 4194304), i } function Wr(i) { for (var l = [], d = 0; 31 > d; d++)l.push(i); return l } function Ys(i, l) { i.pendingLanes |= l, l !== 268435456 && (i.suspendedLanes = 0, i.pingedLanes = 0, i.warmLanes = 0) } function Zd(i, l, d, m, y, N) { var B = i.pendingLanes; i.pendingLanes = d, i.suspendedLanes = 0, i.pingedLanes = 0, i.warmLanes = 0, i.expiredLanes &= d, i.entangledLanes &= d, i.errorRecoveryDisabledLanes &= d, i.shellSuspendCounter = 0; var re = i.entanglements, xe = i.expirationTimes, Ne = i.hiddenUpdates; for (d = B & ~d; 0 < d;) { var Ae = 31 - er(d), Te = 1 << Ae; re[Ae] = 0, xe[Ae] = -1; var Se = Ne[Ae]; if (Se !== null) for (Ne[Ae] = null, Ae = 0; Ae < Se.length; Ae++) { var Oe = Se[Ae]; Oe !== null && (Oe.lane &= -536870913) } d &= ~Te } m !== 0 && ef(i, m, 0), N !== 0 && y === 0 && i.tag !== 0 && (i.suspendedLanes |= N & ~(B & ~l)) } function ef(i, l, d) { i.pendingLanes |= l, i.suspendedLanes &= ~l; var m = 31 - er(l); i.entangledLanes |= l, i.entanglements[m] = i.entanglements[m] | 1073741824 | d & 261930 } function tf(i, l) { var d = i.entangledLanes |= l; for (i = i.entanglements; d;) { var m = 31 - er(d), y = 1 << m; y & l | i[m] & l && (i[m] |= l), d &= ~y } } function rf(i, l) { var d = l & -l; return d = (d & 42) !== 0 ? 1 : Gs(d), (d & (i.suspendedLanes | l)) !== 0 ? 0 : d } function Gs(i) { switch (i) { case 2: i = 1; break; case 8: i = 4; break; case 32: i = 16; break; case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: i = 128; break; case 268435456: i = 134217728; break; default: i = 0 }return i } function Ho(i) { return i &= -i, 2 < i ? 8 < i ? (i & 134217727) !== 0 ? 32 : 268435456 : 8 : 2 } function nf() { var i = le.p; return i !== 0 ? i : (i = window.event, i === void 0 ? 32 : kO(i.type)) } function af(i, l) { var d = le.p; try { return le.p = i, l() } finally { le.p = d } } var _e = Math.random().toString(36).slice(2), we = "__reactFiber$" + _e, Ce = "__reactProps$" + _e, Be = "__reactContainer$" + _e, Re = "__reactEvents$" + _e, qe = "__reactListeners$" + _e, Me = "__reactHandles$" + _e, Ie = "__reactResources$" + _e, Ve = "__reactMarker$" + _e; function He(i) { delete i[we], delete i[Ce], delete i[Re], delete i[qe], delete i[Me] } function Ye(i) { var l = i[we]; if (l) return l; for (var d = i.parentNode; d;) { if (l = d[Be] || d[we]) { if (d = l.alternate, l.child !== null || d !== null && d.child !== null) for (i = fO(i); i !== null;) { if (d = i[we]) return d; i = fO(i) } return l } i = d, d = i.parentNode } return null } function ze(i) { if (i = i[we] || i[Be]) { var l = i.tag; if (l === 5 || l === 6 || l === 13 || l === 31 || l === 26 || l === 27 || l === 3) return i } return null } function rt(i) { var l = i.tag; if (l === 5 || l === 26 || l === 27 || l === 6) return i.stateNode; throw Error(n(33)) } function Ke(i) { var l = i[Ie]; return l || (l = i[Ie] = { hoistableStyles: new Map, hoistableScripts: new Map }), l } function Xe(i) { i[Ve] = !0 } var vt = new Set, _r = {}; function Wt(i, l) { Ln(i, l), Ln(i + "Capture", l) } function Ln(i, l) { for (_r[i] = l, i = 0; i < l.length; i++)vt.add(l[i]) } var sf = RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"), Vo = {}, Ac = {}; function of(i) { return te.call(Ac, i) ? !0 : te.call(Vo, i) ? !1 : sf.test(i) ? Ac[i] = !0 : (Vo[i] = !0, !1) } function zi(i, l, d) { if (of(l)) if (d === null) i.removeAttribute(l); else { switch (typeof d) { case "undefined": case "function": case "symbol": i.removeAttribute(l); return; case "boolean": var m = l.toLowerCase().slice(0, 5); if (m !== "data-" && m !== "aria-") { i.removeAttribute(l); return } }i.setAttribute(l, "" + d) } } function ca(i, l, d) { if (d === null) i.removeAttribute(l); else { switch (typeof d) { case "undefined": case "function": case "symbol": case "boolean": i.removeAttribute(l); return }i.setAttribute(l, "" + d) } } function Fn(i, l, d, m) { if (m === null) i.removeAttribute(d); else { switch (typeof m) { case "undefined": case "function": case "symbol": case "boolean": i.removeAttribute(d); return }i.setAttributeNS(l, d, "" + m) } } function Ct(i) { switch (typeof i) { case "bigint": case "boolean": case "number": case "string": case "undefined": return i; case "object": return i; default: return "" } } function Ks(i) { var l = i.type; return (i = i.nodeName) && i.toLowerCase() === "input" && (l === "checkbox" || l === "radio") } function Ui(i, l, d) { var m = Object.getOwnPropertyDescriptor(i.constructor.prototype, l); if (!i.hasOwnProperty(l) && typeof m < "u" && typeof m.get == "function" && typeof m.set == "function") { var y = m.get, N = m.set; return Object.defineProperty(i, l, { configurable: !0, get: function () { return y.call(this) }, set: function (B) { d = "" + B, N.call(this, B) } }), Object.defineProperty(i, l, { enumerable: m.enumerable }), { getValue: function () { return d }, setValue: function (B) { d = "" + B }, stopTracking: function () { i._valueTracker = null, delete i[l] } } } } function Hi(i) { if (!i._valueTracker) { var l = Ks(i) ? "checked" : "value"; i._valueTracker = Ui(i, l, "" + i[l]) } } function J1(i) { if (!i) return !1; var l = i._valueTracker; if (!l) return !0; var d = l.getValue(), m = ""; return i && (m = Ks(i) ? i.checked ? "true" : "false" : i.value), i = m, i !== d ? (l.setValue(i), !0) : !1 } function lf(i) { if (i = i || (typeof document < "u" ? document : void 0), typeof i > "u") return null; try { return i.activeElement || i.body } catch { return i.body } } var V6 = /[\n"\\]/g; function Bn(i) { return i.replace(V6, function (l) { return "\\" + l.charCodeAt(0).toString(16) + " " }) } function ux(i, l, d, m, y, N, B, re) { i.name = "", B != null && typeof B != "function" && typeof B != "symbol" && typeof B != "boolean" ? i.type = B : i.removeAttribute("type"), l != null ? B === "number" ? (l === 0 && i.value === "" || i.value != l) && (i.value = "" + Ct(l)) : i.value !== "" + Ct(l) && (i.value = "" + Ct(l)) : B !== "submit" && B !== "reset" || i.removeAttribute("value"), l != null ? dx(i, B, Ct(l)) : d != null ? dx(i, B, Ct(d)) : m != null && i.removeAttribute("value"), y == null && N != null && (i.defaultChecked = !!N), y != null && (i.checked = y && typeof y != "function" && typeof y != "symbol"), re != null && typeof re != "function" && typeof re != "symbol" && typeof re != "boolean" ? i.name = "" + Ct(re) : i.removeAttribute("name") } function Q1(i, l, d, m, y, N, B, re) { if (N != null && typeof N != "function" && typeof N != "symbol" && typeof N != "boolean" && (i.type = N), l != null || d != null) { if (!(N !== "submit" && N !== "reset" || l != null)) { Hi(i); return } d = d != null ? "" + Ct(d) : "", l = l != null ? "" + Ct(l) : d, re || l === i.value || (i.value = l), i.defaultValue = l } m = m ?? y, m = typeof m != "function" && typeof m != "symbol" && !!m, i.checked = re ? i.checked : !!m, i.defaultChecked = !!m, B != null && typeof B != "function" && typeof B != "symbol" && typeof B != "boolean" && (i.name = B), Hi(i) } function dx(i, l, d) { l === "number" && lf(i.ownerDocument) === i || i.defaultValue === "" + d || (i.defaultValue = "" + d) } function Yo(i, l, d, m) { if (i = i.options, l) { l = {}; for (var y = 0; y < d.length; y++)l["$" + d[y]] = !0; for (d = 0; d < i.length; d++)y = l.hasOwnProperty("$" + i[d].value), i[d].selected !== y && (i[d].selected = y), y && m && (i[d].defaultSelected = !0) } else { for (d = "" + Ct(d), l = null, y = 0; y < i.length; y++) { if (i[y].value === d) { i[y].selected = !0, m && (i[y].defaultSelected = !0); return } l !== null || i[y].disabled || (l = i[y]) } l !== null && (l.selected = !0) } } function Z1(i, l, d) { if (l != null && (l = "" + Ct(l), l !== i.value && (i.value = l), d == null)) { i.defaultValue !== l && (i.defaultValue = l); return } i.defaultValue = d != null ? "" + Ct(d) : "" } function e2(i, l, d, m) { if (l == null) { if (m != null) { if (d != null) throw Error(n(92)); if (se(m)) { if (1 < m.length) throw Error(n(93)); m = m[0] } d = m } d == null && (d = ""), l = d } d = Ct(l), i.defaultValue = d, m = i.textContent, m === d && m !== "" && m !== null && (i.value = m), Hi(i) } function Go(i, l) { if (l) { var d = i.firstChild; if (d && d === i.lastChild && d.nodeType === 3) { d.nodeValue = l; return } } i.textContent = l } var Y6 = new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")); function t2(i, l, d) { var m = l.indexOf("--") === 0; d == null || typeof d == "boolean" || d === "" ? m ? i.setProperty(l, "") : l === "float" ? i.cssFloat = "" : i[l] = "" : m ? i.setProperty(l, d) : typeof d != "number" || d === 0 || Y6.has(l) ? l === "float" ? i.cssFloat = d : i[l] = ("" + d).trim() : i[l] = d + "px" } function r2(i, l, d) { if (l != null && typeof l != "object") throw Error(n(62)); if (i = i.style, d != null) { for (var m in d) !d.hasOwnProperty(m) || l != null && l.hasOwnProperty(m) || (m.indexOf("--") === 0 ? i.setProperty(m, "") : m === "float" ? i.cssFloat = "" : i[m] = ""); for (var y in l) m = l[y], l.hasOwnProperty(y) && d[y] !== m && t2(i, y, m) } else for (var N in l) l.hasOwnProperty(N) && t2(i, N, l[N]) } function fx(i) { if (i.indexOf("-") === -1) return !1; switch (i) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var G6 = new Map([["acceptCharset", "accept-charset"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"], ["crossOrigin", "crossorigin"], ["accentHeight", "accent-height"], ["alignmentBaseline", "alignment-baseline"], ["arabicForm", "arabic-form"], ["baselineShift", "baseline-shift"], ["capHeight", "cap-height"], ["clipPath", "clip-path"], ["clipRule", "clip-rule"], ["colorInterpolation", "color-interpolation"], ["colorInterpolationFilters", "color-interpolation-filters"], ["colorProfile", "color-profile"], ["colorRendering", "color-rendering"], ["dominantBaseline", "dominant-baseline"], ["enableBackground", "enable-background"], ["fillOpacity", "fill-opacity"], ["fillRule", "fill-rule"], ["floodColor", "flood-color"], ["floodOpacity", "flood-opacity"], ["fontFamily", "font-family"], ["fontSize", "font-size"], ["fontSizeAdjust", "font-size-adjust"], ["fontStretch", "font-stretch"], ["fontStyle", "font-style"], ["fontVariant", "font-variant"], ["fontWeight", "font-weight"], ["glyphName", "glyph-name"], ["glyphOrientationHorizontal", "glyph-orientation-horizontal"], ["glyphOrientationVertical", "glyph-orientation-vertical"], ["horizAdvX", "horiz-adv-x"], ["horizOriginX", "horiz-origin-x"], ["imageRendering", "image-rendering"], ["letterSpacing", "letter-spacing"], ["lightingColor", "lighting-color"], ["markerEnd", "marker-end"], ["markerMid", "marker-mid"], ["markerStart", "marker-start"], ["overlinePosition", "overline-position"], ["overlineThickness", "overline-thickness"], ["paintOrder", "paint-order"], ["panose-1", "panose-1"], ["pointerEvents", "pointer-events"], ["renderingIntent", "rendering-intent"], ["shapeRendering", "shape-rendering"], ["stopColor", "stop-color"], ["stopOpacity", "stop-opacity"], ["strikethroughPosition", "strikethrough-position"], ["strikethroughThickness", "strikethrough-thickness"], ["strokeDasharray", "stroke-dasharray"], ["strokeDashoffset", "stroke-dashoffset"], ["strokeLinecap", "stroke-linecap"], ["strokeLinejoin", "stroke-linejoin"], ["strokeMiterlimit", "stroke-miterlimit"], ["strokeOpacity", "stroke-opacity"], ["strokeWidth", "stroke-width"], ["textAnchor", "text-anchor"], ["textDecoration", "text-decoration"], ["textRendering", "text-rendering"], ["transformOrigin", "transform-origin"], ["underlinePosition", "underline-position"], ["underlineThickness", "underline-thickness"], ["unicodeBidi", "unicode-bidi"], ["unicodeRange", "unicode-range"], ["unitsPerEm", "units-per-em"], ["vAlphabetic", "v-alphabetic"], ["vHanging", "v-hanging"], ["vIdeographic", "v-ideographic"], ["vMathematical", "v-mathematical"], ["vectorEffect", "vector-effect"], ["vertAdvY", "vert-adv-y"], ["vertOriginX", "vert-origin-x"], ["vertOriginY", "vert-origin-y"], ["wordSpacing", "word-spacing"], ["writingMode", "writing-mode"], ["xmlnsXlink", "xmlns:xlink"], ["xHeight", "x-height"]]), K6 = /^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i; function cf(i) { return K6.test("" + i) ? "javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')" : i } function Ja() { } var hx = null; function mx(i) { return i = i.target || i.srcElement || window, i.correspondingUseElement && (i = i.correspondingUseElement), i.nodeType === 3 ? i.parentNode : i } var Ko = null, Wo = null; function n2(i) { var l = ze(i); if (l && (i = l.stateNode)) { var d = i[Ce] || null; e: switch (i = l.stateNode, l.type) { case "input": if (ux(i, d.value, d.defaultValue, d.defaultValue, d.checked, d.defaultChecked, d.type, d.name), l = d.name, d.type === "radio" && l != null) { for (d = i; d.parentNode;)d = d.parentNode; for (d = d.querySelectorAll('input[name="' + Bn("" + l) + '"][type="radio"]'), l = 0; l < d.length; l++) { var m = d[l]; if (m !== i && m.form === i.form) { var y = m[Ce] || null; if (!y) throw Error(n(90)); ux(m, y.value, y.defaultValue, y.defaultValue, y.checked, y.defaultChecked, y.type, y.name) } } for (l = 0; l < d.length; l++)m = d[l], m.form === i.form && J1(m) } break e; case "textarea": Z1(i, d.value, d.defaultValue); break e; case "select": l = d.value, l != null && Yo(i, !!d.multiple, l, !1) } } } var px = !1; function a2(i, l, d) { if (px) return i(l, d); px = !0; try { var m = i(l); return m } finally { if (px = !1, (Ko !== null || Wo !== null) && (Xf(), Ko && (l = Ko, i = Wo, Wo = Ko = null, n2(l), i))) for (l = 0; l < i.length; l++)n2(i[l]) } } function Ec(i, l) { var d = i.stateNode; if (d === null) return null; var m = d[Ce] || null; if (m === null) return null; d = m[l]; e: switch (l) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (m = !m.disabled) || (i = i.type, m = !(i === "button" || i === "input" || i === "select" || i === "textarea")), i = !m; break e; default: i = !1 }if (i) return null; if (d && typeof d != "function") throw Error(n(231, l, typeof d)); return d } var Qa = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"), xx = !1; if (Qa) try { var Dc = {}; Object.defineProperty(Dc, "passive", { get: function () { xx = !0 } }), window.addEventListener("test", Dc, Dc), window.removeEventListener("test", Dc, Dc) } catch { xx = !1 } var Ws = null, gx = null, uf = null; function s2() { if (uf) return uf; var i, l = gx, d = l.length, m, y = "value" in Ws ? Ws.value : Ws.textContent, N = y.length; for (i = 0; i < d && l[i] === y[i]; i++); var B = d - i; for (m = 1; m <= B && l[d - m] === y[N - m]; m++); return uf = y.slice(i, 1 < m ? 1 - m : void 0) } function df(i) { var l = i.keyCode; return "charCode" in i ? (i = i.charCode, i === 0 && l === 13 && (i = 13)) : i = l, i === 10 && (i = 13), 32 <= i || i === 13 ? i : 0 } function ff() { return !0 } function i2() { return !1 } function cn(i) { function l(d, m, y, N, B) { this._reactName = d, this._targetInst = y, this.type = m, this.nativeEvent = N, this.target = B, this.currentTarget = null; for (var re in i) i.hasOwnProperty(re) && (d = i[re], this[re] = d ? d(N) : N[re]); return this.isDefaultPrevented = (N.defaultPrevented != null ? N.defaultPrevented : N.returnValue === !1) ? ff : i2, this.isPropagationStopped = i2, this } return x(l.prototype, { preventDefault: function () { this.defaultPrevented = !0; var d = this.nativeEvent; d && (d.preventDefault ? d.preventDefault() : typeof d.returnValue != "unknown" && (d.returnValue = !1), this.isDefaultPrevented = ff) }, stopPropagation: function () { var d = this.nativeEvent; d && (d.stopPropagation ? d.stopPropagation() : typeof d.cancelBubble != "unknown" && (d.cancelBubble = !0), this.isPropagationStopped = ff) }, persist: function () { }, isPersistent: ff }), l } var Vi = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (i) { return i.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, hf = cn(Vi), Tc = x({}, Vi, { view: 0, detail: 0 }), W6 = cn(Tc), yx, bx, Pc, mf = x({}, Tc, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: wx, button: 0, buttons: 0, relatedTarget: function (i) { return i.relatedTarget === void 0 ? i.fromElement === i.srcElement ? i.toElement : i.fromElement : i.relatedTarget }, movementX: function (i) { return "movementX" in i ? i.movementX : (i !== Pc && (Pc && i.type === "mousemove" ? (yx = i.screenX - Pc.screenX, bx = i.screenY - Pc.screenY) : bx = yx = 0, Pc = i), yx) }, movementY: function (i) { return "movementY" in i ? i.movementY : bx } }), o2 = cn(mf), X6 = x({}, mf, { dataTransfer: 0 }), J6 = cn(X6), Q6 = x({}, Tc, { relatedTarget: 0 }), vx = cn(Q6), Z6 = x({}, Vi, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), e$ = cn(Z6), t$ = x({}, Vi, { clipboardData: function (i) { return "clipboardData" in i ? i.clipboardData : window.clipboardData } }), r$ = cn(t$), n$ = x({}, Vi, { data: 0 }), l2 = cn(n$), a$ = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, s$ = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, i$ = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function o$(i) { var l = this.nativeEvent; return l.getModifierState ? l.getModifierState(i) : (i = i$[i]) ? !!l[i] : !1 } function wx() { return o$ } var l$ = x({}, Tc, { key: function (i) { if (i.key) { var l = a$[i.key] || i.key; if (l !== "Unidentified") return l } return i.type === "keypress" ? (i = df(i), i === 13 ? "Enter" : String.fromCharCode(i)) : i.type === "keydown" || i.type === "keyup" ? s$[i.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: wx, charCode: function (i) { return i.type === "keypress" ? df(i) : 0 }, keyCode: function (i) { return i.type === "keydown" || i.type === "keyup" ? i.keyCode : 0 }, which: function (i) { return i.type === "keypress" ? df(i) : i.type === "keydown" || i.type === "keyup" ? i.keyCode : 0 } }), c$ = cn(l$), u$ = x({}, mf, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), c2 = cn(u$), d$ = x({}, Tc, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: wx }), f$ = cn(d$), h$ = x({}, Vi, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), m$ = cn(h$), p$ = x({}, mf, { deltaX: function (i) { return "deltaX" in i ? i.deltaX : "wheelDeltaX" in i ? -i.wheelDeltaX : 0 }, deltaY: function (i) { return "deltaY" in i ? i.deltaY : "wheelDeltaY" in i ? -i.wheelDeltaY : "wheelDelta" in i ? -i.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), x$ = cn(p$), g$ = x({}, Vi, { newState: 0, oldState: 0 }), y$ = cn(g$), b$ = [9, 13, 27, 32], jx = Qa && "CompositionEvent" in window, Mc = null; Qa && "documentMode" in document && (Mc = document.documentMode); var v$ = Qa && "TextEvent" in window && !Mc, u2 = Qa && (!jx || Mc && 8 < Mc && 11 >= Mc), d2 = " ", f2 = !1; function h2(i, l) { switch (i) { case "keyup": return b$.indexOf(l.keyCode) !== -1; case "keydown": return l.keyCode !== 229; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function m2(i) { return i = i.detail, typeof i == "object" && "data" in i ? i.data : null } var Xo = !1; function w$(i, l) { switch (i) { case "compositionend": return m2(l); case "keypress": return l.which !== 32 ? null : (f2 = !0, d2); case "textInput": return i = l.data, i === d2 && f2 ? null : i; default: return null } } function j$(i, l) { if (Xo) return i === "compositionend" || !jx && h2(i, l) ? (i = s2(), uf = gx = Ws = null, Xo = !1, i) : null; switch (i) { case "paste": return null; case "keypress": if (!(l.ctrlKey || l.altKey || l.metaKey) || l.ctrlKey && l.altKey) { if (l.char && 1 < l.char.length) return l.char; if (l.which) return String.fromCharCode(l.which) } return null; case "compositionend": return u2 && l.locale !== "ko" ? null : l.data; default: return null } } var N$ = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function p2(i) { var l = i && i.nodeName && i.nodeName.toLowerCase(); return l === "input" ? !!N$[i.type] : l === "textarea" } function x2(i, l, d, m) { Ko ? Wo ? Wo.push(m) : Wo = [m] : Ko = m, l = nh(l, "onChange"), 0 < l.length && (d = new hf("onChange", "change", null, d, m), i.push({ event: d, listeners: l })) } var Rc = null, $c = null; function S$(i) { Q_(i, 0) } function pf(i) { var l = rt(i); if (J1(l)) return i } function g2(i, l) { if (i === "change") return l } var y2 = !1; if (Qa) { var Nx; if (Qa) { var Sx = "oninput" in document; if (!Sx) { var b2 = document.createElement("div"); b2.setAttribute("oninput", "return;"), Sx = typeof b2.oninput == "function" } Nx = Sx } else Nx = !1; y2 = Nx && (!document.documentMode || 9 < document.documentMode) } function v2() { Rc && (Rc.detachEvent("onpropertychange", w2), $c = Rc = null) } function w2(i) { if (i.propertyName === "value" && pf($c)) { var l = []; x2(l, $c, i, mx(i)), a2(S$, l) } } function _$(i, l, d) { i === "focusin" ? (v2(), Rc = l, $c = d, Rc.attachEvent("onpropertychange", w2)) : i === "focusout" && v2() } function O$(i) { if (i === "selectionchange" || i === "keyup" || i === "keydown") return pf($c) } function C$(i, l) { if (i === "click") return pf(l) } function k$(i, l) { if (i === "input" || i === "change") return pf(l) } function A$(i, l) { return i === l && (i !== 0 || 1 / i === 1 / l) || i !== i && l !== l } var vn = typeof Object.is == "function" ? Object.is : A$; function Ic(i, l) { if (vn(i, l)) return !0; if (typeof i != "object" || i === null || typeof l != "object" || l === null) return !1; var d = Object.keys(i), m = Object.keys(l); if (d.length !== m.length) return !1; for (m = 0; m < d.length; m++) { var y = d[m]; if (!te.call(l, y) || !vn(i[y], l[y])) return !1 } return !0 } function j2(i) { for (; i && i.firstChild;)i = i.firstChild; return i } function N2(i, l) { var d = j2(i); i = 0; for (var m; d;) { if (d.nodeType === 3) { if (m = i + d.textContent.length, i <= l && m >= l) return { node: d, offset: l - i }; i = m } e: { for (; d;) { if (d.nextSibling) { d = d.nextSibling; break e } d = d.parentNode } d = void 0 } d = j2(d) } } function S2(i, l) { return i && l ? i === l ? !0 : i && i.nodeType === 3 ? !1 : l && l.nodeType === 3 ? S2(i, l.parentNode) : "contains" in i ? i.contains(l) : i.compareDocumentPosition ? !!(i.compareDocumentPosition(l) & 16) : !1 : !1 } function _2(i) { i = i != null && i.ownerDocument != null && i.ownerDocument.defaultView != null ? i.ownerDocument.defaultView : window; for (var l = lf(i.document); l instanceof i.HTMLIFrameElement;) { try { var d = typeof l.contentWindow.location.href == "string" } catch { d = !1 } if (d) i = l.contentWindow; else break; l = lf(i.document) } return l } function _x(i) { var l = i && i.nodeName && i.nodeName.toLowerCase(); return l && (l === "input" && (i.type === "text" || i.type === "search" || i.type === "tel" || i.type === "url" || i.type === "password") || l === "textarea" || i.contentEditable === "true") } var E$ = Qa && "documentMode" in document && 11 >= document.documentMode, Jo = null, Ox = null, Lc = null, Cx = !1; function O2(i, l, d) { var m = d.window === d ? d.document : d.nodeType === 9 ? d : d.ownerDocument; Cx || Jo == null || Jo !== lf(m) || (m = Jo, "selectionStart" in m && _x(m) ? m = { start: m.selectionStart, end: m.selectionEnd } : (m = (m.ownerDocument && m.ownerDocument.defaultView || window).getSelection(), m = { anchorNode: m.anchorNode, anchorOffset: m.anchorOffset, focusNode: m.focusNode, focusOffset: m.focusOffset }), Lc && Ic(Lc, m) || (Lc = m, m = nh(Ox, "onSelect"), 0 < m.length && (l = new hf("onSelect", "select", null, l, d), i.push({ event: l, listeners: m }), l.target = Jo))) } function Yi(i, l) { var d = {}; return d[i.toLowerCase()] = l.toLowerCase(), d["Webkit" + i] = "webkit" + l, d["Moz" + i] = "moz" + l, d } var Qo = { animationend: Yi("Animation", "AnimationEnd"), animationiteration: Yi("Animation", "AnimationIteration"), animationstart: Yi("Animation", "AnimationStart"), transitionrun: Yi("Transition", "TransitionRun"), transitionstart: Yi("Transition", "TransitionStart"), transitioncancel: Yi("Transition", "TransitionCancel"), transitionend: Yi("Transition", "TransitionEnd") }, kx = {}, C2 = {}; Qa && (C2 = document.createElement("div").style, "AnimationEvent" in window || (delete Qo.animationend.animation, delete Qo.animationiteration.animation, delete Qo.animationstart.animation), "TransitionEvent" in window || delete Qo.transitionend.transition); function Gi(i) { if (kx[i]) return kx[i]; if (!Qo[i]) return i; var l = Qo[i], d; for (d in l) if (l.hasOwnProperty(d) && d in C2) return kx[i] = l[d]; return i } var k2 = Gi("animationend"), A2 = Gi("animationiteration"), E2 = Gi("animationstart"), D$ = Gi("transitionrun"), T$ = Gi("transitionstart"), P$ = Gi("transitioncancel"), D2 = Gi("transitionend"), T2 = new Map, Ax = "abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); Ax.push("scrollEnd"); function ua(i, l) { T2.set(i, l), Wt(l, [i]) } var xf = typeof reportError == "function" ? reportError : function (i) { if (typeof window == "object" && typeof window.ErrorEvent == "function") { var l = new window.ErrorEvent("error", { bubbles: !0, cancelable: !0, message: typeof i == "object" && i !== null && typeof i.message == "string" ? String(i.message) : String(i), error: i }); if (!window.dispatchEvent(l)) return } else if (typeof process == "object" && typeof process.emit == "function") { process.emit("uncaughtException", i); return } console.error(i) }, qn = [], Zo = 0, Ex = 0; function gf() { for (var i = Zo, l = Ex = Zo = 0; l < i;) { var d = qn[l]; qn[l++] = null; var m = qn[l]; qn[l++] = null; var y = qn[l]; qn[l++] = null; var N = qn[l]; if (qn[l++] = null, m !== null && y !== null) { var B = m.pending; B === null ? y.next = y : (y.next = B.next, B.next = y), m.pending = y } N !== 0 && P2(d, y, N) } } function yf(i, l, d, m) { qn[Zo++] = i, qn[Zo++] = l, qn[Zo++] = d, qn[Zo++] = m, Ex |= m, i.lanes |= m, i = i.alternate, i !== null && (i.lanes |= m) } function Dx(i, l, d, m) { return yf(i, l, d, m), bf(i) } function Ki(i, l) { return yf(i, null, null, l), bf(i) } function P2(i, l, d) { i.lanes |= d; var m = i.alternate; m !== null && (m.lanes |= d); for (var y = !1, N = i.return; N !== null;)N.childLanes |= d, m = N.alternate, m !== null && (m.childLanes |= d), N.tag === 22 && (i = N.stateNode, i === null || i._visibility & 1 || (y = !0)), i = N, N = N.return; return i.tag === 3 ? (N = i.stateNode, y && l !== null && (y = 31 - er(d), i = N.hiddenUpdates, m = i[y], m === null ? i[y] = [l] : m.push(l), l.lane = d | 536870912), N) : null } function bf(i) { if (50 < iu) throw iu = 0, Bg = null, Error(n(185)); for (var l = i.return; l !== null;)i = l, l = i.return; return i.tag === 3 ? i.stateNode : null } var el = {}; function M$(i, l, d, m) { this.tag = i, this.key = d, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.refCleanup = this.ref = null, this.pendingProps = l, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = m, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function wn(i, l, d, m) { return new M$(i, l, d, m) } function Tx(i) { return i = i.prototype, !(!i || !i.isReactComponent) } function Za(i, l) { var d = i.alternate; return d === null ? (d = wn(i.tag, l, i.key, i.mode), d.elementType = i.elementType, d.type = i.type, d.stateNode = i.stateNode, d.alternate = i, i.alternate = d) : (d.pendingProps = l, d.type = i.type, d.flags = 0, d.subtreeFlags = 0, d.deletions = null), d.flags = i.flags & 65011712, d.childLanes = i.childLanes, d.lanes = i.lanes, d.child = i.child, d.memoizedProps = i.memoizedProps, d.memoizedState = i.memoizedState, d.updateQueue = i.updateQueue, l = i.dependencies, d.dependencies = l === null ? null : { lanes: l.lanes, firstContext: l.firstContext }, d.sibling = i.sibling, d.index = i.index, d.ref = i.ref, d.refCleanup = i.refCleanup, d } function M2(i, l) { i.flags &= 65011714; var d = i.alternate; return d === null ? (i.childLanes = 0, i.lanes = l, i.child = null, i.subtreeFlags = 0, i.memoizedProps = null, i.memoizedState = null, i.updateQueue = null, i.dependencies = null, i.stateNode = null) : (i.childLanes = d.childLanes, i.lanes = d.lanes, i.child = d.child, i.subtreeFlags = 0, i.deletions = null, i.memoizedProps = d.memoizedProps, i.memoizedState = d.memoizedState, i.updateQueue = d.updateQueue, i.type = d.type, l = d.dependencies, i.dependencies = l === null ? null : { lanes: l.lanes, firstContext: l.firstContext }), i } function vf(i, l, d, m, y, N) { var B = 0; if (m = i, typeof i == "function") Tx(i) && (B = 1); else if (typeof i == "string") B = FI(i, d, ne.current) ? 26 : i === "html" || i === "head" || i === "body" ? 27 : 5; else e: switch (i) { case W: return i = wn(31, d, l, y), i.elementType = W, i.lanes = N, i; case S: return Wi(d.children, y, N, l); case w: B = 8, y |= 24; break; case O: return i = wn(12, d, l, y | 2), i.elementType = O, i.lanes = N, i; case C: return i = wn(13, d, l, y), i.elementType = C, i.lanes = N, i; case k: return i = wn(19, d, l, y), i.elementType = k, i.lanes = N, i; default: if (typeof i == "object" && i !== null) switch (i.$$typeof) { case R: B = 10; break e; case D: B = 9; break e; case H: B = 11; break e; case F: B = 14; break e; case P: B = 16, m = null; break e }B = 29, d = Error(n(130, i === null ? "null" : typeof i, "")), m = null }return l = wn(B, d, l, y), l.elementType = i, l.type = m, l.lanes = N, l } function Wi(i, l, d, m) { return i = wn(7, i, m, l), i.lanes = d, i } function Px(i, l, d) { return i = wn(6, i, null, l), i.lanes = d, i } function R2(i) { var l = wn(18, null, null, 0); return l.stateNode = i, l } function Mx(i, l, d) { return l = wn(4, i.children !== null ? i.children : [], i.key, l), l.lanes = d, l.stateNode = { containerInfo: i.containerInfo, pendingChildren: null, implementation: i.implementation }, l } var $2 = new WeakMap; function zn(i, l) { if (typeof i == "object" && i !== null) { var d = $2.get(i); return d !== void 0 ? d : (l = { value: i, source: l, stack: ee(l) }, $2.set(i, l), l) } return { value: i, source: l, stack: ee(l) } } var tl = [], rl = 0, wf = null, Fc = 0, Un = [], Hn = 0, Xs = null, Da = 1, Ta = ""; function es(i, l) { tl[rl++] = Fc, tl[rl++] = wf, wf = i, Fc = l } function I2(i, l, d) { Un[Hn++] = Da, Un[Hn++] = Ta, Un[Hn++] = Xs, Xs = i; var m = Da; i = Ta; var y = 32 - er(m) - 1; m &= ~(1 << y), d += 1; var N = 32 - er(l) + y; if (30 < N) { var B = y - y % 5; N = (m & (1 << B) - 1).toString(32), m >>= B, y -= B, Da = 1 << 32 - er(l) + y | d << y | m, Ta = N + i } else Da = 1 << N | d << y | m, Ta = i } function Rx(i) { i.return !== null && (es(i, 1), I2(i, 1, 0)) } function $x(i) { for (; i === wf;)wf = tl[--rl], tl[rl] = null, Fc = tl[--rl], tl[rl] = null; for (; i === Xs;)Xs = Un[--Hn], Un[Hn] = null, Ta = Un[--Hn], Un[Hn] = null, Da = Un[--Hn], Un[Hn] = null } function L2(i, l) { Un[Hn++] = Da, Un[Hn++] = Ta, Un[Hn++] = Xs, Da = l.id, Ta = l.overflow, Xs = i } var Ur = null, Xt = null, bt = !1, Js = null, Vn = !1, Ix = Error(n(519)); function Qs(i) { var l = Error(n(418, 1 < arguments.length && arguments[1] !== void 0 && arguments[1] ? "text" : "HTML", "")); throw Bc(zn(l, i)), Ix } function F2(i) { var l = i.stateNode, d = i.type, m = i.memoizedProps; switch (l[we] = i, l[Ce] = m, d) { case "dialog": mt("cancel", l), mt("close", l); break; case "iframe": case "object": case "embed": mt("load", l); break; case "video": case "audio": for (d = 0; d < lu.length; d++)mt(lu[d], l); break; case "source": mt("error", l); break; case "img": case "image": case "link": mt("error", l), mt("load", l); break; case "details": mt("toggle", l); break; case "input": mt("invalid", l), Q1(l, m.value, m.defaultValue, m.checked, m.defaultChecked, m.type, m.name, !0); break; case "select": mt("invalid", l); break; case "textarea": mt("invalid", l), e2(l, m.value, m.defaultValue, m.children) }d = m.children, typeof d != "string" && typeof d != "number" && typeof d != "bigint" || l.textContent === "" + d || m.suppressHydrationWarning === !0 || rO(l.textContent, d) ? (m.popover != null && (mt("beforetoggle", l), mt("toggle", l)), m.onScroll != null && mt("scroll", l), m.onScrollEnd != null && mt("scrollend", l), m.onClick != null && (l.onclick = Ja), l = !0) : l = !1, l || Qs(i, !0) } function B2(i) { for (Ur = i.return; Ur;)switch (Ur.tag) { case 5: case 31: case 13: Vn = !1; return; case 27: case 3: Vn = !0; return; default: Ur = Ur.return } } function nl(i) { if (i !== Ur) return !1; if (!bt) return B2(i), bt = !0, !1; var l = i.tag, d; if ((d = l !== 3 && l !== 27) && ((d = l === 5) && (d = i.type, d = !(d !== "form" && d !== "button") || ty(i.type, i.memoizedProps)), d = !d), d && Xt && Qs(i), B2(i), l === 13) { if (i = i.memoizedState, i = i !== null ? i.dehydrated : null, !i) throw Error(n(317)); Xt = dO(i) } else if (l === 31) { if (i = i.memoizedState, i = i !== null ? i.dehydrated : null, !i) throw Error(n(317)); Xt = dO(i) } else l === 27 ? (l = Xt, fi(i.type) ? (i = iy, iy = null, Xt = i) : Xt = l) : Xt = Ur ? Gn(i.stateNode.nextSibling) : null; return !0 } function Xi() { Xt = Ur = null, bt = !1 } function Lx() { var i = Js; return i !== null && (hn === null ? hn = i : hn.push.apply(hn, i), Js = null), i } function Bc(i) { Js === null ? Js = [i] : Js.push(i) } var Fx = M(null), Ji = null, ts = null; function Zs(i, l, d) { ce(Fx, l._currentValue), l._currentValue = d } function rs(i) { i._currentValue = Fx.current, Z(Fx) } function Bx(i, l, d) { for (; i !== null;) { var m = i.alternate; if ((i.childLanes & l) !== l ? (i.childLanes |= l, m !== null && (m.childLanes |= l)) : m !== null && (m.childLanes & l) !== l && (m.childLanes |= l), i === d) break; i = i.return } } function qx(i, l, d, m) { var y = i.child; for (y !== null && (y.return = i); y !== null;) { var N = y.dependencies; if (N !== null) { var B = y.child; N = N.firstContext; e: for (; N !== null;) { var re = N; N = y; for (var xe = 0; xe < l.length; xe++)if (re.context === l[xe]) { N.lanes |= d, re = N.alternate, re !== null && (re.lanes |= d), Bx(N.return, d, i), m || (B = null); break e } N = re.next } } else if (y.tag === 18) { if (B = y.return, B === null) throw Error(n(341)); B.lanes |= d, N = B.alternate, N !== null && (N.lanes |= d), Bx(B, d, i), B = null } else B = y.child; if (B !== null) B.return = y; else for (B = y; B !== null;) { if (B === i) { B = null; break } if (y = B.sibling, y !== null) { y.return = B.return, B = y; break } B = B.return } y = B } } function al(i, l, d, m) { i = null; for (var y = l, N = !1; y !== null;) { if (!N) { if ((y.flags & 524288) !== 0) N = !0; else if ((y.flags & 262144) !== 0) break } if (y.tag === 10) { var B = y.alternate; if (B === null) throw Error(n(387)); if (B = B.memoizedProps, B !== null) { var re = y.type; vn(y.pendingProps.value, B.value) || (i !== null ? i.push(re) : i = [re]) } } else if (y === _.current) { if (B = y.alternate, B === null) throw Error(n(387)); B.memoizedState.memoizedState !== y.memoizedState.memoizedState && (i !== null ? i.push(hu) : i = [hu]) } y = y.return } i !== null && qx(l, i, d, m), l.flags |= 262144 } function jf(i) { for (i = i.firstContext; i !== null;) { if (!vn(i.context._currentValue, i.memoizedValue)) return !0; i = i.next } return !1 } function Qi(i) { Ji = i, ts = null, i = i.dependencies, i !== null && (i.firstContext = null) } function Hr(i) { return q2(Ji, i) } function Nf(i, l) { return Ji === null && Qi(i), q2(i, l) } function q2(i, l) { var d = l._currentValue; if (l = { context: l, memoizedValue: d, next: null }, ts === null) { if (i === null) throw Error(n(308)); ts = l, i.dependencies = { lanes: 0, firstContext: l }, i.flags |= 524288 } else ts = ts.next = l; return d } var R$ = typeof AbortController < "u" ? AbortController : function () { var i = [], l = this.signal = { aborted: !1, addEventListener: function (d, m) { i.push(m) } }; this.abort = function () { l.aborted = !0, i.forEach(function (d) { return d() }) } }, $$ = t.unstable_scheduleCallback, I$ = t.unstable_NormalPriority, br = { $$typeof: R, Consumer: null, Provider: null, _currentValue: null, _currentValue2: null, _threadCount: 0 }; function zx() { return { controller: new R$, data: new Map, refCount: 0 } } function qc(i) { i.refCount--, i.refCount === 0 && $$(I$, function () { i.controller.abort() }) } var zc = null, Ux = 0, sl = 0, il = null; function L$(i, l) { if (zc === null) { var d = zc = []; Ux = 0, sl = Yg(), il = { status: "pending", value: void 0, then: function (m) { d.push(m) } } } return Ux++, l.then(z2, z2), l } function z2() { if (--Ux === 0 && zc !== null) { il !== null && (il.status = "fulfilled"); var i = zc; zc = null, sl = 0, il = null; for (var l = 0; l < i.length; l++)(0, i[l])() } } function F$(i, l) { var d = [], m = { status: "pending", value: null, reason: null, then: function (y) { d.push(y) } }; return i.then(function () { m.status = "fulfilled", m.value = l; for (var y = 0; y < d.length; y++)(0, d[y])(l) }, function (y) { for (m.status = "rejected", m.reason = y, y = 0; y < d.length; y++)(0, d[y])(void 0) }), m } var U2 = U.S; U.S = function (i, l) { O_ = be(), typeof l == "object" && l !== null && typeof l.then == "function" && L$(i, l), U2 !== null && U2(i, l) }; var Zi = M(null); function Hx() { var i = Zi.current; return i !== null ? i : Ut.pooledCache } function Sf(i, l) { l === null ? ce(Zi, Zi.current) : ce(Zi, l.pool) } function H2() { var i = Hx(); return i === null ? null : { parent: br._currentValue, pool: i } } var ol = Error(n(460)), Vx = Error(n(474)), _f = Error(n(542)), Of = { then: function () { } }; function V2(i) { return i = i.status, i === "fulfilled" || i === "rejected" } function Y2(i, l, d) { switch (d = i[d], d === void 0 ? i.push(l) : d !== l && (l.then(Ja, Ja), l = d), l.status) { case "fulfilled": return l.value; case "rejected": throw i = l.reason, K2(i), i; default: if (typeof l.status == "string") l.then(Ja, Ja); else { if (i = Ut, i !== null && 100 < i.shellSuspendCounter) throw Error(n(482)); i = l, i.status = "pending", i.then(function (m) { if (l.status === "pending") { var y = l; y.status = "fulfilled", y.value = m } }, function (m) { if (l.status === "pending") { var y = l; y.status = "rejected", y.reason = m } }) } switch (l.status) { case "fulfilled": return l.value; case "rejected": throw i = l.reason, K2(i), i }throw to = l, ol } } function eo(i) { try { var l = i._init; return l(i._payload) } catch (d) { throw d !== null && typeof d == "object" && typeof d.then == "function" ? (to = d, ol) : d } } var to = null; function G2() { if (to === null) throw Error(n(459)); var i = to; return to = null, i } function K2(i) { if (i === ol || i === _f) throw Error(n(483)) } var ll = null, Uc = 0; function Cf(i) { var l = Uc; return Uc += 1, ll === null && (ll = []), Y2(ll, i, l) } function Hc(i, l) { l = l.props.ref, i.ref = l !== void 0 ? l : null } function kf(i, l) { throw l.$$typeof === g ? Error(n(525)) : (i = Object.prototype.toString.call(l), Error(n(31, i === "[object Object]" ? "object with keys {" + Object.keys(l).join(", ") + "}" : i))) } function W2(i) { function l(ve, ge) { if (i) { var je = ve.deletions; je === null ? (ve.deletions = [ge], ve.flags |= 16) : je.push(ge) } } function d(ve, ge) { if (!i) return null; for (; ge !== null;)l(ve, ge), ge = ge.sibling; return null } function m(ve) { for (var ge = new Map; ve !== null;)ve.key !== null ? ge.set(ve.key, ve) : ge.set(ve.index, ve), ve = ve.sibling; return ge } function y(ve, ge) { return ve = Za(ve, ge), ve.index = 0, ve.sibling = null, ve } function N(ve, ge, je) { return ve.index = je, i ? (je = ve.alternate, je !== null ? (je = je.index, je < ge ? (ve.flags |= 67108866, ge) : je) : (ve.flags |= 67108866, ge)) : (ve.flags |= 1048576, ge) } function B(ve) { return i && ve.alternate === null && (ve.flags |= 67108866), ve } function re(ve, ge, je, De) { return ge === null || ge.tag !== 6 ? (ge = Px(je, ve.mode, De), ge.return = ve, ge) : (ge = y(ge, je), ge.return = ve, ge) } function xe(ve, ge, je, De) { var tt = je.type; return tt === S ? Ae(ve, ge, je.props.children, De, je.key) : ge !== null && (ge.elementType === tt || typeof tt == "object" && tt !== null && tt.$$typeof === P && eo(tt) === ge.type) ? (ge = y(ge, je.props), Hc(ge, je), ge.return = ve, ge) : (ge = vf(je.type, je.key, je.props, null, ve.mode, De), Hc(ge, je), ge.return = ve, ge) } function Ne(ve, ge, je, De) { return ge === null || ge.tag !== 4 || ge.stateNode.containerInfo !== je.containerInfo || ge.stateNode.implementation !== je.implementation ? (ge = Mx(je, ve.mode, De), ge.return = ve, ge) : (ge = y(ge, je.children || []), ge.return = ve, ge) } function Ae(ve, ge, je, De, tt) { return ge === null || ge.tag !== 7 ? (ge = Wi(je, ve.mode, De, tt), ge.return = ve, ge) : (ge = y(ge, je), ge.return = ve, ge) } function Te(ve, ge, je) { if (typeof ge == "string" && ge !== "" || typeof ge == "number" || typeof ge == "bigint") return ge = Px("" + ge, ve.mode, je), ge.return = ve, ge; if (typeof ge == "object" && ge !== null) { switch (ge.$$typeof) { case v: return je = vf(ge.type, ge.key, ge.props, null, ve.mode, je), Hc(je, ge), je.return = ve, je; case j: return ge = Mx(ge, ve.mode, je), ge.return = ve, ge; case P: return ge = eo(ge), Te(ve, ge, je) }if (se(ge) || V(ge)) return ge = Wi(ge, ve.mode, je, null), ge.return = ve, ge; if (typeof ge.then == "function") return Te(ve, Cf(ge), je); if (ge.$$typeof === R) return Te(ve, Nf(ve, ge), je); kf(ve, ge) } return null } function Se(ve, ge, je, De) { var tt = ge !== null ? ge.key : null; if (typeof je == "string" && je !== "" || typeof je == "number" || typeof je == "bigint") return tt !== null ? null : re(ve, ge, "" + je, De); if (typeof je == "object" && je !== null) { switch (je.$$typeof) { case v: return je.key === tt ? xe(ve, ge, je, De) : null; case j: return je.key === tt ? Ne(ve, ge, je, De) : null; case P: return je = eo(je), Se(ve, ge, je, De) }if (se(je) || V(je)) return tt !== null ? null : Ae(ve, ge, je, De, null); if (typeof je.then == "function") return Se(ve, ge, Cf(je), De); if (je.$$typeof === R) return Se(ve, ge, Nf(ve, je), De); kf(ve, je) } return null } function Oe(ve, ge, je, De, tt) { if (typeof De == "string" && De !== "" || typeof De == "number" || typeof De == "bigint") return ve = ve.get(je) || null, re(ge, ve, "" + De, tt); if (typeof De == "object" && De !== null) { switch (De.$$typeof) { case v: return ve = ve.get(De.key === null ? je : De.key) || null, xe(ge, ve, De, tt); case j: return ve = ve.get(De.key === null ? je : De.key) || null, Ne(ge, ve, De, tt); case P: return De = eo(De), Oe(ve, ge, je, De, tt) }if (se(De) || V(De)) return ve = ve.get(je) || null, Ae(ge, ve, De, tt, null); if (typeof De.then == "function") return Oe(ve, ge, je, Cf(De), tt); if (De.$$typeof === R) return Oe(ve, ge, je, Nf(ge, De), tt); kf(ge, De) } return null } function Je(ve, ge, je, De) { for (var tt = null, Nt = null, Qe = ge, dt = ge = 0, yt = null; Qe !== null && dt < je.length; dt++) { Qe.index > dt ? (yt = Qe, Qe = null) : yt = Qe.sibling; var St = Se(ve, Qe, je[dt], De); if (St === null) { Qe === null && (Qe = yt); break } i && Qe && St.alternate === null && l(ve, Qe), ge = N(St, ge, dt), Nt === null ? tt = St : Nt.sibling = St, Nt = St, Qe = yt } if (dt === je.length) return d(ve, Qe), bt && es(ve, dt), tt; if (Qe === null) { for (; dt < je.length; dt++)Qe = Te(ve, je[dt], De), Qe !== null && (ge = N(Qe, ge, dt), Nt === null ? tt = Qe : Nt.sibling = Qe, Nt = Qe); return bt && es(ve, dt), tt } for (Qe = m(Qe); dt < je.length; dt++)yt = Oe(Qe, ve, dt, je[dt], De), yt !== null && (i && yt.alternate !== null && Qe.delete(yt.key === null ? dt : yt.key), ge = N(yt, ge, dt), Nt === null ? tt = yt : Nt.sibling = yt, Nt = yt); return i && Qe.forEach(function (gi) { return l(ve, gi) }), bt && es(ve, dt), tt } function at(ve, ge, je, De) { if (je == null) throw Error(n(151)); for (var tt = null, Nt = null, Qe = ge, dt = ge = 0, yt = null, St = je.next(); Qe !== null && !St.done; dt++, St = je.next()) { Qe.index > dt ? (yt = Qe, Qe = null) : yt = Qe.sibling; var gi = Se(ve, Qe, St.value, De); if (gi === null) { Qe === null && (Qe = yt); break } i && Qe && gi.alternate === null && l(ve, Qe), ge = N(gi, ge, dt), Nt === null ? tt = gi : Nt.sibling = gi, Nt = gi, Qe = yt } if (St.done) return d(ve, Qe), bt && es(ve, dt), tt; if (Qe === null) { for (; !St.done; dt++, St = je.next())St = Te(ve, St.value, De), St !== null && (ge = N(St, ge, dt), Nt === null ? tt = St : Nt.sibling = St, Nt = St); return bt && es(ve, dt), tt } for (Qe = m(Qe); !St.done; dt++, St = je.next())St = Oe(Qe, ve, dt, St.value, De), St !== null && (i && St.alternate !== null && Qe.delete(St.key === null ? dt : St.key), ge = N(St, ge, dt), Nt === null ? tt = St : Nt.sibling = St, Nt = St); return i && Qe.forEach(function (XI) { return l(ve, XI) }), bt && es(ve, dt), tt } function Bt(ve, ge, je, De) { if (typeof je == "object" && je !== null && je.type === S && je.key === null && (je = je.props.children), typeof je == "object" && je !== null) { switch (je.$$typeof) { case v: e: { for (var tt = je.key; ge !== null;) { if (ge.key === tt) { if (tt = je.type, tt === S) { if (ge.tag === 7) { d(ve, ge.sibling), De = y(ge, je.props.children), De.return = ve, ve = De; break e } } else if (ge.elementType === tt || typeof tt == "object" && tt !== null && tt.$$typeof === P && eo(tt) === ge.type) { d(ve, ge.sibling), De = y(ge, je.props), Hc(De, je), De.return = ve, ve = De; break e } d(ve, ge); break } else l(ve, ge); ge = ge.sibling } je.type === S ? (De = Wi(je.props.children, ve.mode, De, je.key), De.return = ve, ve = De) : (De = vf(je.type, je.key, je.props, null, ve.mode, De), Hc(De, je), De.return = ve, ve = De) } return B(ve); case j: e: { for (tt = je.key; ge !== null;) { if (ge.key === tt) if (ge.tag === 4 && ge.stateNode.containerInfo === je.containerInfo && ge.stateNode.implementation === je.implementation) { d(ve, ge.sibling), De = y(ge, je.children || []), De.return = ve, ve = De; break e } else { d(ve, ge); break } else l(ve, ge); ge = ge.sibling } De = Mx(je, ve.mode, De), De.return = ve, ve = De } return B(ve); case P: return je = eo(je), Bt(ve, ge, je, De) }if (se(je)) return Je(ve, ge, je, De); if (V(je)) { if (tt = V(je), typeof tt != "function") throw Error(n(150)); return je = tt.call(je), at(ve, ge, je, De) } if (typeof je.then == "function") return Bt(ve, ge, Cf(je), De); if (je.$$typeof === R) return Bt(ve, ge, Nf(ve, je), De); kf(ve, je) } return typeof je == "string" && je !== "" || typeof je == "number" || typeof je == "bigint" ? (je = "" + je, ge !== null && ge.tag === 6 ? (d(ve, ge.sibling), De = y(ge, je), De.return = ve, ve = De) : (d(ve, ge), De = Px(je, ve.mode, De), De.return = ve, ve = De), B(ve)) : d(ve, ge) } return function (ve, ge, je, De) { try { Uc = 0; var tt = Bt(ve, ge, je, De); return ll = null, tt } catch (Qe) { if (Qe === ol || Qe === _f) throw Qe; var Nt = wn(29, Qe, null, ve.mode); return Nt.lanes = De, Nt.return = ve, Nt } finally { } } } var ro = W2(!0), X2 = W2(!1), ei = !1; function Yx(i) { i.updateQueue = { baseState: i.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, lanes: 0, hiddenCallbacks: null }, callbacks: null } } function Gx(i, l) { i = i.updateQueue, l.updateQueue === i && (l.updateQueue = { baseState: i.baseState, firstBaseUpdate: i.firstBaseUpdate, lastBaseUpdate: i.lastBaseUpdate, shared: i.shared, callbacks: null }) } function ti(i) { return { lane: i, tag: 0, payload: null, callback: null, next: null } } function ri(i, l, d) { var m = i.updateQueue; if (m === null) return null; if (m = m.shared, (kt & 2) !== 0) { var y = m.pending; return y === null ? l.next = l : (l.next = y.next, y.next = l), m.pending = l, l = bf(i), P2(i, null, d), l } return yf(i, m, l, d), bf(i) } function Vc(i, l, d) { if (l = l.updateQueue, l !== null && (l = l.shared, (d & 4194048) !== 0)) { var m = l.lanes; m &= i.pendingLanes, d |= m, l.lanes = d, tf(i, d) } } function Kx(i, l) { var d = i.updateQueue, m = i.alternate; if (m !== null && (m = m.updateQueue, d === m)) { var y = null, N = null; if (d = d.firstBaseUpdate, d !== null) { do { var B = { lane: d.lane, tag: d.tag, payload: d.payload, callback: null, next: null }; N === null ? y = N = B : N = N.next = B, d = d.next } while (d !== null); N === null ? y = N = l : N = N.next = l } else y = N = l; d = { baseState: m.baseState, firstBaseUpdate: y, lastBaseUpdate: N, shared: m.shared, callbacks: m.callbacks }, i.updateQueue = d; return } i = d.lastBaseUpdate, i === null ? d.firstBaseUpdate = l : i.next = l, d.lastBaseUpdate = l } var Wx = !1; function Yc() { if (Wx) { var i = il; if (i !== null) throw i } } function Gc(i, l, d, m) { Wx = !1; var y = i.updateQueue; ei = !1; var N = y.firstBaseUpdate, B = y.lastBaseUpdate, re = y.shared.pending; if (re !== null) { y.shared.pending = null; var xe = re, Ne = xe.next; xe.next = null, B === null ? N = Ne : B.next = Ne, B = xe; var Ae = i.alternate; Ae !== null && (Ae = Ae.updateQueue, re = Ae.lastBaseUpdate, re !== B && (re === null ? Ae.firstBaseUpdate = Ne : re.next = Ne, Ae.lastBaseUpdate = xe)) } if (N !== null) { var Te = y.baseState; B = 0, Ae = Ne = xe = null, re = N; do { var Se = re.lane & -536870913, Oe = Se !== re.lane; if (Oe ? (gt & Se) === Se : (m & Se) === Se) { Se !== 0 && Se === sl && (Wx = !0), Ae !== null && (Ae = Ae.next = { lane: 0, tag: re.tag, payload: re.payload, callback: null, next: null }); e: { var Je = i, at = re; Se = l; var Bt = d; switch (at.tag) { case 1: if (Je = at.payload, typeof Je == "function") { Te = Je.call(Bt, Te, Se); break e } Te = Je; break e; case 3: Je.flags = Je.flags & -65537 | 128; case 0: if (Je = at.payload, Se = typeof Je == "function" ? Je.call(Bt, Te, Se) : Je, Se == null) break e; Te = x({}, Te, Se); break e; case 2: ei = !0 } } Se = re.callback, Se !== null && (i.flags |= 64, Oe && (i.flags |= 8192), Oe = y.callbacks, Oe === null ? y.callbacks = [Se] : Oe.push(Se)) } else Oe = { lane: Se, tag: re.tag, payload: re.payload, callback: re.callback, next: null }, Ae === null ? (Ne = Ae = Oe, xe = Te) : Ae = Ae.next = Oe, B |= Se; if (re = re.next, re === null) { if (re = y.shared.pending, re === null) break; Oe = re, re = Oe.next, Oe.next = null, y.lastBaseUpdate = Oe, y.shared.pending = null } } while (!0); Ae === null && (xe = Te), y.baseState = xe, y.firstBaseUpdate = Ne, y.lastBaseUpdate = Ae, N === null && (y.shared.lanes = 0), oi |= B, i.lanes = B, i.memoizedState = Te } } function J2(i, l) { if (typeof i != "function") throw Error(n(191, i)); i.call(l) } function Q2(i, l) { var d = i.callbacks; if (d !== null) for (i.callbacks = null, i = 0; i < d.length; i++)J2(d[i], l) } var cl = M(null), Af = M(0); function Z2(i, l) { i = ds, ce(Af, i), ce(cl, l), ds = i | l.baseLanes } function Xx() { ce(Af, ds), ce(cl, cl.current) } function Jx() { ds = Af.current, Z(cl), Z(Af) } var jn = M(null), Yn = null; function ni(i) { var l = i.alternate; ce(hr, hr.current & 1), ce(jn, i), Yn === null && (l === null || cl.current !== null || l.memoizedState !== null) && (Yn = i) } function Qx(i) { ce(hr, hr.current), ce(jn, i), Yn === null && (Yn = i) } function eS(i) { i.tag === 22 ? (ce(hr, hr.current), ce(jn, i), Yn === null && (Yn = i)) : ai() } function ai() { ce(hr, hr.current), ce(jn, jn.current) } function Nn(i) { Z(jn), Yn === i && (Yn = null), Z(hr) } var hr = M(0); function Ef(i) { for (var l = i; l !== null;) { if (l.tag === 13) { var d = l.memoizedState; if (d !== null && (d = d.dehydrated, d === null || ay(d) || sy(d))) return l } else if (l.tag === 19 && (l.memoizedProps.revealOrder === "forwards" || l.memoizedProps.revealOrder === "backwards" || l.memoizedProps.revealOrder === "unstable_legacy-backwards" || l.memoizedProps.revealOrder === "together")) { if ((l.flags & 128) !== 0) return l } else if (l.child !== null) { l.child.return = l, l = l.child; continue } if (l === i) break; for (; l.sibling === null;) { if (l.return === null || l.return === i) return null; l = l.return } l.sibling.return = l.return, l = l.sibling } return null } var ns = 0, ut = null, Lt = null, vr = null, Df = !1, ul = !1, no = !1, Tf = 0, Kc = 0, dl = null, B$ = 0; function lr() { throw Error(n(321)) } function Zx(i, l) { if (l === null) return !1; for (var d = 0; d < l.length && d < i.length; d++)if (!vn(i[d], l[d])) return !1; return !0 } function eg(i, l, d, m, y, N) { return ns = N, ut = l, l.memoizedState = null, l.updateQueue = null, l.lanes = 0, U.H = i === null || i.memoizedState === null ? IS : pg, no = !1, N = d(m, y), no = !1, ul && (N = rS(l, d, m, y)), tS(i), N } function tS(i) { U.H = Jc; var l = Lt !== null && Lt.next !== null; if (ns = 0, vr = Lt = ut = null, Df = !1, Kc = 0, dl = null, l) throw Error(n(300)); i === null || wr || (i = i.dependencies, i !== null && jf(i) && (wr = !0)) } function rS(i, l, d, m) { ut = i; var y = 0; do { if (ul && (dl = null), Kc = 0, ul = !1, 25 <= y) throw Error(n(301)); if (y += 1, vr = Lt = null, i.updateQueue != null) { var N = i.updateQueue; N.lastEffect = null, N.events = null, N.stores = null, N.memoCache != null && (N.memoCache.index = 0) } U.H = LS, N = l(d, m) } while (ul); return N } function q$() { var i = U.H, l = i.useState()[0]; return l = typeof l.then == "function" ? Wc(l) : l, i = i.useState()[0], (Lt !== null ? Lt.memoizedState : null) !== i && (ut.flags |= 1024), l } function tg() { var i = Tf !== 0; return Tf = 0, i } function rg(i, l, d) { l.updateQueue = i.updateQueue, l.flags &= -2053, i.lanes &= ~d } function ng(i) { if (Df) { for (i = i.memoizedState; i !== null;) { var l = i.queue; l !== null && (l.pending = null), i = i.next } Df = !1 } ns = 0, vr = Lt = ut = null, ul = !1, Kc = Tf = 0, dl = null } function rn() { var i = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return vr === null ? ut.memoizedState = vr = i : vr = vr.next = i, vr } function mr() { if (Lt === null) { var i = ut.alternate; i = i !== null ? i.memoizedState : null } else i = Lt.next; var l = vr === null ? ut.memoizedState : vr.next; if (l !== null) vr = l, Lt = i; else { if (i === null) throw ut.alternate === null ? Error(n(467)) : Error(n(310)); Lt = i, i = { memoizedState: Lt.memoizedState, baseState: Lt.baseState, baseQueue: Lt.baseQueue, queue: Lt.queue, next: null }, vr === null ? ut.memoizedState = vr = i : vr = vr.next = i } return vr } function Pf() { return { lastEffect: null, events: null, stores: null, memoCache: null } } function Wc(i) { var l = Kc; return Kc += 1, dl === null && (dl = []), i = Y2(dl, i, l), l = ut, (vr === null ? l.memoizedState : vr.next) === null && (l = l.alternate, U.H = l === null || l.memoizedState === null ? IS : pg), i } function Mf(i) { if (i !== null && typeof i == "object") { if (typeof i.then == "function") return Wc(i); if (i.$$typeof === R) return Hr(i) } throw Error(n(438, String(i))) } function ag(i) { var l = null, d = ut.updateQueue; if (d !== null && (l = d.memoCache), l == null) { var m = ut.alternate; m !== null && (m = m.updateQueue, m !== null && (m = m.memoCache, m != null && (l = { data: m.data.map(function (y) { return y.slice() }), index: 0 }))) } if (l == null && (l = { data: [], index: 0 }), d === null && (d = Pf(), ut.updateQueue = d), d.memoCache = l, d = l.data[l.index], d === void 0) for (d = l.data[l.index] = Array(i), m = 0; m < i; m++)d[m] = J; return l.index++, d } function as(i, l) { return typeof l == "function" ? l(i) : l } function Rf(i) { var l = mr(); return sg(l, Lt, i) } function sg(i, l, d) { var m = i.queue; if (m === null) throw Error(n(311)); m.lastRenderedReducer = d; var y = i.baseQueue, N = m.pending; if (N !== null) { if (y !== null) { var B = y.next; y.next = N.next, N.next = B } l.baseQueue = y = N, m.pending = null } if (N = i.baseState, y === null) i.memoizedState = N; else { l = y.next; var re = B = null, xe = null, Ne = l, Ae = !1; do { var Te = Ne.lane & -536870913; if (Te !== Ne.lane ? (gt & Te) === Te : (ns & Te) === Te) { var Se = Ne.revertLane; if (Se === 0) xe !== null && (xe = xe.next = { lane: 0, revertLane: 0, gesture: null, action: Ne.action, hasEagerState: Ne.hasEagerState, eagerState: Ne.eagerState, next: null }), Te === sl && (Ae = !0); else if ((ns & Se) === Se) { Ne = Ne.next, Se === sl && (Ae = !0); continue } else Te = { lane: 0, revertLane: Ne.revertLane, gesture: null, action: Ne.action, hasEagerState: Ne.hasEagerState, eagerState: Ne.eagerState, next: null }, xe === null ? (re = xe = Te, B = N) : xe = xe.next = Te, ut.lanes |= Se, oi |= Se; Te = Ne.action, no && d(N, Te), N = Ne.hasEagerState ? Ne.eagerState : d(N, Te) } else Se = { lane: Te, revertLane: Ne.revertLane, gesture: Ne.gesture, action: Ne.action, hasEagerState: Ne.hasEagerState, eagerState: Ne.eagerState, next: null }, xe === null ? (re = xe = Se, B = N) : xe = xe.next = Se, ut.lanes |= Te, oi |= Te; Ne = Ne.next } while (Ne !== null && Ne !== l); if (xe === null ? B = N : xe.next = re, !vn(N, i.memoizedState) && (wr = !0, Ae && (d = il, d !== null))) throw d; i.memoizedState = N, i.baseState = B, i.baseQueue = xe, m.lastRenderedState = N } return y === null && (m.lanes = 0), [i.memoizedState, m.dispatch] } function ig(i) { var l = mr(), d = l.queue; if (d === null) throw Error(n(311)); d.lastRenderedReducer = i; var m = d.dispatch, y = d.pending, N = l.memoizedState; if (y !== null) { d.pending = null; var B = y = y.next; do N = i(N, B.action), B = B.next; while (B !== y); vn(N, l.memoizedState) || (wr = !0), l.memoizedState = N, l.baseQueue === null && (l.baseState = N), d.lastRenderedState = N } return [N, m] } function nS(i, l, d) { var m = ut, y = mr(), N = bt; if (N) { if (d === void 0) throw Error(n(407)); d = d() } else d = l(); var B = !vn((Lt || y).memoizedState, d); if (B && (y.memoizedState = d, wr = !0), y = y.queue, cg(iS.bind(null, m, y, i), [i]), y.getSnapshot !== l || B || vr !== null && vr.memoizedState.tag & 1) { if (m.flags |= 2048, fl(9, { destroy: void 0 }, sS.bind(null, m, y, d, l), null), Ut === null) throw Error(n(349)); N || (ns & 127) !== 0 || aS(m, l, d) } return d } function aS(i, l, d) { i.flags |= 16384, i = { getSnapshot: l, value: d }, l = ut.updateQueue, l === null ? (l = Pf(), ut.updateQueue = l, l.stores = [i]) : (d = l.stores, d === null ? l.stores = [i] : d.push(i)) } function sS(i, l, d, m) { l.value = d, l.getSnapshot = m, oS(l) && lS(i) } function iS(i, l, d) { return d(function () { oS(l) && lS(i) }) } function oS(i) { var l = i.getSnapshot; i = i.value; try { var d = l(); return !vn(i, d) } catch { return !0 } } function lS(i) { var l = Ki(i, 2); l !== null && mn(l, i, 2) } function og(i) { var l = rn(); if (typeof i == "function") { var d = i; if (i = d(), no) { yr(!0); try { d() } finally { yr(!1) } } } return l.memoizedState = l.baseState = i, l.queue = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: as, lastRenderedState: i }, l } function cS(i, l, d, m) { return i.baseState = d, sg(i, Lt, typeof m == "function" ? m : as) } function z$(i, l, d, m, y) { if (Lf(i)) throw Error(n(485)); if (i = l.action, i !== null) { var N = { payload: y, action: i, next: null, isTransition: !0, status: "pending", value: null, reason: null, listeners: [], then: function (B) { N.listeners.push(B) } }; U.T !== null ? d(!0) : N.isTransition = !1, m(N), d = l.pending, d === null ? (N.next = l.pending = N, uS(l, N)) : (N.next = d.next, l.pending = d.next = N) } } function uS(i, l) { var d = l.action, m = l.payload, y = i.state; if (l.isTransition) { var N = U.T, B = {}; U.T = B; try { var re = d(y, m), xe = U.S; xe !== null && xe(B, re), dS(i, l, re) } catch (Ne) { lg(i, l, Ne) } finally { N !== null && B.types !== null && (N.types = B.types), U.T = N } } else try { N = d(y, m), dS(i, l, N) } catch (Ne) { lg(i, l, Ne) } } function dS(i, l, d) { d !== null && typeof d == "object" && typeof d.then == "function" ? d.then(function (m) { fS(i, l, m) }, function (m) { return lg(i, l, m) }) : fS(i, l, d) } function fS(i, l, d) { l.status = "fulfilled", l.value = d, hS(l), i.state = d, l = i.pending, l !== null && (d = l.next, d === l ? i.pending = null : (d = d.next, l.next = d, uS(i, d))) } function lg(i, l, d) { var m = i.pending; if (i.pending = null, m !== null) { m = m.next; do l.status = "rejected", l.reason = d, hS(l), l = l.next; while (l !== m) } i.action = null } function hS(i) { i = i.listeners; for (var l = 0; l < i.length; l++)(0, i[l])() } function mS(i, l) { return l } function pS(i, l) { if (bt) { var d = Ut.formState; if (d !== null) { e: { var m = ut; if (bt) { if (Xt) { t: { for (var y = Xt, N = Vn; y.nodeType !== 8;) { if (!N) { y = null; break t } if (y = Gn(y.nextSibling), y === null) { y = null; break t } } N = y.data, y = N === "F!" || N === "F" ? y : null } if (y) { Xt = Gn(y.nextSibling), m = y.data === "F!"; break e } } Qs(m) } m = !1 } m && (l = d[0]) } } return d = rn(), d.memoizedState = d.baseState = l, m = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: mS, lastRenderedState: l }, d.queue = m, d = MS.bind(null, ut, m), m.dispatch = d, m = og(!1), N = mg.bind(null, ut, !1, m.queue), m = rn(), y = { state: l, dispatch: null, action: i, pending: null }, m.queue = y, d = z$.bind(null, ut, y, N, d), y.dispatch = d, m.memoizedState = i, [l, d, !1] } function xS(i) { var l = mr(); return gS(l, Lt, i) } function gS(i, l, d) { if (l = sg(i, l, mS)[0], i = Rf(as)[0], typeof l == "object" && l !== null && typeof l.then == "function") try { var m = Wc(l) } catch (B) { throw B === ol ? _f : B } else m = l; l = mr(); var y = l.queue, N = y.dispatch; return d !== l.memoizedState && (ut.flags |= 2048, fl(9, { destroy: void 0 }, U$.bind(null, y, d), null)), [m, N, i] } function U$(i, l) { i.action = l } function yS(i) { var l = mr(), d = Lt; if (d !== null) return gS(l, d, i); mr(), l = l.memoizedState, d = mr(); var m = d.queue.dispatch; return d.memoizedState = i, [l, m, !1] } function fl(i, l, d, m) { return i = { tag: i, create: d, deps: m, inst: l, next: null }, l = ut.updateQueue, l === null && (l = Pf(), ut.updateQueue = l), d = l.lastEffect, d === null ? l.lastEffect = i.next = i : (m = d.next, d.next = i, i.next = m, l.lastEffect = i), i } function bS() { return mr().memoizedState } function $f(i, l, d, m) { var y = rn(); ut.flags |= i, y.memoizedState = fl(1 | l, { destroy: void 0 }, d, m === void 0 ? null : m) } function If(i, l, d, m) { var y = mr(); m = m === void 0 ? null : m; var N = y.memoizedState.inst; Lt !== null && m !== null && Zx(m, Lt.memoizedState.deps) ? y.memoizedState = fl(l, N, d, m) : (ut.flags |= i, y.memoizedState = fl(1 | l, N, d, m)) } function vS(i, l) { $f(8390656, 8, i, l) } function cg(i, l) { If(2048, 8, i, l) } function H$(i) { ut.flags |= 4; var l = ut.updateQueue; if (l === null) l = Pf(), ut.updateQueue = l, l.events = [i]; else { var d = l.events; d === null ? l.events = [i] : d.push(i) } } function wS(i) { var l = mr().memoizedState; return H$({ ref: l, nextImpl: i }), function () { if ((kt & 2) !== 0) throw Error(n(440)); return l.impl.apply(void 0, arguments) } } function jS(i, l) { return If(4, 2, i, l) } function NS(i, l) { return If(4, 4, i, l) } function SS(i, l) { if (typeof l == "function") { i = i(); var d = l(i); return function () { typeof d == "function" ? d() : l(null) } } if (l != null) return i = i(), l.current = i, function () { l.current = null } } function _S(i, l, d) { d = d != null ? d.concat([i]) : null, If(4, 4, SS.bind(null, l, i), d) } function ug() { } function OS(i, l) { var d = mr(); l = l === void 0 ? null : l; var m = d.memoizedState; return l !== null && Zx(l, m[1]) ? m[0] : (d.memoizedState = [i, l], i) } function CS(i, l) { var d = mr(); l = l === void 0 ? null : l; var m = d.memoizedState; if (l !== null && Zx(l, m[1])) return m[0]; if (m = i(), no) { yr(!0); try { i() } finally { yr(!1) } } return d.memoizedState = [m, l], m } function dg(i, l, d) { return d === void 0 || (ns & 1073741824) !== 0 && (gt & 261930) === 0 ? i.memoizedState = l : (i.memoizedState = d, i = k_(), ut.lanes |= i, oi |= i, d) } function kS(i, l, d, m) { return vn(d, l) ? d : cl.current !== null ? (i = dg(i, d, m), vn(i, l) || (wr = !0), i) : (ns & 42) === 0 || (ns & 1073741824) !== 0 && (gt & 261930) === 0 ? (wr = !0, i.memoizedState = d) : (i = k_(), ut.lanes |= i, oi |= i, l) } function AS(i, l, d, m, y) { var N = le.p; le.p = N !== 0 && 8 > N ? N : 8; var B = U.T, re = {}; U.T = re, mg(i, !1, l, d); try { var xe = y(), Ne = U.S; if (Ne !== null && Ne(re, xe), xe !== null && typeof xe == "object" && typeof xe.then == "function") { var Ae = F$(xe, m); Xc(i, l, Ae, On(i)) } else Xc(i, l, m, On(i)) } catch (Te) { Xc(i, l, { then: function () { }, status: "rejected", reason: Te }, On()) } finally { le.p = N, B !== null && re.types !== null && (B.types = re.types), U.T = B } } function V$() { } function fg(i, l, d, m) { if (i.tag !== 5) throw Error(n(476)); var y = ES(i).queue; AS(i, y, l, de, d === null ? V$ : function () { return DS(i), d(m) }) } function ES(i) { var l = i.memoizedState; if (l !== null) return l; l = { memoizedState: de, baseState: de, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: as, lastRenderedState: de }, next: null }; var d = {}; return l.next = { memoizedState: d, baseState: d, baseQueue: null, queue: { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: as, lastRenderedState: d }, next: null }, i.memoizedState = l, i = i.alternate, i !== null && (i.memoizedState = l), l } function DS(i) { var l = ES(i); l.next === null && (l = i.alternate.memoizedState), Xc(i, l.next.queue, {}, On()) } function hg() { return Hr(hu) } function TS() { return mr().memoizedState } function PS() { return mr().memoizedState } function Y$(i) { for (var l = i.return; l !== null;) { switch (l.tag) { case 24: case 3: var d = On(); i = ti(d); var m = ri(l, i, d); m !== null && (mn(m, l, d), Vc(m, l, d)), l = { cache: zx() }, i.payload = l; return }l = l.return } } function G$(i, l, d) { var m = On(); d = { lane: m, revertLane: 0, gesture: null, action: d, hasEagerState: !1, eagerState: null, next: null }, Lf(i) ? RS(l, d) : (d = Dx(i, l, d, m), d !== null && (mn(d, i, m), $S(d, l, m))) } function MS(i, l, d) { var m = On(); Xc(i, l, d, m) } function Xc(i, l, d, m) { var y = { lane: m, revertLane: 0, gesture: null, action: d, hasEagerState: !1, eagerState: null, next: null }; if (Lf(i)) RS(l, y); else { var N = i.alternate; if (i.lanes === 0 && (N === null || N.lanes === 0) && (N = l.lastRenderedReducer, N !== null)) try { var B = l.lastRenderedState, re = N(B, d); if (y.hasEagerState = !0, y.eagerState = re, vn(re, B)) return yf(i, l, y, 0), Ut === null && gf(), !1 } catch { } finally { } if (d = Dx(i, l, y, m), d !== null) return mn(d, i, m), $S(d, l, m), !0 } return !1 } function mg(i, l, d, m) { if (m = { lane: 2, revertLane: Yg(), gesture: null, action: m, hasEagerState: !1, eagerState: null, next: null }, Lf(i)) { if (l) throw Error(n(479)) } else l = Dx(i, d, m, 2), l !== null && mn(l, i, 2) } function Lf(i) { var l = i.alternate; return i === ut || l !== null && l === ut } function RS(i, l) { ul = Df = !0; var d = i.pending; d === null ? l.next = l : (l.next = d.next, d.next = l), i.pending = l } function $S(i, l, d) { if ((d & 4194048) !== 0) { var m = l.lanes; m &= i.pendingLanes, d |= m, l.lanes = d, tf(i, d) } } var Jc = { readContext: Hr, use: Mf, useCallback: lr, useContext: lr, useEffect: lr, useImperativeHandle: lr, useLayoutEffect: lr, useInsertionEffect: lr, useMemo: lr, useReducer: lr, useRef: lr, useState: lr, useDebugValue: lr, useDeferredValue: lr, useTransition: lr, useSyncExternalStore: lr, useId: lr, useHostTransitionStatus: lr, useFormState: lr, useActionState: lr, useOptimistic: lr, useMemoCache: lr, useCacheRefresh: lr }; Jc.useEffectEvent = lr; var IS = { readContext: Hr, use: Mf, useCallback: function (i, l) { return rn().memoizedState = [i, l === void 0 ? null : l], i }, useContext: Hr, useEffect: vS, useImperativeHandle: function (i, l, d) { d = d != null ? d.concat([i]) : null, $f(4194308, 4, SS.bind(null, l, i), d) }, useLayoutEffect: function (i, l) { return $f(4194308, 4, i, l) }, useInsertionEffect: function (i, l) { $f(4, 2, i, l) }, useMemo: function (i, l) { var d = rn(); l = l === void 0 ? null : l; var m = i(); if (no) { yr(!0); try { i() } finally { yr(!1) } } return d.memoizedState = [m, l], m }, useReducer: function (i, l, d) { var m = rn(); if (d !== void 0) { var y = d(l); if (no) { yr(!0); try { d(l) } finally { yr(!1) } } } else y = l; return m.memoizedState = m.baseState = y, i = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: i, lastRenderedState: y }, m.queue = i, i = i.dispatch = G$.bind(null, ut, i), [m.memoizedState, i] }, useRef: function (i) { var l = rn(); return i = { current: i }, l.memoizedState = i }, useState: function (i) { i = og(i); var l = i.queue, d = MS.bind(null, ut, l); return l.dispatch = d, [i.memoizedState, d] }, useDebugValue: ug, useDeferredValue: function (i, l) { var d = rn(); return dg(d, i, l) }, useTransition: function () { var i = og(!1); return i = AS.bind(null, ut, i.queue, !0, !1), rn().memoizedState = i, [!1, i] }, useSyncExternalStore: function (i, l, d) { var m = ut, y = rn(); if (bt) { if (d === void 0) throw Error(n(407)); d = d() } else { if (d = l(), Ut === null) throw Error(n(349)); (gt & 127) !== 0 || aS(m, l, d) } y.memoizedState = d; var N = { value: d, getSnapshot: l }; return y.queue = N, vS(iS.bind(null, m, N, i), [i]), m.flags |= 2048, fl(9, { destroy: void 0 }, sS.bind(null, m, N, d, l), null), d }, useId: function () { var i = rn(), l = Ut.identifierPrefix; if (bt) { var d = Ta, m = Da; d = (m & ~(1 << 32 - er(m) - 1)).toString(32) + d, l = "_" + l + "R_" + d, d = Tf++, 0 < d && (l += "H" + d.toString(32)), l += "_" } else d = B$++, l = "_" + l + "r_" + d.toString(32) + "_"; return i.memoizedState = l }, useHostTransitionStatus: hg, useFormState: pS, useActionState: pS, useOptimistic: function (i) { var l = rn(); l.memoizedState = l.baseState = i; var d = { pending: null, lanes: 0, dispatch: null, lastRenderedReducer: null, lastRenderedState: null }; return l.queue = d, l = mg.bind(null, ut, !0, d), d.dispatch = l, [i, l] }, useMemoCache: ag, useCacheRefresh: function () { return rn().memoizedState = Y$.bind(null, ut) }, useEffectEvent: function (i) { var l = rn(), d = { impl: i }; return l.memoizedState = d, function () { if ((kt & 2) !== 0) throw Error(n(440)); return d.impl.apply(void 0, arguments) } } }, pg = { readContext: Hr, use: Mf, useCallback: OS, useContext: Hr, useEffect: cg, useImperativeHandle: _S, useInsertionEffect: jS, useLayoutEffect: NS, useMemo: CS, useReducer: Rf, useRef: bS, useState: function () { return Rf(as) }, useDebugValue: ug, useDeferredValue: function (i, l) { var d = mr(); return kS(d, Lt.memoizedState, i, l) }, useTransition: function () { var i = Rf(as)[0], l = mr().memoizedState; return [typeof i == "boolean" ? i : Wc(i), l] }, useSyncExternalStore: nS, useId: TS, useHostTransitionStatus: hg, useFormState: xS, useActionState: xS, useOptimistic: function (i, l) { var d = mr(); return cS(d, Lt, i, l) }, useMemoCache: ag, useCacheRefresh: PS }; pg.useEffectEvent = wS; var LS = { readContext: Hr, use: Mf, useCallback: OS, useContext: Hr, useEffect: cg, useImperativeHandle: _S, useInsertionEffect: jS, useLayoutEffect: NS, useMemo: CS, useReducer: ig, useRef: bS, useState: function () { return ig(as) }, useDebugValue: ug, useDeferredValue: function (i, l) { var d = mr(); return Lt === null ? dg(d, i, l) : kS(d, Lt.memoizedState, i, l) }, useTransition: function () { var i = ig(as)[0], l = mr().memoizedState; return [typeof i == "boolean" ? i : Wc(i), l] }, useSyncExternalStore: nS, useId: TS, useHostTransitionStatus: hg, useFormState: yS, useActionState: yS, useOptimistic: function (i, l) { var d = mr(); return Lt !== null ? cS(d, Lt, i, l) : (d.baseState = i, [i, d.queue.dispatch]) }, useMemoCache: ag, useCacheRefresh: PS }; LS.useEffectEvent = wS; function xg(i, l, d, m) { l = i.memoizedState, d = d(m, l), d = d == null ? l : x({}, l, d), i.memoizedState = d, i.lanes === 0 && (i.updateQueue.baseState = d) } var gg = { enqueueSetState: function (i, l, d) { i = i._reactInternals; var m = On(), y = ti(m); y.payload = l, d != null && (y.callback = d), l = ri(i, y, m), l !== null && (mn(l, i, m), Vc(l, i, m)) }, enqueueReplaceState: function (i, l, d) { i = i._reactInternals; var m = On(), y = ti(m); y.tag = 1, y.payload = l, d != null && (y.callback = d), l = ri(i, y, m), l !== null && (mn(l, i, m), Vc(l, i, m)) }, enqueueForceUpdate: function (i, l) { i = i._reactInternals; var d = On(), m = ti(d); m.tag = 2, l != null && (m.callback = l), l = ri(i, m, d), l !== null && (mn(l, i, d), Vc(l, i, d)) } }; function FS(i, l, d, m, y, N, B) { return i = i.stateNode, typeof i.shouldComponentUpdate == "function" ? i.shouldComponentUpdate(m, N, B) : l.prototype && l.prototype.isPureReactComponent ? !Ic(d, m) || !Ic(y, N) : !0 } function BS(i, l, d, m) { i = l.state, typeof l.componentWillReceiveProps == "function" && l.componentWillReceiveProps(d, m), typeof l.UNSAFE_componentWillReceiveProps == "function" && l.UNSAFE_componentWillReceiveProps(d, m), l.state !== i && gg.enqueueReplaceState(l, l.state, null) } function ao(i, l) { var d = l; if ("ref" in l) { d = {}; for (var m in l) m !== "ref" && (d[m] = l[m]) } if (i = i.defaultProps) { d === l && (d = x({}, d)); for (var y in i) d[y] === void 0 && (d[y] = i[y]) } return d } function qS(i) { xf(i) } function zS(i) { console.error(i) } function US(i) { xf(i) } function Ff(i, l) { try { var d = i.onUncaughtError; d(l.value, { componentStack: l.stack }) } catch (m) { setTimeout(function () { throw m }) } } function HS(i, l, d) { try { var m = i.onCaughtError; m(d.value, { componentStack: d.stack, errorBoundary: l.tag === 1 ? l.stateNode : null }) } catch (y) { setTimeout(function () { throw y }) } } function yg(i, l, d) { return d = ti(d), d.tag = 3, d.payload = { element: null }, d.callback = function () { Ff(i, l) }, d } function VS(i) { return i = ti(i), i.tag = 3, i } function YS(i, l, d, m) { var y = d.type.getDerivedStateFromError; if (typeof y == "function") { var N = m.value; i.payload = function () { return y(N) }, i.callback = function () { HS(l, d, m) } } var B = d.stateNode; B !== null && typeof B.componentDidCatch == "function" && (i.callback = function () { HS(l, d, m), typeof y != "function" && (li === null ? li = new Set([this]) : li.add(this)); var re = m.stack; this.componentDidCatch(m.value, { componentStack: re !== null ? re : "" }) }) } function K$(i, l, d, m, y) { if (d.flags |= 32768, m !== null && typeof m == "object" && typeof m.then == "function") { if (l = d.alternate, l !== null && al(l, d, y, !0), d = jn.current, d !== null) { switch (d.tag) { case 31: case 13: return Yn === null ? Jf() : d.alternate === null && cr === 0 && (cr = 3), d.flags &= -257, d.flags |= 65536, d.lanes = y, m === Of ? d.flags |= 16384 : (l = d.updateQueue, l === null ? d.updateQueue = new Set([m]) : l.add(m), Ug(i, m, y)), !1; case 22: return d.flags |= 65536, m === Of ? d.flags |= 16384 : (l = d.updateQueue, l === null ? (l = { transitions: null, markerInstances: null, retryQueue: new Set([m]) }, d.updateQueue = l) : (d = l.retryQueue, d === null ? l.retryQueue = new Set([m]) : d.add(m)), Ug(i, m, y)), !1 }throw Error(n(435, d.tag)) } return Ug(i, m, y), Jf(), !1 } if (bt) return l = jn.current, l !== null ? ((l.flags & 65536) === 0 && (l.flags |= 256), l.flags |= 65536, l.lanes = y, m !== Ix && (i = Error(n(422), { cause: m }), Bc(zn(i, d)))) : (m !== Ix && (l = Error(n(423), { cause: m }), Bc(zn(l, d))), i = i.current.alternate, i.flags |= 65536, y &= -y, i.lanes |= y, m = zn(m, d), y = yg(i.stateNode, m, y), Kx(i, y), cr !== 4 && (cr = 2)), !1; var N = Error(n(520), { cause: m }); if (N = zn(N, d), su === null ? su = [N] : su.push(N), cr !== 4 && (cr = 2), l === null) return !0; m = zn(m, d), d = l; do { switch (d.tag) { case 3: return d.flags |= 65536, i = y & -y, d.lanes |= i, i = yg(d.stateNode, m, i), Kx(d, i), !1; case 1: if (l = d.type, N = d.stateNode, (d.flags & 128) === 0 && (typeof l.getDerivedStateFromError == "function" || N !== null && typeof N.componentDidCatch == "function" && (li === null || !li.has(N)))) return d.flags |= 65536, y &= -y, d.lanes |= y, y = VS(y), YS(y, i, d, m), Kx(d, y), !1 }d = d.return } while (d !== null); return !1 } var bg = Error(n(461)), wr = !1; function Vr(i, l, d, m) { l.child = i === null ? X2(l, null, d, m) : ro(l, i.child, d, m) } function GS(i, l, d, m, y) { d = d.render; var N = l.ref; if ("ref" in m) { var B = {}; for (var re in m) re !== "ref" && (B[re] = m[re]) } else B = m; return Qi(l), m = eg(i, l, d, B, N, y), re = tg(), i !== null && !wr ? (rg(i, l, y), ss(i, l, y)) : (bt && re && Rx(l), l.flags |= 1, Vr(i, l, m, y), l.child) } function KS(i, l, d, m, y) { if (i === null) { var N = d.type; return typeof N == "function" && !Tx(N) && N.defaultProps === void 0 && d.compare === null ? (l.tag = 15, l.type = N, WS(i, l, N, m, y)) : (i = vf(d.type, null, m, l, l.mode, y), i.ref = l.ref, i.return = l, l.child = i) } if (N = i.child, !Cg(i, y)) { var B = N.memoizedProps; if (d = d.compare, d = d !== null ? d : Ic, d(B, m) && i.ref === l.ref) return ss(i, l, y) } return l.flags |= 1, i = Za(N, m), i.ref = l.ref, i.return = l, l.child = i } function WS(i, l, d, m, y) { if (i !== null) { var N = i.memoizedProps; if (Ic(N, m) && i.ref === l.ref) if (wr = !1, l.pendingProps = m = N, Cg(i, y)) (i.flags & 131072) !== 0 && (wr = !0); else return l.lanes = i.lanes, ss(i, l, y) } return vg(i, l, d, m, y) } function XS(i, l, d, m) { var y = m.children, N = i !== null ? i.memoizedState : null; if (i === null && l.stateNode === null && (l.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }), m.mode === "hidden") { if ((l.flags & 128) !== 0) { if (N = N !== null ? N.baseLanes | d : d, i !== null) { for (m = l.child = i.child, y = 0; m !== null;)y = y | m.lanes | m.childLanes, m = m.sibling; m = y & ~N } else m = 0, l.child = null; return JS(i, l, N, d, m) } if ((d & 536870912) !== 0) l.memoizedState = { baseLanes: 0, cachePool: null }, i !== null && Sf(l, N !== null ? N.cachePool : null), N !== null ? Z2(l, N) : Xx(), eS(l); else return m = l.lanes = 536870912, JS(i, l, N !== null ? N.baseLanes | d : d, d, m) } else N !== null ? (Sf(l, N.cachePool), Z2(l, N), ai(), l.memoizedState = null) : (i !== null && Sf(l, null), Xx(), ai()); return Vr(i, l, y, d), l.child } function Qc(i, l) { return i !== null && i.tag === 22 || l.stateNode !== null || (l.stateNode = { _visibility: 1, _pendingMarkers: null, _retryCache: null, _transitions: null }), l.sibling } function JS(i, l, d, m, y) { var N = Hx(); return N = N === null ? null : { parent: br._currentValue, pool: N }, l.memoizedState = { baseLanes: d, cachePool: N }, i !== null && Sf(l, null), Xx(), eS(l), i !== null && al(i, l, m, !0), l.childLanes = y, null } function Bf(i, l) { return l = zf({ mode: l.mode, children: l.children }, i.mode), l.ref = i.ref, i.child = l, l.return = i, l } function QS(i, l, d) { return ro(l, i.child, null, d), i = Bf(l, l.pendingProps), i.flags |= 2, Nn(l), l.memoizedState = null, i } function W$(i, l, d) { var m = l.pendingProps, y = (l.flags & 128) !== 0; if (l.flags &= -129, i === null) { if (bt) { if (m.mode === "hidden") return i = Bf(l, m), l.lanes = 536870912, Qc(null, i); if (Qx(l), (i = Xt) ? (i = uO(i, Vn), i = i !== null && i.data === "&" ? i : null, i !== null && (l.memoizedState = { dehydrated: i, treeContext: Xs !== null ? { id: Da, overflow: Ta } : null, retryLane: 536870912, hydrationErrors: null }, d = R2(i), d.return = l, l.child = d, Ur = l, Xt = null)) : i = null, i === null) throw Qs(l); return l.lanes = 536870912, null } return Bf(l, m) } var N = i.memoizedState; if (N !== null) { var B = N.dehydrated; if (Qx(l), y) if (l.flags & 256) l.flags &= -257, l = QS(i, l, d); else if (l.memoizedState !== null) l.child = i.child, l.flags |= 128, l = null; else throw Error(n(558)); else if (wr || al(i, l, d, !1), y = (d & i.childLanes) !== 0, wr || y) { if (m = Ut, m !== null && (B = rf(m, d), B !== 0 && B !== N.retryLane)) throw N.retryLane = B, Ki(i, B), mn(m, i, B), bg; Jf(), l = QS(i, l, d) } else i = N.treeContext, Xt = Gn(B.nextSibling), Ur = l, bt = !0, Js = null, Vn = !1, i !== null && L2(l, i), l = Bf(l, m), l.flags |= 4096; return l } return i = Za(i.child, { mode: m.mode, children: m.children }), i.ref = l.ref, l.child = i, i.return = l, i } function qf(i, l) { var d = l.ref; if (d === null) i !== null && i.ref !== null && (l.flags |= 4194816); else { if (typeof d != "function" && typeof d != "object") throw Error(n(284)); (i === null || i.ref !== d) && (l.flags |= 4194816) } } function vg(i, l, d, m, y) { return Qi(l), d = eg(i, l, d, m, void 0, y), m = tg(), i !== null && !wr ? (rg(i, l, y), ss(i, l, y)) : (bt && m && Rx(l), l.flags |= 1, Vr(i, l, d, y), l.child) } function ZS(i, l, d, m, y, N) { return Qi(l), l.updateQueue = null, d = rS(l, m, d, y), tS(i), m = tg(), i !== null && !wr ? (rg(i, l, N), ss(i, l, N)) : (bt && m && Rx(l), l.flags |= 1, Vr(i, l, d, N), l.child) } function e_(i, l, d, m, y) { if (Qi(l), l.stateNode === null) { var N = el, B = d.contextType; typeof B == "object" && B !== null && (N = Hr(B)), N = new d(m, N), l.memoizedState = N.state !== null && N.state !== void 0 ? N.state : null, N.updater = gg, l.stateNode = N, N._reactInternals = l, N = l.stateNode, N.props = m, N.state = l.memoizedState, N.refs = {}, Yx(l), B = d.contextType, N.context = typeof B == "object" && B !== null ? Hr(B) : el, N.state = l.memoizedState, B = d.getDerivedStateFromProps, typeof B == "function" && (xg(l, d, B, m), N.state = l.memoizedState), typeof d.getDerivedStateFromProps == "function" || typeof N.getSnapshotBeforeUpdate == "function" || typeof N.UNSAFE_componentWillMount != "function" && typeof N.componentWillMount != "function" || (B = N.state, typeof N.componentWillMount == "function" && N.componentWillMount(), typeof N.UNSAFE_componentWillMount == "function" && N.UNSAFE_componentWillMount(), B !== N.state && gg.enqueueReplaceState(N, N.state, null), Gc(l, m, N, y), Yc(), N.state = l.memoizedState), typeof N.componentDidMount == "function" && (l.flags |= 4194308), m = !0 } else if (i === null) { N = l.stateNode; var re = l.memoizedProps, xe = ao(d, re); N.props = xe; var Ne = N.context, Ae = d.contextType; B = el, typeof Ae == "object" && Ae !== null && (B = Hr(Ae)); var Te = d.getDerivedStateFromProps; Ae = typeof Te == "function" || typeof N.getSnapshotBeforeUpdate == "function", re = l.pendingProps !== re, Ae || typeof N.UNSAFE_componentWillReceiveProps != "function" && typeof N.componentWillReceiveProps != "function" || (re || Ne !== B) && BS(l, N, m, B), ei = !1; var Se = l.memoizedState; N.state = Se, Gc(l, m, N, y), Yc(), Ne = l.memoizedState, re || Se !== Ne || ei ? (typeof Te == "function" && (xg(l, d, Te, m), Ne = l.memoizedState), (xe = ei || FS(l, d, xe, m, Se, Ne, B)) ? (Ae || typeof N.UNSAFE_componentWillMount != "function" && typeof N.componentWillMount != "function" || (typeof N.componentWillMount == "function" && N.componentWillMount(), typeof N.UNSAFE_componentWillMount == "function" && N.UNSAFE_componentWillMount()), typeof N.componentDidMount == "function" && (l.flags |= 4194308)) : (typeof N.componentDidMount == "function" && (l.flags |= 4194308), l.memoizedProps = m, l.memoizedState = Ne), N.props = m, N.state = Ne, N.context = B, m = xe) : (typeof N.componentDidMount == "function" && (l.flags |= 4194308), m = !1) } else { N = l.stateNode, Gx(i, l), B = l.memoizedProps, Ae = ao(d, B), N.props = Ae, Te = l.pendingProps, Se = N.context, Ne = d.contextType, xe = el, typeof Ne == "object" && Ne !== null && (xe = Hr(Ne)), re = d.getDerivedStateFromProps, (Ne = typeof re == "function" || typeof N.getSnapshotBeforeUpdate == "function") || typeof N.UNSAFE_componentWillReceiveProps != "function" && typeof N.componentWillReceiveProps != "function" || (B !== Te || Se !== xe) && BS(l, N, m, xe), ei = !1, Se = l.memoizedState, N.state = Se, Gc(l, m, N, y), Yc(); var Oe = l.memoizedState; B !== Te || Se !== Oe || ei || i !== null && i.dependencies !== null && jf(i.dependencies) ? (typeof re == "function" && (xg(l, d, re, m), Oe = l.memoizedState), (Ae = ei || FS(l, d, Ae, m, Se, Oe, xe) || i !== null && i.dependencies !== null && jf(i.dependencies)) ? (Ne || typeof N.UNSAFE_componentWillUpdate != "function" && typeof N.componentWillUpdate != "function" || (typeof N.componentWillUpdate == "function" && N.componentWillUpdate(m, Oe, xe), typeof N.UNSAFE_componentWillUpdate == "function" && N.UNSAFE_componentWillUpdate(m, Oe, xe)), typeof N.componentDidUpdate == "function" && (l.flags |= 4), typeof N.getSnapshotBeforeUpdate == "function" && (l.flags |= 1024)) : (typeof N.componentDidUpdate != "function" || B === i.memoizedProps && Se === i.memoizedState || (l.flags |= 4), typeof N.getSnapshotBeforeUpdate != "function" || B === i.memoizedProps && Se === i.memoizedState || (l.flags |= 1024), l.memoizedProps = m, l.memoizedState = Oe), N.props = m, N.state = Oe, N.context = xe, m = Ae) : (typeof N.componentDidUpdate != "function" || B === i.memoizedProps && Se === i.memoizedState || (l.flags |= 4), typeof N.getSnapshotBeforeUpdate != "function" || B === i.memoizedProps && Se === i.memoizedState || (l.flags |= 1024), m = !1) } return N = m, qf(i, l), m = (l.flags & 128) !== 0, N || m ? (N = l.stateNode, d = m && typeof d.getDerivedStateFromError != "function" ? null : N.render(), l.flags |= 1, i !== null && m ? (l.child = ro(l, i.child, null, y), l.child = ro(l, null, d, y)) : Vr(i, l, d, y), l.memoizedState = N.state, i = l.child) : i = ss(i, l, y), i } function t_(i, l, d, m) { return Xi(), l.flags |= 256, Vr(i, l, d, m), l.child } var wg = { dehydrated: null, treeContext: null, retryLane: 0, hydrationErrors: null }; function jg(i) { return { baseLanes: i, cachePool: H2() } } function Ng(i, l, d) { return i = i !== null ? i.childLanes & ~d : 0, l && (i |= _n), i } function r_(i, l, d) { var m = l.pendingProps, y = !1, N = (l.flags & 128) !== 0, B; if ((B = N) || (B = i !== null && i.memoizedState === null ? !1 : (hr.current & 2) !== 0), B && (y = !0, l.flags &= -129), B = (l.flags & 32) !== 0, l.flags &= -33, i === null) { if (bt) { if (y ? ni(l) : ai(), (i = Xt) ? (i = uO(i, Vn), i = i !== null && i.data !== "&" ? i : null, i !== null && (l.memoizedState = { dehydrated: i, treeContext: Xs !== null ? { id: Da, overflow: Ta } : null, retryLane: 536870912, hydrationErrors: null }, d = R2(i), d.return = l, l.child = d, Ur = l, Xt = null)) : i = null, i === null) throw Qs(l); return sy(i) ? l.lanes = 32 : l.lanes = 536870912, null } var re = m.children; return m = m.fallback, y ? (ai(), y = l.mode, re = zf({ mode: "hidden", children: re }, y), m = Wi(m, y, d, null), re.return = l, m.return = l, re.sibling = m, l.child = re, m = l.child, m.memoizedState = jg(d), m.childLanes = Ng(i, B, d), l.memoizedState = wg, Qc(null, m)) : (ni(l), Sg(l, re)) } var xe = i.memoizedState; if (xe !== null && (re = xe.dehydrated, re !== null)) { if (N) l.flags & 256 ? (ni(l), l.flags &= -257, l = _g(i, l, d)) : l.memoizedState !== null ? (ai(), l.child = i.child, l.flags |= 128, l = null) : (ai(), re = m.fallback, y = l.mode, m = zf({ mode: "visible", children: m.children }, y), re = Wi(re, y, d, null), re.flags |= 2, m.return = l, re.return = l, m.sibling = re, l.child = m, ro(l, i.child, null, d), m = l.child, m.memoizedState = jg(d), m.childLanes = Ng(i, B, d), l.memoizedState = wg, l = Qc(null, m)); else if (ni(l), sy(re)) { if (B = re.nextSibling && re.nextSibling.dataset, B) var Ne = B.dgst; B = Ne, m = Error(n(419)), m.stack = "", m.digest = B, Bc({ value: m, source: null, stack: null }), l = _g(i, l, d) } else if (wr || al(i, l, d, !1), B = (d & i.childLanes) !== 0, wr || B) { if (B = Ut, B !== null && (m = rf(B, d), m !== 0 && m !== xe.retryLane)) throw xe.retryLane = m, Ki(i, m), mn(B, i, m), bg; ay(re) || Jf(), l = _g(i, l, d) } else ay(re) ? (l.flags |= 192, l.child = i.child, l = null) : (i = xe.treeContext, Xt = Gn(re.nextSibling), Ur = l, bt = !0, Js = null, Vn = !1, i !== null && L2(l, i), l = Sg(l, m.children), l.flags |= 4096); return l } return y ? (ai(), re = m.fallback, y = l.mode, xe = i.child, Ne = xe.sibling, m = Za(xe, { mode: "hidden", children: m.children }), m.subtreeFlags = xe.subtreeFlags & 65011712, Ne !== null ? re = Za(Ne, re) : (re = Wi(re, y, d, null), re.flags |= 2), re.return = l, m.return = l, m.sibling = re, l.child = m, Qc(null, m), m = l.child, re = i.child.memoizedState, re === null ? re = jg(d) : (y = re.cachePool, y !== null ? (xe = br._currentValue, y = y.parent !== xe ? { parent: xe, pool: xe } : y) : y = H2(), re = { baseLanes: re.baseLanes | d, cachePool: y }), m.memoizedState = re, m.childLanes = Ng(i, B, d), l.memoizedState = wg, Qc(i.child, m)) : (ni(l), d = i.child, i = d.sibling, d = Za(d, { mode: "visible", children: m.children }), d.return = l, d.sibling = null, i !== null && (B = l.deletions, B === null ? (l.deletions = [i], l.flags |= 16) : B.push(i)), l.child = d, l.memoizedState = null, d) } function Sg(i, l) { return l = zf({ mode: "visible", children: l }, i.mode), l.return = i, i.child = l } function zf(i, l) { return i = wn(22, i, null, l), i.lanes = 0, i } function _g(i, l, d) { return ro(l, i.child, null, d), i = Sg(l, l.pendingProps.children), i.flags |= 2, l.memoizedState = null, i } function n_(i, l, d) { i.lanes |= l; var m = i.alternate; m !== null && (m.lanes |= l), Bx(i.return, l, d) } function Og(i, l, d, m, y, N) { var B = i.memoizedState; B === null ? i.memoizedState = { isBackwards: l, rendering: null, renderingStartTime: 0, last: m, tail: d, tailMode: y, treeForkCount: N } : (B.isBackwards = l, B.rendering = null, B.renderingStartTime = 0, B.last = m, B.tail = d, B.tailMode = y, B.treeForkCount = N) } function a_(i, l, d) { var m = l.pendingProps, y = m.revealOrder, N = m.tail; m = m.children; var B = hr.current, re = (B & 2) !== 0; if (re ? (B = B & 1 | 2, l.flags |= 128) : B &= 1, ce(hr, B), Vr(i, l, m, d), m = bt ? Fc : 0, !re && i !== null && (i.flags & 128) !== 0) e: for (i = l.child; i !== null;) { if (i.tag === 13) i.memoizedState !== null && n_(i, d, l); else if (i.tag === 19) n_(i, d, l); else if (i.child !== null) { i.child.return = i, i = i.child; continue } if (i === l) break e; for (; i.sibling === null;) { if (i.return === null || i.return === l) break e; i = i.return } i.sibling.return = i.return, i = i.sibling } switch (y) { case "forwards": for (d = l.child, y = null; d !== null;)i = d.alternate, i !== null && Ef(i) === null && (y = d), d = d.sibling; d = y, d === null ? (y = l.child, l.child = null) : (y = d.sibling, d.sibling = null), Og(l, !1, y, d, N, m); break; case "backwards": case "unstable_legacy-backwards": for (d = null, y = l.child, l.child = null; y !== null;) { if (i = y.alternate, i !== null && Ef(i) === null) { l.child = y; break } i = y.sibling, y.sibling = d, d = y, y = i } Og(l, !0, d, null, N, m); break; case "together": Og(l, !1, null, null, void 0, m); break; default: l.memoizedState = null }return l.child } function ss(i, l, d) { if (i !== null && (l.dependencies = i.dependencies), oi |= l.lanes, (d & l.childLanes) === 0) if (i !== null) { if (al(i, l, d, !1), (d & l.childLanes) === 0) return null } else return null; if (i !== null && l.child !== i.child) throw Error(n(153)); if (l.child !== null) { for (i = l.child, d = Za(i, i.pendingProps), l.child = d, d.return = l; i.sibling !== null;)i = i.sibling, d = d.sibling = Za(i, i.pendingProps), d.return = l; d.sibling = null } return l.child } function Cg(i, l) { return (i.lanes & l) !== 0 ? !0 : (i = i.dependencies, !!(i !== null && jf(i))) } function X$(i, l, d) { switch (l.tag) { case 3: X(l, l.stateNode.containerInfo), Zs(l, br, i.memoizedState.cache), Xi(); break; case 27: case 5: q(l); break; case 4: X(l, l.stateNode.containerInfo); break; case 10: Zs(l, l.type, l.memoizedProps.value); break; case 31: if (l.memoizedState !== null) return l.flags |= 128, Qx(l), null; break; case 13: var m = l.memoizedState; if (m !== null) return m.dehydrated !== null ? (ni(l), l.flags |= 128, null) : (d & l.child.childLanes) !== 0 ? r_(i, l, d) : (ni(l), i = ss(i, l, d), i !== null ? i.sibling : null); ni(l); break; case 19: var y = (i.flags & 128) !== 0; if (m = (d & l.childLanes) !== 0, m || (al(i, l, d, !1), m = (d & l.childLanes) !== 0), y) { if (m) return a_(i, l, d); l.flags |= 128 } if (y = l.memoizedState, y !== null && (y.rendering = null, y.tail = null, y.lastEffect = null), ce(hr, hr.current), m) break; return null; case 22: return l.lanes = 0, XS(i, l, d, l.pendingProps); case 24: Zs(l, br, i.memoizedState.cache) }return ss(i, l, d) } function s_(i, l, d) { if (i !== null) if (i.memoizedProps !== l.pendingProps) wr = !0; else { if (!Cg(i, d) && (l.flags & 128) === 0) return wr = !1, X$(i, l, d); wr = (i.flags & 131072) !== 0 } else wr = !1, bt && (l.flags & 1048576) !== 0 && I2(l, Fc, l.index); switch (l.lanes = 0, l.tag) { case 16: e: { var m = l.pendingProps; if (i = eo(l.elementType), l.type = i, typeof i == "function") Tx(i) ? (m = ao(i, m), l.tag = 1, l = e_(null, l, i, m, d)) : (l.tag = 0, l = vg(null, l, i, m, d)); else { if (i != null) { var y = i.$$typeof; if (y === H) { l.tag = 11, l = GS(null, l, i, m, d); break e } else if (y === F) { l.tag = 14, l = KS(null, l, i, m, d); break e } } throw l = ie(i) || i, Error(n(306, l, "")) } } return l; case 0: return vg(i, l, l.type, l.pendingProps, d); case 1: return m = l.type, y = ao(m, l.pendingProps), e_(i, l, m, y, d); case 3: e: { if (X(l, l.stateNode.containerInfo), i === null) throw Error(n(387)); m = l.pendingProps; var N = l.memoizedState; y = N.element, Gx(i, l), Gc(l, m, null, d); var B = l.memoizedState; if (m = B.cache, Zs(l, br, m), m !== N.cache && qx(l, [br], d, !0), Yc(), m = B.element, N.isDehydrated) if (N = { element: m, isDehydrated: !1, cache: B.cache }, l.updateQueue.baseState = N, l.memoizedState = N, l.flags & 256) { l = t_(i, l, m, d); break e } else if (m !== y) { y = zn(Error(n(424)), l), Bc(y), l = t_(i, l, m, d); break e } else { switch (i = l.stateNode.containerInfo, i.nodeType) { case 9: i = i.body; break; default: i = i.nodeName === "HTML" ? i.ownerDocument.body : i }for (Xt = Gn(i.firstChild), Ur = l, bt = !0, Js = null, Vn = !0, d = X2(l, null, m, d), l.child = d; d;)d.flags = d.flags & -3 | 4096, d = d.sibling } else { if (Xi(), m === y) { l = ss(i, l, d); break e } Vr(i, l, m, d) } l = l.child } return l; case 26: return qf(i, l), i === null ? (d = xO(l.type, null, l.pendingProps, null)) ? l.memoizedState = d : bt || (d = l.type, i = l.pendingProps, m = ah(I.current).createElement(d), m[we] = l, m[Ce] = i, Yr(m, d, i), Xe(m), l.stateNode = m) : l.memoizedState = xO(l.type, i.memoizedProps, l.pendingProps, i.memoizedState), null; case 27: return q(l), i === null && bt && (m = l.stateNode = hO(l.type, l.pendingProps, I.current), Ur = l, Vn = !0, y = Xt, fi(l.type) ? (iy = y, Xt = Gn(m.firstChild)) : Xt = y), Vr(i, l, l.pendingProps.children, d), qf(i, l), i === null && (l.flags |= 4194304), l.child; case 5: return i === null && bt && ((y = m = Xt) && (m = OI(m, l.type, l.pendingProps, Vn), m !== null ? (l.stateNode = m, Ur = l, Xt = Gn(m.firstChild), Vn = !1, y = !0) : y = !1), y || Qs(l)), q(l), y = l.type, N = l.pendingProps, B = i !== null ? i.memoizedProps : null, m = N.children, ty(y, N) ? m = null : B !== null && ty(y, B) && (l.flags |= 32), l.memoizedState !== null && (y = eg(i, l, q$, null, null, d), hu._currentValue = y), qf(i, l), Vr(i, l, m, d), l.child; case 6: return i === null && bt && ((i = d = Xt) && (d = CI(d, l.pendingProps, Vn), d !== null ? (l.stateNode = d, Ur = l, Xt = null, i = !0) : i = !1), i || Qs(l)), null; case 13: return r_(i, l, d); case 4: return X(l, l.stateNode.containerInfo), m = l.pendingProps, i === null ? l.child = ro(l, null, m, d) : Vr(i, l, m, d), l.child; case 11: return GS(i, l, l.type, l.pendingProps, d); case 7: return Vr(i, l, l.pendingProps, d), l.child; case 8: return Vr(i, l, l.pendingProps.children, d), l.child; case 12: return Vr(i, l, l.pendingProps.children, d), l.child; case 10: return m = l.pendingProps, Zs(l, l.type, m.value), Vr(i, l, m.children, d), l.child; case 9: return y = l.type._context, m = l.pendingProps.children, Qi(l), y = Hr(y), m = m(y), l.flags |= 1, Vr(i, l, m, d), l.child; case 14: return KS(i, l, l.type, l.pendingProps, d); case 15: return WS(i, l, l.type, l.pendingProps, d); case 19: return a_(i, l, d); case 31: return W$(i, l, d); case 22: return XS(i, l, d, l.pendingProps); case 24: return Qi(l), m = Hr(br), i === null ? (y = Hx(), y === null && (y = Ut, N = zx(), y.pooledCache = N, N.refCount++, N !== null && (y.pooledCacheLanes |= d), y = N), l.memoizedState = { parent: m, cache: y }, Yx(l), Zs(l, br, y)) : ((i.lanes & d) !== 0 && (Gx(i, l), Gc(l, null, null, d), Yc()), y = i.memoizedState, N = l.memoizedState, y.parent !== m ? (y = { parent: m, cache: m }, l.memoizedState = y, l.lanes === 0 && (l.memoizedState = l.updateQueue.baseState = y), Zs(l, br, m)) : (m = N.cache, Zs(l, br, m), m !== y.cache && qx(l, [br], d, !0))), Vr(i, l, l.pendingProps.children, d), l.child; case 29: throw l.pendingProps }throw Error(n(156, l.tag)) } function is(i) { i.flags |= 4 } function kg(i, l, d, m, y) { if ((l = (i.mode & 32) !== 0) && (l = !1), l) { if (i.flags |= 16777216, (y & 335544128) === y) if (i.stateNode.complete) i.flags |= 8192; else if (T_()) i.flags |= 8192; else throw to = Of, Vx } else i.flags &= -16777217 } function i_(i, l) { if (l.type !== "stylesheet" || (l.state.loading & 4) !== 0) i.flags &= -16777217; else if (i.flags |= 16777216, !wO(l)) if (T_()) i.flags |= 8192; else throw to = Of, Vx } function Uf(i, l) { l !== null && (i.flags |= 4), i.flags & 16384 && (l = i.tag !== 22 ? Ea() : 536870912, i.lanes |= l, xl |= l) } function Zc(i, l) { if (!bt) switch (i.tailMode) { case "hidden": l = i.tail; for (var d = null; l !== null;)l.alternate !== null && (d = l), l = l.sibling; d === null ? i.tail = null : d.sibling = null; break; case "collapsed": d = i.tail; for (var m = null; d !== null;)d.alternate !== null && (m = d), d = d.sibling; m === null ? l || i.tail === null ? i.tail = null : i.tail.sibling = null : m.sibling = null } } function Jt(i) { var l = i.alternate !== null && i.alternate.child === i.child, d = 0, m = 0; if (l) for (var y = i.child; y !== null;)d |= y.lanes | y.childLanes, m |= y.subtreeFlags & 65011712, m |= y.flags & 65011712, y.return = i, y = y.sibling; else for (y = i.child; y !== null;)d |= y.lanes | y.childLanes, m |= y.subtreeFlags, m |= y.flags, y.return = i, y = y.sibling; return i.subtreeFlags |= m, i.childLanes = d, l } function J$(i, l, d) { var m = l.pendingProps; switch ($x(l), l.tag) { case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return Jt(l), null; case 1: return Jt(l), null; case 3: return d = l.stateNode, m = null, i !== null && (m = i.memoizedState.cache), l.memoizedState.cache !== m && (l.flags |= 2048), rs(br), E(), d.pendingContext && (d.context = d.pendingContext, d.pendingContext = null), (i === null || i.child === null) && (nl(l) ? is(l) : i === null || i.memoizedState.isDehydrated && (l.flags & 256) === 0 || (l.flags |= 1024, Lx())), Jt(l), null; case 26: var y = l.type, N = l.memoizedState; return i === null ? (is(l), N !== null ? (Jt(l), i_(l, N)) : (Jt(l), kg(l, y, null, m, d))) : N ? N !== i.memoizedState ? (is(l), Jt(l), i_(l, N)) : (Jt(l), l.flags &= -16777217) : (i = i.memoizedProps, i !== m && is(l), Jt(l), kg(l, y, i, m, d)), null; case 27: if (T(l), d = I.current, y = l.type, i !== null && l.stateNode != null) i.memoizedProps !== m && is(l); else { if (!m) { if (l.stateNode === null) throw Error(n(166)); return Jt(l), null } i = ne.current, nl(l) ? F2(l) : (i = hO(y, m, d), l.stateNode = i, is(l)) } return Jt(l), null; case 5: if (T(l), y = l.type, i !== null && l.stateNode != null) i.memoizedProps !== m && is(l); else { if (!m) { if (l.stateNode === null) throw Error(n(166)); return Jt(l), null } if (N = ne.current, nl(l)) F2(l); else { var B = ah(I.current); switch (N) { case 1: N = B.createElementNS("http://www.w3.org/2000/svg", y); break; case 2: N = B.createElementNS("http://www.w3.org/1998/Math/MathML", y); break; default: switch (y) { case "svg": N = B.createElementNS("http://www.w3.org/2000/svg", y); break; case "math": N = B.createElementNS("http://www.w3.org/1998/Math/MathML", y); break; case "script": N = B.createElement("div"), N.innerHTML = "<script><\/script>", N = N.removeChild(N.firstChild); break; case "select": N = typeof m.is == "string" ? B.createElement("select", { is: m.is }) : B.createElement("select"), m.multiple ? N.multiple = !0 : m.size && (N.size = m.size); break; default: N = typeof m.is == "string" ? B.createElement(y, { is: m.is }) : B.createElement(y) } }N[we] = l, N[Ce] = m; e: for (B = l.child; B !== null;) { if (B.tag === 5 || B.tag === 6) N.appendChild(B.stateNode); else if (B.tag !== 4 && B.tag !== 27 && B.child !== null) { B.child.return = B, B = B.child; continue } if (B === l) break e; for (; B.sibling === null;) { if (B.return === null || B.return === l) break e; B = B.return } B.sibling.return = B.return, B = B.sibling } l.stateNode = N; e: switch (Yr(N, y, m), y) { case "button": case "input": case "select": case "textarea": m = !!m.autoFocus; break e; case "img": m = !0; break e; default: m = !1 }m && is(l) } } return Jt(l), kg(l, l.type, i === null ? null : i.memoizedProps, l.pendingProps, d), null; case 6: if (i && l.stateNode != null) i.memoizedProps !== m && is(l); else { if (typeof m != "string" && l.stateNode === null) throw Error(n(166)); if (i = I.current, nl(l)) { if (i = l.stateNode, d = l.memoizedProps, m = null, y = Ur, y !== null) switch (y.tag) { case 27: case 5: m = y.memoizedProps }i[we] = l, i = !!(i.nodeValue === d || m !== null && m.suppressHydrationWarning === !0 || rO(i.nodeValue, d)), i || Qs(l, !0) } else i = ah(i).createTextNode(m), i[we] = l, l.stateNode = i } return Jt(l), null; case 31: if (d = l.memoizedState, i === null || i.memoizedState !== null) { if (m = nl(l), d !== null) { if (i === null) { if (!m) throw Error(n(318)); if (i = l.memoizedState, i = i !== null ? i.dehydrated : null, !i) throw Error(n(557)); i[we] = l } else Xi(), (l.flags & 128) === 0 && (l.memoizedState = null), l.flags |= 4; Jt(l), i = !1 } else d = Lx(), i !== null && i.memoizedState !== null && (i.memoizedState.hydrationErrors = d), i = !0; if (!i) return l.flags & 256 ? (Nn(l), l) : (Nn(l), null); if ((l.flags & 128) !== 0) throw Error(n(558)) } return Jt(l), null; case 13: if (m = l.memoizedState, i === null || i.memoizedState !== null && i.memoizedState.dehydrated !== null) { if (y = nl(l), m !== null && m.dehydrated !== null) { if (i === null) { if (!y) throw Error(n(318)); if (y = l.memoizedState, y = y !== null ? y.dehydrated : null, !y) throw Error(n(317)); y[we] = l } else Xi(), (l.flags & 128) === 0 && (l.memoizedState = null), l.flags |= 4; Jt(l), y = !1 } else y = Lx(), i !== null && i.memoizedState !== null && (i.memoizedState.hydrationErrors = y), y = !0; if (!y) return l.flags & 256 ? (Nn(l), l) : (Nn(l), null) } return Nn(l), (l.flags & 128) !== 0 ? (l.lanes = d, l) : (d = m !== null, i = i !== null && i.memoizedState !== null, d && (m = l.child, y = null, m.alternate !== null && m.alternate.memoizedState !== null && m.alternate.memoizedState.cachePool !== null && (y = m.alternate.memoizedState.cachePool.pool), N = null, m.memoizedState !== null && m.memoizedState.cachePool !== null && (N = m.memoizedState.cachePool.pool), N !== y && (m.flags |= 2048)), d !== i && d && (l.child.flags |= 8192), Uf(l, l.updateQueue), Jt(l), null); case 4: return E(), i === null && Xg(l.stateNode.containerInfo), Jt(l), null; case 10: return rs(l.type), Jt(l), null; case 19: if (Z(hr), m = l.memoizedState, m === null) return Jt(l), null; if (y = (l.flags & 128) !== 0, N = m.rendering, N === null) if (y) Zc(m, !1); else { if (cr !== 0 || i !== null && (i.flags & 128) !== 0) for (i = l.child; i !== null;) { if (N = Ef(i), N !== null) { for (l.flags |= 128, Zc(m, !1), i = N.updateQueue, l.updateQueue = i, Uf(l, i), l.subtreeFlags = 0, i = d, d = l.child; d !== null;)M2(d, i), d = d.sibling; return ce(hr, hr.current & 1 | 2), bt && es(l, m.treeForkCount), l.child } i = i.sibling } m.tail !== null && be() > Kf && (l.flags |= 128, y = !0, Zc(m, !1), l.lanes = 4194304) } else { if (!y) if (i = Ef(N), i !== null) { if (l.flags |= 128, y = !0, i = i.updateQueue, l.updateQueue = i, Uf(l, i), Zc(m, !0), m.tail === null && m.tailMode === "hidden" && !N.alternate && !bt) return Jt(l), null } else 2 * be() - m.renderingStartTime > Kf && d !== 536870912 && (l.flags |= 128, y = !0, Zc(m, !1), l.lanes = 4194304); m.isBackwards ? (N.sibling = l.child, l.child = N) : (i = m.last, i !== null ? i.sibling = N : l.child = N, m.last = N) } return m.tail !== null ? (i = m.tail, m.rendering = i, m.tail = i.sibling, m.renderingStartTime = be(), i.sibling = null, d = hr.current, ce(hr, y ? d & 1 | 2 : d & 1), bt && es(l, m.treeForkCount), i) : (Jt(l), null); case 22: case 23: return Nn(l), Jx(), m = l.memoizedState !== null, i !== null ? i.memoizedState !== null !== m && (l.flags |= 8192) : m && (l.flags |= 8192), m ? (d & 536870912) !== 0 && (l.flags & 128) === 0 && (Jt(l), l.subtreeFlags & 6 && (l.flags |= 8192)) : Jt(l), d = l.updateQueue, d !== null && Uf(l, d.retryQueue), d = null, i !== null && i.memoizedState !== null && i.memoizedState.cachePool !== null && (d = i.memoizedState.cachePool.pool), m = null, l.memoizedState !== null && l.memoizedState.cachePool !== null && (m = l.memoizedState.cachePool.pool), m !== d && (l.flags |= 2048), i !== null && Z(Zi), null; case 24: return d = null, i !== null && (d = i.memoizedState.cache), l.memoizedState.cache !== d && (l.flags |= 2048), rs(br), Jt(l), null; case 25: return null; case 30: return null }throw Error(n(156, l.tag)) } function Q$(i, l) { switch ($x(l), l.tag) { case 1: return i = l.flags, i & 65536 ? (l.flags = i & -65537 | 128, l) : null; case 3: return rs(br), E(), i = l.flags, (i & 65536) !== 0 && (i & 128) === 0 ? (l.flags = i & -65537 | 128, l) : null; case 26: case 27: case 5: return T(l), null; case 31: if (l.memoizedState !== null) { if (Nn(l), l.alternate === null) throw Error(n(340)); Xi() } return i = l.flags, i & 65536 ? (l.flags = i & -65537 | 128, l) : null; case 13: if (Nn(l), i = l.memoizedState, i !== null && i.dehydrated !== null) { if (l.alternate === null) throw Error(n(340)); Xi() } return i = l.flags, i & 65536 ? (l.flags = i & -65537 | 128, l) : null; case 19: return Z(hr), null; case 4: return E(), null; case 10: return rs(l.type), null; case 22: case 23: return Nn(l), Jx(), i !== null && Z(Zi), i = l.flags, i & 65536 ? (l.flags = i & -65537 | 128, l) : null; case 24: return rs(br), null; case 25: return null; default: return null } } function o_(i, l) { switch ($x(l), l.tag) { case 3: rs(br), E(); break; case 26: case 27: case 5: T(l); break; case 4: E(); break; case 31: l.memoizedState !== null && Nn(l); break; case 13: Nn(l); break; case 19: Z(hr); break; case 10: rs(l.type); break; case 22: case 23: Nn(l), Jx(), i !== null && Z(Zi); break; case 24: rs(br) } } function eu(i, l) { try { var d = l.updateQueue, m = d !== null ? d.lastEffect : null; if (m !== null) { var y = m.next; d = y; do { if ((d.tag & i) === i) { m = void 0; var N = d.create, B = d.inst; m = N(), B.destroy = m } d = d.next } while (d !== y) } } catch (re) { Rt(l, l.return, re) } } function si(i, l, d) { try { var m = l.updateQueue, y = m !== null ? m.lastEffect : null; if (y !== null) { var N = y.next; m = N; do { if ((m.tag & i) === i) { var B = m.inst, re = B.destroy; if (re !== void 0) { B.destroy = void 0, y = l; var xe = d, Ne = re; try { Ne() } catch (Ae) { Rt(y, xe, Ae) } } } m = m.next } while (m !== N) } } catch (Ae) { Rt(l, l.return, Ae) } } function l_(i) { var l = i.updateQueue; if (l !== null) { var d = i.stateNode; try { Q2(l, d) } catch (m) { Rt(i, i.return, m) } } } function c_(i, l, d) { d.props = ao(i.type, i.memoizedProps), d.state = i.memoizedState; try { d.componentWillUnmount() } catch (m) { Rt(i, l, m) } } function tu(i, l) { try { var d = i.ref; if (d !== null) { switch (i.tag) { case 26: case 27: case 5: var m = i.stateNode; break; case 30: m = i.stateNode; break; default: m = i.stateNode }typeof d == "function" ? i.refCleanup = d(m) : d.current = m } } catch (y) { Rt(i, l, y) } } function Pa(i, l) { var d = i.ref, m = i.refCleanup; if (d !== null) if (typeof m == "function") try { m() } catch (y) { Rt(i, l, y) } finally { i.refCleanup = null, i = i.alternate, i != null && (i.refCleanup = null) } else if (typeof d == "function") try { d(null) } catch (y) { Rt(i, l, y) } else d.current = null } function u_(i) { var l = i.type, d = i.memoizedProps, m = i.stateNode; try { e: switch (l) { case "button": case "input": case "select": case "textarea": d.autoFocus && m.focus(); break e; case "img": d.src ? m.src = d.src : d.srcSet && (m.srcset = d.srcSet) } } catch (y) { Rt(i, i.return, y) } } function Ag(i, l, d) { try { var m = i.stateNode; vI(m, i.type, d, l), m[Ce] = l } catch (y) { Rt(i, i.return, y) } } function d_(i) { return i.tag === 5 || i.tag === 3 || i.tag === 26 || i.tag === 27 && fi(i.type) || i.tag === 4 } function Eg(i) { e: for (; ;) { for (; i.sibling === null;) { if (i.return === null || d_(i.return)) return null; i = i.return } for (i.sibling.return = i.return, i = i.sibling; i.tag !== 5 && i.tag !== 6 && i.tag !== 18;) { if (i.tag === 27 && fi(i.type) || i.flags & 2 || i.child === null || i.tag === 4) continue e; i.child.return = i, i = i.child } if (!(i.flags & 2)) return i.stateNode } } function Dg(i, l, d) { var m = i.tag; if (m === 5 || m === 6) i = i.stateNode, l ? (d.nodeType === 9 ? d.body : d.nodeName === "HTML" ? d.ownerDocument.body : d).insertBefore(i, l) : (l = d.nodeType === 9 ? d.body : d.nodeName === "HTML" ? d.ownerDocument.body : d, l.appendChild(i), d = d._reactRootContainer, d != null || l.onclick !== null || (l.onclick = Ja)); else if (m !== 4 && (m === 27 && fi(i.type) && (d = i.stateNode, l = null), i = i.child, i !== null)) for (Dg(i, l, d), i = i.sibling; i !== null;)Dg(i, l, d), i = i.sibling } function Hf(i, l, d) { var m = i.tag; if (m === 5 || m === 6) i = i.stateNode, l ? d.insertBefore(i, l) : d.appendChild(i); else if (m !== 4 && (m === 27 && fi(i.type) && (d = i.stateNode), i = i.child, i !== null)) for (Hf(i, l, d), i = i.sibling; i !== null;)Hf(i, l, d), i = i.sibling } function f_(i) { var l = i.stateNode, d = i.memoizedProps; try { for (var m = i.type, y = l.attributes; y.length;)l.removeAttributeNode(y[0]); Yr(l, m, d), l[we] = i, l[Ce] = d } catch (N) { Rt(i, i.return, N) } } var os = !1, jr = !1, Tg = !1, h_ = typeof WeakSet == "function" ? WeakSet : Set, Mr = null; function Z$(i, l) { if (i = i.containerInfo, Zg = dh, i = _2(i), _x(i)) { if ("selectionStart" in i) var d = { start: i.selectionStart, end: i.selectionEnd }; else e: { d = (d = i.ownerDocument) && d.defaultView || window; var m = d.getSelection && d.getSelection(); if (m && m.rangeCount !== 0) { d = m.anchorNode; var y = m.anchorOffset, N = m.focusNode; m = m.focusOffset; try { d.nodeType, N.nodeType } catch { d = null; break e } var B = 0, re = -1, xe = -1, Ne = 0, Ae = 0, Te = i, Se = null; t: for (; ;) { for (var Oe; Te !== d || y !== 0 && Te.nodeType !== 3 || (re = B + y), Te !== N || m !== 0 && Te.nodeType !== 3 || (xe = B + m), Te.nodeType === 3 && (B += Te.nodeValue.length), (Oe = Te.firstChild) !== null;)Se = Te, Te = Oe; for (; ;) { if (Te === i) break t; if (Se === d && ++Ne === y && (re = B), Se === N && ++Ae === m && (xe = B), (Oe = Te.nextSibling) !== null) break; Te = Se, Se = Te.parentNode } Te = Oe } d = re === -1 || xe === -1 ? null : { start: re, end: xe } } else d = null } d = d || { start: 0, end: 0 } } else d = null; for (ey = { focusedElem: i, selectionRange: d }, dh = !1, Mr = l; Mr !== null;)if (l = Mr, i = l.child, (l.subtreeFlags & 1028) !== 0 && i !== null) i.return = l, Mr = i; else for (; Mr !== null;) { switch (l = Mr, N = l.alternate, i = l.flags, l.tag) { case 0: if ((i & 4) !== 0 && (i = l.updateQueue, i = i !== null ? i.events : null, i !== null)) for (d = 0; d < i.length; d++)y = i[d], y.ref.impl = y.nextImpl; break; case 11: case 15: break; case 1: if ((i & 1024) !== 0 && N !== null) { i = void 0, d = l, y = N.memoizedProps, N = N.memoizedState, m = d.stateNode; try { var Je = ao(d.type, y); i = m.getSnapshotBeforeUpdate(Je, N), m.__reactInternalSnapshotBeforeUpdate = i } catch (at) { Rt(d, d.return, at) } } break; case 3: if ((i & 1024) !== 0) { if (i = l.stateNode.containerInfo, d = i.nodeType, d === 9) ny(i); else if (d === 1) switch (i.nodeName) { case "HEAD": case "HTML": case "BODY": ny(i); break; default: i.textContent = "" } } break; case 5: case 26: case 27: case 6: case 4: case 17: break; default: if ((i & 1024) !== 0) throw Error(n(163)) }if (i = l.sibling, i !== null) { i.return = l.return, Mr = i; break } Mr = l.return } } function m_(i, l, d) { var m = d.flags; switch (d.tag) { case 0: case 11: case 15: cs(i, d), m & 4 && eu(5, d); break; case 1: if (cs(i, d), m & 4) if (i = d.stateNode, l === null) try { i.componentDidMount() } catch (B) { Rt(d, d.return, B) } else { var y = ao(d.type, l.memoizedProps); l = l.memoizedState; try { i.componentDidUpdate(y, l, i.__reactInternalSnapshotBeforeUpdate) } catch (B) { Rt(d, d.return, B) } } m & 64 && l_(d), m & 512 && tu(d, d.return); break; case 3: if (cs(i, d), m & 64 && (i = d.updateQueue, i !== null)) { if (l = null, d.child !== null) switch (d.child.tag) { case 27: case 5: l = d.child.stateNode; break; case 1: l = d.child.stateNode }try { Q2(i, l) } catch (B) { Rt(d, d.return, B) } } break; case 27: l === null && m & 4 && f_(d); case 26: case 5: cs(i, d), l === null && m & 4 && u_(d), m & 512 && tu(d, d.return); break; case 12: cs(i, d); break; case 31: cs(i, d), m & 4 && g_(i, d); break; case 13: cs(i, d), m & 4 && y_(i, d), m & 64 && (i = d.memoizedState, i !== null && (i = i.dehydrated, i !== null && (d = lI.bind(null, d), kI(i, d)))); break; case 22: if (m = d.memoizedState !== null || os, !m) { l = l !== null && l.memoizedState !== null || jr, y = os; var N = jr; os = m, (jr = l) && !N ? us(i, d, (d.subtreeFlags & 8772) !== 0) : cs(i, d), os = y, jr = N } break; case 30: break; default: cs(i, d) } } function p_(i) { var l = i.alternate; l !== null && (i.alternate = null, p_(l)), i.child = null, i.deletions = null, i.sibling = null, i.tag === 5 && (l = i.stateNode, l !== null && He(l)), i.stateNode = null, i.return = null, i.dependencies = null, i.memoizedProps = null, i.memoizedState = null, i.pendingProps = null, i.stateNode = null, i.updateQueue = null } var tr = null, un = !1; function ls(i, l, d) { for (d = d.child; d !== null;)x_(i, l, d), d = d.sibling } function x_(i, l, d) { if (jt && typeof jt.onCommitFiberUnmount == "function") try { jt.onCommitFiberUnmount(Fr, d) } catch { } switch (d.tag) { case 26: jr || Pa(d, l), ls(i, l, d), d.memoizedState ? d.memoizedState.count-- : d.stateNode && (d = d.stateNode, d.parentNode.removeChild(d)); break; case 27: jr || Pa(d, l); var m = tr, y = un; fi(d.type) && (tr = d.stateNode, un = !1), ls(i, l, d), uu(d.stateNode), tr = m, un = y; break; case 5: jr || Pa(d, l); case 6: if (m = tr, y = un, tr = null, ls(i, l, d), tr = m, un = y, tr !== null) if (un) try { (tr.nodeType === 9 ? tr.body : tr.nodeName === "HTML" ? tr.ownerDocument.body : tr).removeChild(d.stateNode) } catch (N) { Rt(d, l, N) } else try { tr.removeChild(d.stateNode) } catch (N) { Rt(d, l, N) } break; case 18: tr !== null && (un ? (i = tr, lO(i.nodeType === 9 ? i.body : i.nodeName === "HTML" ? i.ownerDocument.body : i, d.stateNode), Sl(i)) : lO(tr, d.stateNode)); break; case 4: m = tr, y = un, tr = d.stateNode.containerInfo, un = !0, ls(i, l, d), tr = m, un = y; break; case 0: case 11: case 14: case 15: si(2, d, l), jr || si(4, d, l), ls(i, l, d); break; case 1: jr || (Pa(d, l), m = d.stateNode, typeof m.componentWillUnmount == "function" && c_(d, l, m)), ls(i, l, d); break; case 21: ls(i, l, d); break; case 22: jr = (m = jr) || d.memoizedState !== null, ls(i, l, d), jr = m; break; default: ls(i, l, d) } } function g_(i, l) { if (l.memoizedState === null && (i = l.alternate, i !== null && (i = i.memoizedState, i !== null))) { i = i.dehydrated; try { Sl(i) } catch (d) { Rt(l, l.return, d) } } } function y_(i, l) { if (l.memoizedState === null && (i = l.alternate, i !== null && (i = i.memoizedState, i !== null && (i = i.dehydrated, i !== null)))) try { Sl(i) } catch (d) { Rt(l, l.return, d) } } function eI(i) { switch (i.tag) { case 31: case 13: case 19: var l = i.stateNode; return l === null && (l = i.stateNode = new h_), l; case 22: return i = i.stateNode, l = i._retryCache, l === null && (l = i._retryCache = new h_), l; default: throw Error(n(435, i.tag)) } } function Vf(i, l) { var d = eI(i); l.forEach(function (m) { if (!d.has(m)) { d.add(m); var y = cI.bind(null, i, m); m.then(y, y) } }) } function dn(i, l) { var d = l.deletions; if (d !== null) for (var m = 0; m < d.length; m++) { var y = d[m], N = i, B = l, re = B; e: for (; re !== null;) { switch (re.tag) { case 27: if (fi(re.type)) { tr = re.stateNode, un = !1; break e } break; case 5: tr = re.stateNode, un = !1; break e; case 3: case 4: tr = re.stateNode.containerInfo, un = !0; break e }re = re.return } if (tr === null) throw Error(n(160)); x_(N, B, y), tr = null, un = !1, N = y.alternate, N !== null && (N.return = null), y.return = null } if (l.subtreeFlags & 13886) for (l = l.child; l !== null;)b_(l, i), l = l.sibling } var da = null; function b_(i, l) { var d = i.alternate, m = i.flags; switch (i.tag) { case 0: case 11: case 14: case 15: dn(l, i), fn(i), m & 4 && (si(3, i, i.return), eu(3, i), si(5, i, i.return)); break; case 1: dn(l, i), fn(i), m & 512 && (jr || d === null || Pa(d, d.return)), m & 64 && os && (i = i.updateQueue, i !== null && (m = i.callbacks, m !== null && (d = i.shared.hiddenCallbacks, i.shared.hiddenCallbacks = d === null ? m : d.concat(m)))); break; case 26: var y = da; if (dn(l, i), fn(i), m & 512 && (jr || d === null || Pa(d, d.return)), m & 4) { var N = d !== null ? d.memoizedState : null; if (m = i.memoizedState, d === null) if (m === null) if (i.stateNode === null) { e: { m = i.type, d = i.memoizedProps, y = y.ownerDocument || y; t: switch (m) { case "title": N = y.getElementsByTagName("title")[0], (!N || N[Ve] || N[we] || N.namespaceURI === "http://www.w3.org/2000/svg" || N.hasAttribute("itemprop")) && (N = y.createElement(m), y.head.insertBefore(N, y.querySelector("head > title"))), Yr(N, m, d), N[we] = i, Xe(N), m = N; break e; case "link": var B = bO("link", "href", y).get(m + (d.href || "")); if (B) { for (var re = 0; re < B.length; re++)if (N = B[re], N.getAttribute("href") === (d.href == null || d.href === "" ? null : d.href) && N.getAttribute("rel") === (d.rel == null ? null : d.rel) && N.getAttribute("title") === (d.title == null ? null : d.title) && N.getAttribute("crossorigin") === (d.crossOrigin == null ? null : d.crossOrigin)) { B.splice(re, 1); break t } } N = y.createElement(m), Yr(N, m, d), y.head.appendChild(N); break; case "meta": if (B = bO("meta", "content", y).get(m + (d.content || ""))) { for (re = 0; re < B.length; re++)if (N = B[re], N.getAttribute("content") === (d.content == null ? null : "" + d.content) && N.getAttribute("name") === (d.name == null ? null : d.name) && N.getAttribute("property") === (d.property == null ? null : d.property) && N.getAttribute("http-equiv") === (d.httpEquiv == null ? null : d.httpEquiv) && N.getAttribute("charset") === (d.charSet == null ? null : d.charSet)) { B.splice(re, 1); break t } } N = y.createElement(m), Yr(N, m, d), y.head.appendChild(N); break; default: throw Error(n(468, m)) }N[we] = i, Xe(N), m = N } i.stateNode = m } else vO(y, i.type, i.stateNode); else i.stateNode = yO(y, m, i.memoizedProps); else N !== m ? (N === null ? d.stateNode !== null && (d = d.stateNode, d.parentNode.removeChild(d)) : N.count--, m === null ? vO(y, i.type, i.stateNode) : yO(y, m, i.memoizedProps)) : m === null && i.stateNode !== null && Ag(i, i.memoizedProps, d.memoizedProps) } break; case 27: dn(l, i), fn(i), m & 512 && (jr || d === null || Pa(d, d.return)), d !== null && m & 4 && Ag(i, i.memoizedProps, d.memoizedProps); break; case 5: if (dn(l, i), fn(i), m & 512 && (jr || d === null || Pa(d, d.return)), i.flags & 32) { y = i.stateNode; try { Go(y, "") } catch (Je) { Rt(i, i.return, Je) } } m & 4 && i.stateNode != null && (y = i.memoizedProps, Ag(i, y, d !== null ? d.memoizedProps : y)), m & 1024 && (Tg = !0); break; case 6: if (dn(l, i), fn(i), m & 4) { if (i.stateNode === null) throw Error(n(162)); m = i.memoizedProps, d = i.stateNode; try { d.nodeValue = m } catch (Je) { Rt(i, i.return, Je) } } break; case 3: if (oh = null, y = da, da = sh(l.containerInfo), dn(l, i), da = y, fn(i), m & 4 && d !== null && d.memoizedState.isDehydrated) try { Sl(l.containerInfo) } catch (Je) { Rt(i, i.return, Je) } Tg && (Tg = !1, v_(i)); break; case 4: m = da, da = sh(i.stateNode.containerInfo), dn(l, i), fn(i), da = m; break; case 12: dn(l, i), fn(i); break; case 31: dn(l, i), fn(i), m & 4 && (m = i.updateQueue, m !== null && (i.updateQueue = null, Vf(i, m))); break; case 13: dn(l, i), fn(i), i.child.flags & 8192 && i.memoizedState !== null != (d !== null && d.memoizedState !== null) && (Gf = be()), m & 4 && (m = i.updateQueue, m !== null && (i.updateQueue = null, Vf(i, m))); break; case 22: y = i.memoizedState !== null; var xe = d !== null && d.memoizedState !== null, Ne = os, Ae = jr; if (os = Ne || y, jr = Ae || xe, dn(l, i), jr = Ae, os = Ne, fn(i), m & 8192) e: for (l = i.stateNode, l._visibility = y ? l._visibility & -2 : l._visibility | 1, y && (d === null || xe || os || jr || so(i)), d = null, l = i; ;) { if (l.tag === 5 || l.tag === 26) { if (d === null) { xe = d = l; try { if (N = xe.stateNode, y) B = N.style, typeof B.setProperty == "function" ? B.setProperty("display", "none", "important") : B.display = "none"; else { re = xe.stateNode; var Te = xe.memoizedProps.style, Se = Te != null && Te.hasOwnProperty("display") ? Te.display : null; re.style.display = Se == null || typeof Se == "boolean" ? "" : ("" + Se).trim() } } catch (Je) { Rt(xe, xe.return, Je) } } } else if (l.tag === 6) { if (d === null) { xe = l; try { xe.stateNode.nodeValue = y ? "" : xe.memoizedProps } catch (Je) { Rt(xe, xe.return, Je) } } } else if (l.tag === 18) { if (d === null) { xe = l; try { var Oe = xe.stateNode; y ? cO(Oe, !0) : cO(xe.stateNode, !1) } catch (Je) { Rt(xe, xe.return, Je) } } } else if ((l.tag !== 22 && l.tag !== 23 || l.memoizedState === null || l === i) && l.child !== null) { l.child.return = l, l = l.child; continue } if (l === i) break e; for (; l.sibling === null;) { if (l.return === null || l.return === i) break e; d === l && (d = null), l = l.return } d === l && (d = null), l.sibling.return = l.return, l = l.sibling } m & 4 && (m = i.updateQueue, m !== null && (d = m.retryQueue, d !== null && (m.retryQueue = null, Vf(i, d)))); break; case 19: dn(l, i), fn(i), m & 4 && (m = i.updateQueue, m !== null && (i.updateQueue = null, Vf(i, m))); break; case 30: break; case 21: break; default: dn(l, i), fn(i) } } function fn(i) { var l = i.flags; if (l & 2) { try { for (var d, m = i.return; m !== null;) { if (d_(m)) { d = m; break } m = m.return } if (d == null) throw Error(n(160)); switch (d.tag) { case 27: var y = d.stateNode, N = Eg(i); Hf(i, N, y); break; case 5: var B = d.stateNode; d.flags & 32 && (Go(B, ""), d.flags &= -33); var re = Eg(i); Hf(i, re, B); break; case 3: case 4: var xe = d.stateNode.containerInfo, Ne = Eg(i); Dg(i, Ne, xe); break; default: throw Error(n(161)) } } catch (Ae) { Rt(i, i.return, Ae) } i.flags &= -3 } l & 4096 && (i.flags &= -4097) } function v_(i) { if (i.subtreeFlags & 1024) for (i = i.child; i !== null;) { var l = i; v_(l), l.tag === 5 && l.flags & 1024 && l.stateNode.reset(), i = i.sibling } } function cs(i, l) { if (l.subtreeFlags & 8772) for (l = l.child; l !== null;)m_(i, l.alternate, l), l = l.sibling } function so(i) { for (i = i.child; i !== null;) { var l = i; switch (l.tag) { case 0: case 11: case 14: case 15: si(4, l, l.return), so(l); break; case 1: Pa(l, l.return); var d = l.stateNode; typeof d.componentWillUnmount == "function" && c_(l, l.return, d), so(l); break; case 27: uu(l.stateNode); case 26: case 5: Pa(l, l.return), so(l); break; case 22: l.memoizedState === null && so(l); break; case 30: so(l); break; default: so(l) }i = i.sibling } } function us(i, l, d) { for (d = d && (l.subtreeFlags & 8772) !== 0, l = l.child; l !== null;) { var m = l.alternate, y = i, N = l, B = N.flags; switch (N.tag) { case 0: case 11: case 15: us(y, N, d), eu(4, N); break; case 1: if (us(y, N, d), m = N, y = m.stateNode, typeof y.componentDidMount == "function") try { y.componentDidMount() } catch (Ne) { Rt(m, m.return, Ne) } if (m = N, y = m.updateQueue, y !== null) { var re = m.stateNode; try { var xe = y.shared.hiddenCallbacks; if (xe !== null) for (y.shared.hiddenCallbacks = null, y = 0; y < xe.length; y++)J2(xe[y], re) } catch (Ne) { Rt(m, m.return, Ne) } } d && B & 64 && l_(N), tu(N, N.return); break; case 27: f_(N); case 26: case 5: us(y, N, d), d && m === null && B & 4 && u_(N), tu(N, N.return); break; case 12: us(y, N, d); break; case 31: us(y, N, d), d && B & 4 && g_(y, N); break; case 13: us(y, N, d), d && B & 4 && y_(y, N); break; case 22: N.memoizedState === null && us(y, N, d), tu(N, N.return); break; case 30: break; default: us(y, N, d) }l = l.sibling } } function Pg(i, l) { var d = null; i !== null && i.memoizedState !== null && i.memoizedState.cachePool !== null && (d = i.memoizedState.cachePool.pool), i = null, l.memoizedState !== null && l.memoizedState.cachePool !== null && (i = l.memoizedState.cachePool.pool), i !== d && (i != null && i.refCount++, d != null && qc(d)) } function Mg(i, l) { i = null, l.alternate !== null && (i = l.alternate.memoizedState.cache), l = l.memoizedState.cache, l !== i && (l.refCount++, i != null && qc(i)) } function fa(i, l, d, m) { if (l.subtreeFlags & 10256) for (l = l.child; l !== null;)w_(i, l, d, m), l = l.sibling } function w_(i, l, d, m) { var y = l.flags; switch (l.tag) { case 0: case 11: case 15: fa(i, l, d, m), y & 2048 && eu(9, l); break; case 1: fa(i, l, d, m); break; case 3: fa(i, l, d, m), y & 2048 && (i = null, l.alternate !== null && (i = l.alternate.memoizedState.cache), l = l.memoizedState.cache, l !== i && (l.refCount++, i != null && qc(i))); break; case 12: if (y & 2048) { fa(i, l, d, m), i = l.stateNode; try { var N = l.memoizedProps, B = N.id, re = N.onPostCommit; typeof re == "function" && re(B, l.alternate === null ? "mount" : "update", i.passiveEffectDuration, -0) } catch (xe) { Rt(l, l.return, xe) } } else fa(i, l, d, m); break; case 31: fa(i, l, d, m); break; case 13: fa(i, l, d, m); break; case 23: break; case 22: N = l.stateNode, B = l.alternate, l.memoizedState !== null ? N._visibility & 2 ? fa(i, l, d, m) : ru(i, l) : N._visibility & 2 ? fa(i, l, d, m) : (N._visibility |= 2, hl(i, l, d, m, (l.subtreeFlags & 10256) !== 0 || !1)), y & 2048 && Pg(B, l); break; case 24: fa(i, l, d, m), y & 2048 && Mg(l.alternate, l); break; default: fa(i, l, d, m) } } function hl(i, l, d, m, y) { for (y = y && ((l.subtreeFlags & 10256) !== 0 || !1), l = l.child; l !== null;) { var N = i, B = l, re = d, xe = m, Ne = B.flags; switch (B.tag) { case 0: case 11: case 15: hl(N, B, re, xe, y), eu(8, B); break; case 23: break; case 22: var Ae = B.stateNode; B.memoizedState !== null ? Ae._visibility & 2 ? hl(N, B, re, xe, y) : ru(N, B) : (Ae._visibility |= 2, hl(N, B, re, xe, y)), y && Ne & 2048 && Pg(B.alternate, B); break; case 24: hl(N, B, re, xe, y), y && Ne & 2048 && Mg(B.alternate, B); break; default: hl(N, B, re, xe, y) }l = l.sibling } } function ru(i, l) { if (l.subtreeFlags & 10256) for (l = l.child; l !== null;) { var d = i, m = l, y = m.flags; switch (m.tag) { case 22: ru(d, m), y & 2048 && Pg(m.alternate, m); break; case 24: ru(d, m), y & 2048 && Mg(m.alternate, m); break; default: ru(d, m) }l = l.sibling } } var nu = 8192; function ml(i, l, d) { if (i.subtreeFlags & nu) for (i = i.child; i !== null;)j_(i, l, d), i = i.sibling } function j_(i, l, d) { switch (i.tag) { case 26: ml(i, l, d), i.flags & nu && i.memoizedState !== null && BI(d, da, i.memoizedState, i.memoizedProps); break; case 5: ml(i, l, d); break; case 3: case 4: var m = da; da = sh(i.stateNode.containerInfo), ml(i, l, d), da = m; break; case 22: i.memoizedState === null && (m = i.alternate, m !== null && m.memoizedState !== null ? (m = nu, nu = 16777216, ml(i, l, d), nu = m) : ml(i, l, d)); break; default: ml(i, l, d) } } function N_(i) { var l = i.alternate; if (l !== null && (i = l.child, i !== null)) { l.child = null; do l = i.sibling, i.sibling = null, i = l; while (i !== null) } } function au(i) { var l = i.deletions; if ((i.flags & 16) !== 0) { if (l !== null) for (var d = 0; d < l.length; d++) { var m = l[d]; Mr = m, __(m, i) } N_(i) } if (i.subtreeFlags & 10256) for (i = i.child; i !== null;)S_(i), i = i.sibling } function S_(i) { switch (i.tag) { case 0: case 11: case 15: au(i), i.flags & 2048 && si(9, i, i.return); break; case 3: au(i); break; case 12: au(i); break; case 22: var l = i.stateNode; i.memoizedState !== null && l._visibility & 2 && (i.return === null || i.return.tag !== 13) ? (l._visibility &= -3, Yf(i)) : au(i); break; default: au(i) } } function Yf(i) { var l = i.deletions; if ((i.flags & 16) !== 0) { if (l !== null) for (var d = 0; d < l.length; d++) { var m = l[d]; Mr = m, __(m, i) } N_(i) } for (i = i.child; i !== null;) { switch (l = i, l.tag) { case 0: case 11: case 15: si(8, l, l.return), Yf(l); break; case 22: d = l.stateNode, d._visibility & 2 && (d._visibility &= -3, Yf(l)); break; default: Yf(l) }i = i.sibling } } function __(i, l) { for (; Mr !== null;) { var d = Mr; switch (d.tag) { case 0: case 11: case 15: si(8, d, l); break; case 23: case 22: if (d.memoizedState !== null && d.memoizedState.cachePool !== null) { var m = d.memoizedState.cachePool.pool; m != null && m.refCount++ } break; case 24: qc(d.memoizedState.cache) }if (m = d.child, m !== null) m.return = d, Mr = m; else e: for (d = i; Mr !== null;) { m = Mr; var y = m.sibling, N = m.return; if (p_(m), m === d) { Mr = null; break e } if (y !== null) { y.return = N, Mr = y; break e } Mr = N } } } var tI = { getCacheForType: function (i) { var l = Hr(br), d = l.data.get(i); return d === void 0 && (d = i(), l.data.set(i, d)), d }, cacheSignal: function () { return Hr(br).controller.signal } }, rI = typeof WeakMap == "function" ? WeakMap : Map, kt = 0, Ut = null, ht = null, gt = 0, Mt = 0, Sn = null, ii = !1, pl = !1, Rg = !1, ds = 0, cr = 0, oi = 0, io = 0, $g = 0, _n = 0, xl = 0, su = null, hn = null, Ig = !1, Gf = 0, O_ = 0, Kf = 1 / 0, Wf = null, li = null, Or = 0, ci = null, gl = null, fs = 0, Lg = 0, Fg = null, C_ = null, iu = 0, Bg = null; function On() { return (kt & 2) !== 0 && gt !== 0 ? gt & -gt : U.T !== null ? Yg() : nf() } function k_() { if (_n === 0) if ((gt & 536870912) === 0 || bt) { var i = Pr; Pr <<= 1, (Pr & 3932160) === 0 && (Pr = 262144), _n = i } else _n = 536870912; return i = jn.current, i !== null && (i.flags |= 32), _n } function mn(i, l, d) { (i === Ut && (Mt === 2 || Mt === 9) || i.cancelPendingCommit !== null) && (yl(i, 0), ui(i, gt, _n, !1)), Ys(i, d), ((kt & 2) === 0 || i !== Ut) && (i === Ut && ((kt & 2) === 0 && (io |= d), cr === 4 && ui(i, gt, _n, !1)), Ma(i)) } function A_(i, l, d) { if ((kt & 6) !== 0) throw Error(n(327)); var m = !d && (l & 127) === 0 && (l & i.expiredLanes) === 0 || bn(i, l), y = m ? sI(i, l) : zg(i, l, !0), N = m; do { if (y === 0) { pl && !m && ui(i, l, 0, !1); break } else { if (d = i.current.alternate, N && !nI(d)) { y = zg(i, l, !1), N = !1; continue } if (y === 2) { if (N = l, i.errorRecoveryDisabledLanes & N) var B = 0; else B = i.pendingLanes & -536870913, B = B !== 0 ? B : B & 536870912 ? 536870912 : 0; if (B !== 0) { l = B; e: { var re = i; y = su; var xe = re.current.memoizedState.isDehydrated; if (xe && (yl(re, B).flags |= 256), B = zg(re, B, !1), B !== 2) { if (Rg && !xe) { re.errorRecoveryDisabledLanes |= N, io |= N, y = 4; break e } N = hn, hn = y, N !== null && (hn === null ? hn = N : hn.push.apply(hn, N)) } y = B } if (N = !1, y !== 2) continue } } if (y === 1) { yl(i, 0), ui(i, l, 0, !0); break } e: { switch (m = i, N = y, N) { case 0: case 1: throw Error(n(345)); case 4: if ((l & 4194048) !== l) break; case 6: ui(m, l, _n, !ii); break e; case 2: hn = null; break; case 3: case 5: break; default: throw Error(n(329)) }if ((l & 62914560) === l && (y = Gf + 300 - be(), 10 < y)) { if (ui(m, l, _n, !ii), Wa(m, 0, !0) !== 0) break e; fs = l, m.timeoutHandle = iO(E_.bind(null, m, d, hn, Wf, Ig, l, _n, io, xl, ii, N, "Throttled", -0, 0), y); break e } E_(m, d, hn, Wf, Ig, l, _n, io, xl, ii, N, null, -0, 0) } } break } while (!0); Ma(i) } function E_(i, l, d, m, y, N, B, re, xe, Ne, Ae, Te, Se, Oe) { if (i.timeoutHandle = -1, Te = l.subtreeFlags, Te & 8192 || (Te & 16785408) === 16785408) { Te = { stylesheets: null, count: 0, imgCount: 0, imgBytes: 0, suspenseyImages: [], waitingForImages: !0, waitingForViewTransition: !1, unsuspend: Ja }, j_(l, N, Te); var Je = (N & 62914560) === N ? Gf - be() : (N & 4194048) === N ? O_ - be() : 0; if (Je = qI(Te, Je), Je !== null) { fs = N, i.cancelPendingCommit = Je(L_.bind(null, i, l, N, d, m, y, B, re, xe, Ae, Te, null, Se, Oe)), ui(i, N, B, !Ne); return } } L_(i, l, N, d, m, y, B, re, xe) } function nI(i) { for (var l = i; ;) { var d = l.tag; if ((d === 0 || d === 11 || d === 15) && l.flags & 16384 && (d = l.updateQueue, d !== null && (d = d.stores, d !== null))) for (var m = 0; m < d.length; m++) { var y = d[m], N = y.getSnapshot; y = y.value; try { if (!vn(N(), y)) return !1 } catch { return !1 } } if (d = l.child, l.subtreeFlags & 16384 && d !== null) d.return = l, l = d; else { if (l === i) break; for (; l.sibling === null;) { if (l.return === null || l.return === i) return !0; l = l.return } l.sibling.return = l.return, l = l.sibling } } return !0 } function ui(i, l, d, m) { l &= ~$g, l &= ~io, i.suspendedLanes |= l, i.pingedLanes &= ~l, m && (i.warmLanes |= l), m = i.expirationTimes; for (var y = l; 0 < y;) { var N = 31 - er(y), B = 1 << N; m[N] = -1, y &= ~B } d !== 0 && ef(i, d, l) } function Xf() { return (kt & 6) === 0 ? (ou(0), !1) : !0 } function qg() { if (ht !== null) { if (Mt === 0) var i = ht.return; else i = ht, ts = Ji = null, ng(i), ll = null, Uc = 0, i = ht; for (; i !== null;)o_(i.alternate, i), i = i.return; ht = null } } function yl(i, l) { var d = i.timeoutHandle; d !== -1 && (i.timeoutHandle = -1, NI(d)), d = i.cancelPendingCommit, d !== null && (i.cancelPendingCommit = null, d()), fs = 0, qg(), Ut = i, ht = d = Za(i.current, null), gt = l, Mt = 0, Sn = null, ii = !1, pl = bn(i, l), Rg = !1, xl = _n = $g = io = oi = cr = 0, hn = su = null, Ig = !1, (l & 8) !== 0 && (l |= l & 32); var m = i.entangledLanes; if (m !== 0) for (i = i.entanglements, m &= l; 0 < m;) { var y = 31 - er(m), N = 1 << y; l |= i[y], m &= ~N } return ds = l, gf(), d } function D_(i, l) { ut = null, U.H = Jc, l === ol || l === _f ? (l = G2(), Mt = 3) : l === Vx ? (l = G2(), Mt = 4) : Mt = l === bg ? 8 : l !== null && typeof l == "object" && typeof l.then == "function" ? 6 : 1, Sn = l, ht === null && (cr = 1, Ff(i, zn(l, i.current))) } function T_() { var i = jn.current; return i === null ? !0 : (gt & 4194048) === gt ? Yn === null : (gt & 62914560) === gt || (gt & 536870912) !== 0 ? i === Yn : !1 } function P_() { var i = U.H; return U.H = Jc, i === null ? Jc : i } function M_() { var i = U.A; return U.A = tI, i } function Jf() { cr = 4, ii || (gt & 4194048) !== gt && jn.current !== null || (pl = !0), (oi & 134217727) === 0 && (io & 134217727) === 0 || Ut === null || ui(Ut, gt, _n, !1) } function zg(i, l, d) { var m = kt; kt |= 2; var y = P_(), N = M_(); (Ut !== i || gt !== l) && (Wf = null, yl(i, l)), l = !1; var B = cr; e: do try { if (Mt !== 0 && ht !== null) { var re = ht, xe = Sn; switch (Mt) { case 8: qg(), B = 6; break e; case 3: case 2: case 9: case 6: jn.current === null && (l = !0); var Ne = Mt; if (Mt = 0, Sn = null, bl(i, re, xe, Ne), d && pl) { B = 0; break e } break; default: Ne = Mt, Mt = 0, Sn = null, bl(i, re, xe, Ne) } } aI(), B = cr; break } catch (Ae) { D_(i, Ae) } while (!0); return l && i.shellSuspendCounter++, ts = Ji = null, kt = m, U.H = y, U.A = N, ht === null && (Ut = null, gt = 0, gf()), B } function aI() { for (; ht !== null;)R_(ht) } function sI(i, l) { var d = kt; kt |= 2; var m = P_(), y = M_(); Ut !== i || gt !== l ? (Wf = null, Kf = be() + 500, yl(i, l)) : pl = bn(i, l); e: do try { if (Mt !== 0 && ht !== null) { l = ht; var N = Sn; t: switch (Mt) { case 1: Mt = 0, Sn = null, bl(i, l, N, 1); break; case 2: case 9: if (V2(N)) { Mt = 0, Sn = null, $_(l); break } l = function () { Mt !== 2 && Mt !== 9 || Ut !== i || (Mt = 7), Ma(i) }, N.then(l, l); break e; case 3: Mt = 7; break e; case 4: Mt = 5; break e; case 7: V2(N) ? (Mt = 0, Sn = null, $_(l)) : (Mt = 0, Sn = null, bl(i, l, N, 7)); break; case 5: var B = null; switch (ht.tag) { case 26: B = ht.memoizedState; case 5: case 27: var re = ht; if (B ? wO(B) : re.stateNode.complete) { Mt = 0, Sn = null; var xe = re.sibling; if (xe !== null) ht = xe; else { var Ne = re.return; Ne !== null ? (ht = Ne, Qf(Ne)) : ht = null } break t } }Mt = 0, Sn = null, bl(i, l, N, 5); break; case 6: Mt = 0, Sn = null, bl(i, l, N, 6); break; case 8: qg(), cr = 6; break e; default: throw Error(n(462)) } } iI(); break } catch (Ae) { D_(i, Ae) } while (!0); return ts = Ji = null, U.H = m, U.A = y, kt = d, ht !== null ? 0 : (Ut = null, gt = 0, gf(), cr) } function iI() { for (; ht !== null && !ue();)R_(ht) } function R_(i) { var l = s_(i.alternate, i, ds); i.memoizedProps = i.pendingProps, l === null ? Qf(i) : ht = l } function $_(i) { var l = i, d = l.alternate; switch (l.tag) { case 15: case 0: l = ZS(d, l, l.pendingProps, l.type, void 0, gt); break; case 11: l = ZS(d, l, l.pendingProps, l.type.render, l.ref, gt); break; case 5: ng(l); default: o_(d, l), l = ht = M2(l, ds), l = s_(d, l, ds) }i.memoizedProps = i.pendingProps, l === null ? Qf(i) : ht = l } function bl(i, l, d, m) { ts = Ji = null, ng(l), ll = null, Uc = 0; var y = l.return; try { if (K$(i, y, l, d, gt)) { cr = 1, Ff(i, zn(d, i.current)), ht = null; return } } catch (N) { if (y !== null) throw ht = y, N; cr = 1, Ff(i, zn(d, i.current)), ht = null; return } l.flags & 32768 ? (bt || m === 1 ? i = !0 : pl || (gt & 536870912) !== 0 ? i = !1 : (ii = i = !0, (m === 2 || m === 9 || m === 3 || m === 6) && (m = jn.current, m !== null && m.tag === 13 && (m.flags |= 16384))), I_(l, i)) : Qf(l) } function Qf(i) { var l = i; do { if ((l.flags & 32768) !== 0) { I_(l, ii); return } i = l.return; var d = J$(l.alternate, l, ds); if (d !== null) { ht = d; return } if (l = l.sibling, l !== null) { ht = l; return } ht = l = i } while (l !== null); cr === 0 && (cr = 5) } function I_(i, l) { do { var d = Q$(i.alternate, i); if (d !== null) { d.flags &= 32767, ht = d; return } if (d = i.return, d !== null && (d.flags |= 32768, d.subtreeFlags = 0, d.deletions = null), !l && (i = i.sibling, i !== null)) { ht = i; return } ht = i = d } while (i !== null); cr = 6, ht = null } function L_(i, l, d, m, y, N, B, re, xe) { i.cancelPendingCommit = null; do Zf(); while (Or !== 0); if ((kt & 6) !== 0) throw Error(n(327)); if (l !== null) { if (l === i.current) throw Error(n(177)); if (N = l.lanes | l.childLanes, N |= Ex, Zd(i, d, N, B, re, xe), i === Ut && (ht = Ut = null, gt = 0), gl = l, ci = i, fs = d, Lg = N, Fg = y, C_ = m, (l.subtreeFlags & 10256) !== 0 || (l.flags & 10256) !== 0 ? (i.callbackNode = null, i.callbackPriority = 0, uI(Ue, function () { return U_(), null })) : (i.callbackNode = null, i.callbackPriority = 0), m = (l.flags & 13878) !== 0, (l.subtreeFlags & 13878) !== 0 || m) { m = U.T, U.T = null, y = le.p, le.p = 2, B = kt, kt |= 4; try { Z$(i, l, d) } finally { kt = B, le.p = y, U.T = m } } Or = 1, F_(), B_(), q_() } } function F_() { if (Or === 1) { Or = 0; var i = ci, l = gl, d = (l.flags & 13878) !== 0; if ((l.subtreeFlags & 13878) !== 0 || d) { d = U.T, U.T = null; var m = le.p; le.p = 2; var y = kt; kt |= 4; try { b_(l, i); var N = ey, B = _2(i.containerInfo), re = N.focusedElem, xe = N.selectionRange; if (B !== re && re && re.ownerDocument && S2(re.ownerDocument.documentElement, re)) { if (xe !== null && _x(re)) { var Ne = xe.start, Ae = xe.end; if (Ae === void 0 && (Ae = Ne), "selectionStart" in re) re.selectionStart = Ne, re.selectionEnd = Math.min(Ae, re.value.length); else { var Te = re.ownerDocument || document, Se = Te && Te.defaultView || window; if (Se.getSelection) { var Oe = Se.getSelection(), Je = re.textContent.length, at = Math.min(xe.start, Je), Bt = xe.end === void 0 ? at : Math.min(xe.end, Je); !Oe.extend && at > Bt && (B = Bt, Bt = at, at = B); var ve = N2(re, at), ge = N2(re, Bt); if (ve && ge && (Oe.rangeCount !== 1 || Oe.anchorNode !== ve.node || Oe.anchorOffset !== ve.offset || Oe.focusNode !== ge.node || Oe.focusOffset !== ge.offset)) { var je = Te.createRange(); je.setStart(ve.node, ve.offset), Oe.removeAllRanges(), at > Bt ? (Oe.addRange(je), Oe.extend(ge.node, ge.offset)) : (je.setEnd(ge.node, ge.offset), Oe.addRange(je)) } } } } for (Te = [], Oe = re; Oe = Oe.parentNode;)Oe.nodeType === 1 && Te.push({ element: Oe, left: Oe.scrollLeft, top: Oe.scrollTop }); for (typeof re.focus == "function" && re.focus(), re = 0; re < Te.length; re++) { var De = Te[re]; De.element.scrollLeft = De.left, De.element.scrollTop = De.top } } dh = !!Zg, ey = Zg = null } finally { kt = y, le.p = m, U.T = d } } i.current = l, Or = 2 } } function B_() { if (Or === 2) { Or = 0; var i = ci, l = gl, d = (l.flags & 8772) !== 0; if ((l.subtreeFlags & 8772) !== 0 || d) { d = U.T, U.T = null; var m = le.p; le.p = 2; var y = kt; kt |= 4; try { m_(i, l.alternate, l) } finally { kt = y, le.p = m, U.T = d } } Or = 3 } } function q_() { if (Or === 4 || Or === 3) { Or = 0, ye(); var i = ci, l = gl, d = fs, m = C_; (l.subtreeFlags & 10256) !== 0 || (l.flags & 10256) !== 0 ? Or = 5 : (Or = 0, gl = ci = null, z_(i, i.pendingLanes)); var y = i.pendingLanes; if (y === 0 && (li = null), Ho(d), l = l.stateNode, jt && typeof jt.onCommitFiberRoot == "function") try { jt.onCommitFiberRoot(Fr, l, void 0, (l.current.flags & 128) === 128) } catch { } if (m !== null) { l = U.T, y = le.p, le.p = 2, U.T = null; try { for (var N = i.onRecoverableError, B = 0; B < m.length; B++) { var re = m[B]; N(re.value, { componentStack: re.stack }) } } finally { U.T = l, le.p = y } } (fs & 3) !== 0 && Zf(), Ma(i), y = i.pendingLanes, (d & 261930) !== 0 && (y & 42) !== 0 ? i === Bg ? iu++ : (iu = 0, Bg = i) : iu = 0, ou(0) } } function z_(i, l) { (i.pooledCacheLanes &= l) === 0 && (l = i.pooledCache, l != null && (i.pooledCache = null, qc(l))) } function Zf() { return F_(), B_(), q_(), U_() } function U_() { if (Or !== 5) return !1; var i = ci, l = Lg; Lg = 0; var d = Ho(fs), m = U.T, y = le.p; try { le.p = 32 > d ? 32 : d, U.T = null, d = Fg, Fg = null; var N = ci, B = fs; if (Or = 0, gl = ci = null, fs = 0, (kt & 6) !== 0) throw Error(n(331)); var re = kt; if (kt |= 4, S_(N.current), w_(N, N.current, B, d), kt = re, ou(0, !1), jt && typeof jt.onPostCommitFiberRoot == "function") try { jt.onPostCommitFiberRoot(Fr, N) } catch { } return !0 } finally { le.p = y, U.T = m, z_(i, l) } } function H_(i, l, d) { l = zn(d, l), l = yg(i.stateNode, l, 2), i = ri(i, l, 2), i !== null && (Ys(i, 2), Ma(i)) } function Rt(i, l, d) { if (i.tag === 3) H_(i, i, d); else for (; l !== null;) { if (l.tag === 3) { H_(l, i, d); break } else if (l.tag === 1) { var m = l.stateNode; if (typeof l.type.getDerivedStateFromError == "function" || typeof m.componentDidCatch == "function" && (li === null || !li.has(m))) { i = zn(d, i), d = VS(2), m = ri(l, d, 2), m !== null && (YS(d, m, l, i), Ys(m, 2), Ma(m)); break } } l = l.return } } function Ug(i, l, d) { var m = i.pingCache; if (m === null) { m = i.pingCache = new rI; var y = new Set; m.set(l, y) } else y = m.get(l), y === void 0 && (y = new Set, m.set(l, y)); y.has(d) || (Rg = !0, y.add(d), i = oI.bind(null, i, l, d), l.then(i, i)) } function oI(i, l, d) { var m = i.pingCache; m !== null && m.delete(l), i.pingedLanes |= i.suspendedLanes & d, i.warmLanes &= ~d, Ut === i && (gt & d) === d && (cr === 4 || cr === 3 && (gt & 62914560) === gt && 300 > be() - Gf ? (kt & 2) === 0 && yl(i, 0) : $g |= d, xl === gt && (xl = 0)), Ma(i) } function V_(i, l) { l === 0 && (l = Ea()), i = Ki(i, l), i !== null && (Ys(i, l), Ma(i)) } function lI(i) { var l = i.memoizedState, d = 0; l !== null && (d = l.retryLane), V_(i, d) } function cI(i, l) { var d = 0; switch (i.tag) { case 31: case 13: var m = i.stateNode, y = i.memoizedState; y !== null && (d = y.retryLane); break; case 19: m = i.stateNode; break; case 22: m = i.stateNode._retryCache; break; default: throw Error(n(314)) }m !== null && m.delete(l), V_(i, d) } function uI(i, l) { return oe(i, l) } var eh = null, vl = null, Hg = !1, th = !1, Vg = !1, di = 0; function Ma(i) { i !== vl && i.next === null && (vl === null ? eh = vl = i : vl = vl.next = i), th = !0, Hg || (Hg = !0, fI()) } function ou(i, l) { if (!Vg && th) { Vg = !0; do for (var d = !1, m = eh; m !== null;) { if (i !== 0) { var y = m.pendingLanes; if (y === 0) var N = 0; else { var B = m.suspendedLanes, re = m.pingedLanes; N = (1 << 31 - er(42 | i) + 1) - 1, N &= y & ~(B & ~re), N = N & 201326741 ? N & 201326741 | 1 : N ? N | 2 : 0 } N !== 0 && (d = !0, W_(m, N)) } else N = gt, N = Wa(m, m === Ut ? N : 0, m.cancelPendingCommit !== null || m.timeoutHandle !== -1), (N & 3) === 0 || bn(m, N) || (d = !0, W_(m, N)); m = m.next } while (d); Vg = !1 } } function dI() { Y_() } function Y_() { th = Hg = !1; var i = 0; di !== 0 && jI() && (i = di); for (var l = be(), d = null, m = eh; m !== null;) { var y = m.next, N = G_(m, l); N === 0 ? (m.next = null, d === null ? eh = y : d.next = y, y === null && (vl = d)) : (d = m, (i !== 0 || (N & 3) !== 0) && (th = !0)), m = y } Or !== 0 && Or !== 5 || ou(i), di !== 0 && (di = 0) } function G_(i, l) { for (var d = i.suspendedLanes, m = i.pingedLanes, y = i.expirationTimes, N = i.pendingLanes & -62914561; 0 < N;) { var B = 31 - er(N), re = 1 << B, xe = y[B]; xe === -1 ? ((re & d) === 0 || (re & m) !== 0) && (y[B] = Xa(re, l)) : xe <= l && (i.expiredLanes |= re), N &= ~re } if (l = Ut, d = gt, d = Wa(i, i === l ? d : 0, i.cancelPendingCommit !== null || i.timeoutHandle !== -1), m = i.callbackNode, d === 0 || i === l && (Mt === 2 || Mt === 9) || i.cancelPendingCommit !== null) return m !== null && m !== null && fe(m), i.callbackNode = null, i.callbackPriority = 0; if ((d & 3) === 0 || bn(i, d)) { if (l = d & -d, l === i.callbackPriority) return l; switch (m !== null && fe(m), Ho(d)) { case 2: case 8: d = Fe; break; case 32: d = Ue; break; case 268435456: d = nt; break; default: d = Ue }return m = K_.bind(null, i), d = oe(d, m), i.callbackPriority = l, i.callbackNode = d, l } return m !== null && m !== null && fe(m), i.callbackPriority = 2, i.callbackNode = null, 2 } function K_(i, l) { if (Or !== 0 && Or !== 5) return i.callbackNode = null, i.callbackPriority = 0, null; var d = i.callbackNode; if (Zf() && i.callbackNode !== d) return null; var m = gt; return m = Wa(i, i === Ut ? m : 0, i.cancelPendingCommit !== null || i.timeoutHandle !== -1), m === 0 ? null : (A_(i, m, l), G_(i, be()), i.callbackNode != null && i.callbackNode === d ? K_.bind(null, i) : null) } function W_(i, l) { if (Zf()) return null; A_(i, l, !0) } function fI() { SI(function () { (kt & 6) !== 0 ? oe($e, dI) : Y_() }) } function Yg() { if (di === 0) { var i = sl; i === 0 && (i = qr, qr <<= 1, (qr & 261888) === 0 && (qr = 256)), di = i } return di } function X_(i) { return i == null || typeof i == "symbol" || typeof i == "boolean" ? null : typeof i == "function" ? i : cf("" + i) } function J_(i, l) { var d = l.ownerDocument.createElement("input"); return d.name = l.name, d.value = l.value, i.id && d.setAttribute("form", i.id), l.parentNode.insertBefore(d, l), i = new FormData(i), d.parentNode.removeChild(d), i } function hI(i, l, d, m, y) { if (l === "submit" && d && d.stateNode === y) { var N = X_((y[Ce] || null).action), B = m.submitter; B && (l = (l = B[Ce] || null) ? X_(l.formAction) : B.getAttribute("formAction"), l !== null && (N = l, B = null)); var re = new hf("action", "action", null, m, y); i.push({ event: re, listeners: [{ instance: null, listener: function () { if (m.defaultPrevented) { if (di !== 0) { var xe = B ? J_(y, B) : new FormData(y); fg(d, { pending: !0, data: xe, method: y.method, action: N }, null, xe) } } else typeof N == "function" && (re.preventDefault(), xe = B ? J_(y, B) : new FormData(y), fg(d, { pending: !0, data: xe, method: y.method, action: N }, N, xe)) }, currentTarget: y }] }) } } for (var Gg = 0; Gg < Ax.length; Gg++) { var Kg = Ax[Gg], mI = Kg.toLowerCase(), pI = Kg[0].toUpperCase() + Kg.slice(1); ua(mI, "on" + pI) } ua(k2, "onAnimationEnd"), ua(A2, "onAnimationIteration"), ua(E2, "onAnimationStart"), ua("dblclick", "onDoubleClick"), ua("focusin", "onFocus"), ua("focusout", "onBlur"), ua(D$, "onTransitionRun"), ua(T$, "onTransitionStart"), ua(P$, "onTransitionCancel"), ua(D2, "onTransitionEnd"), Ln("onMouseEnter", ["mouseout", "mouseover"]), Ln("onMouseLeave", ["mouseout", "mouseover"]), Ln("onPointerEnter", ["pointerout", "pointerover"]), Ln("onPointerLeave", ["pointerout", "pointerover"]), Wt("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")), Wt("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")), Wt("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]), Wt("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")), Wt("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")), Wt("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var lu = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), xI = new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu)); function Q_(i, l) { l = (l & 4) !== 0; for (var d = 0; d < i.length; d++) { var m = i[d], y = m.event; m = m.listeners; e: { var N = void 0; if (l) for (var B = m.length - 1; 0 <= B; B--) { var re = m[B], xe = re.instance, Ne = re.currentTarget; if (re = re.listener, xe !== N && y.isPropagationStopped()) break e; N = re, y.currentTarget = Ne; try { N(y) } catch (Ae) { xf(Ae) } y.currentTarget = null, N = xe } else for (B = 0; B < m.length; B++) { if (re = m[B], xe = re.instance, Ne = re.currentTarget, re = re.listener, xe !== N && y.isPropagationStopped()) break e; N = re, y.currentTarget = Ne; try { N(y) } catch (Ae) { xf(Ae) } y.currentTarget = null, N = xe } } } } function mt(i, l) { var d = l[Re]; d === void 0 && (d = l[Re] = new Set); var m = i + "__bubble"; d.has(m) || (Z_(l, i, 2, !1), d.add(m)) } function Wg(i, l, d) { var m = 0; l && (m |= 4), Z_(d, i, m, l) } var rh = "_reactListening" + Math.random().toString(36).slice(2); function Xg(i) { if (!i[rh]) { i[rh] = !0, vt.forEach(function (d) { d !== "selectionchange" && (xI.has(d) || Wg(d, !1, i), Wg(d, !0, i)) }); var l = i.nodeType === 9 ? i : i.ownerDocument; l === null || l[rh] || (l[rh] = !0, Wg("selectionchange", !1, l)) } } function Z_(i, l, d, m) { switch (kO(l)) { case 2: var y = HI; break; case 8: y = VI; break; default: y = dy }d = y.bind(null, l, d, i), y = void 0, !xx || l !== "touchstart" && l !== "touchmove" && l !== "wheel" || (y = !0), m ? y !== void 0 ? i.addEventListener(l, d, { capture: !0, passive: y }) : i.addEventListener(l, d, !0) : y !== void 0 ? i.addEventListener(l, d, { passive: y }) : i.addEventListener(l, d, !1) } function Jg(i, l, d, m, y) { var N = m; if ((l & 1) === 0 && (l & 2) === 0 && m !== null) e: for (; ;) { if (m === null) return; var B = m.tag; if (B === 3 || B === 4) { var re = m.stateNode.containerInfo; if (re === y) break; if (B === 4) for (B = m.return; B !== null;) { var xe = B.tag; if ((xe === 3 || xe === 4) && B.stateNode.containerInfo === y) return; B = B.return } for (; re !== null;) { if (B = Ye(re), B === null) return; if (xe = B.tag, xe === 5 || xe === 6 || xe === 26 || xe === 27) { m = N = B; continue e } re = re.parentNode } } m = m.return } a2(function () { var Ne = N, Ae = mx(d), Te = []; e: { var Se = T2.get(i); if (Se !== void 0) { var Oe = hf, Je = i; switch (i) { case "keypress": if (df(d) === 0) break e; case "keydown": case "keyup": Oe = c$; break; case "focusin": Je = "focus", Oe = vx; break; case "focusout": Je = "blur", Oe = vx; break; case "beforeblur": case "afterblur": Oe = vx; break; case "click": if (d.button === 2) break e; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": Oe = o2; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": Oe = J6; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": Oe = f$; break; case k2: case A2: case E2: Oe = e$; break; case D2: Oe = m$; break; case "scroll": case "scrollend": Oe = W6; break; case "wheel": Oe = x$; break; case "copy": case "cut": case "paste": Oe = r$; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": Oe = c2; break; case "toggle": case "beforetoggle": Oe = y$ }var at = (l & 4) !== 0, Bt = !at && (i === "scroll" || i === "scrollend"), ve = at ? Se !== null ? Se + "Capture" : null : Se; at = []; for (var ge = Ne, je; ge !== null;) { var De = ge; if (je = De.stateNode, De = De.tag, De !== 5 && De !== 26 && De !== 27 || je === null || ve === null || (De = Ec(ge, ve), De != null && at.push(cu(ge, De, je))), Bt) break; ge = ge.return } 0 < at.length && (Se = new Oe(Se, Je, null, d, Ae), Te.push({ event: Se, listeners: at })) } } if ((l & 7) === 0) { e: { if (Se = i === "mouseover" || i === "pointerover", Oe = i === "mouseout" || i === "pointerout", Se && d !== hx && (Je = d.relatedTarget || d.fromElement) && (Ye(Je) || Je[Be])) break e; if ((Oe || Se) && (Se = Ae.window === Ae ? Ae : (Se = Ae.ownerDocument) ? Se.defaultView || Se.parentWindow : window, Oe ? (Je = d.relatedTarget || d.toElement, Oe = Ne, Je = Je ? Ye(Je) : null, Je !== null && (Bt = o(Je), at = Je.tag, Je !== Bt || at !== 5 && at !== 27 && at !== 6) && (Je = null)) : (Oe = null, Je = Ne), Oe !== Je)) { if (at = o2, De = "onMouseLeave", ve = "onMouseEnter", ge = "mouse", (i === "pointerout" || i === "pointerover") && (at = c2, De = "onPointerLeave", ve = "onPointerEnter", ge = "pointer"), Bt = Oe == null ? Se : rt(Oe), je = Je == null ? Se : rt(Je), Se = new at(De, ge + "leave", Oe, d, Ae), Se.target = Bt, Se.relatedTarget = je, De = null, Ye(Ae) === Ne && (at = new at(ve, ge + "enter", Je, d, Ae), at.target = je, at.relatedTarget = Bt, De = at), Bt = De, Oe && Je) t: { for (at = gI, ve = Oe, ge = Je, je = 0, De = ve; De; De = at(De))je++; De = 0; for (var tt = ge; tt; tt = at(tt))De++; for (; 0 < je - De;)ve = at(ve), je--; for (; 0 < De - je;)ge = at(ge), De--; for (; je--;) { if (ve === ge || ge !== null && ve === ge.alternate) { at = ve; break t } ve = at(ve), ge = at(ge) } at = null } else at = null; Oe !== null && eO(Te, Se, Oe, at, !1), Je !== null && Bt !== null && eO(Te, Bt, Je, at, !0) } } e: { if (Se = Ne ? rt(Ne) : window, Oe = Se.nodeName && Se.nodeName.toLowerCase(), Oe === "select" || Oe === "input" && Se.type === "file") var Nt = g2; else if (p2(Se)) if (y2) Nt = k$; else { Nt = O$; var Qe = _$ } else Oe = Se.nodeName, !Oe || Oe.toLowerCase() !== "input" || Se.type !== "checkbox" && Se.type !== "radio" ? Ne && fx(Ne.elementType) && (Nt = g2) : Nt = C$; if (Nt && (Nt = Nt(i, Ne))) { x2(Te, Nt, d, Ae); break e } Qe && Qe(i, Se, Ne), i === "focusout" && Ne && Se.type === "number" && Ne.memoizedProps.value != null && dx(Se, "number", Se.value) } switch (Qe = Ne ? rt(Ne) : window, i) { case "focusin": (p2(Qe) || Qe.contentEditable === "true") && (Jo = Qe, Ox = Ne, Lc = null); break; case "focusout": Lc = Ox = Jo = null; break; case "mousedown": Cx = !0; break; case "contextmenu": case "mouseup": case "dragend": Cx = !1, O2(Te, d, Ae); break; case "selectionchange": if (E$) break; case "keydown": case "keyup": O2(Te, d, Ae) }var dt; if (jx) e: { switch (i) { case "compositionstart": var yt = "onCompositionStart"; break e; case "compositionend": yt = "onCompositionEnd"; break e; case "compositionupdate": yt = "onCompositionUpdate"; break e }yt = void 0 } else Xo ? h2(i, d) && (yt = "onCompositionEnd") : i === "keydown" && d.keyCode === 229 && (yt = "onCompositionStart"); yt && (u2 && d.locale !== "ko" && (Xo || yt !== "onCompositionStart" ? yt === "onCompositionEnd" && Xo && (dt = s2()) : (Ws = Ae, gx = "value" in Ws ? Ws.value : Ws.textContent, Xo = !0)), Qe = nh(Ne, yt), 0 < Qe.length && (yt = new l2(yt, i, null, d, Ae), Te.push({ event: yt, listeners: Qe }), dt ? yt.data = dt : (dt = m2(d), dt !== null && (yt.data = dt)))), (dt = v$ ? w$(i, d) : j$(i, d)) && (yt = nh(Ne, "onBeforeInput"), 0 < yt.length && (Qe = new l2("onBeforeInput", "beforeinput", null, d, Ae), Te.push({ event: Qe, listeners: yt }), Qe.data = dt)), hI(Te, i, Ne, d, Ae) } Q_(Te, l) }) } function cu(i, l, d) { return { instance: i, listener: l, currentTarget: d } } function nh(i, l) { for (var d = l + "Capture", m = []; i !== null;) { var y = i, N = y.stateNode; if (y = y.tag, y !== 5 && y !== 26 && y !== 27 || N === null || (y = Ec(i, d), y != null && m.unshift(cu(i, y, N)), y = Ec(i, l), y != null && m.push(cu(i, y, N))), i.tag === 3) return m; i = i.return } return [] } function gI(i) { if (i === null) return null; do i = i.return; while (i && i.tag !== 5 && i.tag !== 27); return i || null } function eO(i, l, d, m, y) { for (var N = l._reactName, B = []; d !== null && d !== m;) { var re = d, xe = re.alternate, Ne = re.stateNode; if (re = re.tag, xe !== null && xe === m) break; re !== 5 && re !== 26 && re !== 27 || Ne === null || (xe = Ne, y ? (Ne = Ec(d, N), Ne != null && B.unshift(cu(d, Ne, xe))) : y || (Ne = Ec(d, N), Ne != null && B.push(cu(d, Ne, xe)))), d = d.return } B.length !== 0 && i.push({ event: l, listeners: B }) } var yI = /\r\n?/g, bI = /\u0000|\uFFFD/g; function tO(i) {
    return (typeof i == "string" ? i : "" + i).replace(yI, `
`).replace(bI, "")
  } function rO(i, l) { return l = tO(l), tO(i) === l } function Ft(i, l, d, m, y, N) { switch (d) { case "children": typeof m == "string" ? l === "body" || l === "textarea" && m === "" || Go(i, m) : (typeof m == "number" || typeof m == "bigint") && l !== "body" && Go(i, "" + m); break; case "className": ca(i, "class", m); break; case "tabIndex": ca(i, "tabindex", m); break; case "dir": case "role": case "viewBox": case "width": case "height": ca(i, d, m); break; case "style": r2(i, m, N); break; case "data": if (l !== "object") { ca(i, "data", m); break } case "src": case "href": if (m === "" && (l !== "a" || d !== "href")) { i.removeAttribute(d); break } if (m == null || typeof m == "function" || typeof m == "symbol" || typeof m == "boolean") { i.removeAttribute(d); break } m = cf("" + m), i.setAttribute(d, m); break; case "action": case "formAction": if (typeof m == "function") { i.setAttribute(d, "javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')"); break } else typeof N == "function" && (d === "formAction" ? (l !== "input" && Ft(i, l, "name", y.name, y, null), Ft(i, l, "formEncType", y.formEncType, y, null), Ft(i, l, "formMethod", y.formMethod, y, null), Ft(i, l, "formTarget", y.formTarget, y, null)) : (Ft(i, l, "encType", y.encType, y, null), Ft(i, l, "method", y.method, y, null), Ft(i, l, "target", y.target, y, null))); if (m == null || typeof m == "symbol" || typeof m == "boolean") { i.removeAttribute(d); break } m = cf("" + m), i.setAttribute(d, m); break; case "onClick": m != null && (i.onclick = Ja); break; case "onScroll": m != null && mt("scroll", i); break; case "onScrollEnd": m != null && mt("scrollend", i); break; case "dangerouslySetInnerHTML": if (m != null) { if (typeof m != "object" || !("__html" in m)) throw Error(n(61)); if (d = m.__html, d != null) { if (y.children != null) throw Error(n(60)); i.innerHTML = d } } break; case "multiple": i.multiple = m && typeof m != "function" && typeof m != "symbol"; break; case "muted": i.muted = m && typeof m != "function" && typeof m != "symbol"; break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "defaultValue": case "defaultChecked": case "innerHTML": case "ref": break; case "autoFocus": break; case "xlinkHref": if (m == null || typeof m == "function" || typeof m == "boolean" || typeof m == "symbol") { i.removeAttribute("xlink:href"); break } d = cf("" + m), i.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", d); break; case "contentEditable": case "spellCheck": case "draggable": case "value": case "autoReverse": case "externalResourcesRequired": case "focusable": case "preserveAlpha": m != null && typeof m != "function" && typeof m != "symbol" ? i.setAttribute(d, "" + m) : i.removeAttribute(d); break; case "inert": case "allowFullScreen": case "async": case "autoPlay": case "controls": case "default": case "defer": case "disabled": case "disablePictureInPicture": case "disableRemotePlayback": case "formNoValidate": case "hidden": case "loop": case "noModule": case "noValidate": case "open": case "playsInline": case "readOnly": case "required": case "reversed": case "scoped": case "seamless": case "itemScope": m && typeof m != "function" && typeof m != "symbol" ? i.setAttribute(d, "") : i.removeAttribute(d); break; case "capture": case "download": m === !0 ? i.setAttribute(d, "") : m !== !1 && m != null && typeof m != "function" && typeof m != "symbol" ? i.setAttribute(d, m) : i.removeAttribute(d); break; case "cols": case "rows": case "size": case "span": m != null && typeof m != "function" && typeof m != "symbol" && !isNaN(m) && 1 <= m ? i.setAttribute(d, m) : i.removeAttribute(d); break; case "rowSpan": case "start": m == null || typeof m == "function" || typeof m == "symbol" || isNaN(m) ? i.removeAttribute(d) : i.setAttribute(d, m); break; case "popover": mt("beforetoggle", i), mt("toggle", i), zi(i, "popover", m); break; case "xlinkActuate": Fn(i, "http://www.w3.org/1999/xlink", "xlink:actuate", m); break; case "xlinkArcrole": Fn(i, "http://www.w3.org/1999/xlink", "xlink:arcrole", m); break; case "xlinkRole": Fn(i, "http://www.w3.org/1999/xlink", "xlink:role", m); break; case "xlinkShow": Fn(i, "http://www.w3.org/1999/xlink", "xlink:show", m); break; case "xlinkTitle": Fn(i, "http://www.w3.org/1999/xlink", "xlink:title", m); break; case "xlinkType": Fn(i, "http://www.w3.org/1999/xlink", "xlink:type", m); break; case "xmlBase": Fn(i, "http://www.w3.org/XML/1998/namespace", "xml:base", m); break; case "xmlLang": Fn(i, "http://www.w3.org/XML/1998/namespace", "xml:lang", m); break; case "xmlSpace": Fn(i, "http://www.w3.org/XML/1998/namespace", "xml:space", m); break; case "is": zi(i, "is", m); break; case "innerText": case "textContent": break; default: (!(2 < d.length) || d[0] !== "o" && d[0] !== "O" || d[1] !== "n" && d[1] !== "N") && (d = G6.get(d) || d, zi(i, d, m)) } } function Qg(i, l, d, m, y, N) { switch (d) { case "style": r2(i, m, N); break; case "dangerouslySetInnerHTML": if (m != null) { if (typeof m != "object" || !("__html" in m)) throw Error(n(61)); if (d = m.__html, d != null) { if (y.children != null) throw Error(n(60)); i.innerHTML = d } } break; case "children": typeof m == "string" ? Go(i, m) : (typeof m == "number" || typeof m == "bigint") && Go(i, "" + m); break; case "onScroll": m != null && mt("scroll", i); break; case "onScrollEnd": m != null && mt("scrollend", i); break; case "onClick": m != null && (i.onclick = Ja); break; case "suppressContentEditableWarning": case "suppressHydrationWarning": case "innerHTML": case "ref": break; case "innerText": case "textContent": break; default: if (!_r.hasOwnProperty(d)) e: { if (d[0] === "o" && d[1] === "n" && (y = d.endsWith("Capture"), l = d.slice(2, y ? d.length - 7 : void 0), N = i[Ce] || null, N = N != null ? N[d] : null, typeof N == "function" && i.removeEventListener(l, N, y), typeof m == "function")) { typeof N != "function" && N !== null && (d in i ? i[d] = null : i.hasAttribute(d) && i.removeAttribute(d)), i.addEventListener(l, m, y); break e } d in i ? i[d] = m : m === !0 ? i.setAttribute(d, "") : zi(i, d, m) } } } function Yr(i, l, d) { switch (l) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "img": mt("error", i), mt("load", i); var m = !1, y = !1, N; for (N in d) if (d.hasOwnProperty(N)) { var B = d[N]; if (B != null) switch (N) { case "src": m = !0; break; case "srcSet": y = !0; break; case "children": case "dangerouslySetInnerHTML": throw Error(n(137, l)); default: Ft(i, l, N, B, d, null) } } y && Ft(i, l, "srcSet", d.srcSet, d, null), m && Ft(i, l, "src", d.src, d, null); return; case "input": mt("invalid", i); var re = N = B = y = null, xe = null, Ne = null; for (m in d) if (d.hasOwnProperty(m)) { var Ae = d[m]; if (Ae != null) switch (m) { case "name": y = Ae; break; case "type": B = Ae; break; case "checked": xe = Ae; break; case "defaultChecked": Ne = Ae; break; case "value": N = Ae; break; case "defaultValue": re = Ae; break; case "children": case "dangerouslySetInnerHTML": if (Ae != null) throw Error(n(137, l)); break; default: Ft(i, l, m, Ae, d, null) } } Q1(i, N, re, xe, Ne, B, y, !1); return; case "select": mt("invalid", i), m = B = N = null; for (y in d) if (d.hasOwnProperty(y) && (re = d[y], re != null)) switch (y) { case "value": N = re; break; case "defaultValue": B = re; break; case "multiple": m = re; default: Ft(i, l, y, re, d, null) }l = N, d = B, i.multiple = !!m, l != null ? Yo(i, !!m, l, !1) : d != null && Yo(i, !!m, d, !0); return; case "textarea": mt("invalid", i), N = y = m = null; for (B in d) if (d.hasOwnProperty(B) && (re = d[B], re != null)) switch (B) { case "value": m = re; break; case "defaultValue": y = re; break; case "children": N = re; break; case "dangerouslySetInnerHTML": if (re != null) throw Error(n(91)); break; default: Ft(i, l, B, re, d, null) }e2(i, m, y, N); return; case "option": for (xe in d) if (d.hasOwnProperty(xe) && (m = d[xe], m != null)) switch (xe) { case "selected": i.selected = m && typeof m != "function" && typeof m != "symbol"; break; default: Ft(i, l, xe, m, d, null) }return; case "dialog": mt("beforetoggle", i), mt("toggle", i), mt("cancel", i), mt("close", i); break; case "iframe": case "object": mt("load", i); break; case "video": case "audio": for (m = 0; m < lu.length; m++)mt(lu[m], i); break; case "image": mt("error", i), mt("load", i); break; case "details": mt("toggle", i); break; case "embed": case "source": case "link": mt("error", i), mt("load", i); case "area": case "base": case "br": case "col": case "hr": case "keygen": case "meta": case "param": case "track": case "wbr": case "menuitem": for (Ne in d) if (d.hasOwnProperty(Ne) && (m = d[Ne], m != null)) switch (Ne) { case "children": case "dangerouslySetInnerHTML": throw Error(n(137, l)); default: Ft(i, l, Ne, m, d, null) }return; default: if (fx(l)) { for (Ae in d) d.hasOwnProperty(Ae) && (m = d[Ae], m !== void 0 && Qg(i, l, Ae, m, d, void 0)); return } }for (re in d) d.hasOwnProperty(re) && (m = d[re], m != null && Ft(i, l, re, m, d, null)) } function vI(i, l, d, m) { switch (l) { case "div": case "span": case "svg": case "path": case "a": case "g": case "p": case "li": break; case "input": var y = null, N = null, B = null, re = null, xe = null, Ne = null, Ae = null; for (Oe in d) { var Te = d[Oe]; if (d.hasOwnProperty(Oe) && Te != null) switch (Oe) { case "checked": break; case "value": break; case "defaultValue": xe = Te; default: m.hasOwnProperty(Oe) || Ft(i, l, Oe, null, m, Te) } } for (var Se in m) { var Oe = m[Se]; if (Te = d[Se], m.hasOwnProperty(Se) && (Oe != null || Te != null)) switch (Se) { case "type": N = Oe; break; case "name": y = Oe; break; case "checked": Ne = Oe; break; case "defaultChecked": Ae = Oe; break; case "value": B = Oe; break; case "defaultValue": re = Oe; break; case "children": case "dangerouslySetInnerHTML": if (Oe != null) throw Error(n(137, l)); break; default: Oe !== Te && Ft(i, l, Se, Oe, m, Te) } } ux(i, B, re, xe, Ne, Ae, N, y); return; case "select": Oe = B = re = Se = null; for (N in d) if (xe = d[N], d.hasOwnProperty(N) && xe != null) switch (N) { case "value": break; case "multiple": Oe = xe; default: m.hasOwnProperty(N) || Ft(i, l, N, null, m, xe) }for (y in m) if (N = m[y], xe = d[y], m.hasOwnProperty(y) && (N != null || xe != null)) switch (y) { case "value": Se = N; break; case "defaultValue": re = N; break; case "multiple": B = N; default: N !== xe && Ft(i, l, y, N, m, xe) }l = re, d = B, m = Oe, Se != null ? Yo(i, !!d, Se, !1) : !!m != !!d && (l != null ? Yo(i, !!d, l, !0) : Yo(i, !!d, d ? [] : "", !1)); return; case "textarea": Oe = Se = null; for (re in d) if (y = d[re], d.hasOwnProperty(re) && y != null && !m.hasOwnProperty(re)) switch (re) { case "value": break; case "children": break; default: Ft(i, l, re, null, m, y) }for (B in m) if (y = m[B], N = d[B], m.hasOwnProperty(B) && (y != null || N != null)) switch (B) { case "value": Se = y; break; case "defaultValue": Oe = y; break; case "children": break; case "dangerouslySetInnerHTML": if (y != null) throw Error(n(91)); break; default: y !== N && Ft(i, l, B, y, m, N) }Z1(i, Se, Oe); return; case "option": for (var Je in d) if (Se = d[Je], d.hasOwnProperty(Je) && Se != null && !m.hasOwnProperty(Je)) switch (Je) { case "selected": i.selected = !1; break; default: Ft(i, l, Je, null, m, Se) }for (xe in m) if (Se = m[xe], Oe = d[xe], m.hasOwnProperty(xe) && Se !== Oe && (Se != null || Oe != null)) switch (xe) { case "selected": i.selected = Se && typeof Se != "function" && typeof Se != "symbol"; break; default: Ft(i, l, xe, Se, m, Oe) }return; case "img": case "link": case "area": case "base": case "br": case "col": case "embed": case "hr": case "keygen": case "meta": case "param": case "source": case "track": case "wbr": case "menuitem": for (var at in d) Se = d[at], d.hasOwnProperty(at) && Se != null && !m.hasOwnProperty(at) && Ft(i, l, at, null, m, Se); for (Ne in m) if (Se = m[Ne], Oe = d[Ne], m.hasOwnProperty(Ne) && Se !== Oe && (Se != null || Oe != null)) switch (Ne) { case "children": case "dangerouslySetInnerHTML": if (Se != null) throw Error(n(137, l)); break; default: Ft(i, l, Ne, Se, m, Oe) }return; default: if (fx(l)) { for (var Bt in d) Se = d[Bt], d.hasOwnProperty(Bt) && Se !== void 0 && !m.hasOwnProperty(Bt) && Qg(i, l, Bt, void 0, m, Se); for (Ae in m) Se = m[Ae], Oe = d[Ae], !m.hasOwnProperty(Ae) || Se === Oe || Se === void 0 && Oe === void 0 || Qg(i, l, Ae, Se, m, Oe); return } }for (var ve in d) Se = d[ve], d.hasOwnProperty(ve) && Se != null && !m.hasOwnProperty(ve) && Ft(i, l, ve, null, m, Se); for (Te in m) Se = m[Te], Oe = d[Te], !m.hasOwnProperty(Te) || Se === Oe || Se == null && Oe == null || Ft(i, l, Te, Se, m, Oe) } function nO(i) { switch (i) { case "css": case "script": case "font": case "img": case "image": case "input": case "link": return !0; default: return !1 } } function wI() { if (typeof performance.getEntriesByType == "function") { for (var i = 0, l = 0, d = performance.getEntriesByType("resource"), m = 0; m < d.length; m++) { var y = d[m], N = y.transferSize, B = y.initiatorType, re = y.duration; if (N && re && nO(B)) { for (B = 0, re = y.responseEnd, m += 1; m < d.length; m++) { var xe = d[m], Ne = xe.startTime; if (Ne > re) break; var Ae = xe.transferSize, Te = xe.initiatorType; Ae && nO(Te) && (xe = xe.responseEnd, B += Ae * (xe < re ? 1 : (re - Ne) / (xe - Ne))) } if (--m, l += 8 * (N + B) / (y.duration / 1e3), i++, 10 < i) break } } if (0 < i) return l / i / 1e6 } return navigator.connection && (i = navigator.connection.downlink, typeof i == "number") ? i : 5 } var Zg = null, ey = null; function ah(i) { return i.nodeType === 9 ? i : i.ownerDocument } function aO(i) { switch (i) { case "http://www.w3.org/2000/svg": return 1; case "http://www.w3.org/1998/Math/MathML": return 2; default: return 0 } } function sO(i, l) { if (i === 0) switch (l) { case "svg": return 1; case "math": return 2; default: return 0 }return i === 1 && l === "foreignObject" ? 0 : i } function ty(i, l) { return i === "textarea" || i === "noscript" || typeof l.children == "string" || typeof l.children == "number" || typeof l.children == "bigint" || typeof l.dangerouslySetInnerHTML == "object" && l.dangerouslySetInnerHTML !== null && l.dangerouslySetInnerHTML.__html != null } var ry = null; function jI() { var i = window.event; return i && i.type === "popstate" ? i === ry ? !1 : (ry = i, !0) : (ry = null, !1) } var iO = typeof setTimeout == "function" ? setTimeout : void 0, NI = typeof clearTimeout == "function" ? clearTimeout : void 0, oO = typeof Promise == "function" ? Promise : void 0, SI = typeof queueMicrotask == "function" ? queueMicrotask : typeof oO < "u" ? function (i) { return oO.resolve(null).then(i).catch(_I) } : iO; function _I(i) { setTimeout(function () { throw i }) } function fi(i) { return i === "head" } function lO(i, l) { var d = l, m = 0; do { var y = d.nextSibling; if (i.removeChild(d), y && y.nodeType === 8) if (d = y.data, d === "/$" || d === "/&") { if (m === 0) { i.removeChild(y), Sl(l); return } m-- } else if (d === "$" || d === "$?" || d === "$~" || d === "$!" || d === "&") m++; else if (d === "html") uu(i.ownerDocument.documentElement); else if (d === "head") { d = i.ownerDocument.head, uu(d); for (var N = d.firstChild; N;) { var B = N.nextSibling, re = N.nodeName; N[Ve] || re === "SCRIPT" || re === "STYLE" || re === "LINK" && N.rel.toLowerCase() === "stylesheet" || d.removeChild(N), N = B } } else d === "body" && uu(i.ownerDocument.body); d = y } while (d); Sl(l) } function cO(i, l) { var d = i; i = 0; do { var m = d.nextSibling; if (d.nodeType === 1 ? l ? (d._stashedDisplay = d.style.display, d.style.display = "none") : (d.style.display = d._stashedDisplay || "", d.getAttribute("style") === "" && d.removeAttribute("style")) : d.nodeType === 3 && (l ? (d._stashedText = d.nodeValue, d.nodeValue = "") : d.nodeValue = d._stashedText || ""), m && m.nodeType === 8) if (d = m.data, d === "/$") { if (i === 0) break; i-- } else d !== "$" && d !== "$?" && d !== "$~" && d !== "$!" || i++; d = m } while (d) } function ny(i) { var l = i.firstChild; for (l && l.nodeType === 10 && (l = l.nextSibling); l;) { var d = l; switch (l = l.nextSibling, d.nodeName) { case "HTML": case "HEAD": case "BODY": ny(d), He(d); continue; case "SCRIPT": case "STYLE": continue; case "LINK": if (d.rel.toLowerCase() === "stylesheet") continue }i.removeChild(d) } } function OI(i, l, d, m) { for (; i.nodeType === 1;) { var y = d; if (i.nodeName.toLowerCase() !== l.toLowerCase()) { if (!m && (i.nodeName !== "INPUT" || i.type !== "hidden")) break } else if (m) { if (!i[Ve]) switch (l) { case "meta": if (!i.hasAttribute("itemprop")) break; return i; case "link": if (N = i.getAttribute("rel"), N === "stylesheet" && i.hasAttribute("data-precedence")) break; if (N !== y.rel || i.getAttribute("href") !== (y.href == null || y.href === "" ? null : y.href) || i.getAttribute("crossorigin") !== (y.crossOrigin == null ? null : y.crossOrigin) || i.getAttribute("title") !== (y.title == null ? null : y.title)) break; return i; case "style": if (i.hasAttribute("data-precedence")) break; return i; case "script": if (N = i.getAttribute("src"), (N !== (y.src == null ? null : y.src) || i.getAttribute("type") !== (y.type == null ? null : y.type) || i.getAttribute("crossorigin") !== (y.crossOrigin == null ? null : y.crossOrigin)) && N && i.hasAttribute("async") && !i.hasAttribute("itemprop")) break; return i; default: return i } } else if (l === "input" && i.type === "hidden") { var N = y.name == null ? null : "" + y.name; if (y.type === "hidden" && i.getAttribute("name") === N) return i } else return i; if (i = Gn(i.nextSibling), i === null) break } return null } function CI(i, l, d) { if (l === "") return null; for (; i.nodeType !== 3;)if ((i.nodeType !== 1 || i.nodeName !== "INPUT" || i.type !== "hidden") && !d || (i = Gn(i.nextSibling), i === null)) return null; return i } function uO(i, l) { for (; i.nodeType !== 8;)if ((i.nodeType !== 1 || i.nodeName !== "INPUT" || i.type !== "hidden") && !l || (i = Gn(i.nextSibling), i === null)) return null; return i } function ay(i) { return i.data === "$?" || i.data === "$~" } function sy(i) { return i.data === "$!" || i.data === "$?" && i.ownerDocument.readyState !== "loading" } function kI(i, l) { var d = i.ownerDocument; if (i.data === "$~") i._reactRetry = l; else if (i.data !== "$?" || d.readyState !== "loading") l(); else { var m = function () { l(), d.removeEventListener("DOMContentLoaded", m) }; d.addEventListener("DOMContentLoaded", m), i._reactRetry = m } } function Gn(i) { for (; i != null; i = i.nextSibling) { var l = i.nodeType; if (l === 1 || l === 3) break; if (l === 8) { if (l = i.data, l === "$" || l === "$!" || l === "$?" || l === "$~" || l === "&" || l === "F!" || l === "F") break; if (l === "/$" || l === "/&") return null } } return i } var iy = null; function dO(i) { i = i.nextSibling; for (var l = 0; i;) { if (i.nodeType === 8) { var d = i.data; if (d === "/$" || d === "/&") { if (l === 0) return Gn(i.nextSibling); l-- } else d !== "$" && d !== "$!" && d !== "$?" && d !== "$~" && d !== "&" || l++ } i = i.nextSibling } return null } function fO(i) { i = i.previousSibling; for (var l = 0; i;) { if (i.nodeType === 8) { var d = i.data; if (d === "$" || d === "$!" || d === "$?" || d === "$~" || d === "&") { if (l === 0) return i; l-- } else d !== "/$" && d !== "/&" || l++ } i = i.previousSibling } return null } function hO(i, l, d) { switch (l = ah(d), i) { case "html": if (i = l.documentElement, !i) throw Error(n(452)); return i; case "head": if (i = l.head, !i) throw Error(n(453)); return i; case "body": if (i = l.body, !i) throw Error(n(454)); return i; default: throw Error(n(451)) } } function uu(i) { for (var l = i.attributes; l.length;)i.removeAttributeNode(l[0]); He(i) } var Kn = new Map, mO = new Set; function sh(i) { return typeof i.getRootNode == "function" ? i.getRootNode() : i.nodeType === 9 ? i : i.ownerDocument } var hs = le.d; le.d = { f: AI, r: EI, D: DI, C: TI, L: PI, m: MI, X: $I, S: RI, M: II }; function AI() { var i = hs.f(), l = Xf(); return i || l } function EI(i) { var l = ze(i); l !== null && l.tag === 5 && l.type === "form" ? DS(l) : hs.r(i) } var wl = typeof document > "u" ? null : document; function pO(i, l, d) { var m = wl; if (m && typeof l == "string" && l) { var y = Bn(l); y = 'link[rel="' + i + '"][href="' + y + '"]', typeof d == "string" && (y += '[crossorigin="' + d + '"]'), mO.has(y) || (mO.add(y), i = { rel: i, crossOrigin: d, href: l }, m.querySelector(y) === null && (l = m.createElement("link"), Yr(l, "link", i), Xe(l), m.head.appendChild(l))) } } function DI(i) { hs.D(i), pO("dns-prefetch", i, null) } function TI(i, l) { hs.C(i, l), pO("preconnect", i, l) } function PI(i, l, d) { hs.L(i, l, d); var m = wl; if (m && i && l) { var y = 'link[rel="preload"][as="' + Bn(l) + '"]'; l === "image" && d && d.imageSrcSet ? (y += '[imagesrcset="' + Bn(d.imageSrcSet) + '"]', typeof d.imageSizes == "string" && (y += '[imagesizes="' + Bn(d.imageSizes) + '"]')) : y += '[href="' + Bn(i) + '"]'; var N = y; switch (l) { case "style": N = jl(i); break; case "script": N = Nl(i) }Kn.has(N) || (i = x({ rel: "preload", href: l === "image" && d && d.imageSrcSet ? void 0 : i, as: l }, d), Kn.set(N, i), m.querySelector(y) !== null || l === "style" && m.querySelector(du(N)) || l === "script" && m.querySelector(fu(N)) || (l = m.createElement("link"), Yr(l, "link", i), Xe(l), m.head.appendChild(l))) } } function MI(i, l) { hs.m(i, l); var d = wl; if (d && i) { var m = l && typeof l.as == "string" ? l.as : "script", y = 'link[rel="modulepreload"][as="' + Bn(m) + '"][href="' + Bn(i) + '"]', N = y; switch (m) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": N = Nl(i) }if (!Kn.has(N) && (i = x({ rel: "modulepreload", href: i }, l), Kn.set(N, i), d.querySelector(y) === null)) { switch (m) { case "audioworklet": case "paintworklet": case "serviceworker": case "sharedworker": case "worker": case "script": if (d.querySelector(fu(N))) return }m = d.createElement("link"), Yr(m, "link", i), Xe(m), d.head.appendChild(m) } } } function RI(i, l, d) { hs.S(i, l, d); var m = wl; if (m && i) { var y = Ke(m).hoistableStyles, N = jl(i); l = l || "default"; var B = y.get(N); if (!B) { var re = { loading: 0, preload: null }; if (B = m.querySelector(du(N))) re.loading = 5; else { i = x({ rel: "stylesheet", href: i, "data-precedence": l }, d), (d = Kn.get(N)) && oy(i, d); var xe = B = m.createElement("link"); Xe(xe), Yr(xe, "link", i), xe._p = new Promise(function (Ne, Ae) { xe.onload = Ne, xe.onerror = Ae }), xe.addEventListener("load", function () { re.loading |= 1 }), xe.addEventListener("error", function () { re.loading |= 2 }), re.loading |= 4, ih(B, l, m) } B = { type: "stylesheet", instance: B, count: 1, state: re }, y.set(N, B) } } } function $I(i, l) { hs.X(i, l); var d = wl; if (d && i) { var m = Ke(d).hoistableScripts, y = Nl(i), N = m.get(y); N || (N = d.querySelector(fu(y)), N || (i = x({ src: i, async: !0 }, l), (l = Kn.get(y)) && ly(i, l), N = d.createElement("script"), Xe(N), Yr(N, "link", i), d.head.appendChild(N)), N = { type: "script", instance: N, count: 1, state: null }, m.set(y, N)) } } function II(i, l) { hs.M(i, l); var d = wl; if (d && i) { var m = Ke(d).hoistableScripts, y = Nl(i), N = m.get(y); N || (N = d.querySelector(fu(y)), N || (i = x({ src: i, async: !0, type: "module" }, l), (l = Kn.get(y)) && ly(i, l), N = d.createElement("script"), Xe(N), Yr(N, "link", i), d.head.appendChild(N)), N = { type: "script", instance: N, count: 1, state: null }, m.set(y, N)) } } function xO(i, l, d, m) { var y = (y = I.current) ? sh(y) : null; if (!y) throw Error(n(446)); switch (i) { case "meta": case "title": return null; case "style": return typeof d.precedence == "string" && typeof d.href == "string" ? (l = jl(d.href), d = Ke(y).hoistableStyles, m = d.get(l), m || (m = { type: "style", instance: null, count: 0, state: null }, d.set(l, m)), m) : { type: "void", instance: null, count: 0, state: null }; case "link": if (d.rel === "stylesheet" && typeof d.href == "string" && typeof d.precedence == "string") { i = jl(d.href); var N = Ke(y).hoistableStyles, B = N.get(i); if (B || (y = y.ownerDocument || y, B = { type: "stylesheet", instance: null, count: 0, state: { loading: 0, preload: null } }, N.set(i, B), (N = y.querySelector(du(i))) && !N._p && (B.instance = N, B.state.loading = 5), Kn.has(i) || (d = { rel: "preload", as: "style", href: d.href, crossOrigin: d.crossOrigin, integrity: d.integrity, media: d.media, hrefLang: d.hrefLang, referrerPolicy: d.referrerPolicy }, Kn.set(i, d), N || LI(y, i, d, B.state))), l && m === null) throw Error(n(528, "")); return B } if (l && m !== null) throw Error(n(529, "")); return null; case "script": return l = d.async, d = d.src, typeof d == "string" && l && typeof l != "function" && typeof l != "symbol" ? (l = Nl(d), d = Ke(y).hoistableScripts, m = d.get(l), m || (m = { type: "script", instance: null, count: 0, state: null }, d.set(l, m)), m) : { type: "void", instance: null, count: 0, state: null }; default: throw Error(n(444, i)) } } function jl(i) { return 'href="' + Bn(i) + '"' } function du(i) { return 'link[rel="stylesheet"][' + i + "]" } function gO(i) { return x({}, i, { "data-precedence": i.precedence, precedence: null }) } function LI(i, l, d, m) { i.querySelector('link[rel="preload"][as="style"][' + l + "]") ? m.loading = 1 : (l = i.createElement("link"), m.preload = l, l.addEventListener("load", function () { return m.loading |= 1 }), l.addEventListener("error", function () { return m.loading |= 2 }), Yr(l, "link", d), Xe(l), i.head.appendChild(l)) } function Nl(i) { return '[src="' + Bn(i) + '"]' } function fu(i) { return "script[async]" + i } function yO(i, l, d) { if (l.count++, l.instance === null) switch (l.type) { case "style": var m = i.querySelector('style[data-href~="' + Bn(d.href) + '"]'); if (m) return l.instance = m, Xe(m), m; var y = x({}, d, { "data-href": d.href, "data-precedence": d.precedence, href: null, precedence: null }); return m = (i.ownerDocument || i).createElement("style"), Xe(m), Yr(m, "style", y), ih(m, d.precedence, i), l.instance = m; case "stylesheet": y = jl(d.href); var N = i.querySelector(du(y)); if (N) return l.state.loading |= 4, l.instance = N, Xe(N), N; m = gO(d), (y = Kn.get(y)) && oy(m, y), N = (i.ownerDocument || i).createElement("link"), Xe(N); var B = N; return B._p = new Promise(function (re, xe) { B.onload = re, B.onerror = xe }), Yr(N, "link", m), l.state.loading |= 4, ih(N, d.precedence, i), l.instance = N; case "script": return N = Nl(d.src), (y = i.querySelector(fu(N))) ? (l.instance = y, Xe(y), y) : (m = d, (y = Kn.get(N)) && (m = x({}, d), ly(m, y)), i = i.ownerDocument || i, y = i.createElement("script"), Xe(y), Yr(y, "link", m), i.head.appendChild(y), l.instance = y); case "void": return null; default: throw Error(n(443, l.type)) } else l.type === "stylesheet" && (l.state.loading & 4) === 0 && (m = l.instance, l.state.loading |= 4, ih(m, d.precedence, i)); return l.instance } function ih(i, l, d) { for (var m = d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'), y = m.length ? m[m.length - 1] : null, N = y, B = 0; B < m.length; B++) { var re = m[B]; if (re.dataset.precedence === l) N = re; else if (N !== y) break } N ? N.parentNode.insertBefore(i, N.nextSibling) : (l = d.nodeType === 9 ? d.head : d, l.insertBefore(i, l.firstChild)) } function oy(i, l) { i.crossOrigin == null && (i.crossOrigin = l.crossOrigin), i.referrerPolicy == null && (i.referrerPolicy = l.referrerPolicy), i.title == null && (i.title = l.title) } function ly(i, l) { i.crossOrigin == null && (i.crossOrigin = l.crossOrigin), i.referrerPolicy == null && (i.referrerPolicy = l.referrerPolicy), i.integrity == null && (i.integrity = l.integrity) } var oh = null; function bO(i, l, d) { if (oh === null) { var m = new Map, y = oh = new Map; y.set(d, m) } else y = oh, m = y.get(d), m || (m = new Map, y.set(d, m)); if (m.has(i)) return m; for (m.set(i, null), d = d.getElementsByTagName(i), y = 0; y < d.length; y++) { var N = d[y]; if (!(N[Ve] || N[we] || i === "link" && N.getAttribute("rel") === "stylesheet") && N.namespaceURI !== "http://www.w3.org/2000/svg") { var B = N.getAttribute(l) || ""; B = i + B; var re = m.get(B); re ? re.push(N) : m.set(B, [N]) } } return m } function vO(i, l, d) { i = i.ownerDocument || i, i.head.insertBefore(d, l === "title" ? i.querySelector("head > title") : null) } function FI(i, l, d) { if (d === 1 || l.itemProp != null) return !1; switch (i) { case "meta": case "title": return !0; case "style": if (typeof l.precedence != "string" || typeof l.href != "string" || l.href === "") break; return !0; case "link": if (typeof l.rel != "string" || typeof l.href != "string" || l.href === "" || l.onLoad || l.onError) break; switch (l.rel) { case "stylesheet": return i = l.disabled, typeof l.precedence == "string" && i == null; default: return !0 }case "script": if (l.async && typeof l.async != "function" && typeof l.async != "symbol" && !l.onLoad && !l.onError && l.src && typeof l.src == "string") return !0 }return !1 } function wO(i) { return !(i.type === "stylesheet" && (i.state.loading & 3) === 0) } function BI(i, l, d, m) { if (d.type === "stylesheet" && (typeof m.media != "string" || matchMedia(m.media).matches !== !1) && (d.state.loading & 4) === 0) { if (d.instance === null) { var y = jl(m.href), N = l.querySelector(du(y)); if (N) { l = N._p, l !== null && typeof l == "object" && typeof l.then == "function" && (i.count++, i = lh.bind(i), l.then(i, i)), d.state.loading |= 4, d.instance = N, Xe(N); return } N = l.ownerDocument || l, m = gO(m), (y = Kn.get(y)) && oy(m, y), N = N.createElement("link"), Xe(N); var B = N; B._p = new Promise(function (re, xe) { B.onload = re, B.onerror = xe }), Yr(N, "link", m), d.instance = N } i.stylesheets === null && (i.stylesheets = new Map), i.stylesheets.set(d, l), (l = d.state.preload) && (d.state.loading & 3) === 0 && (i.count++, d = lh.bind(i), l.addEventListener("load", d), l.addEventListener("error", d)) } } var cy = 0; function qI(i, l) { return i.stylesheets && i.count === 0 && uh(i, i.stylesheets), 0 < i.count || 0 < i.imgCount ? function (d) { var m = setTimeout(function () { if (i.stylesheets && uh(i, i.stylesheets), i.unsuspend) { var N = i.unsuspend; i.unsuspend = null, N() } }, 6e4 + l); 0 < i.imgBytes && cy === 0 && (cy = 62500 * wI()); var y = setTimeout(function () { if (i.waitingForImages = !1, i.count === 0 && (i.stylesheets && uh(i, i.stylesheets), i.unsuspend)) { var N = i.unsuspend; i.unsuspend = null, N() } }, (i.imgBytes > cy ? 50 : 800) + l); return i.unsuspend = d, function () { i.unsuspend = null, clearTimeout(m), clearTimeout(y) } } : null } function lh() { if (this.count--, this.count === 0 && (this.imgCount === 0 || !this.waitingForImages)) { if (this.stylesheets) uh(this, this.stylesheets); else if (this.unsuspend) { var i = this.unsuspend; this.unsuspend = null, i() } } } var ch = null; function uh(i, l) { i.stylesheets = null, i.unsuspend !== null && (i.count++, ch = new Map, l.forEach(zI, i), ch = null, lh.call(i)) } function zI(i, l) { if (!(l.state.loading & 4)) { var d = ch.get(i); if (d) var m = d.get(null); else { d = new Map, ch.set(i, d); for (var y = i.querySelectorAll("link[data-precedence],style[data-precedence]"), N = 0; N < y.length; N++) { var B = y[N]; (B.nodeName === "LINK" || B.getAttribute("media") !== "not all") && (d.set(B.dataset.precedence, B), m = B) } m && d.set(null, m) } y = l.instance, B = y.getAttribute("data-precedence"), N = d.get(B) || m, N === m && d.set(null, y), d.set(B, y), this.count++, m = lh.bind(this), y.addEventListener("load", m), y.addEventListener("error", m), N ? N.parentNode.insertBefore(y, N.nextSibling) : (i = i.nodeType === 9 ? i.head : i, i.insertBefore(y, i.firstChild)), l.state.loading |= 4 } } var hu = { $$typeof: R, Provider: null, Consumer: null, _currentValue: de, _currentValue2: de, _threadCount: 0 }; function UI(i, l, d, m, y, N, B, re, xe) { this.tag = 1, this.containerInfo = i, this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.next = this.pendingContext = this.context = this.cancelPendingCommit = null, this.callbackPriority = 0, this.expirationTimes = Wr(-1), this.entangledLanes = this.shellSuspendCounter = this.errorRecoveryDisabledLanes = this.expiredLanes = this.warmLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = Wr(0), this.hiddenUpdates = Wr(null), this.identifierPrefix = m, this.onUncaughtError = y, this.onCaughtError = N, this.onRecoverableError = B, this.pooledCache = null, this.pooledCacheLanes = 0, this.formState = xe, this.incompleteTransitions = new Map } function jO(i, l, d, m, y, N, B, re, xe, Ne, Ae, Te) { return i = new UI(i, l, d, B, xe, Ne, Ae, Te, re), l = 1, N === !0 && (l |= 24), N = wn(3, null, null, l), i.current = N, N.stateNode = i, l = zx(), l.refCount++, i.pooledCache = l, l.refCount++, N.memoizedState = { element: m, isDehydrated: d, cache: l }, Yx(N), i } function NO(i) { return i ? (i = el, i) : el } function SO(i, l, d, m, y, N) { y = NO(y), m.context === null ? m.context = y : m.pendingContext = y, m = ti(l), m.payload = { element: d }, N = N === void 0 ? null : N, N !== null && (m.callback = N), d = ri(i, m, l), d !== null && (mn(d, i, l), Vc(d, i, l)) } function _O(i, l) { if (i = i.memoizedState, i !== null && i.dehydrated !== null) { var d = i.retryLane; i.retryLane = d !== 0 && d < l ? d : l } } function uy(i, l) { _O(i, l), (i = i.alternate) && _O(i, l) } function OO(i) { if (i.tag === 13 || i.tag === 31) { var l = Ki(i, 67108864); l !== null && mn(l, i, 67108864), uy(i, 67108864) } } function CO(i) { if (i.tag === 13 || i.tag === 31) { var l = On(); l = Gs(l); var d = Ki(i, l); d !== null && mn(d, i, l), uy(i, l) } } var dh = !0; function HI(i, l, d, m) { var y = U.T; U.T = null; var N = le.p; try { le.p = 2, dy(i, l, d, m) } finally { le.p = N, U.T = y } } function VI(i, l, d, m) { var y = U.T; U.T = null; var N = le.p; try { le.p = 8, dy(i, l, d, m) } finally { le.p = N, U.T = y } } function dy(i, l, d, m) { if (dh) { var y = fy(m); if (y === null) Jg(i, l, m, fh, d), AO(i, m); else if (GI(y, i, l, d, m)) m.stopPropagation(); else if (AO(i, m), l & 4 && -1 < YI.indexOf(i)) { for (; y !== null;) { var N = ze(y); if (N !== null) switch (N.tag) { case 3: if (N = N.stateNode, N.current.memoizedState.isDehydrated) { var B = In(N.pendingLanes); if (B !== 0) { var re = N; for (re.pendingLanes |= 2, re.entangledLanes |= 2; B;) { var xe = 1 << 31 - er(B); re.entanglements[1] |= xe, B &= ~xe } Ma(N), (kt & 6) === 0 && (Kf = be() + 500, ou(0)) } } break; case 31: case 13: re = Ki(N, 2), re !== null && mn(re, N, 2), Xf(), uy(N, 2) }if (N = fy(m), N === null && Jg(i, l, m, fh, d), N === y) break; y = N } y !== null && m.stopPropagation() } else Jg(i, l, m, null, d) } } function fy(i) { return i = mx(i), hy(i) } var fh = null; function hy(i) { if (fh = null, i = Ye(i), i !== null) { var l = o(i); if (l === null) i = null; else { var d = l.tag; if (d === 13) { if (i = c(l), i !== null) return i; i = null } else if (d === 31) { if (i = u(l), i !== null) return i; i = null } else if (d === 3) { if (l.stateNode.current.memoizedState.isDehydrated) return l.tag === 3 ? l.stateNode.containerInfo : null; i = null } else l !== i && (i = null) } } return fh = i, null } function kO(i) { switch (i) { case "beforetoggle": case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "toggle": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 2; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 8; case "message": switch (Pe()) { case $e: return 2; case Fe: return 8; case Ue: case Ze: return 32; case nt: return 268435456; default: return 32 }default: return 32 } } var my = !1, hi = null, mi = null, pi = null, mu = new Map, pu = new Map, xi = [], YI = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "); function AO(i, l) { switch (i) { case "focusin": case "focusout": hi = null; break; case "dragenter": case "dragleave": mi = null; break; case "mouseover": case "mouseout": pi = null; break; case "pointerover": case "pointerout": mu.delete(l.pointerId); break; case "gotpointercapture": case "lostpointercapture": pu.delete(l.pointerId) } } function xu(i, l, d, m, y, N) { return i === null || i.nativeEvent !== N ? (i = { blockedOn: l, domEventName: d, eventSystemFlags: m, nativeEvent: N, targetContainers: [y] }, l !== null && (l = ze(l), l !== null && OO(l)), i) : (i.eventSystemFlags |= m, l = i.targetContainers, y !== null && l.indexOf(y) === -1 && l.push(y), i) } function GI(i, l, d, m, y) { switch (l) { case "focusin": return hi = xu(hi, i, l, d, m, y), !0; case "dragenter": return mi = xu(mi, i, l, d, m, y), !0; case "mouseover": return pi = xu(pi, i, l, d, m, y), !0; case "pointerover": var N = y.pointerId; return mu.set(N, xu(mu.get(N) || null, i, l, d, m, y)), !0; case "gotpointercapture": return N = y.pointerId, pu.set(N, xu(pu.get(N) || null, i, l, d, m, y)), !0 }return !1 } function EO(i) { var l = Ye(i.target); if (l !== null) { var d = o(l); if (d !== null) { if (l = d.tag, l === 13) { if (l = c(d), l !== null) { i.blockedOn = l, af(i.priority, function () { CO(d) }); return } } else if (l === 31) { if (l = u(d), l !== null) { i.blockedOn = l, af(i.priority, function () { CO(d) }); return } } else if (l === 3 && d.stateNode.current.memoizedState.isDehydrated) { i.blockedOn = d.tag === 3 ? d.stateNode.containerInfo : null; return } } } i.blockedOn = null } function hh(i) { if (i.blockedOn !== null) return !1; for (var l = i.targetContainers; 0 < l.length;) { var d = fy(i.nativeEvent); if (d === null) { d = i.nativeEvent; var m = new d.constructor(d.type, d); hx = m, d.target.dispatchEvent(m), hx = null } else return l = ze(d), l !== null && OO(l), i.blockedOn = d, !1; l.shift() } return !0 } function DO(i, l, d) { hh(i) && d.delete(l) } function KI() { my = !1, hi !== null && hh(hi) && (hi = null), mi !== null && hh(mi) && (mi = null), pi !== null && hh(pi) && (pi = null), mu.forEach(DO), pu.forEach(DO) } function mh(i, l) { i.blockedOn === l && (i.blockedOn = null, my || (my = !0, t.unstable_scheduleCallback(t.unstable_NormalPriority, KI))) } var ph = null; function TO(i) { ph !== i && (ph = i, t.unstable_scheduleCallback(t.unstable_NormalPriority, function () { ph === i && (ph = null); for (var l = 0; l < i.length; l += 3) { var d = i[l], m = i[l + 1], y = i[l + 2]; if (typeof m != "function") { if (hy(m || d) === null) continue; break } var N = ze(d); N !== null && (i.splice(l, 3), l -= 3, fg(N, { pending: !0, data: y, method: d.method, action: m }, m, y)) } })) } function Sl(i) { function l(xe) { return mh(xe, i) } hi !== null && mh(hi, i), mi !== null && mh(mi, i), pi !== null && mh(pi, i), mu.forEach(l), pu.forEach(l); for (var d = 0; d < xi.length; d++) { var m = xi[d]; m.blockedOn === i && (m.blockedOn = null) } for (; 0 < xi.length && (d = xi[0], d.blockedOn === null);)EO(d), d.blockedOn === null && xi.shift(); if (d = (i.ownerDocument || i).$$reactFormReplay, d != null) for (m = 0; m < d.length; m += 3) { var y = d[m], N = d[m + 1], B = y[Ce] || null; if (typeof N == "function") B || TO(d); else if (B) { var re = null; if (N && N.hasAttribute("formAction")) { if (y = N, B = N[Ce] || null) re = B.formAction; else if (hy(y) !== null) continue } else re = B.action; typeof re == "function" ? d[m + 1] = re : (d.splice(m, 3), m -= 3), TO(d) } } } function PO() { function i(N) { N.canIntercept && N.info === "react-transition" && N.intercept({ handler: function () { return new Promise(function (B) { return y = B }) }, focusReset: "manual", scroll: "manual" }) } function l() { y !== null && (y(), y = null), m || setTimeout(d, 20) } function d() { if (!m && !navigation.transition) { var N = navigation.currentEntry; N && N.url != null && navigation.navigate(N.url, { state: N.getState(), info: "react-transition", history: "replace" }) } } if (typeof navigation == "object") { var m = !1, y = null; return navigation.addEventListener("navigate", i), navigation.addEventListener("navigatesuccess", l), navigation.addEventListener("navigateerror", l), setTimeout(d, 100), function () { m = !0, navigation.removeEventListener("navigate", i), navigation.removeEventListener("navigatesuccess", l), navigation.removeEventListener("navigateerror", l), y !== null && (y(), y = null) } } } function py(i) { this._internalRoot = i } xh.prototype.render = py.prototype.render = function (i) { var l = this._internalRoot; if (l === null) throw Error(n(409)); var d = l.current, m = On(); SO(d, m, i, l, null, null) }, xh.prototype.unmount = py.prototype.unmount = function () { var i = this._internalRoot; if (i !== null) { this._internalRoot = null; var l = i.containerInfo; SO(i.current, 2, null, i, null, null), Xf(), l[Be] = null } }; function xh(i) { this._internalRoot = i } xh.prototype.unstable_scheduleHydration = function (i) { if (i) { var l = nf(); i = { blockedOn: null, target: i, priority: l }; for (var d = 0; d < xi.length && l !== 0 && l < xi[d].priority; d++); xi.splice(d, 0, i), d === 0 && EO(i) } }; var MO = e.version; if (MO !== "19.2.3") throw Error(n(527, MO, "19.2.3")); le.findDOMNode = function (i) { var l = i._reactInternals; if (l === void 0) throw typeof i.render == "function" ? Error(n(188)) : (i = Object.keys(i).join(","), Error(n(268, i))); return i = h(l), i = i !== null ? p(i) : null, i = i === null ? null : i.stateNode, i }; var WI = { bundleType: 0, version: "19.2.3", rendererPackageName: "react-dom", currentDispatcherRef: U, reconcilerVersion: "19.2.3" }; if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") { var gh = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!gh.isDisabled && gh.supportsFiber) try { Fr = gh.inject(WI), jt = gh } catch { } } return yu.createRoot = function (i, l) { if (!s(i)) throw Error(n(299)); var d = !1, m = "", y = qS, N = zS, B = US; return l != null && (l.unstable_strictMode === !0 && (d = !0), l.identifierPrefix !== void 0 && (m = l.identifierPrefix), l.onUncaughtError !== void 0 && (y = l.onUncaughtError), l.onCaughtError !== void 0 && (N = l.onCaughtError), l.onRecoverableError !== void 0 && (B = l.onRecoverableError)), l = jO(i, 1, !1, null, null, d, m, null, y, N, B, PO), i[Be] = l.current, Xg(i), new py(l) }, yu.hydrateRoot = function (i, l, d) { if (!s(i)) throw Error(n(299)); var m = !1, y = "", N = qS, B = zS, re = US, xe = null; return d != null && (d.unstable_strictMode === !0 && (m = !0), d.identifierPrefix !== void 0 && (y = d.identifierPrefix), d.onUncaughtError !== void 0 && (N = d.onUncaughtError), d.onCaughtError !== void 0 && (B = d.onCaughtError), d.onRecoverableError !== void 0 && (re = d.onRecoverableError), d.formState !== void 0 && (xe = d.formState)), l = jO(i, 1, !0, l, d ?? null, m, y, xe, N, B, re, PO), l.context = NO(null), d = l.current, m = On(), m = Gs(m), y = ti(m), y.callback = null, ri(d, y, m), d = m, l.current.lanes = d, Ys(l, d), Ma(l), i[Be] = l.current, Xg(i), new xh(l) }, yu.version = "19.2.3", yu
} var HO; function oL() { if (HO) return yy.exports; HO = 1; function t() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t) } catch (e) { console.error(e) } } return t(), yy.exports = iL(), yy.exports } var lL = oL();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VO = "popstate"; function cL(t = {}) { function e(n, s) { let { pathname: o, search: c, hash: u } = n.location; return Uw("", { pathname: o, search: c, hash: u }, s.state && s.state.usr || null, s.state && s.state.key || "default") } function r(n, s) { return typeof s == "string" ? s : Zu(s) } return dL(e, r, null, t) } function nr(t, e) { if (t === !1 || t === null || typeof t > "u") throw new Error(e) } function ra(t, e) { if (!t) { typeof console < "u" && console.warn(e); try { throw new Error(e) } catch { } } } function uL() { return Math.random().toString(36).substring(2, 10) } function YO(t, e) { return { usr: t.state, key: t.key, idx: e } } function Uw(t, e, r = null, n) { return { pathname: typeof t == "string" ? t : t.pathname, search: "", hash: "", ...typeof e == "string" ? pc(e) : e, state: r, key: e && e.key || n || uL() } } function Zu({ pathname: t = "/", search: e = "", hash: r = "" }) { return e && e !== "?" && (t += e.charAt(0) === "?" ? e : "?" + e), r && r !== "#" && (t += r.charAt(0) === "#" ? r : "#" + r), t } function pc(t) { let e = {}; if (t) { let r = t.indexOf("#"); r >= 0 && (e.hash = t.substring(r), t = t.substring(0, r)); let n = t.indexOf("?"); n >= 0 && (e.search = t.substring(n), t = t.substring(0, n)), t && (e.pathname = t) } return e } function dL(t, e, r, n = {}) { let { window: s = document.defaultView, v5Compat: o = !1 } = n, c = s.history, u = "POP", f = null, h = p(); h == null && (h = 0, c.replaceState({ ...c.state, idx: h }, "")); function p() { return (c.state || { idx: null }).idx } function x() { u = "POP"; let w = p(), O = w == null ? null : w - h; h = w, f && f({ action: u, location: S.location, delta: O }) } function g(w, O) { u = "PUSH"; let D = Uw(S.location, w, O); h = p() + 1; let R = YO(D, h), H = S.createHref(D); try { c.pushState(R, "", H) } catch (C) { if (C instanceof DOMException && C.name === "DataCloneError") throw C; s.location.assign(H) } o && f && f({ action: u, location: S.location, delta: 1 }) } function v(w, O) { u = "REPLACE"; let D = Uw(S.location, w, O); h = p(); let R = YO(D, h), H = S.createHref(D); c.replaceState(R, "", H), o && f && f({ action: u, location: S.location, delta: 0 }) } function j(w) { return fL(w) } let S = { get action() { return u }, get location() { return t(s, c) }, listen(w) { if (f) throw new Error("A history only accepts one active listener"); return s.addEventListener(VO, x), f = w, () => { s.removeEventListener(VO, x), f = null } }, createHref(w) { return e(s, w) }, createURL: j, encodeLocation(w) { let O = j(w); return { pathname: O.pathname, search: O.search, hash: O.hash } }, push: g, replace: v, go(w) { return c.go(w) } }; return S } function fL(t, e = !1) { let r = "http://localhost"; typeof window < "u" && (r = window.location.origin !== "null" ? window.location.origin : window.location.href), nr(r, "No window.location.(origin|href) available to create URL"); let n = typeof t == "string" ? t : Zu(t); return n = n.replace(/ $/, "%20"), !e && n.startsWith("//") && (n = r + n), new URL(n, r) } function mP(t, e, r = "/") { return hL(t, e, r, !1) } function hL(t, e, r, n) { let s = typeof e == "string" ? pc(e) : e, o = Rs(s.pathname || "/", r); if (o == null) return null; let c = pP(t); mL(c); let u = null; for (let f = 0; u == null && f < c.length; ++f) { let h = _L(o); u = NL(c[f], h, n) } return u } function pP(t, e = [], r = [], n = "", s = !1) { let o = (c, u, f = s, h) => { let p = { relativePath: h === void 0 ? c.path || "" : h, caseSensitive: c.caseSensitive === !0, childrenIndex: u, route: c }; if (p.relativePath.startsWith("/")) { if (!p.relativePath.startsWith(n) && f) return; nr(p.relativePath.startsWith(n), `Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`), p.relativePath = p.relativePath.slice(n.length) } let x = Ds([n, p.relativePath]), g = r.concat(p); c.children && c.children.length > 0 && (nr(c.index !== !0, `Index routes must not have child routes. Please remove all child routes from route path "${x}".`), pP(c.children, e, g, x, f)), !(c.path == null && !c.index) && e.push({ path: x, score: wL(x, c.index), routesMeta: g }) }; return t.forEach((c, u) => { var f; if (c.path === "" || !((f = c.path) != null && f.includes("?"))) o(c, u); else for (let h of xP(c.path)) o(c, u, !0, h) }), e } function xP(t) { let e = t.split("/"); if (e.length === 0) return []; let [r, ...n] = e, s = r.endsWith("?"), o = r.replace(/\?$/, ""); if (n.length === 0) return s ? [o, ""] : [o]; let c = xP(n.join("/")), u = []; return u.push(...c.map(f => f === "" ? o : [o, f].join("/"))), s && u.push(...c), u.map(f => t.startsWith("/") && f === "" ? "/" : f) } function mL(t) { t.sort((e, r) => e.score !== r.score ? r.score - e.score : jL(e.routesMeta.map(n => n.childrenIndex), r.routesMeta.map(n => n.childrenIndex))) } var pL = /^:[\w-]+$/, xL = 3, gL = 2, yL = 1, bL = 10, vL = -2, GO = t => t === "*"; function wL(t, e) { let r = t.split("/"), n = r.length; return r.some(GO) && (n += vL), e && (n += gL), r.filter(s => !GO(s)).reduce((s, o) => s + (pL.test(o) ? xL : o === "" ? yL : bL), n) } function jL(t, e) { return t.length === e.length && t.slice(0, -1).every((n, s) => n === e[s]) ? t[t.length - 1] - e[e.length - 1] : 0 } function NL(t, e, r = !1) { let { routesMeta: n } = t, s = {}, o = "/", c = []; for (let u = 0; u < n.length; ++u) { let f = n[u], h = u === n.length - 1, p = o === "/" ? e : e.slice(o.length) || "/", x = am({ path: f.relativePath, caseSensitive: f.caseSensitive, end: h }, p), g = f.route; if (!x && h && r && !n[n.length - 1].route.index && (x = am({ path: f.relativePath, caseSensitive: f.caseSensitive, end: !1 }, p)), !x) return null; Object.assign(s, x.params), c.push({ params: s, pathname: Ds([o, x.pathname]), pathnameBase: EL(Ds([o, x.pathnameBase])), route: g }), x.pathnameBase !== "/" && (o = Ds([o, x.pathnameBase])) } return c } function am(t, e) { typeof t == "string" && (t = { path: t, caseSensitive: !1, end: !0 }); let [r, n] = SL(t.path, t.caseSensitive, t.end), s = e.match(r); if (!s) return null; let o = s[0], c = o.replace(/(.)\/+$/, "$1"), u = s.slice(1); return { params: n.reduce((h, { paramName: p, isOptional: x }, g) => { if (p === "*") { let j = u[g] || ""; c = o.slice(0, o.length - j.length).replace(/(.)\/+$/, "$1") } const v = u[g]; return x && !v ? h[p] = void 0 : h[p] = (v || "").replace(/%2F/g, "/"), h }, {}), pathname: o, pathnameBase: c, pattern: t } } function SL(t, e = !1, r = !0) { ra(t === "*" || !t.endsWith("*") || t.endsWith("/*"), `Route path "${t}" will be treated as if it were "${t.replace(/\*$/, "/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/, "/*")}".`); let n = [], s = "^" + t.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (c, u, f) => (n.push({ paramName: u, isOptional: f != null }), f ? "/?([^\\/]+)?" : "/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g, "(/$1)?$2"); return t.endsWith("*") ? (n.push({ paramName: "*" }), s += t === "*" || t === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$") : r ? s += "\\/*$" : t !== "" && t !== "/" && (s += "(?:(?=\\/|$))"), [new RegExp(s, e ? void 0 : "i"), n] } function _L(t) { try { return t.split("/").map(e => decodeURIComponent(e).replace(/\//g, "%2F")).join("/") } catch (e) { return ra(!1, `The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`), t } } function Rs(t, e) { if (e === "/") return t; if (!t.toLowerCase().startsWith(e.toLowerCase())) return null; let r = e.endsWith("/") ? e.length - 1 : e.length, n = t.charAt(r); return n && n !== "/" ? null : t.slice(r) || "/" } var OL = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, CL = t => OL.test(t); function kL(t, e = "/") { let { pathname: r, search: n = "", hash: s = "" } = typeof t == "string" ? pc(t) : t, o; if (r) if (CL(r)) o = r; else { if (r.includes("//")) { let c = r; r = r.replace(/\/\/+/g, "/"), ra(!1, `Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`) } r.startsWith("/") ? o = KO(r.substring(1), "/") : o = KO(r, e) } else o = e; return { pathname: o, search: DL(n), hash: TL(s) } } function KO(t, e) { let r = e.replace(/\/+$/, "").split("/"); return t.split("/").forEach(s => { s === ".." ? r.length > 1 && r.pop() : s !== "." && r.push(s) }), r.length > 1 ? r.join("/") : "/" } function jy(t, e, r, n) { return `Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.` } function AL(t) { return t.filter((e, r) => r === 0 || e.route.path && e.route.path.length > 0) } function SN(t) { let e = AL(t); return e.map((r, n) => n === e.length - 1 ? r.pathname : r.pathnameBase) } function _N(t, e, r, n = !1) { let s; typeof t == "string" ? s = pc(t) : (s = { ...t }, nr(!s.pathname || !s.pathname.includes("?"), jy("?", "pathname", "search", s)), nr(!s.pathname || !s.pathname.includes("#"), jy("#", "pathname", "hash", s)), nr(!s.search || !s.search.includes("#"), jy("#", "search", "hash", s))); let o = t === "" || s.pathname === "", c = o ? "/" : s.pathname, u; if (c == null) u = r; else { let x = e.length - 1; if (!n && c.startsWith("..")) { let g = c.split("/"); for (; g[0] === "..";)g.shift(), x -= 1; s.pathname = g.join("/") } u = x >= 0 ? e[x] : "/" } let f = kL(s, u), h = c && c !== "/" && c.endsWith("/"), p = (o || c === ".") && r.endsWith("/"); return !f.pathname.endsWith("/") && (h || p) && (f.pathname += "/"), f } var Ds = t => t.join("/").replace(/\/\/+/g, "/"), EL = t => t.replace(/\/+$/, "").replace(/^\/*/, "/"), DL = t => !t || t === "?" ? "" : t.startsWith("?") ? t : "?" + t, TL = t => !t || t === "#" ? "" : t.startsWith("#") ? t : "#" + t; function PL(t) { return t != null && typeof t.status == "number" && typeof t.statusText == "string" && typeof t.internal == "boolean" && "data" in t } function ML(t) { return t.map(e => e.route.path).filter(Boolean).join("/").replace(/\/\/*/g, "/") || "/" } Object.getOwnPropertyNames(Object.prototype).sort().join("\0"); var gP = ["POST", "PUT", "PATCH", "DELETE"]; new Set(gP); var RL = ["GET", ...gP]; new Set(RL); var xc = b.createContext(null); xc.displayName = "DataRouter"; var wp = b.createContext(null); wp.displayName = "DataRouterState"; b.createContext(!1); var yP = b.createContext({ isTransitioning: !1 }); yP.displayName = "ViewTransition"; var $L = b.createContext(new Map); $L.displayName = "Fetchers"; var IL = b.createContext(null); IL.displayName = "Await"; var oa = b.createContext(null); oa.displayName = "Navigation"; var qd = b.createContext(null); qd.displayName = "Location"; var Ya = b.createContext({ outlet: null, matches: [], isDataRoute: !1 }); Ya.displayName = "Route"; var ON = b.createContext(null); ON.displayName = "RouteError"; function LL(t, { relative: e } = {}) { nr(gc(), "useHref() may be used only in the context of a <Router> component."); let { basename: r, navigator: n } = b.useContext(oa), { hash: s, pathname: o, search: c } = zd(t, { relative: e }), u = o; return r !== "/" && (u = o === "/" ? r : Ds([r, o])), n.createHref({ pathname: u, search: c, hash: s }) } function gc() { return b.useContext(qd) != null } function Bs() { return nr(gc(), "useLocation() may be used only in the context of a <Router> component."), b.useContext(qd).location } var bP = "You should call navigate() in a React.useEffect(), not when your component is first rendered."; function vP(t) { b.useContext(oa).static || b.useLayoutEffect(t) } function jp() { let { isDataRoute: t } = b.useContext(Ya); return t ? JL() : FL() } function FL() { nr(gc(), "useNavigate() may be used only in the context of a <Router> component."); let t = b.useContext(xc), { basename: e, navigator: r } = b.useContext(oa), { matches: n } = b.useContext(Ya), { pathname: s } = Bs(), o = JSON.stringify(SN(n)), c = b.useRef(!1); return vP(() => { c.current = !0 }), b.useCallback((f, h = {}) => { if (ra(c.current, bP), !c.current) return; if (typeof f == "number") { r.go(f); return } let p = _N(f, JSON.parse(o), s, h.relative === "path"); t == null && e !== "/" && (p.pathname = p.pathname === "/" ? e : Ds([e, p.pathname])), (h.replace ? r.replace : r.push)(p, h.state, h) }, [e, r, o, s, t]) } b.createContext(null); function zd(t, { relative: e } = {}) { let { matches: r } = b.useContext(Ya), { pathname: n } = Bs(), s = JSON.stringify(SN(r)); return b.useMemo(() => _N(t, JSON.parse(s), n, e === "path"), [t, s, n, e]) } function BL(t, e) { return wP(t, e) } function wP(t, e, r, n, s) {
  var D; nr(gc(), "useRoutes() may be used only in the context of a <Router> component."); let { navigator: o } = b.useContext(oa), { matches: c } = b.useContext(Ya), u = c[c.length - 1], f = u ? u.params : {}, h = u ? u.pathname : "/", p = u ? u.pathnameBase : "/", x = u && u.route; {
    let R = x && x.path || ""; jP(h, !x || R.endsWith("*") || R.endsWith("*?"), `You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R === "/" ? "*" : `${R}/*`}">.`)
  } let g = Bs(), v; if (e) { let R = typeof e == "string" ? pc(e) : e; nr(p === "/" || ((D = R.pathname) == null ? void 0 : D.startsWith(p)), `When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`), v = R } else v = g; let j = v.pathname || "/", S = j; if (p !== "/") { let R = p.replace(/^\//, "").split("/"); S = "/" + j.replace(/^\//, "").split("/").slice(R.length).join("/") } let w = mP(t, { pathname: S }); ra(x || w != null, `No routes matched location "${v.pathname}${v.search}${v.hash}" `), ra(w == null || w[w.length - 1].route.element !== void 0 || w[w.length - 1].route.Component !== void 0 || w[w.length - 1].route.lazy !== void 0, `Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`); let O = VL(w && w.map(R => Object.assign({}, R, { params: Object.assign({}, f, R.params), pathname: Ds([p, o.encodeLocation ? o.encodeLocation(R.pathname.replace(/\?/g, "%3F").replace(/#/g, "%23")).pathname : R.pathname]), pathnameBase: R.pathnameBase === "/" ? p : Ds([p, o.encodeLocation ? o.encodeLocation(R.pathnameBase.replace(/\?/g, "%3F").replace(/#/g, "%23")).pathname : R.pathnameBase]) })), c, r, n, s); return e && O ? b.createElement(qd.Provider, { value: { location: { pathname: "/", search: "", hash: "", state: null, key: "default", ...v }, navigationType: "POP" } }, O) : O
} function qL() { let t = XL(), e = PL(t) ? `${t.status} ${t.statusText}` : t instanceof Error ? t.message : JSON.stringify(t), r = t instanceof Error ? t.stack : null, n = "rgba(200,200,200, 0.5)", s = { padding: "0.5rem", backgroundColor: n }, o = { padding: "2px 4px", backgroundColor: n }, c = null; return console.error("Error handled by React Router default ErrorBoundary:", t), c = b.createElement(b.Fragment, null, b.createElement("p", null, " Hey developer "), b.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", b.createElement("code", { style: o }, "ErrorBoundary"), " or", " ", b.createElement("code", { style: o }, "errorElement"), " prop on your route.")), b.createElement(b.Fragment, null, b.createElement("h2", null, "Unexpected Application Error!"), b.createElement("h3", { style: { fontStyle: "italic" } }, e), r ? b.createElement("pre", { style: s }, r) : null, c) } var zL = b.createElement(qL, null), UL = class extends b.Component { constructor(t) { super(t), this.state = { location: t.location, revalidation: t.revalidation, error: t.error } } static getDerivedStateFromError(t) { return { error: t } } static getDerivedStateFromProps(t, e) { return e.location !== t.location || e.revalidation !== "idle" && t.revalidation === "idle" ? { error: t.error, location: t.location, revalidation: t.revalidation } : { error: t.error !== void 0 ? t.error : e.error, location: e.location, revalidation: t.revalidation || e.revalidation } } componentDidCatch(t, e) { this.props.onError ? this.props.onError(t, e) : console.error("React Router caught the following error during render", t) } render() { return this.state.error !== void 0 ? b.createElement(Ya.Provider, { value: this.props.routeContext }, b.createElement(ON.Provider, { value: this.state.error, children: this.props.component })) : this.props.children } }; function HL({ routeContext: t, match: e, children: r }) { let n = b.useContext(xc); return n && n.static && n.staticContext && (e.route.errorElement || e.route.ErrorBoundary) && (n.staticContext._deepestRenderedBoundaryId = e.route.id), b.createElement(Ya.Provider, { value: t }, r) } function VL(t, e = [], r = null, n = null, s = null) { if (t == null) { if (!r) return null; if (r.errors) t = r.matches; else if (e.length === 0 && !r.initialized && r.matches.length > 0) t = r.matches; else return null } let o = t, c = r == null ? void 0 : r.errors; if (c != null) { let p = o.findIndex(x => x.route.id && (c == null ? void 0 : c[x.route.id]) !== void 0); nr(p >= 0, `Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`), o = o.slice(0, Math.min(o.length, p + 1)) } let u = !1, f = -1; if (r) for (let p = 0; p < o.length; p++) { let x = o[p]; if ((x.route.HydrateFallback || x.route.hydrateFallbackElement) && (f = p), x.route.id) { let { loaderData: g, errors: v } = r, j = x.route.loader && !g.hasOwnProperty(x.route.id) && (!v || v[x.route.id] === void 0); if (x.route.lazy || j) { u = !0, f >= 0 ? o = o.slice(0, f + 1) : o = [o[0]]; break } } } let h = r && n ? (p, x) => { var g, v; n(p, { location: r.location, params: ((v = (g = r.matches) == null ? void 0 : g[0]) == null ? void 0 : v.params) ?? {}, unstable_pattern: ML(r.matches), errorInfo: x }) } : void 0; return o.reduceRight((p, x, g) => { let v, j = !1, S = null, w = null; r && (v = c && x.route.id ? c[x.route.id] : void 0, S = x.route.errorElement || zL, u && (f < 0 && g === 0 ? (jP("route-fallback", !1, "No `HydrateFallback` element provided to render during initial hydration"), j = !0, w = null) : f === g && (j = !0, w = x.route.hydrateFallbackElement || null))); let O = e.concat(o.slice(0, g + 1)), D = () => { let R; return v ? R = S : j ? R = w : x.route.Component ? R = b.createElement(x.route.Component, null) : x.route.element ? R = x.route.element : R = p, b.createElement(HL, { match: x, routeContext: { outlet: p, matches: O, isDataRoute: r != null }, children: R }) }; return r && (x.route.ErrorBoundary || x.route.errorElement || g === 0) ? b.createElement(UL, { location: r.location, revalidation: r.revalidation, component: S, error: v, children: D(), routeContext: { outlet: null, matches: O, isDataRoute: !0 }, onError: h }) : D() }, null) } function CN(t) { return `${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.` } function YL(t) { let e = b.useContext(xc); return nr(e, CN(t)), e } function GL(t) { let e = b.useContext(wp); return nr(e, CN(t)), e } function KL(t) { let e = b.useContext(Ya); return nr(e, CN(t)), e } function kN(t) { let e = KL(t), r = e.matches[e.matches.length - 1]; return nr(r.route.id, `${t} can only be used on routes that contain a unique "id"`), r.route.id } function WL() { return kN("useRouteId") } function XL() { var n; let t = b.useContext(ON), e = GL("useRouteError"), r = kN("useRouteError"); return t !== void 0 ? t : (n = e.errors) == null ? void 0 : n[r] } function JL() { let { router: t } = YL("useNavigate"), e = kN("useNavigate"), r = b.useRef(!1); return vP(() => { r.current = !0 }), b.useCallback(async (s, o = {}) => { ra(r.current, bP), r.current && (typeof s == "number" ? await t.navigate(s) : await t.navigate(s, { fromRouteId: e, ...o })) }, [t, e]) } var WO = {}; function jP(t, e, r) { !e && !WO[t] && (WO[t] = !0, ra(!1, r)) } b.memo(QL); function QL({ routes: t, future: e, state: r, unstable_onError: n }) { return wP(t, void 0, r, n, e) } function bi({ to: t, replace: e, state: r, relative: n }) { nr(gc(), "<Navigate> may be used only in the context of a <Router> component."); let { static: s } = b.useContext(oa); ra(!s, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change."); let { matches: o } = b.useContext(Ya), { pathname: c } = Bs(), u = jp(), f = _N(t, SN(o), c, n === "path"), h = JSON.stringify(f); return b.useEffect(() => { u(JSON.parse(h), { replace: e, state: r, relative: n }) }, [u, h, n, e, r]), null } function Tt(t) { nr(!1, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.") } function ZL({ basename: t = "/", children: e = null, location: r, navigationType: n = "POP", navigator: s, static: o = !1, unstable_useTransitions: c }) { nr(!gc(), "You cannot render a <Router> inside another <Router>. You should never have more than one in your app."); let u = t.replace(/^\/*/, "/"), f = b.useMemo(() => ({ basename: u, navigator: s, static: o, unstable_useTransitions: c, future: {} }), [u, s, o, c]); typeof r == "string" && (r = pc(r)); let { pathname: h = "/", search: p = "", hash: x = "", state: g = null, key: v = "default" } = r, j = b.useMemo(() => { let S = Rs(h, u); return S == null ? null : { location: { pathname: S, search: p, hash: x, state: g, key: v }, navigationType: n } }, [u, h, p, x, g, v, n]); return ra(j != null, `<Router basename="${u}"> is not able to match the URL "${h}${p}${x}" because it does not start with the basename, so the <Router> won't render anything.`), j == null ? null : b.createElement(oa.Provider, { value: f }, b.createElement(qd.Provider, { children: e, value: j })) } function e8({ children: t, location: e }) { return BL(Hw(t), e) } function Hw(t, e = []) { let r = []; return b.Children.forEach(t, (n, s) => { if (!b.isValidElement(n)) return; let o = [...e, s]; if (n.type === b.Fragment) { r.push.apply(r, Hw(n.props.children, o)); return } nr(n.type === Tt, `[${typeof n.type == "string" ? n.type : n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`), nr(!n.props.index || !n.props.children, "An index route cannot have child routes."); let c = { id: n.props.id || o.join("-"), caseSensitive: n.props.caseSensitive, element: n.props.element, Component: n.props.Component, index: n.props.index, path: n.props.path, middleware: n.props.middleware, loader: n.props.loader, action: n.props.action, hydrateFallbackElement: n.props.hydrateFallbackElement, HydrateFallback: n.props.HydrateFallback, errorElement: n.props.errorElement, ErrorBoundary: n.props.ErrorBoundary, hasErrorBoundary: n.props.hasErrorBoundary === !0 || n.props.ErrorBoundary != null || n.props.errorElement != null, shouldRevalidate: n.props.shouldRevalidate, handle: n.props.handle, lazy: n.props.lazy }; n.props.children && (c.children = Hw(n.props.children, o)), r.push(c) }), r } var Yh = "get", Gh = "application/x-www-form-urlencoded"; function Np(t) { return typeof HTMLElement < "u" && t instanceof HTMLElement } function t8(t) { return Np(t) && t.tagName.toLowerCase() === "button" } function r8(t) { return Np(t) && t.tagName.toLowerCase() === "form" } function n8(t) { return Np(t) && t.tagName.toLowerCase() === "input" } function a8(t) { return !!(t.metaKey || t.altKey || t.ctrlKey || t.shiftKey) } function s8(t, e) { return t.button === 0 && (!e || e === "_self") && !a8(t) } var bh = null; function i8() { if (bh === null) try { new FormData(document.createElement("form"), 0), bh = !1 } catch { bh = !0 } return bh } var o8 = new Set(["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"]); function Ny(t) { return t != null && !o8.has(t) ? (ra(!1, `"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`), null) : t } function l8(t, e) { let r, n, s, o, c; if (r8(t)) { let u = t.getAttribute("action"); n = u ? Rs(u, e) : null, r = t.getAttribute("method") || Yh, s = Ny(t.getAttribute("enctype")) || Gh, o = new FormData(t) } else if (t8(t) || n8(t) && (t.type === "submit" || t.type === "image")) { let u = t.form; if (u == null) throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>'); let f = t.getAttribute("formaction") || u.getAttribute("action"); if (n = f ? Rs(f, e) : null, r = t.getAttribute("formmethod") || u.getAttribute("method") || Yh, s = Ny(t.getAttribute("formenctype")) || Ny(u.getAttribute("enctype")) || Gh, o = new FormData(u, t), !i8()) { let { name: h, type: p, value: x } = t; if (p === "image") { let g = h ? `${h}.` : ""; o.append(`${g}x`, "0"), o.append(`${g}y`, "0") } else h && o.append(h, x) } } else { if (Np(t)) throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">'); r = Yh, n = null, s = Gh, c = t } return o && s === "text/plain" && (c = o, o = void 0), { action: n, method: r.toLowerCase(), encType: s, formData: o, body: c } } Object.getOwnPropertyNames(Object.prototype).sort().join("\0"); function AN(t, e) { if (t === !1 || t === null || typeof t > "u") throw new Error(e) } function c8(t, e, r) { let n = typeof t == "string" ? new URL(t, typeof window > "u" ? "server://singlefetch/" : window.location.origin) : t; return n.pathname === "/" ? n.pathname = `_root.${r}` : e && Rs(n.pathname, e) === "/" ? n.pathname = `${e.replace(/\/$/, "")}/_root.${r}` : n.pathname = `${n.pathname.replace(/\/$/, "")}.${r}`, n } async function u8(t, e) { if (t.id in e) return e[t.id]; try { let r = await import(t.module); return e[t.id] = r, r } catch (r) { return console.error(`Error loading route module \`${t.module}\`, reloading page...`), console.error(r), window.__reactRouterContext && window.__reactRouterContext.isSpaMode, window.location.reload(), new Promise(() => { }) } } function d8(t) { return t == null ? !1 : t.href == null ? t.rel === "preload" && typeof t.imageSrcSet == "string" && typeof t.imageSizes == "string" : typeof t.rel == "string" && typeof t.href == "string" } async function f8(t, e, r) { let n = await Promise.all(t.map(async s => { let o = e.routes[s.route.id]; if (o) { let c = await u8(o, r); return c.links ? c.links() : [] } return [] })); return x8(n.flat(1).filter(d8).filter(s => s.rel === "stylesheet" || s.rel === "preload").map(s => s.rel === "stylesheet" ? { ...s, rel: "prefetch", as: "style" } : { ...s, rel: "prefetch" })) } function XO(t, e, r, n, s, o) { let c = (f, h) => r[h] ? f.route.id !== r[h].route.id : !0, u = (f, h) => { var p; return r[h].pathname !== f.pathname || ((p = r[h].route.path) == null ? void 0 : p.endsWith("*")) && r[h].params["*"] !== f.params["*"] }; return o === "assets" ? e.filter((f, h) => c(f, h) || u(f, h)) : o === "data" ? e.filter((f, h) => { var x; let p = n.routes[f.route.id]; if (!p || !p.hasLoader) return !1; if (c(f, h) || u(f, h)) return !0; if (f.route.shouldRevalidate) { let g = f.route.shouldRevalidate({ currentUrl: new URL(s.pathname + s.search + s.hash, window.origin), currentParams: ((x = r[0]) == null ? void 0 : x.params) || {}, nextUrl: new URL(t, window.origin), nextParams: f.params, defaultShouldRevalidate: !0 }); if (typeof g == "boolean") return g } return !0 }) : [] } function h8(t, e, { includeHydrateFallback: r } = {}) { return m8(t.map(n => { let s = e.routes[n.route.id]; if (!s) return []; let o = [s.module]; return s.clientActionModule && (o = o.concat(s.clientActionModule)), s.clientLoaderModule && (o = o.concat(s.clientLoaderModule)), r && s.hydrateFallbackModule && (o = o.concat(s.hydrateFallbackModule)), s.imports && (o = o.concat(s.imports)), o }).flat(1)) } function m8(t) { return [...new Set(t)] } function p8(t) { let e = {}, r = Object.keys(t).sort(); for (let n of r) e[n] = t[n]; return e } function x8(t, e) { let r = new Set; return new Set(e), t.reduce((n, s) => { let o = JSON.stringify(p8(s)); return r.has(o) || (r.add(o), n.push({ key: o, link: s })), n }, []) } function NP() { let t = b.useContext(xc); return AN(t, "You must render this element inside a <DataRouterContext.Provider> element"), t } function g8() { let t = b.useContext(wp); return AN(t, "You must render this element inside a <DataRouterStateContext.Provider> element"), t } var EN = b.createContext(void 0); EN.displayName = "FrameworkContext"; function SP() { let t = b.useContext(EN); return AN(t, "You must render this element inside a <HydratedRouter> element"), t } function y8(t, e) { let r = b.useContext(EN), [n, s] = b.useState(!1), [o, c] = b.useState(!1), { onFocus: u, onBlur: f, onMouseEnter: h, onMouseLeave: p, onTouchStart: x } = e, g = b.useRef(null); b.useEffect(() => { if (t === "render" && c(!0), t === "viewport") { let S = O => { O.forEach(D => { c(D.isIntersecting) }) }, w = new IntersectionObserver(S, { threshold: .5 }); return g.current && w.observe(g.current), () => { w.disconnect() } } }, [t]), b.useEffect(() => { if (n) { let S = setTimeout(() => { c(!0) }, 100); return () => { clearTimeout(S) } } }, [n]); let v = () => { s(!0) }, j = () => { s(!1), c(!1) }; return r ? t !== "intent" ? [o, g, {}] : [o, g, { onFocus: bu(u, v), onBlur: bu(f, j), onMouseEnter: bu(h, v), onMouseLeave: bu(p, j), onTouchStart: bu(x, v) }] : [!1, g, {}] } function bu(t, e) { return r => { t && t(r), r.defaultPrevented || e(r) } } function b8({ page: t, ...e }) { let { router: r } = NP(), n = b.useMemo(() => mP(r.routes, t, r.basename), [r.routes, t, r.basename]); return n ? b.createElement(w8, { page: t, matches: n, ...e }) : null } function v8(t) { let { manifest: e, routeModules: r } = SP(), [n, s] = b.useState([]); return b.useEffect(() => { let o = !1; return f8(t, e, r).then(c => { o || s(c) }), () => { o = !0 } }, [t, e, r]), n } function w8({ page: t, matches: e, ...r }) { let n = Bs(), { manifest: s, routeModules: o } = SP(), { basename: c } = NP(), { loaderData: u, matches: f } = g8(), h = b.useMemo(() => XO(t, e, f, s, n, "data"), [t, e, f, s, n]), p = b.useMemo(() => XO(t, e, f, s, n, "assets"), [t, e, f, s, n]), x = b.useMemo(() => { if (t === n.pathname + n.search + n.hash) return []; let j = new Set, S = !1; if (e.forEach(O => { var R; let D = s.routes[O.route.id]; !D || !D.hasLoader || (!h.some(H => H.route.id === O.route.id) && O.route.id in u && ((R = o[O.route.id]) != null && R.shouldRevalidate) || D.hasClientLoader ? S = !0 : j.add(O.route.id)) }), j.size === 0) return []; let w = c8(t, c, "data"); return S && j.size > 0 && w.searchParams.set("_routes", e.filter(O => j.has(O.route.id)).map(O => O.route.id).join(",")), [w.pathname + w.search] }, [c, u, n, s, h, e, t, o]), g = b.useMemo(() => h8(p, s), [p, s]), v = v8(p); return b.createElement(b.Fragment, null, x.map(j => b.createElement("link", { key: j, rel: "prefetch", as: "fetch", href: j, ...r })), g.map(j => b.createElement("link", { key: j, rel: "modulepreload", href: j, ...r })), v.map(({ key: j, link: S }) => b.createElement("link", { key: j, nonce: r.nonce, ...S }))) } function j8(...t) { return e => { t.forEach(r => { typeof r == "function" ? r(e) : r != null && (r.current = e) }) } } var _P = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u"; try { _P && (window.__reactRouterVersion = "7.10.1") } catch { } function N8({ basename: t, children: e, unstable_useTransitions: r, window: n }) { let s = b.useRef(); s.current == null && (s.current = cL({ window: n, v5Compat: !0 })); let o = s.current, [c, u] = b.useState({ action: o.action, location: o.location }), f = b.useCallback(h => { r === !1 ? u(h) : b.startTransition(() => u(h)) }, [r]); return b.useLayoutEffect(() => o.listen(f), [o, f]), b.createElement(ZL, { basename: t, children: e, location: c.location, navigationType: c.action, navigator: o, unstable_useTransitions: r === !0 }) } var OP = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i, vi = b.forwardRef(function ({ onClick: e, discover: r = "render", prefetch: n = "none", relative: s, reloadDocument: o, replace: c, state: u, target: f, to: h, preventScrollReset: p, viewTransition: x, ...g }, v) { let { basename: j, unstable_useTransitions: S } = b.useContext(oa), w = typeof h == "string" && OP.test(h), O, D = !1; if (typeof h == "string" && w && (O = h, _P)) try { let J = new URL(window.location.href), Q = h.startsWith("//") ? new URL(J.protocol + h) : new URL(h), V = Rs(Q.pathname, j); Q.origin === J.origin && V != null ? h = V + Q.search + Q.hash : D = !0 } catch { ra(!1, `<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`) } let R = LL(h, { relative: s }), [H, C, k] = y8(n, g), F = C8(h, { replace: c, state: u, target: f, preventScrollReset: p, relative: s, viewTransition: x, unstable_useTransitions: S }); function P(J) { e && e(J), J.defaultPrevented || F(J) } let W = b.createElement("a", { ...g, ...k, href: O || R, onClick: D || o ? e : P, ref: j8(v, C), target: f, "data-discover": !w && r === "render" ? "true" : void 0 }); return H && !w ? b.createElement(b.Fragment, null, W, b.createElement(b8, { page: R })) : W }); vi.displayName = "Link"; var S8 = b.forwardRef(function ({ "aria-current": e = "page", caseSensitive: r = !1, className: n = "", end: s = !1, style: o, to: c, viewTransition: u, children: f, ...h }, p) { let x = zd(c, { relative: h.relative }), g = Bs(), v = b.useContext(wp), { navigator: j, basename: S } = b.useContext(oa), w = v != null && T8(x) && u === !0, O = j.encodeLocation ? j.encodeLocation(x).pathname : x.pathname, D = g.pathname, R = v && v.navigation && v.navigation.location ? v.navigation.location.pathname : null; r || (D = D.toLowerCase(), R = R ? R.toLowerCase() : null, O = O.toLowerCase()), R && S && (R = Rs(R, S) || R); const H = O !== "/" && O.endsWith("/") ? O.length - 1 : O.length; let C = D === O || !s && D.startsWith(O) && D.charAt(H) === "/", k = R != null && (R === O || !s && R.startsWith(O) && R.charAt(O.length) === "/"), F = { isActive: C, isPending: k, isTransitioning: w }, P = C ? e : void 0, W; typeof n == "function" ? W = n(F) : W = [n, C ? "active" : null, k ? "pending" : null, w ? "transitioning" : null].filter(Boolean).join(" "); let J = typeof o == "function" ? o(F) : o; return b.createElement(vi, { ...h, "aria-current": P, className: W, ref: p, style: J, to: c, viewTransition: u }, typeof f == "function" ? f(F) : f) }); S8.displayName = "NavLink"; var _8 = b.forwardRef(({ discover: t = "render", fetcherKey: e, navigate: r, reloadDocument: n, replace: s, state: o, method: c = Yh, action: u, onSubmit: f, relative: h, preventScrollReset: p, viewTransition: x, ...g }, v) => { let { unstable_useTransitions: j } = b.useContext(oa), S = E8(), w = D8(u, { relative: h }), O = c.toLowerCase() === "get" ? "get" : "post", D = typeof u == "string" && OP.test(u), R = H => { if (f && f(H), H.defaultPrevented) return; H.preventDefault(); let C = H.nativeEvent.submitter, k = (C == null ? void 0 : C.getAttribute("formmethod")) || c, F = () => S(C || H.currentTarget, { fetcherKey: e, method: k, navigate: r, replace: s, state: o, relative: h, preventScrollReset: p, viewTransition: x }); j && r !== !1 ? b.startTransition(() => F()) : F() }; return b.createElement("form", { ref: v, method: O, action: w, onSubmit: n ? f : R, ...g, "data-discover": !D && t === "render" ? "true" : void 0 }) }); _8.displayName = "Form"; function O8(t) { return `${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.` } function CP(t) { let e = b.useContext(xc); return nr(e, O8(t)), e } function C8(t, { target: e, replace: r, state: n, preventScrollReset: s, relative: o, viewTransition: c, unstable_useTransitions: u } = {}) { let f = jp(), h = Bs(), p = zd(t, { relative: o }); return b.useCallback(x => { if (s8(x, e)) { x.preventDefault(); let g = r !== void 0 ? r : Zu(h) === Zu(p), v = () => f(t, { replace: g, state: n, preventScrollReset: s, relative: o, viewTransition: c }); u ? b.startTransition(() => v()) : v() } }, [h, f, p, r, n, e, t, s, o, c, u]) } var k8 = 0, A8 = () => `__${String(++k8)}__`; function E8() { let { router: t } = CP("useSubmit"), { basename: e } = b.useContext(oa), r = WL(), n = t.fetch, s = t.navigate; return b.useCallback(async (o, c = {}) => { let { action: u, method: f, encType: h, formData: p, body: x } = l8(o, e); if (c.navigate === !1) { let g = c.fetcherKey || A8(); await n(g, r, c.action || u, { preventScrollReset: c.preventScrollReset, formData: p, body: x, formMethod: c.method || f, formEncType: c.encType || h, flushSync: c.flushSync }) } else await s(c.action || u, { preventScrollReset: c.preventScrollReset, formData: p, body: x, formMethod: c.method || f, formEncType: c.encType || h, replace: c.replace, state: c.state, fromRouteId: r, flushSync: c.flushSync, viewTransition: c.viewTransition }) }, [n, s, e, r]) } function D8(t, { relative: e } = {}) { let { basename: r } = b.useContext(oa), n = b.useContext(Ya); nr(n, "useFormAction must be used inside a RouteContext"); let [s] = n.matches.slice(-1), o = { ...zd(t || ".", { relative: e }) }, c = Bs(); if (t == null) { o.search = c.search; let u = new URLSearchParams(o.search), f = u.getAll("index"); if (f.some(p => p === "")) { u.delete("index"), f.filter(x => x).forEach(x => u.append("index", x)); let p = u.toString(); o.search = p ? `?${p}` : "" } } return (!t || t === ".") && s.route.index && (o.search = o.search ? o.search.replace(/^\?/, "?index&") : "?index"), r !== "/" && (o.pathname = o.pathname === "/" ? r : Ds([r, o.pathname])), Zu(o) } function T8(t, { relative: e } = {}) { let r = b.useContext(yP); nr(r != null, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?"); let { basename: n } = CP("useViewTransitionState"), s = zd(t, { relative: e }); if (!r.isTransitioning) return !1; let o = Rs(r.currentLocation.pathname, n) || r.currentLocation.pathname, c = Rs(r.nextLocation.pathname, n) || r.nextLocation.pathname; return am(s.pathname, c) != null || am(s.pathname, o) != null }/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8 = t => t.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase(), kP = (...t) => t.filter((e, r, n) => !!e && e.trim() !== "" && n.indexOf(e) === r).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M8 = { xmlns: "http://www.w3.org/2000/svg", width: 24, height: 24, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round" };/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8 = b.forwardRef(({ color: t = "currentColor", size: e = 24, strokeWidth: r = 2, absoluteStrokeWidth: n, className: s = "", children: o, iconNode: c, ...u }, f) => b.createElement("svg", { ref: f, ...M8, width: e, height: e, stroke: t, strokeWidth: n ? Number(r) * 24 / Number(e) : r, className: kP("lucide", s), ...u }, [...c.map(([h, p]) => b.createElement(h, p)), ...Array.isArray(o) ? o : [o]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge = (t, e) => { const r = b.forwardRef(({ className: n, ...s }, o) => b.createElement(R8, { ref: o, iconNode: e, className: kP(`lucide-${P8(t)}`, n), ...s })); return r.displayName = `${t}`, r };/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8 = [["path", { d: "M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2", key: "169zse" }]], sm = Ge("Activity", $8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8 = [["path", { d: "m7 7 10 10", key: "1fmybs" }], ["path", { d: "M17 7v10H7", key: "6fjiku" }]], L8 = Ge("ArrowDownRight", I8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8 = [["path", { d: "M7 7h10v10", key: "1tivn9" }], ["path", { d: "M7 17 17 7", key: "1vkiza" }]], B8 = Ge("ArrowUpRight", F8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8 = [["rect", { width: "16", height: "10", x: "2", y: "7", rx: "2", ry: "2", key: "1w10f2" }], ["line", { x1: "22", x2: "22", y1: "11", y2: "13", key: "4dh1rd" }]], Vw = Ge("Battery", q8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8 = [["path", { d: "M10.268 21a2 2 0 0 0 3.464 0", key: "vwvbt9" }], ["path", { d: "M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326", key: "11g9vi" }]], Kh = Ge("Bell", z8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8 = [["rect", { width: "16", height: "20", x: "4", y: "2", rx: "2", ry: "2", key: "76otgf" }], ["path", { d: "M9 22v-4h6v4", key: "r93iot" }], ["path", { d: "M8 6h.01", key: "1dz90k" }], ["path", { d: "M16 6h.01", key: "1x0f13" }], ["path", { d: "M12 6h.01", key: "1vi96p" }], ["path", { d: "M12 10h.01", key: "1nrarc" }], ["path", { d: "M12 14h.01", key: "1etili" }], ["path", { d: "M16 10h.01", key: "1m94wz" }], ["path", { d: "M16 14h.01", key: "1gbofw" }], ["path", { d: "M8 10h.01", key: "19clt8" }], ["path", { d: "M8 14h.01", key: "6423bh" }]], JO = Ge("Building", U8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8 = [["path", { d: "M8 2v4", key: "1cmpym" }], ["path", { d: "M16 2v4", key: "4m81vk" }], ["rect", { width: "18", height: "18", x: "3", y: "4", rx: "2", key: "1hopcy" }], ["path", { d: "M3 10h18", key: "8toen8" }], ["path", { d: "M8 14h.01", key: "6423bh" }], ["path", { d: "M12 14h.01", key: "1etili" }], ["path", { d: "M16 14h.01", key: "1gbofw" }], ["path", { d: "M8 18h.01", key: "lrp35t" }], ["path", { d: "M12 18h.01", key: "mhygvu" }], ["path", { d: "M16 18h.01", key: "kzsmim" }]], im = Ge("CalendarDays", H8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8 = [["path", { d: "M8 2v4", key: "1cmpym" }], ["path", { d: "M16 2v4", key: "4m81vk" }], ["rect", { width: "18", height: "18", x: "3", y: "4", rx: "2", key: "1hopcy" }], ["path", { d: "M3 10h18", key: "8toen8" }]], na = Ge("Calendar", V8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8 = [["path", { d: "M3 3v16a2 2 0 0 0 2 2h16", key: "c24i48" }], ["path", { d: "M18 17V9", key: "2bz60n" }], ["path", { d: "M13 17V5", key: "1frdt8" }], ["path", { d: "M8 17v-3", key: "17ska0" }]], Di = Ge("ChartColumn", Y8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8 = [["path", { d: "M3 3v16a2 2 0 0 0 2 2h16", key: "c24i48" }], ["path", { d: "m19 9-5 5-4-4-3 3", key: "2osh9i" }]], K8 = Ge("ChartLine", G8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8 = [["path", { d: "m6 9 6 6 6-6", key: "qrunsl" }]], wi = Ge("ChevronDown", W8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8 = [["path", { d: "m9 18 6-6-6-6", key: "mthhwq" }]], QO = Ge("ChevronRight", X8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8 = [["path", { d: "m18 15-6-6-6 6", key: "153udz" }]], _l = Ge("ChevronUp", J8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8 = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["line", { x1: "12", x2: "12", y1: "8", y2: "12", key: "1pkeuh" }], ["line", { x1: "12", x2: "12.01", y1: "16", y2: "16", key: "4dfq90" }]], ed = Ge("CircleAlert", Q8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8 = [["path", { d: "M21.801 10A10 10 0 1 1 17 3.335", key: "yps3ct" }], ["path", { d: "m9 11 3 3L22 4", key: "1pflzl" }]], DN = Ge("CircleCheckBig", Z8);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["path", { d: "m9 12 2 2 4-4", key: "dzmm74" }]], pt = Ge("CircleCheck", eF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF = [["rect", { width: "8", height: "4", x: "8", y: "2", rx: "1", ry: "1", key: "tgr4d6" }], ["path", { d: "M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2", key: "116196" }], ["path", { d: "m9 14 2 2 4-4", key: "df797q" }]], vh = Ge("ClipboardCheck", tF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF = [["rect", { width: "8", height: "4", x: "8", y: "2", rx: "1", ry: "1", key: "tgr4d6" }], ["path", { d: "M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2", key: "116196" }], ["path", { d: "M12 11h4", key: "1jrz19" }], ["path", { d: "M12 16h4", key: "n85exb" }], ["path", { d: "M8 11h.01", key: "1dfujw" }], ["path", { d: "M8 16h.01", key: "18s6g9" }]], nF = Ge("ClipboardList", rF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["polyline", { points: "12 6 12 12 16 14", key: "68esgv" }]], td = Ge("Clock", aF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF = [["path", { d: "M12 13v8l-4-4", key: "1f5nwf" }], ["path", { d: "m12 21 4-4", key: "1lfcce" }], ["path", { d: "M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284", key: "ui1hmy" }]], iF = Ge("CloudDownload", sF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF = [["rect", { width: "20", height: "14", x: "2", y: "5", rx: "2", key: "ynyp8z" }], ["line", { x1: "2", x2: "22", y1: "10", y2: "10", key: "1b3vmo" }]], _i = Ge("CreditCard", oF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF = [["ellipse", { cx: "12", cy: "5", rx: "9", ry: "3", key: "msslwz" }], ["path", { d: "M3 5V19A9 3 0 0 0 21 19V5", key: "1wlel7" }], ["path", { d: "M3 12A9 3 0 0 0 21 12", key: "mv7ke4" }]], cF = Ge("Database", lF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF = [["line", { x1: "12", x2: "12", y1: "2", y2: "22", key: "7eqyqh" }], ["path", { d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6", key: "1b0p4s" }]], Sp = Ge("DollarSign", uF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF = [["path", { d: "M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49", key: "ct8e1f" }], ["path", { d: "M14.084 14.158a3 3 0 0 1-4.242-4.242", key: "151rxh" }], ["path", { d: "M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143", key: "13bj9a" }], ["path", { d: "m2 2 20 20", key: "1ooewy" }]], fF = Ge("EyeOff", dF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF = [["path", { d: "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0", key: "1nclc0" }], ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }]], ke = Ge("Eye", hF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF = [["path", { d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z", key: "1rqfz7" }], ["path", { d: "M14 2v4a2 2 0 0 0 2 2h4", key: "tnqrlb" }], ["circle", { cx: "10", cy: "12", r: "2", key: "737tya" }], ["path", { d: "m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22", key: "wt3hpn" }]], pF = Ge("FileImage", mF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF = [["path", { d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z", key: "1rqfz7" }], ["path", { d: "M14 2v4a2 2 0 0 0 2 2h4", key: "tnqrlb" }], ["path", { d: "M10 9H8", key: "b1mrlr" }], ["path", { d: "M16 13H8", key: "t4e002" }], ["path", { d: "M16 17H8", key: "z1uh3a" }]], Pn = Ge("FileText", xF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF = [["polygon", { points: "22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3", key: "1yg77f" }]], Yw = Ge("Filter", gF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF = [["path", { d: "m12 14 4-4", key: "9kzdfg" }], ["path", { d: "M3.34 19a10 10 0 1 1 17.32 0", key: "19p75a" }]], ZO = Ge("Gauge", yF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF = [["rect", { width: "18", height: "18", x: "3", y: "3", rx: "2", key: "afitv7" }], ["path", { d: "M3 9h18", key: "1pudct" }], ["path", { d: "M3 15h18", key: "5xshup" }], ["path", { d: "M9 3v18", key: "fh3hqa" }], ["path", { d: "M15 3v18", key: "14nvp0" }]], AP = Ge("Grid3x3", bF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF = [["path", { d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8", key: "1357e3" }], ["path", { d: "M3 3v5h5", key: "1xhq8a" }], ["path", { d: "M12 7v5l4 2", key: "1fdv2h" }]], wt = Ge("History", vF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF = [["path", { d: "M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8", key: "5wwlr5" }], ["path", { d: "M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z", key: "1d0kgt" }]], jF = Ge("House", wF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["path", { d: "M12 16v-4", key: "1dtifu" }], ["path", { d: "M12 8h.01", key: "e9boi3" }]], SF = Ge("Info", NF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F = [["path", { d: "M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z", key: "zw3jo" }], ["path", { d: "M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12", key: "1wduqc" }], ["path", { d: "M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17", key: "kqbvx6" }]], TN = Ge("Layers", _F);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF = [["rect", { x: "3", y: "5", width: "6", height: "6", rx: "1", key: "1defrl" }], ["path", { d: "m3 17 2 2 4-4", key: "1jhpwq" }], ["path", { d: "M13 6h8", key: "15sg57" }], ["path", { d: "M13 12h8", key: "h98zly" }], ["path", { d: "M13 18h8", key: "oe0vm4" }]], Sy = Ge("ListTodo", OF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF = [["path", { d: "M21 12a9 9 0 1 1-6.219-8.56", key: "13zald" }]], kF = Ge("LoaderCircle", CF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF = [["rect", { width: "18", height: "11", x: "3", y: "11", rx: "2", ry: "2", key: "1w4ew1" }], ["path", { d: "M7 11V7a5 5 0 0 1 10 0v4", key: "fwvmzm" }]], EF = Ge("Lock", AF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF = [["path", { d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4", key: "1uf3rs" }], ["polyline", { points: "16 17 21 12 16 7", key: "1gabdz" }], ["line", { x1: "21", x2: "9", y1: "12", y2: "12", key: "1uyos4" }]], eC = Ge("LogOut", DF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF = [["path", { d: "M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0", key: "1r0f0z" }], ["circle", { cx: "12", cy: "10", r: "3", key: "ilqhr7" }]], gr = Ge("MapPin", TF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF = [["polyline", { points: "15 3 21 3 21 9", key: "mznyad" }], ["polyline", { points: "9 21 3 21 3 15", key: "1avn1i" }], ["line", { x1: "21", x2: "14", y1: "3", y2: "10", key: "ota7mn" }], ["line", { x1: "3", x2: "10", y1: "21", y2: "14", key: "1atl0r" }]], EP = Ge("Maximize2", PF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF = [["line", { x1: "4", x2: "20", y1: "12", y2: "12", key: "1e0a9i" }], ["line", { x1: "4", x2: "20", y1: "6", y2: "6", key: "1owob3" }], ["line", { x1: "4", x2: "20", y1: "18", y2: "18", key: "yk5zj1" }]], RF = Ge("Menu", MF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F = [["polyline", { points: "4 14 10 14 10 20", key: "11kfnr" }], ["polyline", { points: "20 10 14 10 14 4", key: "rlmsce" }], ["line", { x1: "14", x2: "21", y1: "10", y2: "3", key: "o5lafz" }], ["line", { x1: "3", x2: "10", y1: "21", y2: "14", key: "1atl0r" }]], DP = Ge("Minimize2", $F);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF = [["rect", { x: "16", y: "16", width: "6", height: "6", rx: "1", key: "4q2zg0" }], ["rect", { x: "2", y: "16", width: "6", height: "6", rx: "1", key: "8cvhb9" }], ["rect", { x: "9", y: "2", width: "6", height: "6", rx: "1", key: "1egb70" }], ["path", { d: "M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3", key: "1jsf9p" }], ["path", { d: "M12 12V8", key: "2874zd" }]], LF = Ge("Network", IF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF = [["path", { d: "M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z", key: "1a0edw" }], ["path", { d: "M12 22V12", key: "d0xqtd" }], ["polyline", { points: "3.29 7 12 12 20.71 7", key: "ousv84" }], ["path", { d: "m7.5 4.27 9 5.15", key: "1c824w" }]], Kr = Ge("Package", FF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF = [["path", { d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z", key: "1a8usu" }]], qF = Ge("Pen", BF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF = [["path", { d: "M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z", key: "foiqr5" }]], or = Ge("Phone", zF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF = [["path", { d: "M5 12h14", key: "1ays0h" }], ["path", { d: "M12 5v14", key: "s699le" }]], TP = Ge("Plus", UF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF = [["path", { d: "M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z", key: "q3az6g" }], ["path", { d: "M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8", key: "1h4pet" }], ["path", { d: "M12 17.5v-11", key: "1jc1ny" }]], Wh = Ge("Receipt", HF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF = [["path", { d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8", key: "v9h5vc" }], ["path", { d: "M21 3v5h-5", key: "1q7to0" }], ["path", { d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16", key: "3uifl3" }], ["path", { d: "M8 16H3v5", key: "1cv678" }]], zl = Ge("RefreshCw", VF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF = [["path", { d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8", key: "1357e3" }], ["path", { d: "M3 3v5h5", key: "1xhq8a" }]], GF = Ge("RotateCcw", YF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF = [["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }], ["path", { d: "m21 21-4.3-4.3", key: "1qie3q" }]], fr = Ge("Search", KF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF = [["path", { d: "M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z", key: "1ffxy3" }], ["path", { d: "m21.854 2.147-10.94 10.939", key: "12cjpa" }]], Xh = Ge("Send", WF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF = [["path", { d: "M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z", key: "1qme2f" }], ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }]], tC = Ge("Settings", XF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF = [["circle", { cx: "8", cy: "21", r: "1", key: "jimo8o" }], ["circle", { cx: "19", cy: "21", r: "1", key: "13723u" }], ["path", { d: "M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12", key: "9zh506" }]], QF = Ge("ShoppingCart", JF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF = [["path", { d: "M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5", key: "1uzm8b" }], ["path", { d: "m9 11 3 3L22 4", key: "1pflzl" }]], eB = Ge("SquareCheckBig", ZF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB = [["circle", { cx: "12", cy: "12", r: "4", key: "4exip2" }], ["path", { d: "M12 2v2", key: "tus03m" }], ["path", { d: "M12 20v2", key: "1lh1kg" }], ["path", { d: "m4.93 4.93 1.41 1.41", key: "149t6j" }], ["path", { d: "m17.66 17.66 1.41 1.41", key: "ptbguv" }], ["path", { d: "M2 12h2", key: "1t8f8n" }], ["path", { d: "M20 12h2", key: "1q8mjw" }], ["path", { d: "m6.34 17.66-1.41 1.41", key: "1m8zz5" }], ["path", { d: "m19.07 4.93-1.41 1.41", key: "1shlcs" }]], om = Ge("Sun", tB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB = [["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }], ["circle", { cx: "12", cy: "12", r: "6", key: "1vlfrh" }], ["circle", { cx: "12", cy: "12", r: "2", key: "1c9p78" }]], nB = Ge("Target", rB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB = [["path", { d: "M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z", key: "17jzev" }]], sB = Ge("Thermometer", aB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB = [["path", { d: "M3 6h18", key: "d0wm0j" }], ["path", { d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6", key: "4alrt4" }], ["path", { d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2", key: "v07s0e" }], ["line", { x1: "10", x2: "10", y1: "11", y2: "17", key: "1uufr5" }], ["line", { x1: "14", x2: "14", y1: "11", y2: "17", key: "xtxkd" }]], rC = Ge("Trash2", iB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB = [["polyline", { points: "22 7 13.5 15.5 8.5 10.5 2 17", key: "126l90" }], ["polyline", { points: "16 7 22 7 22 13", key: "kwv8wd" }]], lB = Ge("TrendingUp", oB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB = [["path", { d: "m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3", key: "wmoenq" }], ["path", { d: "M12 9v4", key: "juzpu7" }], ["path", { d: "M12 17h.01", key: "p32p05" }]], PP = Ge("TriangleAlert", cB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB = [["path", { d: "M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2", key: "wrbu53" }], ["path", { d: "M15 18H9", key: "1lyqi6" }], ["path", { d: "M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14", key: "lysw3i" }], ["circle", { cx: "17", cy: "18", r: "2", key: "332jqn" }], ["circle", { cx: "7", cy: "18", r: "2", key: "19iecd" }]], MP = Ge("Truck", uB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB = [["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }], ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }], ["polyline", { points: "16 11 18 13 22 9", key: "1pwet4" }]], fB = Ge("UserCheck", dB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB = [["path", { d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2", key: "975kel" }], ["circle", { cx: "12", cy: "7", r: "4", key: "17ys0d" }]], Jh = Ge("User", hB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB = [["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }], ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }], ["path", { d: "M22 21v-2a4 4 0 0 0-3-3.87", key: "kshegd" }], ["path", { d: "M16 3.13a4 4 0 0 1 0 7.75", key: "1da9ce" }]], ir = Ge("Users", mB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB = [["path", { d: "M12.8 19.6A2 2 0 1 0 14 16H2", key: "148xed" }], ["path", { d: "M17.5 8a2.5 2.5 0 1 1 2 4H2", key: "1u4tom" }], ["path", { d: "M9.8 4.4A2 2 0 1 1 11 8H2", key: "75valh" }]], xB = Ge("Wind", pB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB = [["path", { d: "M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z", key: "cbrjhi" }]], an = Ge("Wrench", gB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB = [["path", { d: "M18 6 6 18", key: "1bl5f8" }], ["path", { d: "m6 6 12 12", key: "d8bk6v" }]], Pt = Ge("X", yB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB = [["path", { d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z", key: "1xq2db" }]], $s = Ge("Zap", bB), vB = () => { const t = jp(), [e, r] = b.useState(!1), [n, s] = b.useState(!1), [o, c] = b.useState(!1), [u, f] = b.useState({ userCredentials: {}, userRoles: {} }), [h, p] = b.useState({ username: "", password: "" }), [x, g] = b.useState({ show: !1, message: "", type: "" }), v = O => { if (!O) return !1; const D = String(O).toLowerCase().trim(); return D === "inactive" || D === "in active" || D === "inactiv" || D === "in activ" }; b.useEffect(() => { (async () => { const D = "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec"; try { r(!0); const F = (await (await fetch("https://docs.google.com/spreadsheets/d/1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4/gviz/tq?tqx=out:json&sheet=master")).text()).substring(47).slice(0, -2), P = JSON.parse(F), W = {}, J = {}; if (P.table && P.table.rows) { console.log("Raw sheet data:", P.table.rows); for (let V = 1; V < P.table.rows.length; V++) { const ae = P.table.rows[V], ie = ae.c[2] ? String(ae.c[2].v || "").trim().toLowerCase() : "", se = ae.c[3] ? String(ae.c[3].v || "").trim() : "", U = ae.c[4] ? String(ae.c[4].v || "").trim() : "user"; if (console.log(`Processing row ${V}: username=${ie}, password=${se}, role=${U}`), ie && se && se.trim() !== "") { if (v(U)) { console.log(`Skipping inactive user: ${ie} with role: ${U}`); continue } const le = U.toLowerCase(); W[ie] = se, J[ie] = le, console.log(`Added credential for: ${ie}, Role: ${le}`) } } } f({ userCredentials: W, userRoles: J }), console.log("Loaded credentials from master sheet:", Object.keys(W).length), console.log("Credentials map:", W), console.log("Roles map:", J); const Q = Object.entries(J).filter(([, V]) => V === "admin").map(([V]) => V); console.log("Admin users found:", Q) } catch (R) { console.error("Error Fetching Master Data:", R); try { console.log("Trying alternative method..."), (await fetch(D, { method: "GET" })).ok && (console.log("Apps Script is accessible, but getMasterData action needs to be implemented"), w("Unable to load user data. Please contact administrator.", "error")) } catch (H) { console.error("Fallback also failed:", H) } w(`Network error: ${R.message}. Please try again later.`, "error") } finally { r(!1) } })() }, []); const j = O => { const { name: D, value: R } = O.target; p(H => ({ ...H, [D]: R })) }, S = async O => { O.preventDefault(), s(!0); try { const D = h.username.trim().toLowerCase(), R = h.password.trim(); if (console.log("Login Attempt Details:"), console.log("Entered Username:", D), console.log("Entered Password:", R), console.log("Available Credentials Count:", Object.keys(u.userCredentials).length), console.log("Current userCredentials:", u.userCredentials), console.log("Current userRoles:", u.userRoles), D in u.userCredentials) { const H = u.userCredentials[D], C = u.userRoles[D]; if (console.log("Found user in credentials map"), console.log("Expected Password:", H), console.log("Password Match:", H === R), console.log("User Role:", C), H === R) { sessionStorage.setItem("username", D); const k = C === "admin"; console.log(`User ${D} is admin: ${k}`), sessionStorage.setItem("role", k ? "admin" : "user"), k ? (sessionStorage.setItem("department", "all"), sessionStorage.setItem("isAdmin", "true"), console.log("ADMIN LOGIN - Setting full access permissions")) : (sessionStorage.setItem("department", D), sessionStorage.setItem("isAdmin", "false"), console.log("USER LOGIN - Setting restricted access")), t("/dashboard/admin"), w(`Login successful. Welcome, ${D}!`, "success"); return } else w("Username or password is incorrect. Please try again.", "error") } else w("Username or password is incorrect. Please try again.", "error"); console.error("Login Failed", { usernameExists: D in u.userCredentials, passwordMatch: D in u.userCredentials ? "Password did not match" : "Username not found", userRole: u.userRoles[D] || "No role" }) } catch (D) { console.error("Login Error:", D), w(`Login failed: ${D.message}. Please try again.`, "error") } finally { s(!1) } }, w = (O, D) => { g({ show: !0, message: O, type: D }), setTimeout(() => { g({ show: !1, message: "", type: "" }) }, 5e3) }; return a.jsxs("div", { className: "min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-100 p-4", children: [a.jsx("div", { className: "w-full max-w-sm bg-white rounded-2xl shadow-xl border border-gray-200 p-1", children: a.jsxs("div", { className: "bg-white rounded-2xl p-6 shadow-inner", children: [a.jsxs("div", { className: "text-center mb-6", children: [a.jsx("div", { className: "inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4 shadow-lg", children: a.jsx($s, { className: "w-8 h-8 text-white" }) }), a.jsx("h1", { className: "text-3xl font-bold text-gray-800 mb-2", children: "Market Mode" })] }), a.jsxs("form", { onSubmit: S, className: "space-y-4", children: [a.jsxs("div", { className: "space-y-2", children: [a.jsx("label", { htmlFor: "username", className: "block text-gray-700 text-sm font-medium", children: "Username" }), a.jsxs("div", { className: "relative", children: [a.jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: a.jsx(Jh, { className: "h-5 w-5 text-gray-400" }) }), a.jsx("input", { id: "username", name: "username", type: "text", placeholder: "Enter your username", required: !0, value: h.username, onChange: j, className: "w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-300 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200" })] })] }), a.jsxs("div", { className: "space-y-2", children: [a.jsx("label", { htmlFor: "password", className: "block text-gray-700 text-sm font-medium", children: "Password" }), a.jsxs("div", { className: "relative", children: [a.jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: a.jsx(EF, { className: "h-5 w-5 text-gray-400" }) }), a.jsx("input", { id: "password", name: "password", type: o ? "text" : "password", placeholder: "Enter your password", required: !0, value: h.password, onChange: j, className: "w-full pl-10 pr-12 py-3 bg-gray-50 border border-gray-300 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200" }), a.jsx("button", { type: "button", onClick: () => c(!o), className: "absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200", children: o ? a.jsx(fF, { className: "h-5 w-5" }) : a.jsx(ke, { className: "h-5 w-5" }) })] })] }), a.jsx("button", { type: "submit", className: "w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-base font-semibold rounded-lg transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none shadow-lg mt-6", disabled: n || e, children: n ? a.jsxs("div", { className: "flex items-center justify-center", children: [a.jsx("div", { className: "animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2" }), "Signing In..."] }) : e ? a.jsxs("div", { className: "flex items-center justify-center", children: [a.jsx("div", { className: "animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2" }), "Loading..."] }) : "Sign In" })] })] }) }), a.jsx("div", { className: "fixed left-0 right-0 bottom-0 py-1 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-center text-sm shadow-md z-10", children: a.jsxs("a", { href: "https://www.botivate.in/", target: "_blank", rel: "noopener noreferrer", className: "hover:underline", children: ["Powered by-", a.jsx("span", { className: "font-semibold", children: "Botivate" })] }) }), x.show && a.jsx("div", { className: `fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg transition-all duration-300 ${x.type === "success" ? "bg-green-100 text-green-800 border-l-4 border-green-500" : "bg-red-100 text-red-800 border-l-4 border-red-500"}`, children: x.message })] }) }; function ar({ children: t, darkMode: e, toggleDarkMode: r }) { const n = Bs(), s = jp(), [o, c] = b.useState(!1), [u, f] = b.useState(!1), [h, p] = b.useState(""), [x, g] = b.useState(""); b.useEffect(() => { const C = sessionStorage.getItem("username"), k = sessionStorage.getItem("role"); if (!C) { s("/login"); return } p(C), g(k || "user") }, [s]); const v = () => { sessionStorage.removeItem("username"), sessionStorage.removeItem("role"), sessionStorage.removeItem("department"), s("/login") }, j = [{ id: "sales", name: "Checklist", link: "/dashboard/data/sales" }], S = [{ href: "/dashboard/admin", label: "Dashboard", icon: cF, active: n.pathname === "/dashboard/admin", showFor: ["admin", "user"] }, { href: "/dashboard/assign-task", label: "Enquiry Form", icon: Pn, active: n.pathname === "/dashboard/assign-task", showFor: ["admin", "user"] }, { href: "/dashboard/SurveyReport", label: "Site Survey", icon: fr, active: n.pathname === "/dashboard/SurveyReport", showFor: ["admin", "user"] }, { href: "/dashboard/Quotationsend", label: "Quotation Send", icon: Xh, active: n.pathname === "/dashboard/Quotationsend", showFor: ["admin", "user"] }, { href: "/dashboard/Followup", label: "Follow Up", icon: or, active: n.pathname === "/dashboard/Followup", showFor: ["admin", "user"] }, { href: "/dashboard/OrderPlace", label: "Solarkart ", icon: QF, active: n.pathname === "/dashboard/OrderPlace", showFor: ["admin", "user"] }, { href: "/dashboard/IPAssigment", label: "IP Assignment", icon: fB, active: n.pathname === "/dashboard/IPAssigment", showFor: ["admin", "user"] }, { href: "/dashboard/Dispatchmaterial", label: "Dispatch Material", icon: MP, active: n.pathname === "/dashboard/Dispatchmaterial", showFor: ["admin", "user"] }, { href: "/dashboard/InformToCustomer", label: "Inform To Customer", icon: Kh, active: n.pathname === "/dashboard/InformToCustomer", showFor: ["admin", "user"] }, { href: "/dashboard/Materialreceived", label: "Material Received", icon: Kr, active: n.pathname === "/dashboard/Materialreceived", showFor: ["admin", "user"] }, { href: "/dashboard/Installation", label: "Installation", icon: an, active: n.pathname === "/dashboard/Installation", showFor: ["admin", "user"] }, { href: "/dashboard/Billing", label: "Billing", icon: Wh, active: n.pathname === "/dashboard/Billing", showFor: ["admin", "user"] }, { href: "/dashboard/CspdclForSynconization", label: "CSPDCL For Synchronization", icon: $s, active: n.pathname === "/dashboard/CspdclForSynconization", showFor: ["admin", "user"] }, { href: "/dashboard/Inspection", label: "Inspection", icon: DN, active: n.pathname === "/dashboard/Inspection", showFor: ["admin", "user"] }, { href: "/dashboard/ProjectCommissioning", label: "Project Commissioning", icon: eB, active: n.pathname === "/dashboard/ProjectCommissioning", showFor: ["admin", "user"] }, { href: "/dashboard/Redemption", label: "Subsidy e-Token", icon: GF, active: n.pathname === "/dashboard/Redemption", showFor: ["admin", "user"] }, { href: "/dashboard/SubsidyDisbursal", label: "Subsidy Disbursal", icon: Sp, active: n.pathname === "/dashboard/SubsidyDisbursal", showFor: ["admin", "user"] }, { href: "/dashboard/Payment", label: "Payment", icon: _i, active: n.pathname === "/dashboard/Payment", showFor: ["admin", "user"] }, { href: "/dashboard/analysis-graph", label: "Analysis Graph", icon: Di, active: n.pathname === "/dashboard/analysis-graph", showFor: ["admin", "user"] }, { href: "/dashboard/all-graph", label: "All Graph", icon: Di, active: n.pathname === "/dashboard/all-graph", showFor: ["admin", "user"] }, { href: "/dashboard/weekly-performance-report", label: "Weekly Report", icon: Di, active: n.pathname === "/dashboard/weekly-performance-report", showFor: ["admin", "user"] }], w = () => { const C = sessionStorage.getItem("role") || "user"; return j.filter(k => !k.showFor || k.showFor.includes(C)) }, O = () => { const C = sessionStorage.getItem("role") || "user"; return S.filter(k => k.showFor.includes(C)) }, D = n.pathname.includes("/dashboard/data/"); b.useEffect(() => { D && !u && f(!0) }, [D, u]); const R = O(), H = w(); return a.jsxs("div", { className: "flex h-screen overflow-hidden bg-gradient-to-br from-blue-50 to-purple-50", children: [a.jsxs("aside", { className: "hidden w-64 flex-shrink-0 border-r border-blue-200 bg-white md:flex md:flex-col", children: [a.jsx("div", { className: "flex h-14 items-center border-b border-blue-200 px-4 bg-gradient-to-r from-blue-100 to-purple-100", children: a.jsxs(vi, { to: "/dashboard/admin", className: "flex items-center gap-2 font-semibold text-blue-700", children: [a.jsx("div", { className: "w-14 h-14 overflow-hidden rounded", children: a.jsx("img", { src: "/Rbpimage.jpg", alt: "RBP Logo", className: "w-full h-full object-contain" }) }), a.jsx("span", { children: "Market Mode" })] }) }), a.jsx("nav", { className: "flex-1 overflow-y-auto p-2", children: a.jsx("ul", { className: "space-y-1", children: R.map(C => a.jsx("li", { children: C.submenu ? a.jsxs("div", { children: [a.jsxs("button", { onClick: () => f(!u), className: `flex w-full items-center justify-between gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${C.active ? "bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700" : "text-gray-700 hover:bg-blue-50"}`, children: [a.jsxs("div", { className: "flex items-center gap-3", children: [a.jsx(C.icon, { className: `h-4 w-4 ${C.active ? "text-blue-600" : ""}` }), C.label] }), u ? a.jsx(wi, { className: "h-4 w-4" }) : a.jsx(QO, { className: "h-4 w-4" })] }), u && a.jsx("ul", { className: "mt-1 ml-6 space-y-1 border-l border-blue-100 pl-2", children: H.map(k => a.jsx("li", { children: a.jsx(vi, { to: k.link || `/dashboard/data/${k.id}`, className: `flex items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors ${n.pathname === (k.link || `/dashboard/data/${k.id}`) ? "bg-blue-50 text-blue-700 font-medium" : "text-gray-600 hover:bg-blue-50 hover:text-blue-700 "}`, onClick: () => c(!1), children: k.name }) }, k.id)) })] }) : a.jsxs(vi, { to: C.href, className: `flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${C.active ? "bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700" : "text-gray-700 hover:bg-blue-50"}`, children: [a.jsx(C.icon, { className: `h-4 w-4 ${C.active ? "text-blue-600" : ""}` }), C.label] }) }, C.label)) }) }), a.jsx("div", { className: "border-t border-blue-200 p-4 bg-gradient-to-r from-blue-50 to-purple-50 ", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center gap-2", children: [a.jsx("div", { className: "h-8 w-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center", children: a.jsx("span", { className: "text-sm font-medium text-white", children: h ? h.charAt(0).toUpperCase() : "U" }) }), a.jsxs("div", { children: [a.jsxs("p", { className: "text-sm font-medium text-blue-700", children: [h || "User", " ", x === "admin" ? "(Admin)" : ""] }), a.jsx("p", { className: "text-xs text-blue-600", children: h ? `${h.toLowerCase()}@example.com` : "user@example.com" })] })] }), a.jsxs("div", { className: "flex items-center gap-2", children: [r && a.jsxs("button", { onClick: r, className: "text-blue-700 hover:text-blue-900 p-1 rounded-full hover:bg-blue-100", children: [e ? a.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", className: "h-4 w-4", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: a.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" }) }) : a.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", className: "h-4 w-4", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: a.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M20.354 15.354A9 9 0 018.646 3.646A9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" }) }), a.jsx("span", { className: "sr-only", children: e ? "Light mode" : "Dark mode" })] }), a.jsxs("button", { onClick: v, className: "text-blue-700 hover:text-blue-900 p-1 rounded-full hover:bg-blue-100", children: [a.jsx(eC, { className: "h-4 w-4" }), a.jsx("span", { className: "sr-only", children: "Log out" })] })] })] }) })] }), a.jsxs("button", { onClick: () => c(!o), className: "md:hidden absolute left-4 top-3 z-50 text-blue-700 p-2 rounded-md hover:bg-blue-100", children: [a.jsx(RF, { className: "h-5 w-5" }), a.jsx("span", { className: "sr-only", children: "Toggle menu" })] }), o && a.jsxs("div", { className: "fixed inset-0 z-40 md:hidden", children: [a.jsx("div", { className: "fixed inset-0 bg-black/20", onClick: () => c(!1) }), a.jsxs("div", { className: "fixed inset-y-0 left-0 w-64 bg-white shadow-lg", children: [a.jsx("div", { className: "flex h-14 items-center border-b border-blue-200 px-4 bg-gradient-to-r from-blue-100 to-purple-100", children: a.jsxs(vi, { to: "/dashboard/admin", className: "flex items-center gap-2 font-semibold text-blue-700", onClick: () => c(!1), children: [a.jsx(nF, { className: "h-5 w-5 text-blue-600" }), a.jsx("span", { children: "Market Mode" })] }) }), a.jsx("nav", { className: "flex-1 overflow-y-auto p-2 bg-white", children: a.jsx("ul", { className: "space-y-1", children: R.map(C => a.jsx("li", { children: C.submenu ? a.jsxs("div", { children: [a.jsxs("button", { onClick: () => f(!u), className: `flex w-full items-center justify-between gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${C.active ? "bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700" : "text-gray-700 hover:bg-blue-50"}`, children: [a.jsxs("div", { className: "flex items-center gap-3", children: [a.jsx(C.icon, { className: `h-4 w-4 ${C.active ? "text-blue-600" : ""}` }), C.label] }), u ? a.jsx(wi, { className: "h-4 w-4" }) : a.jsx(QO, { className: "h-4 w-4" })] }), u && a.jsx("ul", { className: "mt-1 ml-6 space-y-1 border-l border-blue-100 pl-2", children: H.map(k => a.jsx("li", { children: a.jsx(vi, { to: k.link || `/dashboard/data/${k.id}`, className: `flex items-center gap-2 rounded-md px-3 py-2 text-sm transition-colors ${n.pathname === (k.link || `/dashboard/data/${k.id}`) ? "bg-blue-50 text-blue-700 font-medium" : "text-gray-600 hover:bg-blue-50 hover:text-blue-700"}`, onClick: () => c(!1), children: k.name }) }, k.id)) })] }) : a.jsxs(vi, { to: C.href, className: `flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors ${C.active ? "bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700" : "text-gray-700 hover:bg-blue-50"}`, onClick: () => c(!1), children: [a.jsx(C.icon, { className: `h-4 w-4 ${C.active ? "text-blue-600" : ""}` }), C.label] }) }, C.label)) }) }), a.jsx("div", { className: "border-t border-blue-200 p-4 bg-gradient-to-r from-blue-50 to-purple-50", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center gap-2", children: [a.jsx("div", { className: "h-8 w-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center", children: a.jsx("span", { className: "text-sm font-medium text-white", children: h ? h.charAt(0).toUpperCase() : "U" }) }), a.jsxs("div", { children: [a.jsxs("p", { className: "text-sm font-medium text-blue-700", children: [h || "User", " ", x === "admin" ? "(Admin)" : ""] }), a.jsx("p", { className: "text-xs text-blue-600", children: h ? `${h.toLowerCase()}@example.com` : "user@example.com" })] })] }), a.jsxs("div", { className: "flex items-center gap-2", children: [r && a.jsxs("button", { onClick: r, className: "text-blue-700 hover:text-blue-900 p-1 rounded-full hover:bg-blue-100", children: [e ? a.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", className: "h-4 w-4", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: a.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" }) }) : a.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", className: "h-4 w-4", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: a.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M20.354 15.354A9 9 0 018.646 3.646A9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" }) }), a.jsx("span", { className: "sr-only", children: e ? "Light mode" : "Dark mode" })] }), a.jsxs("button", { onClick: v, className: "text-blue-700 hover:text-blue-900 p-1 rounded-full hover:bg-blue-100 ", children: [a.jsx(eC, { className: "h-4 w-4" }), a.jsx("span", { className: "sr-only", children: "Log out" })] })] })] }) })] })] }), a.jsxs("div", { className: "flex flex-1 flex-col overflow-hidden", children: [a.jsxs("header", { className: "flex h-14 items-center justify-between border-b border-blue-200 bg-white px-4 md:px-6", children: [a.jsx("div", { className: "flex md:hidden w-8" }), a.jsx("h1", { className: "text-lg font-semibold text-blue-700", children: "Market Mode" }), a.jsx("div", { className: "w-8" })] }), a.jsxs("main", { className: "flex-1 overflow-y-auto p-4 md:p-6 bg-gradient-to-br from-blue-50 to-purple-50", children: [t, a.jsx("div", { className: "fixed md:left-64 left-0 right-0 bottom-0 py-1 px-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-center text-sm shadow-md z-10", children: a.jsxs("a", { href: "https://www.botivate.in/", target: "_blank", rel: "noopener noreferrer", className: "hover:underline", children: ["Powered by-", a.jsx("span", { className: "font-semibold", children: "Botivate" })] }) })] })] })] }) } function RP(t) { var e, r, n = ""; if (typeof t == "string" || typeof t == "number") n += t; else if (typeof t == "object") if (Array.isArray(t)) { var s = t.length; for (e = 0; e < s; e++)t[e] && (r = RP(t[e])) && (n && (n += " "), n += r) } else for (r in t) t[r] && (n && (n += " "), n += r); return n } function ct() { for (var t, e, r = 0, n = "", s = arguments.length; r < s; r++)(t = arguments[r]) && (e = RP(t)) && (n && (n += " "), n += e); return n } var _y, nC; function yn() { if (nC) return _y; nC = 1; var t = Array.isArray; return _y = t, _y } var Oy, aC; function $P() { if (aC) return Oy; aC = 1; var t = typeof yh == "object" && yh && yh.Object === Object && yh; return Oy = t, Oy } var Cy, sC; function Ga() { if (sC) return Cy; sC = 1; var t = $P(), e = typeof self == "object" && self && self.Object === Object && self, r = t || e || Function("return this")(); return Cy = r, Cy } var ky, iC; function Ud() { if (iC) return ky; iC = 1; var t = Ga(), e = t.Symbol; return ky = e, ky } var Ay, oC; function wB() { if (oC) return Ay; oC = 1; var t = Ud(), e = Object.prototype, r = e.hasOwnProperty, n = e.toString, s = t ? t.toStringTag : void 0; function o(c) { var u = r.call(c, s), f = c[s]; try { c[s] = void 0; var h = !0 } catch { } var p = n.call(c); return h && (u ? c[s] = f : delete c[s]), p } return Ay = o, Ay } var Ey, lC; function jB() { if (lC) return Ey; lC = 1; var t = Object.prototype, e = t.toString; function r(n) { return e.call(n) } return Ey = r, Ey } var Dy, cC; function qs() { if (cC) return Dy; cC = 1; var t = Ud(), e = wB(), r = jB(), n = "[object Null]", s = "[object Undefined]", o = t ? t.toStringTag : void 0; function c(u) { return u == null ? u === void 0 ? s : n : o && o in Object(u) ? e(u) : r(u) } return Dy = c, Dy } var Ty, uC; function zs() { if (uC) return Ty; uC = 1; function t(e) { return e != null && typeof e == "object" } return Ty = t, Ty } var Py, dC; function yc() { if (dC) return Py; dC = 1; var t = qs(), e = zs(), r = "[object Symbol]"; function n(s) { return typeof s == "symbol" || e(s) && t(s) == r } return Py = n, Py } var My, fC; function PN() { if (fC) return My; fC = 1; var t = yn(), e = yc(), r = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, n = /^\w*$/; function s(o, c) { if (t(o)) return !1; var u = typeof o; return u == "number" || u == "symbol" || u == "boolean" || o == null || e(o) ? !0 : n.test(o) || !r.test(o) || c != null && o in Object(c) } return My = s, My } var Ry, hC; function Ii() { if (hC) return Ry; hC = 1; function t(e) { var r = typeof e; return e != null && (r == "object" || r == "function") } return Ry = t, Ry } var $y, mC; function MN() { if (mC) return $y; mC = 1; var t = qs(), e = Ii(), r = "[object AsyncFunction]", n = "[object Function]", s = "[object GeneratorFunction]", o = "[object Proxy]"; function c(u) { if (!e(u)) return !1; var f = t(u); return f == n || f == s || f == r || f == o } return $y = c, $y } var Iy, pC; function NB() { if (pC) return Iy; pC = 1; var t = Ga(), e = t["__core-js_shared__"]; return Iy = e, Iy } var Ly, xC; function SB() { if (xC) return Ly; xC = 1; var t = NB(), e = (function () { var n = /[^.]+$/.exec(t && t.keys && t.keys.IE_PROTO || ""); return n ? "Symbol(src)_1." + n : "" })(); function r(n) { return !!e && e in n } return Ly = r, Ly } var Fy, gC; function IP() { if (gC) return Fy; gC = 1; var t = Function.prototype, e = t.toString; function r(n) { if (n != null) { try { return e.call(n) } catch { } try { return n + "" } catch { } } return "" } return Fy = r, Fy } var By, yC; function _B() { if (yC) return By; yC = 1; var t = MN(), e = SB(), r = Ii(), n = IP(), s = /[\\^$.*+?()[\]{}|]/g, o = /^\[object .+?Constructor\]$/, c = Function.prototype, u = Object.prototype, f = c.toString, h = u.hasOwnProperty, p = RegExp("^" + f.call(h).replace(s, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"); function x(g) { if (!r(g) || e(g)) return !1; var v = t(g) ? p : o; return v.test(n(g)) } return By = x, By } var qy, bC; function OB() { if (bC) return qy; bC = 1; function t(e, r) { return e == null ? void 0 : e[r] } return qy = t, qy } var zy, vC; function Lo() { if (vC) return zy; vC = 1; var t = _B(), e = OB(); function r(n, s) { var o = e(n, s); return t(o) ? o : void 0 } return zy = r, zy } var Uy, wC; function _p() { if (wC) return Uy; wC = 1; var t = Lo(), e = t(Object, "create"); return Uy = e, Uy } var Hy, jC; function CB() { if (jC) return Hy; jC = 1; var t = _p(); function e() { this.__data__ = t ? t(null) : {}, this.size = 0 } return Hy = e, Hy } var Vy, NC; function kB() { if (NC) return Vy; NC = 1; function t(e) { var r = this.has(e) && delete this.__data__[e]; return this.size -= r ? 1 : 0, r } return Vy = t, Vy } var Yy, SC; function AB() { if (SC) return Yy; SC = 1; var t = _p(), e = "__lodash_hash_undefined__", r = Object.prototype, n = r.hasOwnProperty; function s(o) { var c = this.__data__; if (t) { var u = c[o]; return u === e ? void 0 : u } return n.call(c, o) ? c[o] : void 0 } return Yy = s, Yy } var Gy, _C; function EB() { if (_C) return Gy; _C = 1; var t = _p(), e = Object.prototype, r = e.hasOwnProperty; function n(s) { var o = this.__data__; return t ? o[s] !== void 0 : r.call(o, s) } return Gy = n, Gy } var Ky, OC; function DB() { if (OC) return Ky; OC = 1; var t = _p(), e = "__lodash_hash_undefined__"; function r(n, s) { var o = this.__data__; return this.size += this.has(n) ? 0 : 1, o[n] = t && s === void 0 ? e : s, this } return Ky = r, Ky } var Wy, CC; function TB() { if (CC) return Wy; CC = 1; var t = CB(), e = kB(), r = AB(), n = EB(), s = DB(); function o(c) { var u = -1, f = c == null ? 0 : c.length; for (this.clear(); ++u < f;) { var h = c[u]; this.set(h[0], h[1]) } } return o.prototype.clear = t, o.prototype.delete = e, o.prototype.get = r, o.prototype.has = n, o.prototype.set = s, Wy = o, Wy } var Xy, kC; function PB() { if (kC) return Xy; kC = 1; function t() { this.__data__ = [], this.size = 0 } return Xy = t, Xy } var Jy, AC; function RN() { if (AC) return Jy; AC = 1; function t(e, r) { return e === r || e !== e && r !== r } return Jy = t, Jy } var Qy, EC; function Op() { if (EC) return Qy; EC = 1; var t = RN(); function e(r, n) { for (var s = r.length; s--;)if (t(r[s][0], n)) return s; return -1 } return Qy = e, Qy } var Zy, DC; function MB() { if (DC) return Zy; DC = 1; var t = Op(), e = Array.prototype, r = e.splice; function n(s) { var o = this.__data__, c = t(o, s); if (c < 0) return !1; var u = o.length - 1; return c == u ? o.pop() : r.call(o, c, 1), --this.size, !0 } return Zy = n, Zy } var e0, TC; function RB() { if (TC) return e0; TC = 1; var t = Op(); function e(r) { var n = this.__data__, s = t(n, r); return s < 0 ? void 0 : n[s][1] } return e0 = e, e0 } var t0, PC; function $B() { if (PC) return t0; PC = 1; var t = Op(); function e(r) { return t(this.__data__, r) > -1 } return t0 = e, t0 } var r0, MC; function IB() { if (MC) return r0; MC = 1; var t = Op(); function e(r, n) { var s = this.__data__, o = t(s, r); return o < 0 ? (++this.size, s.push([r, n])) : s[o][1] = n, this } return r0 = e, r0 } var n0, RC; function Cp() { if (RC) return n0; RC = 1; var t = PB(), e = MB(), r = RB(), n = $B(), s = IB(); function o(c) { var u = -1, f = c == null ? 0 : c.length; for (this.clear(); ++u < f;) { var h = c[u]; this.set(h[0], h[1]) } } return o.prototype.clear = t, o.prototype.delete = e, o.prototype.get = r, o.prototype.has = n, o.prototype.set = s, n0 = o, n0 } var a0, $C; function $N() { if ($C) return a0; $C = 1; var t = Lo(), e = Ga(), r = t(e, "Map"); return a0 = r, a0 } var s0, IC; function LB() { if (IC) return s0; IC = 1; var t = TB(), e = Cp(), r = $N(); function n() { this.size = 0, this.__data__ = { hash: new t, map: new (r || e), string: new t } } return s0 = n, s0 } var i0, LC; function FB() { if (LC) return i0; LC = 1; function t(e) { var r = typeof e; return r == "string" || r == "number" || r == "symbol" || r == "boolean" ? e !== "__proto__" : e === null } return i0 = t, i0 } var o0, FC; function kp() { if (FC) return o0; FC = 1; var t = FB(); function e(r, n) { var s = r.__data__; return t(n) ? s[typeof n == "string" ? "string" : "hash"] : s.map } return o0 = e, o0 } var l0, BC; function BB() { if (BC) return l0; BC = 1; var t = kp(); function e(r) { var n = t(this, r).delete(r); return this.size -= n ? 1 : 0, n } return l0 = e, l0 } var c0, qC; function qB() { if (qC) return c0; qC = 1; var t = kp(); function e(r) { return t(this, r).get(r) } return c0 = e, c0 } var u0, zC; function zB() { if (zC) return u0; zC = 1; var t = kp(); function e(r) { return t(this, r).has(r) } return u0 = e, u0 } var d0, UC; function UB() { if (UC) return d0; UC = 1; var t = kp(); function e(r, n) { var s = t(this, r), o = s.size; return s.set(r, n), this.size += s.size == o ? 0 : 1, this } return d0 = e, d0 } var f0, HC; function IN() { if (HC) return f0; HC = 1; var t = LB(), e = BB(), r = qB(), n = zB(), s = UB(); function o(c) { var u = -1, f = c == null ? 0 : c.length; for (this.clear(); ++u < f;) { var h = c[u]; this.set(h[0], h[1]) } } return o.prototype.clear = t, o.prototype.delete = e, o.prototype.get = r, o.prototype.has = n, o.prototype.set = s, f0 = o, f0 } var h0, VC; function LP() { if (VC) return h0; VC = 1; var t = IN(), e = "Expected a function"; function r(n, s) { if (typeof n != "function" || s != null && typeof s != "function") throw new TypeError(e); var o = function () { var c = arguments, u = s ? s.apply(this, c) : c[0], f = o.cache; if (f.has(u)) return f.get(u); var h = n.apply(this, c); return o.cache = f.set(u, h) || f, h }; return o.cache = new (r.Cache || t), o } return r.Cache = t, h0 = r, h0 } var m0, YC; function HB() { if (YC) return m0; YC = 1; var t = LP(), e = 500; function r(n) { var s = t(n, function (c) { return o.size === e && o.clear(), c }), o = s.cache; return s } return m0 = r, m0 } var p0, GC; function VB() { if (GC) return p0; GC = 1; var t = HB(), e = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, r = /\\(\\)?/g, n = t(function (s) { var o = []; return s.charCodeAt(0) === 46 && o.push(""), s.replace(e, function (c, u, f, h) { o.push(f ? h.replace(r, "$1") : u || c) }), o }); return p0 = n, p0 } var x0, KC; function LN() { if (KC) return x0; KC = 1; function t(e, r) { for (var n = -1, s = e == null ? 0 : e.length, o = Array(s); ++n < s;)o[n] = r(e[n], n, e); return o } return x0 = t, x0 } var g0, WC; function YB() { if (WC) return g0; WC = 1; var t = Ud(), e = LN(), r = yn(), n = yc(), s = t ? t.prototype : void 0, o = s ? s.toString : void 0; function c(u) { if (typeof u == "string") return u; if (r(u)) return e(u, c) + ""; if (n(u)) return o ? o.call(u) : ""; var f = u + ""; return f == "0" && 1 / u == -1 / 0 ? "-0" : f } return g0 = c, g0 } var y0, XC; function FP() { if (XC) return y0; XC = 1; var t = YB(); function e(r) { return r == null ? "" : t(r) } return y0 = e, y0 } var b0, JC; function BP() { if (JC) return b0; JC = 1; var t = yn(), e = PN(), r = VB(), n = FP(); function s(o, c) { return t(o) ? o : e(o, c) ? [o] : r(n(o)) } return b0 = s, b0 } var v0, QC; function Ap() { if (QC) return v0; QC = 1; var t = yc(); function e(r) { if (typeof r == "string" || t(r)) return r; var n = r + ""; return n == "0" && 1 / r == -1 / 0 ? "-0" : n } return v0 = e, v0 } var w0, ZC; function FN() { if (ZC) return w0; ZC = 1; var t = BP(), e = Ap(); function r(n, s) { s = t(s, n); for (var o = 0, c = s.length; n != null && o < c;)n = n[e(s[o++])]; return o && o == c ? n : void 0 } return w0 = r, w0 } var j0, e3; function qP() { if (e3) return j0; e3 = 1; var t = FN(); function e(r, n, s) { var o = r == null ? void 0 : t(r, n); return o === void 0 ? s : o } return j0 = e, j0 } var GB = qP(); const Rn = It(GB); var N0, t3; function KB() { if (t3) return N0; t3 = 1; function t(e) { return e == null } return N0 = t, N0 } var WB = KB(); const ot = It(WB); var S0, r3; function XB() { if (r3) return S0; r3 = 1; var t = qs(), e = yn(), r = zs(), n = "[object String]"; function s(o) { return typeof o == "string" || !e(o) && r(o) && t(o) == n } return S0 = s, S0 } var JB = XB(); const Ao = It(JB); var QB = MN(); const it = It(QB); var ZB = Ii(); const bc = It(ZB); var _0 = { exports: {} }, Et = {};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3; function e9() { if (n3) return Et; n3 = 1; var t = Symbol.for("react.element"), e = Symbol.for("react.portal"), r = Symbol.for("react.fragment"), n = Symbol.for("react.strict_mode"), s = Symbol.for("react.profiler"), o = Symbol.for("react.provider"), c = Symbol.for("react.context"), u = Symbol.for("react.server_context"), f = Symbol.for("react.forward_ref"), h = Symbol.for("react.suspense"), p = Symbol.for("react.suspense_list"), x = Symbol.for("react.memo"), g = Symbol.for("react.lazy"), v = Symbol.for("react.offscreen"), j; j = Symbol.for("react.module.reference"); function S(w) { if (typeof w == "object" && w !== null) { var O = w.$$typeof; switch (O) { case t: switch (w = w.type, w) { case r: case s: case n: case h: case p: return w; default: switch (w = w && w.$$typeof, w) { case u: case c: case f: case g: case x: case o: return w; default: return O } }case e: return O } } } return Et.ContextConsumer = c, Et.ContextProvider = o, Et.Element = t, Et.ForwardRef = f, Et.Fragment = r, Et.Lazy = g, Et.Memo = x, Et.Portal = e, Et.Profiler = s, Et.StrictMode = n, Et.Suspense = h, Et.SuspenseList = p, Et.isAsyncMode = function () { return !1 }, Et.isConcurrentMode = function () { return !1 }, Et.isContextConsumer = function (w) { return S(w) === c }, Et.isContextProvider = function (w) { return S(w) === o }, Et.isElement = function (w) { return typeof w == "object" && w !== null && w.$$typeof === t }, Et.isForwardRef = function (w) { return S(w) === f }, Et.isFragment = function (w) { return S(w) === r }, Et.isLazy = function (w) { return S(w) === g }, Et.isMemo = function (w) { return S(w) === x }, Et.isPortal = function (w) { return S(w) === e }, Et.isProfiler = function (w) { return S(w) === s }, Et.isStrictMode = function (w) { return S(w) === n }, Et.isSuspense = function (w) { return S(w) === h }, Et.isSuspenseList = function (w) { return S(w) === p }, Et.isValidElementType = function (w) { return typeof w == "string" || typeof w == "function" || w === r || w === s || w === n || w === h || w === p || w === v || typeof w == "object" && w !== null && (w.$$typeof === g || w.$$typeof === x || w.$$typeof === o || w.$$typeof === c || w.$$typeof === f || w.$$typeof === j || w.getModuleId !== void 0) }, Et.typeOf = S, Et } var a3; function t9() { return a3 || (a3 = 1, _0.exports = e9()), _0.exports } var r9 = t9(), O0, s3; function zP() { if (s3) return O0; s3 = 1; var t = qs(), e = zs(), r = "[object Number]"; function n(s) { return typeof s == "number" || e(s) && t(s) == r } return O0 = n, O0 } var C0, i3; function n9() { if (i3) return C0; i3 = 1; var t = zP(); function e(r) { return t(r) && r != +r } return C0 = e, C0 } var a9 = n9(); const vc = It(a9); var s9 = zP(); const i9 = It(s9); var sn = function (e) { return e === 0 ? 0 : e > 0 ? 1 : -1 }, bo = function (e) { return Ao(e) && e.indexOf("%") === e.length - 1 }, Le = function (e) { return i9(e) && !vc(e) }, o9 = function (e) { return ot(e) }, Er = function (e) { return Le(e) || Ao(e) }, l9 = 0, Fo = function (e) { var r = ++l9; return "".concat(e || "").concat(r) }, on = function (e, r) { var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0, s = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1; if (!Le(e) && !Ao(e)) return n; var o; if (bo(e)) { var c = e.indexOf("%"); o = r * parseFloat(e.slice(0, c)) / 100 } else o = +e; return vc(o) && (o = n), s && o > r && (o = r), o }, Si = function (e) { if (!e) return null; var r = Object.keys(e); return r && r.length ? e[r[0]] : null }, c9 = function (e) { if (!Array.isArray(e)) return !1; for (var r = e.length, n = {}, s = 0; s < r; s++)if (!n[e[s]]) n[e[s]] = !0; else return !0; return !1 }, Ar = function (e, r) { return Le(e) && Le(r) ? function (n) { return e + n * (r - e) } : function () { return r } }; function lm(t, e, r) { return !t || !t.length ? null : t.find(function (n) { return n && (typeof e == "function" ? e(n) : Rn(n, e)) === r }) } var u9 = function (e, r) { return Le(e) && Le(r) ? e - r : Ao(e) && Ao(r) ? e.localeCompare(r) : e instanceof Date && r instanceof Date ? e.getTime() - r.getTime() : String(e).localeCompare(String(r)) }; function Il(t, e) { for (var r in t) if ({}.hasOwnProperty.call(t, r) && (!{}.hasOwnProperty.call(e, r) || t[r] !== e[r])) return !1; for (var n in e) if ({}.hasOwnProperty.call(e, n) && !{}.hasOwnProperty.call(t, n)) return !1; return !0 } function Gw(t) { "@babel/helpers - typeof"; return Gw = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Gw(t) } var d9 = ["viewBox", "children"], f9 = ["aria-activedescendant", "aria-atomic", "aria-autocomplete", "aria-busy", "aria-checked", "aria-colcount", "aria-colindex", "aria-colspan", "aria-controls", "aria-current", "aria-describedby", "aria-details", "aria-disabled", "aria-errormessage", "aria-expanded", "aria-flowto", "aria-haspopup", "aria-hidden", "aria-invalid", "aria-keyshortcuts", "aria-label", "aria-labelledby", "aria-level", "aria-live", "aria-modal", "aria-multiline", "aria-multiselectable", "aria-orientation", "aria-owns", "aria-placeholder", "aria-posinset", "aria-pressed", "aria-readonly", "aria-relevant", "aria-required", "aria-roledescription", "aria-rowcount", "aria-rowindex", "aria-rowspan", "aria-selected", "aria-setsize", "aria-sort", "aria-valuemax", "aria-valuemin", "aria-valuenow", "aria-valuetext", "className", "color", "height", "id", "lang", "max", "media", "method", "min", "name", "style", "target", "width", "role", "tabIndex", "accentHeight", "accumulate", "additive", "alignmentBaseline", "allowReorder", "alphabetic", "amplitude", "arabicForm", "ascent", "attributeName", "attributeType", "autoReverse", "azimuth", "baseFrequency", "baselineShift", "baseProfile", "bbox", "begin", "bias", "by", "calcMode", "capHeight", "clip", "clipPath", "clipPathUnits", "clipRule", "colorInterpolation", "colorInterpolationFilters", "colorProfile", "colorRendering", "contentScriptType", "contentStyleType", "cursor", "cx", "cy", "d", "decelerate", "descent", "diffuseConstant", "direction", "display", "divisor", "dominantBaseline", "dur", "dx", "dy", "edgeMode", "elevation", "enableBackground", "end", "exponent", "externalResourcesRequired", "fill", "fillOpacity", "fillRule", "filter", "filterRes", "filterUnits", "floodColor", "floodOpacity", "focusable", "fontFamily", "fontSize", "fontSizeAdjust", "fontStretch", "fontStyle", "fontVariant", "fontWeight", "format", "from", "fx", "fy", "g1", "g2", "glyphName", "glyphOrientationHorizontal", "glyphOrientationVertical", "glyphRef", "gradientTransform", "gradientUnits", "hanging", "horizAdvX", "horizOriginX", "href", "ideographic", "imageRendering", "in2", "in", "intercept", "k1", "k2", "k3", "k4", "k", "kernelMatrix", "kernelUnitLength", "kerning", "keyPoints", "keySplines", "keyTimes", "lengthAdjust", "letterSpacing", "lightingColor", "limitingConeAngle", "local", "markerEnd", "markerHeight", "markerMid", "markerStart", "markerUnits", "markerWidth", "mask", "maskContentUnits", "maskUnits", "mathematical", "mode", "numOctaves", "offset", "opacity", "operator", "order", "orient", "orientation", "origin", "overflow", "overlinePosition", "overlineThickness", "paintOrder", "panose1", "pathLength", "patternContentUnits", "patternTransform", "patternUnits", "pointerEvents", "pointsAtX", "pointsAtY", "pointsAtZ", "preserveAlpha", "preserveAspectRatio", "primitiveUnits", "r", "radius", "refX", "refY", "renderingIntent", "repeatCount", "repeatDur", "requiredExtensions", "requiredFeatures", "restart", "result", "rotate", "rx", "ry", "seed", "shapeRendering", "slope", "spacing", "specularConstant", "specularExponent", "speed", "spreadMethod", "startOffset", "stdDeviation", "stemh", "stemv", "stitchTiles", "stopColor", "stopOpacity", "strikethroughPosition", "strikethroughThickness", "string", "stroke", "strokeDasharray", "strokeDashoffset", "strokeLinecap", "strokeLinejoin", "strokeMiterlimit", "strokeOpacity", "strokeWidth", "surfaceScale", "systemLanguage", "tableValues", "targetX", "targetY", "textAnchor", "textDecoration", "textLength", "textRendering", "to", "transform", "u1", "u2", "underlinePosition", "underlineThickness", "unicode", "unicodeBidi", "unicodeRange", "unitsPerEm", "vAlphabetic", "values", "vectorEffect", "version", "vertAdvY", "vertOriginX", "vertOriginY", "vHanging", "vIdeographic", "viewTarget", "visibility", "vMathematical", "widths", "wordSpacing", "writingMode", "x1", "x2", "x", "xChannelSelector", "xHeight", "xlinkActuate", "xlinkArcrole", "xlinkHref", "xlinkRole", "xlinkShow", "xlinkTitle", "xlinkType", "xmlBase", "xmlLang", "xmlns", "xmlnsXlink", "xmlSpace", "y1", "y2", "y", "yChannelSelector", "z", "zoomAndPan", "ref", "key", "angle"], o3 = ["points", "pathLength"], k0 = { svg: d9, polygon: o3, polyline: o3 }, BN = ["dangerouslySetInnerHTML", "onCopy", "onCopyCapture", "onCut", "onCutCapture", "onPaste", "onPasteCapture", "onCompositionEnd", "onCompositionEndCapture", "onCompositionStart", "onCompositionStartCapture", "onCompositionUpdate", "onCompositionUpdateCapture", "onFocus", "onFocusCapture", "onBlur", "onBlurCapture", "onChange", "onChangeCapture", "onBeforeInput", "onBeforeInputCapture", "onInput", "onInputCapture", "onReset", "onResetCapture", "onSubmit", "onSubmitCapture", "onInvalid", "onInvalidCapture", "onLoad", "onLoadCapture", "onError", "onErrorCapture", "onKeyDown", "onKeyDownCapture", "onKeyPress", "onKeyPressCapture", "onKeyUp", "onKeyUpCapture", "onAbort", "onAbortCapture", "onCanPlay", "onCanPlayCapture", "onCanPlayThrough", "onCanPlayThroughCapture", "onDurationChange", "onDurationChangeCapture", "onEmptied", "onEmptiedCapture", "onEncrypted", "onEncryptedCapture", "onEnded", "onEndedCapture", "onLoadedData", "onLoadedDataCapture", "onLoadedMetadata", "onLoadedMetadataCapture", "onLoadStart", "onLoadStartCapture", "onPause", "onPauseCapture", "onPlay", "onPlayCapture", "onPlaying", "onPlayingCapture", "onProgress", "onProgressCapture", "onRateChange", "onRateChangeCapture", "onSeeked", "onSeekedCapture", "onSeeking", "onSeekingCapture", "onStalled", "onStalledCapture", "onSuspend", "onSuspendCapture", "onTimeUpdate", "onTimeUpdateCapture", "onVolumeChange", "onVolumeChangeCapture", "onWaiting", "onWaitingCapture", "onAuxClick", "onAuxClickCapture", "onClick", "onClickCapture", "onContextMenu", "onContextMenuCapture", "onDoubleClick", "onDoubleClickCapture", "onDrag", "onDragCapture", "onDragEnd", "onDragEndCapture", "onDragEnter", "onDragEnterCapture", "onDragExit", "onDragExitCapture", "onDragLeave", "onDragLeaveCapture", "onDragOver", "onDragOverCapture", "onDragStart", "onDragStartCapture", "onDrop", "onDropCapture", "onMouseDown", "onMouseDownCapture", "onMouseEnter", "onMouseLeave", "onMouseMove", "onMouseMoveCapture", "onMouseOut", "onMouseOutCapture", "onMouseOver", "onMouseOverCapture", "onMouseUp", "onMouseUpCapture", "onSelect", "onSelectCapture", "onTouchCancel", "onTouchCancelCapture", "onTouchEnd", "onTouchEndCapture", "onTouchMove", "onTouchMoveCapture", "onTouchStart", "onTouchStartCapture", "onPointerDown", "onPointerDownCapture", "onPointerMove", "onPointerMoveCapture", "onPointerUp", "onPointerUpCapture", "onPointerCancel", "onPointerCancelCapture", "onPointerEnter", "onPointerEnterCapture", "onPointerLeave", "onPointerLeaveCapture", "onPointerOver", "onPointerOverCapture", "onPointerOut", "onPointerOutCapture", "onGotPointerCapture", "onGotPointerCaptureCapture", "onLostPointerCapture", "onLostPointerCaptureCapture", "onScroll", "onScrollCapture", "onWheel", "onWheelCapture", "onAnimationStart", "onAnimationStartCapture", "onAnimationEnd", "onAnimationEndCapture", "onAnimationIteration", "onAnimationIterationCapture", "onTransitionEnd", "onTransitionEndCapture"], cm = function (e, r) { if (!e || typeof e == "function" || typeof e == "boolean") return null; var n = e; if (b.isValidElement(e) && (n = e.props), !bc(n)) return null; var s = {}; return Object.keys(n).forEach(function (o) { BN.includes(o) && (s[o] = r || function (c) { return n[o](n, c) }) }), s }, h9 = function (e, r, n) { return function (s) { return e(r, n, s), null } }, Eo = function (e, r, n) { if (!bc(e) || Gw(e) !== "object") return null; var s = null; return Object.keys(e).forEach(function (o) { var c = e[o]; BN.includes(o) && typeof c == "function" && (s || (s = {}), s[o] = h9(c, r, n)) }), s }, m9 = ["children"], p9 = ["children"]; function l3(t, e) { if (t == null) return {}; var r = x9(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function x9(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function Kw(t) { "@babel/helpers - typeof"; return Kw = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Kw(t) } var c3 = { click: "onClick", mousedown: "onMouseDown", mouseup: "onMouseUp", mouseover: "onMouseOver", mousemove: "onMouseMove", mouseout: "onMouseOut", mouseenter: "onMouseEnter", mouseleave: "onMouseLeave", touchcancel: "onTouchCancel", touchend: "onTouchEnd", touchmove: "onTouchMove", touchstart: "onTouchStart", contextmenu: "onContextMenu", dblclick: "onDoubleClick" }, Ts = function (e) { return typeof e == "string" ? e : e ? e.displayName || e.name || "Component" : "" }, u3 = null, A0 = null, qN = function t(e) { if (e === u3 && Array.isArray(A0)) return A0; var r = []; return b.Children.forEach(e, function (n) { ot(n) || (r9.isFragment(n) ? r = r.concat(t(n.props.children)) : r.push(n)) }), A0 = r, u3 = e, r }; function $n(t, e) { var r = [], n = []; return Array.isArray(e) ? n = e.map(function (s) { return Ts(s) }) : n = [Ts(e)], qN(t).forEach(function (s) { var o = Rn(s, "type.displayName") || Rn(s, "type.name"); n.indexOf(o) !== -1 && r.push(s) }), r } function Dn(t, e) { var r = $n(t, e); return r && r[0] } var d3 = function (e) { if (!e || !e.props) return !1; var r = e.props, n = r.width, s = r.height; return !(!Le(n) || n <= 0 || !Le(s) || s <= 0) }, g9 = ["a", "altGlyph", "altGlyphDef", "altGlyphItem", "animate", "animateColor", "animateMotion", "animateTransform", "circle", "clipPath", "color-profile", "cursor", "defs", "desc", "ellipse", "feBlend", "feColormatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence", "filter", "font", "font-face", "font-face-format", "font-face-name", "font-face-url", "foreignObject", "g", "glyph", "glyphRef", "hkern", "image", "line", "lineGradient", "marker", "mask", "metadata", "missing-glyph", "mpath", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "script", "set", "stop", "style", "svg", "switch", "symbol", "text", "textPath", "title", "tref", "tspan", "use", "view", "vkern"], y9 = function (e) { return e && e.type && Ao(e.type) && g9.indexOf(e.type) >= 0 }, UP = function (e) { return e && Kw(e) === "object" && "clipDot" in e }, b9 = function (e, r, n, s) { var o, c = (o = k0 == null ? void 0 : k0[s]) !== null && o !== void 0 ? o : []; return r.startsWith("data-") || !it(e) && (s && c.includes(r) || f9.includes(r)) || n && BN.includes(r) }, et = function (e, r, n) { if (!e || typeof e == "function" || typeof e == "boolean") return null; var s = e; if (b.isValidElement(e) && (s = e.props), !bc(s)) return null; var o = {}; return Object.keys(s).forEach(function (c) { var u; b9((u = s) === null || u === void 0 ? void 0 : u[c], c, r, n) && (o[c] = s[c]) }), o }, Ww = function t(e, r) { if (e === r) return !0; var n = b.Children.count(e); if (n !== b.Children.count(r)) return !1; if (n === 0) return !0; if (n === 1) return f3(Array.isArray(e) ? e[0] : e, Array.isArray(r) ? r[0] : r); for (var s = 0; s < n; s++) { var o = e[s], c = r[s]; if (Array.isArray(o) || Array.isArray(c)) { if (!t(o, c)) return !1 } else if (!f3(o, c)) return !1 } return !0 }, f3 = function (e, r) { if (ot(e) && ot(r)) return !0; if (!ot(e) && !ot(r)) { var n = e.props || {}, s = n.children, o = l3(n, m9), c = r.props || {}, u = c.children, f = l3(c, p9); return s && u ? Il(o, f) && Ww(s, u) : !s && !u ? Il(o, f) : !1 } return !1 }, h3 = function (e, r) { var n = [], s = {}; return qN(e).forEach(function (o, c) { if (y9(o)) n.push(o); else if (o) { var u = Ts(o.type), f = r[u] || {}, h = f.handler, p = f.once; if (h && (!p || !s[u])) { var x = h(o, u, c); n.push(x), s[u] = !0 } } }), n }, v9 = function (e) { var r = e && e.type; return r && c3[r] ? c3[r] : null }, w9 = function (e, r) { return qN(r).indexOf(e) }, j9 = ["children", "width", "height", "viewBox", "className", "style", "title", "desc"]; function Xw() { return Xw = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Xw.apply(this, arguments) } function N9(t, e) { if (t == null) return {}; var r = S9(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function S9(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function Jw(t) { var e = t.children, r = t.width, n = t.height, s = t.viewBox, o = t.className, c = t.style, u = t.title, f = t.desc, h = N9(t, j9), p = s || { width: r, height: n, x: 0, y: 0 }, x = ct("recharts-surface", o); return he.createElement("svg", Xw({}, et(h, !0, "svg"), { className: x, width: r, height: n, style: c, viewBox: "".concat(p.x, " ").concat(p.y, " ").concat(p.width, " ").concat(p.height) }), he.createElement("title", null, u), he.createElement("desc", null, f), e) } var _9 = ["children", "className"]; function Qw() { return Qw = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Qw.apply(this, arguments) } function O9(t, e) { if (t == null) return {}; var r = C9(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function C9(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } var xt = he.forwardRef(function (t, e) { var r = t.children, n = t.className, s = O9(t, _9), o = ct("recharts-layer", n); return he.createElement("g", Qw({ className: o }, et(s, !0), { ref: e }), r) }), Oa = function (e, r) { for (var n = arguments.length, s = new Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++)s[o - 2] = arguments[o] }, E0, m3; function k9() { if (m3) return E0; m3 = 1; function t(e, r, n) { var s = -1, o = e.length; r < 0 && (r = -r > o ? 0 : o + r), n = n > o ? o : n, n < 0 && (n += o), o = r > n ? 0 : n - r >>> 0, r >>>= 0; for (var c = Array(o); ++s < o;)c[s] = e[s + r]; return c } return E0 = t, E0 } var D0, p3; function A9() { if (p3) return D0; p3 = 1; var t = k9(); function e(r, n, s) { var o = r.length; return s = s === void 0 ? o : s, !n && s >= o ? r : t(r, n, s) } return D0 = e, D0 } var T0, x3; function HP() { if (x3) return T0; x3 = 1; var t = "\\ud800-\\udfff", e = "\\u0300-\\u036f", r = "\\ufe20-\\ufe2f", n = "\\u20d0-\\u20ff", s = e + r + n, o = "\\ufe0e\\ufe0f", c = "\\u200d", u = RegExp("[" + c + t + s + o + "]"); function f(h) { return u.test(h) } return T0 = f, T0 } var P0, g3; function E9() { if (g3) return P0; g3 = 1; function t(e) { return e.split("") } return P0 = t, P0 } var M0, y3; function D9() { if (y3) return M0; y3 = 1; var t = "\\ud800-\\udfff", e = "\\u0300-\\u036f", r = "\\ufe20-\\ufe2f", n = "\\u20d0-\\u20ff", s = e + r + n, o = "\\ufe0e\\ufe0f", c = "[" + t + "]", u = "[" + s + "]", f = "\\ud83c[\\udffb-\\udfff]", h = "(?:" + u + "|" + f + ")", p = "[^" + t + "]", x = "(?:\\ud83c[\\udde6-\\uddff]){2}", g = "[\\ud800-\\udbff][\\udc00-\\udfff]", v = "\\u200d", j = h + "?", S = "[" + o + "]?", w = "(?:" + v + "(?:" + [p, x, g].join("|") + ")" + S + j + ")*", O = S + j + w, D = "(?:" + [p + u + "?", u, x, g, c].join("|") + ")", R = RegExp(f + "(?=" + f + ")|" + D + O, "g"); function H(C) { return C.match(R) || [] } return M0 = H, M0 } var R0, b3; function T9() { if (b3) return R0; b3 = 1; var t = E9(), e = HP(), r = D9(); function n(s) { return e(s) ? r(s) : t(s) } return R0 = n, R0 } var $0, v3; function P9() { if (v3) return $0; v3 = 1; var t = A9(), e = HP(), r = T9(), n = FP(); function s(o) { return function (c) { c = n(c); var u = e(c) ? r(c) : void 0, f = u ? u[0] : c.charAt(0), h = u ? t(u, 1).join("") : c.slice(1); return f[o]() + h } } return $0 = s, $0 } var I0, w3; function M9() { if (w3) return I0; w3 = 1; var t = P9(), e = t("toUpperCase"); return I0 = e, I0 } var R9 = M9(); const Ep = It(R9); function Yt(t) { return function () { return t } } const VP = Math.cos, um = Math.sin, Aa = Math.sqrt, dm = Math.PI, Dp = 2 * dm, Zw = Math.PI, ej = 2 * Zw, po = 1e-6, $9 = ej - po; function YP(t) { this._ += t[0]; for (let e = 1, r = t.length; e < r; ++e)this._ += arguments[e] + t[e] } function I9(t) { let e = Math.floor(t); if (!(e >= 0)) throw new Error(`invalid digits: ${t}`); if (e > 15) return YP; const r = 10 ** e; return function (n) { this._ += n[0]; for (let s = 1, o = n.length; s < o; ++s)this._ += Math.round(arguments[s] * r) / r + n[s] } } class L9 { constructor(e) { this._x0 = this._y0 = this._x1 = this._y1 = null, this._ = "", this._append = e == null ? YP : I9(e) } moveTo(e, r) { this._append`M${this._x0 = this._x1 = +e},${this._y0 = this._y1 = +r}` } closePath() { this._x1 !== null && (this._x1 = this._x0, this._y1 = this._y0, this._append`Z`) } lineTo(e, r) { this._append`L${this._x1 = +e},${this._y1 = +r}` } quadraticCurveTo(e, r, n, s) { this._append`Q${+e},${+r},${this._x1 = +n},${this._y1 = +s}` } bezierCurveTo(e, r, n, s, o, c) { this._append`C${+e},${+r},${+n},${+s},${this._x1 = +o},${this._y1 = +c}` } arcTo(e, r, n, s, o) { if (e = +e, r = +r, n = +n, s = +s, o = +o, o < 0) throw new Error(`negative radius: ${o}`); let c = this._x1, u = this._y1, f = n - e, h = s - r, p = c - e, x = u - r, g = p * p + x * x; if (this._x1 === null) this._append`M${this._x1 = e},${this._y1 = r}`; else if (g > po) if (!(Math.abs(x * f - h * p) > po) || !o) this._append`L${this._x1 = e},${this._y1 = r}`; else { let v = n - c, j = s - u, S = f * f + h * h, w = v * v + j * j, O = Math.sqrt(S), D = Math.sqrt(g), R = o * Math.tan((Zw - Math.acos((S + g - w) / (2 * O * D))) / 2), H = R / D, C = R / O; Math.abs(H - 1) > po && this._append`L${e + H * p},${r + H * x}`, this._append`A${o},${o},0,0,${+(x * v > p * j)},${this._x1 = e + C * f},${this._y1 = r + C * h}` } } arc(e, r, n, s, o, c) { if (e = +e, r = +r, n = +n, c = !!c, n < 0) throw new Error(`negative radius: ${n}`); let u = n * Math.cos(s), f = n * Math.sin(s), h = e + u, p = r + f, x = 1 ^ c, g = c ? s - o : o - s; this._x1 === null ? this._append`M${h},${p}` : (Math.abs(this._x1 - h) > po || Math.abs(this._y1 - p) > po) && this._append`L${h},${p}`, n && (g < 0 && (g = g % ej + ej), g > $9 ? this._append`A${n},${n},0,1,${x},${e - u},${r - f}A${n},${n},0,1,${x},${this._x1 = h},${this._y1 = p}` : g > po && this._append`A${n},${n},0,${+(g >= Zw)},${x},${this._x1 = e + n * Math.cos(o)},${this._y1 = r + n * Math.sin(o)}`) } rect(e, r, n, s) { this._append`M${this._x0 = this._x1 = +e},${this._y0 = this._y1 = +r}h${n = +n}v${+s}h${-n}Z` } toString() { return this._ } } function zN(t) { let e = 3; return t.digits = function (r) { if (!arguments.length) return e; if (r == null) e = null; else { const n = Math.floor(r); if (!(n >= 0)) throw new RangeError(`invalid digits: ${r}`); e = n } return t }, () => new L9(e) } function UN(t) { return typeof t == "object" && "length" in t ? t : Array.from(t) } function GP(t) { this._context = t } GP.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._point = 0 }, lineEnd: function () { (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, e) { switch (t = +t, e = +e, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e); break; case 1: this._point = 2; default: this._context.lineTo(t, e); break } } }; function Tp(t) { return new GP(t) } function KP(t) { return t[0] } function WP(t) { return t[1] } function XP(t, e) { var r = Yt(!0), n = null, s = Tp, o = null, c = zN(u); t = typeof t == "function" ? t : t === void 0 ? KP : Yt(t), e = typeof e == "function" ? e : e === void 0 ? WP : Yt(e); function u(f) { var h, p = (f = UN(f)).length, x, g = !1, v; for (n == null && (o = s(v = c())), h = 0; h <= p; ++h)!(h < p && r(x = f[h], h, f)) === g && ((g = !g) ? o.lineStart() : o.lineEnd()), g && o.point(+t(x, h, f), +e(x, h, f)); if (v) return o = null, v + "" || null } return u.x = function (f) { return arguments.length ? (t = typeof f == "function" ? f : Yt(+f), u) : t }, u.y = function (f) { return arguments.length ? (e = typeof f == "function" ? f : Yt(+f), u) : e }, u.defined = function (f) { return arguments.length ? (r = typeof f == "function" ? f : Yt(!!f), u) : r }, u.curve = function (f) { return arguments.length ? (s = f, n != null && (o = s(n)), u) : s }, u.context = function (f) { return arguments.length ? (f == null ? n = o = null : o = s(n = f), u) : n }, u } function wh(t, e, r) { var n = null, s = Yt(!0), o = null, c = Tp, u = null, f = zN(h); t = typeof t == "function" ? t : t === void 0 ? KP : Yt(+t), e = typeof e == "function" ? e : Yt(e === void 0 ? 0 : +e), r = typeof r == "function" ? r : r === void 0 ? WP : Yt(+r); function h(x) { var g, v, j, S = (x = UN(x)).length, w, O = !1, D, R = new Array(S), H = new Array(S); for (o == null && (u = c(D = f())), g = 0; g <= S; ++g) { if (!(g < S && s(w = x[g], g, x)) === O) if (O = !O) v = g, u.areaStart(), u.lineStart(); else { for (u.lineEnd(), u.lineStart(), j = g - 1; j >= v; --j)u.point(R[j], H[j]); u.lineEnd(), u.areaEnd() } O && (R[g] = +t(w, g, x), H[g] = +e(w, g, x), u.point(n ? +n(w, g, x) : R[g], r ? +r(w, g, x) : H[g])) } if (D) return u = null, D + "" || null } function p() { return XP().defined(s).curve(c).context(o) } return h.x = function (x) { return arguments.length ? (t = typeof x == "function" ? x : Yt(+x), n = null, h) : t }, h.x0 = function (x) { return arguments.length ? (t = typeof x == "function" ? x : Yt(+x), h) : t }, h.x1 = function (x) { return arguments.length ? (n = x == null ? null : typeof x == "function" ? x : Yt(+x), h) : n }, h.y = function (x) { return arguments.length ? (e = typeof x == "function" ? x : Yt(+x), r = null, h) : e }, h.y0 = function (x) { return arguments.length ? (e = typeof x == "function" ? x : Yt(+x), h) : e }, h.y1 = function (x) { return arguments.length ? (r = x == null ? null : typeof x == "function" ? x : Yt(+x), h) : r }, h.lineX0 = h.lineY0 = function () { return p().x(t).y(e) }, h.lineY1 = function () { return p().x(t).y(r) }, h.lineX1 = function () { return p().x(n).y(e) }, h.defined = function (x) { return arguments.length ? (s = typeof x == "function" ? x : Yt(!!x), h) : s }, h.curve = function (x) { return arguments.length ? (c = x, o != null && (u = c(o)), h) : c }, h.context = function (x) { return arguments.length ? (x == null ? o = u = null : u = c(o = x), h) : o }, h } class JP { constructor(e, r) { this._context = e, this._x = r } areaStart() { this._line = 0 } areaEnd() { this._line = NaN } lineStart() { this._point = 0 } lineEnd() { (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line } point(e, r) { switch (e = +e, r = +r, this._point) { case 0: { this._point = 1, this._line ? this._context.lineTo(e, r) : this._context.moveTo(e, r); break } case 1: this._point = 2; default: { this._x ? this._context.bezierCurveTo(this._x0 = (this._x0 + e) / 2, this._y0, this._x0, r, e, r) : this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + r) / 2, e, this._y0, e, r); break } }this._x0 = e, this._y0 = r } } function F9(t) { return new JP(t, !0) } function B9(t) { return new JP(t, !1) } const HN = { draw(t, e) { const r = Aa(e / dm); t.moveTo(r, 0), t.arc(0, 0, r, 0, Dp) } }, q9 = { draw(t, e) { const r = Aa(e / 5) / 2; t.moveTo(-3 * r, -r), t.lineTo(-r, -r), t.lineTo(-r, -3 * r), t.lineTo(r, -3 * r), t.lineTo(r, -r), t.lineTo(3 * r, -r), t.lineTo(3 * r, r), t.lineTo(r, r), t.lineTo(r, 3 * r), t.lineTo(-r, 3 * r), t.lineTo(-r, r), t.lineTo(-3 * r, r), t.closePath() } }, QP = Aa(1 / 3), z9 = QP * 2, U9 = { draw(t, e) { const r = Aa(e / z9), n = r * QP; t.moveTo(0, -r), t.lineTo(n, 0), t.lineTo(0, r), t.lineTo(-n, 0), t.closePath() } }, H9 = { draw(t, e) { const r = Aa(e), n = -r / 2; t.rect(n, n, r, r) } }, V9 = .8908130915292852, ZP = um(dm / 10) / um(7 * dm / 10), Y9 = um(Dp / 10) * ZP, G9 = -VP(Dp / 10) * ZP, K9 = { draw(t, e) { const r = Aa(e * V9), n = Y9 * r, s = G9 * r; t.moveTo(0, -r), t.lineTo(n, s); for (let o = 1; o < 5; ++o) { const c = Dp * o / 5, u = VP(c), f = um(c); t.lineTo(f * r, -u * r), t.lineTo(u * n - f * s, f * n + u * s) } t.closePath() } }, L0 = Aa(3), W9 = { draw(t, e) { const r = -Aa(e / (L0 * 3)); t.moveTo(0, r * 2), t.lineTo(-L0 * r, -r), t.lineTo(L0 * r, -r), t.closePath() } }, Wn = -.5, Xn = Aa(3) / 2, tj = 1 / Aa(12), X9 = (tj / 2 + 1) * 3, J9 = { draw(t, e) { const r = Aa(e / X9), n = r / 2, s = r * tj, o = n, c = r * tj + r, u = -o, f = c; t.moveTo(n, s), t.lineTo(o, c), t.lineTo(u, f), t.lineTo(Wn * n - Xn * s, Xn * n + Wn * s), t.lineTo(Wn * o - Xn * c, Xn * o + Wn * c), t.lineTo(Wn * u - Xn * f, Xn * u + Wn * f), t.lineTo(Wn * n + Xn * s, Wn * s - Xn * n), t.lineTo(Wn * o + Xn * c, Wn * c - Xn * o), t.lineTo(Wn * u + Xn * f, Wn * f - Xn * u), t.closePath() } }; function Q9(t, e) { let r = null, n = zN(s); t = typeof t == "function" ? t : Yt(t || HN), e = typeof e == "function" ? e : Yt(e === void 0 ? 64 : +e); function s() { let o; if (r || (r = o = n()), t.apply(this, arguments).draw(r, +e.apply(this, arguments)), o) return r = null, o + "" || null } return s.type = function (o) { return arguments.length ? (t = typeof o == "function" ? o : Yt(o), s) : t }, s.size = function (o) { return arguments.length ? (e = typeof o == "function" ? o : Yt(+o), s) : e }, s.context = function (o) { return arguments.length ? (r = o ?? null, s) : r }, s } function fm() { } function hm(t, e, r) { t._context.bezierCurveTo((2 * t._x0 + t._x1) / 3, (2 * t._y0 + t._y1) / 3, (t._x0 + 2 * t._x1) / 3, (t._y0 + 2 * t._y1) / 3, (t._x0 + 4 * t._x1 + e) / 6, (t._y0 + 4 * t._y1 + r) / 6) } function eM(t) { this._context = t } eM.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 3: hm(this, this._x1, this._y1); case 2: this._context.lineTo(this._x1, this._y1); break }(this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, e) { switch (t = +t, e = +e, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e); break; case 1: this._point = 2; break; case 2: this._point = 3, this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); default: hm(this, t, e); break }this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = e } }; function Z9(t) { return new eM(t) } function tM(t) { this._context = t } tM.prototype = { areaStart: fm, areaEnd: fm, lineStart: function () { this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 1: { this._context.moveTo(this._x2, this._y2), this._context.closePath(); break } case 2: { this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3), this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3), this._context.closePath(); break } case 3: { this.point(this._x2, this._y2), this.point(this._x3, this._y3), this.point(this._x4, this._y4); break } } }, point: function (t, e) { switch (t = +t, e = +e, this._point) { case 0: this._point = 1, this._x2 = t, this._y2 = e; break; case 1: this._point = 2, this._x3 = t, this._y3 = e; break; case 2: this._point = 3, this._x4 = t, this._y4 = e, this._context.moveTo((this._x0 + 4 * this._x1 + t) / 6, (this._y0 + 4 * this._y1 + e) / 6); break; default: hm(this, t, e); break }this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = e } }; function e7(t) { return new tM(t) } function rM(t) { this._context = t } rM.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = NaN, this._point = 0 }, lineEnd: function () { (this._line || this._line !== 0 && this._point === 3) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, e) { switch (t = +t, e = +e, this._point) { case 0: this._point = 1; break; case 1: this._point = 2; break; case 2: this._point = 3; var r = (this._x0 + 4 * this._x1 + t) / 6, n = (this._y0 + 4 * this._y1 + e) / 6; this._line ? this._context.lineTo(r, n) : this._context.moveTo(r, n); break; case 3: this._point = 4; default: hm(this, t, e); break }this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = e } }; function t7(t) { return new rM(t) } function nM(t) { this._context = t } nM.prototype = { areaStart: fm, areaEnd: fm, lineStart: function () { this._point = 0 }, lineEnd: function () { this._point && this._context.closePath() }, point: function (t, e) { t = +t, e = +e, this._point ? this._context.lineTo(t, e) : (this._point = 1, this._context.moveTo(t, e)) } }; function r7(t) { return new nM(t) } function j3(t) { return t < 0 ? -1 : 1 } function N3(t, e, r) { var n = t._x1 - t._x0, s = e - t._x1, o = (t._y1 - t._y0) / (n || s < 0 && -0), c = (r - t._y1) / (s || n < 0 && -0), u = (o * s + c * n) / (n + s); return (j3(o) + j3(c)) * Math.min(Math.abs(o), Math.abs(c), .5 * Math.abs(u)) || 0 } function S3(t, e) { var r = t._x1 - t._x0; return r ? (3 * (t._y1 - t._y0) / r - e) / 2 : e } function F0(t, e, r) { var n = t._x0, s = t._y0, o = t._x1, c = t._y1, u = (o - n) / 3; t._context.bezierCurveTo(n + u, s + u * e, o - u, c - u * r, o, c) } function mm(t) { this._context = t } mm.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN, this._point = 0 }, lineEnd: function () { switch (this._point) { case 2: this._context.lineTo(this._x1, this._y1); break; case 3: F0(this, this._t0, S3(this, this._t0)); break }(this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line = 1 - this._line }, point: function (t, e) { var r = NaN; if (t = +t, e = +e, !(t === this._x1 && e === this._y1)) { switch (this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e); break; case 1: this._point = 2; break; case 2: this._point = 3, F0(this, S3(this, r = N3(this, t, e)), r); break; default: F0(this, this._t0, r = N3(this, t, e)); break }this._x0 = this._x1, this._x1 = t, this._y0 = this._y1, this._y1 = e, this._t0 = r } } }; function aM(t) { this._context = new sM(t) } (aM.prototype = Object.create(mm.prototype)).point = function (t, e) { mm.prototype.point.call(this, e, t) }; function sM(t) { this._context = t } sM.prototype = { moveTo: function (t, e) { this._context.moveTo(e, t) }, closePath: function () { this._context.closePath() }, lineTo: function (t, e) { this._context.lineTo(e, t) }, bezierCurveTo: function (t, e, r, n, s, o) { this._context.bezierCurveTo(e, t, n, r, o, s) } }; function n7(t) { return new mm(t) } function a7(t) { return new aM(t) } function iM(t) { this._context = t } iM.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x = [], this._y = [] }, lineEnd: function () { var t = this._x, e = this._y, r = t.length; if (r) if (this._line ? this._context.lineTo(t[0], e[0]) : this._context.moveTo(t[0], e[0]), r === 2) this._context.lineTo(t[1], e[1]); else for (var n = _3(t), s = _3(e), o = 0, c = 1; c < r; ++o, ++c)this._context.bezierCurveTo(n[0][o], s[0][o], n[1][o], s[1][o], t[c], e[c]); (this._line || this._line !== 0 && r === 1) && this._context.closePath(), this._line = 1 - this._line, this._x = this._y = null }, point: function (t, e) { this._x.push(+t), this._y.push(+e) } }; function _3(t) { var e, r = t.length - 1, n, s = new Array(r), o = new Array(r), c = new Array(r); for (s[0] = 0, o[0] = 2, c[0] = t[0] + 2 * t[1], e = 1; e < r - 1; ++e)s[e] = 1, o[e] = 4, c[e] = 4 * t[e] + 2 * t[e + 1]; for (s[r - 1] = 2, o[r - 1] = 7, c[r - 1] = 8 * t[r - 1] + t[r], e = 1; e < r; ++e)n = s[e] / o[e - 1], o[e] -= n, c[e] -= n * c[e - 1]; for (s[r - 1] = c[r - 1] / o[r - 1], e = r - 2; e >= 0; --e)s[e] = (c[e] - s[e + 1]) / o[e]; for (o[r - 1] = (t[r] + s[r - 1]) / 2, e = 0; e < r - 1; ++e)o[e] = 2 * t[e + 1] - s[e + 1]; return [s, o] } function s7(t) { return new iM(t) } function Pp(t, e) { this._context = t, this._t = e } Pp.prototype = { areaStart: function () { this._line = 0 }, areaEnd: function () { this._line = NaN }, lineStart: function () { this._x = this._y = NaN, this._point = 0 }, lineEnd: function () { 0 < this._t && this._t < 1 && this._point === 2 && this._context.lineTo(this._x, this._y), (this._line || this._line !== 0 && this._point === 1) && this._context.closePath(), this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line) }, point: function (t, e) { switch (t = +t, e = +e, this._point) { case 0: this._point = 1, this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e); break; case 1: this._point = 2; default: { if (this._t <= 0) this._context.lineTo(this._x, e), this._context.lineTo(t, e); else { var r = this._x * (1 - this._t) + t * this._t; this._context.lineTo(r, this._y), this._context.lineTo(r, e) } break } }this._x = t, this._y = e } }; function i7(t) { return new Pp(t, .5) } function o7(t) { return new Pp(t, 0) } function l7(t) { return new Pp(t, 1) } function Ul(t, e) { if ((c = t.length) > 1) for (var r = 1, n, s, o = t[e[0]], c, u = o.length; r < c; ++r)for (s = o, o = t[e[r]], n = 0; n < u; ++n)o[n][1] += o[n][0] = isNaN(s[n][1]) ? s[n][0] : s[n][1] } function rj(t) { for (var e = t.length, r = new Array(e); --e >= 0;)r[e] = e; return r } function c7(t, e) { return t[e] } function u7(t) { const e = []; return e.key = t, e } function d7() { var t = Yt([]), e = rj, r = Ul, n = c7; function s(o) { var c = Array.from(t.apply(this, arguments), u7), u, f = c.length, h = -1, p; for (const x of o) for (u = 0, ++h; u < f; ++u)(c[u][h] = [0, +n(x, c[u].key, h, o)]).data = x; for (u = 0, p = UN(e(c)); u < f; ++u)c[p[u]].index = u; return r(c, p), c } return s.keys = function (o) { return arguments.length ? (t = typeof o == "function" ? o : Yt(Array.from(o)), s) : t }, s.value = function (o) { return arguments.length ? (n = typeof o == "function" ? o : Yt(+o), s) : n }, s.order = function (o) { return arguments.length ? (e = o == null ? rj : typeof o == "function" ? o : Yt(Array.from(o)), s) : e }, s.offset = function (o) { return arguments.length ? (r = o ?? Ul, s) : r }, s } function f7(t, e) { if ((n = t.length) > 0) { for (var r, n, s = 0, o = t[0].length, c; s < o; ++s) { for (c = r = 0; r < n; ++r)c += t[r][s][1] || 0; if (c) for (r = 0; r < n; ++r)t[r][s][1] /= c } Ul(t, e) } } function h7(t, e) { if ((s = t.length) > 0) { for (var r = 0, n = t[e[0]], s, o = n.length; r < o; ++r) { for (var c = 0, u = 0; c < s; ++c)u += t[c][r][1] || 0; n[r][1] += n[r][0] = -u / 2 } Ul(t, e) } } function m7(t, e) { if (!(!((c = t.length) > 0) || !((o = (s = t[e[0]]).length) > 0))) { for (var r = 0, n = 1, s, o, c; n < o; ++n) { for (var u = 0, f = 0, h = 0; u < c; ++u) { for (var p = t[e[u]], x = p[n][1] || 0, g = p[n - 1][1] || 0, v = (x - g) / 2, j = 0; j < u; ++j) { var S = t[e[j]], w = S[n][1] || 0, O = S[n - 1][1] || 0; v += w - O } f += x, h += v * x } s[n - 1][1] += s[n - 1][0] = r, f && (r -= h / f) } s[n - 1][1] += s[n - 1][0] = r, Ul(t, e) } } function rd(t) { "@babel/helpers - typeof"; return rd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, rd(t) } var p7 = ["type", "size", "sizeType"]; function nj() { return nj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, nj.apply(this, arguments) } function O3(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function C3(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? O3(Object(r), !0).forEach(function (n) { x7(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : O3(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function x7(t, e, r) { return e = g7(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function g7(t) { var e = y7(t, "string"); return rd(e) == "symbol" ? e : e + "" } function y7(t, e) { if (rd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (rd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function b7(t, e) { if (t == null) return {}; var r = v7(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function v7(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } var oM = { symbolCircle: HN, symbolCross: q9, symbolDiamond: U9, symbolSquare: H9, symbolStar: K9, symbolTriangle: W9, symbolWye: J9 }, w7 = Math.PI / 180, j7 = function (e) { var r = "symbol".concat(Ep(e)); return oM[r] || HN }, N7 = function (e, r, n) { if (r === "area") return e; switch (n) { case "cross": return 5 * e * e / 9; case "diamond": return .5 * e * e / Math.sqrt(3); case "square": return e * e; case "star": { var s = 18 * w7; return 1.25 * e * e * (Math.tan(s) - Math.tan(s * 2) * Math.pow(Math.tan(s), 2)) } case "triangle": return Math.sqrt(3) * e * e / 4; case "wye": return (21 - 10 * Math.sqrt(3)) * e * e / 8; default: return Math.PI * e * e / 4 } }, S7 = function (e, r) { oM["symbol".concat(Ep(e))] = r }, VN = function (e) { var r = e.type, n = r === void 0 ? "circle" : r, s = e.size, o = s === void 0 ? 64 : s, c = e.sizeType, u = c === void 0 ? "area" : c, f = b7(e, p7), h = C3(C3({}, f), {}, { type: n, size: o, sizeType: u }), p = function () { var w = j7(n), O = Q9().type(w).size(N7(o, u, n)); return O() }, x = h.className, g = h.cx, v = h.cy, j = et(h, !0); return g === +g && v === +v && o === +o ? he.createElement("path", nj({}, j, { className: ct("recharts-symbols", x), transform: "translate(".concat(g, ", ").concat(v, ")"), d: p() })) : null }; VN.registerSymbol = S7; function Hl(t) { "@babel/helpers - typeof"; return Hl = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Hl(t) } function aj() { return aj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, aj.apply(this, arguments) } function k3(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function _7(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? k3(Object(r), !0).forEach(function (n) { nd(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : k3(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function O7(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function C7(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, cM(n.key), n) } } function k7(t, e, r) { return e && C7(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function A7(t, e, r) { return e = pm(e), E7(t, lM() ? Reflect.construct(e, r || [], pm(t).constructor) : e.apply(t, r)) } function E7(t, e) { if (e && (Hl(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return D7(t) } function D7(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function lM() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (lM = function () { return !!t })() } function pm(t) { return pm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, pm(t) } function T7(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && sj(t, e) } function sj(t, e) { return sj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, sj(t, e) } function nd(t, e, r) { return e = cM(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function cM(t) { var e = P7(t, "string"); return Hl(e) == "symbol" ? e : e + "" } function P7(t, e) { if (Hl(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Hl(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var Jn = 32, YN = (function (t) {
  function e() { return O7(this, e), A7(this, e, arguments) } return T7(e, t), k7(e, [{
    key: "renderIcon", value: function (n) {
      var s = this.props.inactiveColor, o = Jn / 2, c = Jn / 6, u = Jn / 3, f = n.inactive ? s : n.color; if (n.type === "plainline") return he.createElement("line", { strokeWidth: 4, fill: "none", stroke: f, strokeDasharray: n.payload.strokeDasharray, x1: 0, y1: o, x2: Jn, y2: o, className: "recharts-legend-icon" }); if (n.type === "line") return he.createElement("path", {
        strokeWidth: 4, fill: "none", stroke: f, d: "M0,".concat(o, "h").concat(u, `
            A`).concat(c, ",").concat(c, ",0,1,1,").concat(2 * u, ",").concat(o, `
            H`).concat(Jn, "M").concat(2 * u, ",").concat(o, `
            A`).concat(c, ",").concat(c, ",0,1,1,").concat(u, ",").concat(o), className: "recharts-legend-icon"
      }); if (n.type === "rect") return he.createElement("path", { stroke: "none", fill: f, d: "M0,".concat(Jn / 8, "h").concat(Jn, "v").concat(Jn * 3 / 4, "h").concat(-Jn, "z"), className: "recharts-legend-icon" }); if (he.isValidElement(n.legendIcon)) { var h = _7({}, n); return delete h.legendIcon, he.cloneElement(n.legendIcon, h) } return he.createElement(VN, { fill: f, cx: o, cy: o, size: Jn, sizeType: "diameter", type: n.type })
    }
  }, { key: "renderItems", value: function () { var n = this, s = this.props, o = s.payload, c = s.iconSize, u = s.layout, f = s.formatter, h = s.inactiveColor, p = { x: 0, y: 0, width: Jn, height: Jn }, x = { display: u === "horizontal" ? "inline-block" : "block", marginRight: 10 }, g = { display: "inline-block", verticalAlign: "middle", marginRight: 4 }; return o.map(function (v, j) { var S = v.formatter || f, w = ct(nd(nd({ "recharts-legend-item": !0 }, "legend-item-".concat(j), !0), "inactive", v.inactive)); if (v.type === "none") return null; var O = it(v.value) ? null : v.value; Oa(!it(v.value), `The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`); var D = v.inactive ? h : v.color; return he.createElement("li", aj({ className: w, style: x, key: "legend-item-".concat(j) }, Eo(n.props, v, j)), he.createElement(Jw, { width: c, height: c, viewBox: p, style: g }, n.renderIcon(v)), he.createElement("span", { className: "recharts-legend-item-text", style: { color: D } }, S ? S(O, v, j) : O)) }) } }, { key: "render", value: function () { var n = this.props, s = n.payload, o = n.layout, c = n.align; if (!s || !s.length) return null; var u = { padding: 0, margin: 0, textAlign: o === "horizontal" ? c : "left" }; return he.createElement("ul", { className: "recharts-default-legend", style: u }, this.renderItems()) } }])
})(b.PureComponent); nd(YN, "displayName", "Legend"); nd(YN, "defaultProps", { iconSize: 14, layout: "horizontal", align: "center", verticalAlign: "middle", inactiveColor: "#ccc" }); var B0, A3; function M7() { if (A3) return B0; A3 = 1; var t = Cp(); function e() { this.__data__ = new t, this.size = 0 } return B0 = e, B0 } var q0, E3; function R7() { if (E3) return q0; E3 = 1; function t(e) { var r = this.__data__, n = r.delete(e); return this.size = r.size, n } return q0 = t, q0 } var z0, D3; function $7() { if (D3) return z0; D3 = 1; function t(e) { return this.__data__.get(e) } return z0 = t, z0 } var U0, T3; function I7() { if (T3) return U0; T3 = 1; function t(e) { return this.__data__.has(e) } return U0 = t, U0 } var H0, P3; function L7() { if (P3) return H0; P3 = 1; var t = Cp(), e = $N(), r = IN(), n = 200; function s(o, c) { var u = this.__data__; if (u instanceof t) { var f = u.__data__; if (!e || f.length < n - 1) return f.push([o, c]), this.size = ++u.size, this; u = this.__data__ = new r(f) } return u.set(o, c), this.size = u.size, this } return H0 = s, H0 } var V0, M3; function uM() { if (M3) return V0; M3 = 1; var t = Cp(), e = M7(), r = R7(), n = $7(), s = I7(), o = L7(); function c(u) { var f = this.__data__ = new t(u); this.size = f.size } return c.prototype.clear = e, c.prototype.delete = r, c.prototype.get = n, c.prototype.has = s, c.prototype.set = o, V0 = c, V0 } var Y0, R3; function F7() { if (R3) return Y0; R3 = 1; var t = "__lodash_hash_undefined__"; function e(r) { return this.__data__.set(r, t), this } return Y0 = e, Y0 } var G0, $3; function B7() { if ($3) return G0; $3 = 1; function t(e) { return this.__data__.has(e) } return G0 = t, G0 } var K0, I3; function dM() { if (I3) return K0; I3 = 1; var t = IN(), e = F7(), r = B7(); function n(s) { var o = -1, c = s == null ? 0 : s.length; for (this.__data__ = new t; ++o < c;)this.add(s[o]) } return n.prototype.add = n.prototype.push = e, n.prototype.has = r, K0 = n, K0 } var W0, L3; function fM() { if (L3) return W0; L3 = 1; function t(e, r) { for (var n = -1, s = e == null ? 0 : e.length; ++n < s;)if (r(e[n], n, e)) return !0; return !1 } return W0 = t, W0 } var X0, F3; function hM() { if (F3) return X0; F3 = 1; function t(e, r) { return e.has(r) } return X0 = t, X0 } var J0, B3; function mM() { if (B3) return J0; B3 = 1; var t = dM(), e = fM(), r = hM(), n = 1, s = 2; function o(c, u, f, h, p, x) { var g = f & n, v = c.length, j = u.length; if (v != j && !(g && j > v)) return !1; var S = x.get(c), w = x.get(u); if (S && w) return S == u && w == c; var O = -1, D = !0, R = f & s ? new t : void 0; for (x.set(c, u), x.set(u, c); ++O < v;) { var H = c[O], C = u[O]; if (h) var k = g ? h(C, H, O, u, c, x) : h(H, C, O, c, u, x); if (k !== void 0) { if (k) continue; D = !1; break } if (R) { if (!e(u, function (F, P) { if (!r(R, P) && (H === F || p(H, F, f, h, x))) return R.push(P) })) { D = !1; break } } else if (!(H === C || p(H, C, f, h, x))) { D = !1; break } } return x.delete(c), x.delete(u), D } return J0 = o, J0 } var Q0, q3; function q7() { if (q3) return Q0; q3 = 1; var t = Ga(), e = t.Uint8Array; return Q0 = e, Q0 } var Z0, z3; function z7() { if (z3) return Z0; z3 = 1; function t(e) { var r = -1, n = Array(e.size); return e.forEach(function (s, o) { n[++r] = [o, s] }), n } return Z0 = t, Z0 } var eb, U3; function GN() { if (U3) return eb; U3 = 1; function t(e) { var r = -1, n = Array(e.size); return e.forEach(function (s) { n[++r] = s }), n } return eb = t, eb } var tb, H3; function U7() { if (H3) return tb; H3 = 1; var t = Ud(), e = q7(), r = RN(), n = mM(), s = z7(), o = GN(), c = 1, u = 2, f = "[object Boolean]", h = "[object Date]", p = "[object Error]", x = "[object Map]", g = "[object Number]", v = "[object RegExp]", j = "[object Set]", S = "[object String]", w = "[object Symbol]", O = "[object ArrayBuffer]", D = "[object DataView]", R = t ? t.prototype : void 0, H = R ? R.valueOf : void 0; function C(k, F, P, W, J, Q, V) { switch (P) { case D: if (k.byteLength != F.byteLength || k.byteOffset != F.byteOffset) return !1; k = k.buffer, F = F.buffer; case O: return !(k.byteLength != F.byteLength || !Q(new e(k), new e(F))); case f: case h: case g: return r(+k, +F); case p: return k.name == F.name && k.message == F.message; case v: case S: return k == F + ""; case x: var ae = s; case j: var ie = W & c; if (ae || (ae = o), k.size != F.size && !ie) return !1; var se = V.get(k); if (se) return se == F; W |= u, V.set(k, F); var U = n(ae(k), ae(F), W, J, Q, V); return V.delete(k), U; case w: if (H) return H.call(k) == H.call(F) }return !1 } return tb = C, tb } var rb, V3; function pM() { if (V3) return rb; V3 = 1; function t(e, r) { for (var n = -1, s = r.length, o = e.length; ++n < s;)e[o + n] = r[n]; return e } return rb = t, rb } var nb, Y3; function H7() { if (Y3) return nb; Y3 = 1; var t = pM(), e = yn(); function r(n, s, o) { var c = s(n); return e(n) ? c : t(c, o(n)) } return nb = r, nb } var ab, G3; function V7() { if (G3) return ab; G3 = 1; function t(e, r) { for (var n = -1, s = e == null ? 0 : e.length, o = 0, c = []; ++n < s;) { var u = e[n]; r(u, n, e) && (c[o++] = u) } return c } return ab = t, ab } var sb, K3; function Y7() { if (K3) return sb; K3 = 1; function t() { return [] } return sb = t, sb } var ib, W3; function G7() { if (W3) return ib; W3 = 1; var t = V7(), e = Y7(), r = Object.prototype, n = r.propertyIsEnumerable, s = Object.getOwnPropertySymbols, o = s ? function (c) { return c == null ? [] : (c = Object(c), t(s(c), function (u) { return n.call(c, u) })) } : e; return ib = o, ib } var ob, X3; function K7() { if (X3) return ob; X3 = 1; function t(e, r) { for (var n = -1, s = Array(e); ++n < e;)s[n] = r(n); return s } return ob = t, ob } var lb, J3; function W7() { if (J3) return lb; J3 = 1; var t = qs(), e = zs(), r = "[object Arguments]"; function n(s) { return e(s) && t(s) == r } return lb = n, lb } var cb, Q3; function KN() { if (Q3) return cb; Q3 = 1; var t = W7(), e = zs(), r = Object.prototype, n = r.hasOwnProperty, s = r.propertyIsEnumerable, o = t((function () { return arguments })()) ? t : function (c) { return e(c) && n.call(c, "callee") && !s.call(c, "callee") }; return cb = o, cb } var Iu = { exports: {} }, ub, Z3; function X7() { if (Z3) return ub; Z3 = 1; function t() { return !1 } return ub = t, ub } Iu.exports; var ek; function xM() { return ek || (ek = 1, (function (t, e) { var r = Ga(), n = X7(), s = e && !e.nodeType && e, o = s && !0 && t && !t.nodeType && t, c = o && o.exports === s, u = c ? r.Buffer : void 0, f = u ? u.isBuffer : void 0, h = f || n; t.exports = h })(Iu, Iu.exports)), Iu.exports } var db, tk; function WN() { if (tk) return db; tk = 1; var t = 9007199254740991, e = /^(?:0|[1-9]\d*)$/; function r(n, s) { var o = typeof n; return s = s ?? t, !!s && (o == "number" || o != "symbol" && e.test(n)) && n > -1 && n % 1 == 0 && n < s } return db = r, db } var fb, rk; function XN() { if (rk) return fb; rk = 1; var t = 9007199254740991; function e(r) { return typeof r == "number" && r > -1 && r % 1 == 0 && r <= t } return fb = e, fb } var hb, nk; function J7() { if (nk) return hb; nk = 1; var t = qs(), e = XN(), r = zs(), n = "[object Arguments]", s = "[object Array]", o = "[object Boolean]", c = "[object Date]", u = "[object Error]", f = "[object Function]", h = "[object Map]", p = "[object Number]", x = "[object Object]", g = "[object RegExp]", v = "[object Set]", j = "[object String]", S = "[object WeakMap]", w = "[object ArrayBuffer]", O = "[object DataView]", D = "[object Float32Array]", R = "[object Float64Array]", H = "[object Int8Array]", C = "[object Int16Array]", k = "[object Int32Array]", F = "[object Uint8Array]", P = "[object Uint8ClampedArray]", W = "[object Uint16Array]", J = "[object Uint32Array]", Q = {}; Q[D] = Q[R] = Q[H] = Q[C] = Q[k] = Q[F] = Q[P] = Q[W] = Q[J] = !0, Q[n] = Q[s] = Q[w] = Q[o] = Q[O] = Q[c] = Q[u] = Q[f] = Q[h] = Q[p] = Q[x] = Q[g] = Q[v] = Q[j] = Q[S] = !1; function V(ae) { return r(ae) && e(ae.length) && !!Q[t(ae)] } return hb = V, hb } var mb, ak; function gM() { if (ak) return mb; ak = 1; function t(e) { return function (r) { return e(r) } } return mb = t, mb } var Lu = { exports: {} }; Lu.exports; var sk; function Q7() { return sk || (sk = 1, (function (t, e) { var r = $P(), n = e && !e.nodeType && e, s = n && !0 && t && !t.nodeType && t, o = s && s.exports === n, c = o && r.process, u = (function () { try { var f = s && s.require && s.require("util").types; return f || c && c.binding && c.binding("util") } catch { } })(); t.exports = u })(Lu, Lu.exports)), Lu.exports } var pb, ik; function yM() { if (ik) return pb; ik = 1; var t = J7(), e = gM(), r = Q7(), n = r && r.isTypedArray, s = n ? e(n) : t; return pb = s, pb } var xb, ok; function Z7() { if (ok) return xb; ok = 1; var t = K7(), e = KN(), r = yn(), n = xM(), s = WN(), o = yM(), c = Object.prototype, u = c.hasOwnProperty; function f(h, p) { var x = r(h), g = !x && e(h), v = !x && !g && n(h), j = !x && !g && !v && o(h), S = x || g || v || j, w = S ? t(h.length, String) : [], O = w.length; for (var D in h) (p || u.call(h, D)) && !(S && (D == "length" || v && (D == "offset" || D == "parent") || j && (D == "buffer" || D == "byteLength" || D == "byteOffset") || s(D, O))) && w.push(D); return w } return xb = f, xb } var gb, lk; function eq() { if (lk) return gb; lk = 1; var t = Object.prototype; function e(r) { var n = r && r.constructor, s = typeof n == "function" && n.prototype || t; return r === s } return gb = e, gb } var yb, ck; function bM() { if (ck) return yb; ck = 1; function t(e, r) { return function (n) { return e(r(n)) } } return yb = t, yb } var bb, uk; function tq() { if (uk) return bb; uk = 1; var t = bM(), e = t(Object.keys, Object); return bb = e, bb } var vb, dk; function rq() { if (dk) return vb; dk = 1; var t = eq(), e = tq(), r = Object.prototype, n = r.hasOwnProperty; function s(o) { if (!t(o)) return e(o); var c = []; for (var u in Object(o)) n.call(o, u) && u != "constructor" && c.push(u); return c } return vb = s, vb } var wb, fk; function Hd() { if (fk) return wb; fk = 1; var t = MN(), e = XN(); function r(n) { return n != null && e(n.length) && !t(n) } return wb = r, wb } var jb, hk; function Mp() { if (hk) return jb; hk = 1; var t = Z7(), e = rq(), r = Hd(); function n(s) { return r(s) ? t(s) : e(s) } return jb = n, jb } var Nb, mk; function nq() { if (mk) return Nb; mk = 1; var t = H7(), e = G7(), r = Mp(); function n(s) { return t(s, r, e) } return Nb = n, Nb } var Sb, pk; function aq() { if (pk) return Sb; pk = 1; var t = nq(), e = 1, r = Object.prototype, n = r.hasOwnProperty; function s(o, c, u, f, h, p) { var x = u & e, g = t(o), v = g.length, j = t(c), S = j.length; if (v != S && !x) return !1; for (var w = v; w--;) { var O = g[w]; if (!(x ? O in c : n.call(c, O))) return !1 } var D = p.get(o), R = p.get(c); if (D && R) return D == c && R == o; var H = !0; p.set(o, c), p.set(c, o); for (var C = x; ++w < v;) { O = g[w]; var k = o[O], F = c[O]; if (f) var P = x ? f(F, k, O, c, o, p) : f(k, F, O, o, c, p); if (!(P === void 0 ? k === F || h(k, F, u, f, p) : P)) { H = !1; break } C || (C = O == "constructor") } if (H && !C) { var W = o.constructor, J = c.constructor; W != J && "constructor" in o && "constructor" in c && !(typeof W == "function" && W instanceof W && typeof J == "function" && J instanceof J) && (H = !1) } return p.delete(o), p.delete(c), H } return Sb = s, Sb } var _b, xk; function sq() { if (xk) return _b; xk = 1; var t = Lo(), e = Ga(), r = t(e, "DataView"); return _b = r, _b } var Ob, gk; function iq() { if (gk) return Ob; gk = 1; var t = Lo(), e = Ga(), r = t(e, "Promise"); return Ob = r, Ob } var Cb, yk; function vM() { if (yk) return Cb; yk = 1; var t = Lo(), e = Ga(), r = t(e, "Set"); return Cb = r, Cb } var kb, bk; function oq() { if (bk) return kb; bk = 1; var t = Lo(), e = Ga(), r = t(e, "WeakMap"); return kb = r, kb } var Ab, vk; function lq() { if (vk) return Ab; vk = 1; var t = sq(), e = $N(), r = iq(), n = vM(), s = oq(), o = qs(), c = IP(), u = "[object Map]", f = "[object Object]", h = "[object Promise]", p = "[object Set]", x = "[object WeakMap]", g = "[object DataView]", v = c(t), j = c(e), S = c(r), w = c(n), O = c(s), D = o; return (t && D(new t(new ArrayBuffer(1))) != g || e && D(new e) != u || r && D(r.resolve()) != h || n && D(new n) != p || s && D(new s) != x) && (D = function (R) { var H = o(R), C = H == f ? R.constructor : void 0, k = C ? c(C) : ""; if (k) switch (k) { case v: return g; case j: return u; case S: return h; case w: return p; case O: return x }return H }), Ab = D, Ab } var Eb, wk; function cq() { if (wk) return Eb; wk = 1; var t = uM(), e = mM(), r = U7(), n = aq(), s = lq(), o = yn(), c = xM(), u = yM(), f = 1, h = "[object Arguments]", p = "[object Array]", x = "[object Object]", g = Object.prototype, v = g.hasOwnProperty; function j(S, w, O, D, R, H) { var C = o(S), k = o(w), F = C ? p : s(S), P = k ? p : s(w); F = F == h ? x : F, P = P == h ? x : P; var W = F == x, J = P == x, Q = F == P; if (Q && c(S)) { if (!c(w)) return !1; C = !0, W = !1 } if (Q && !W) return H || (H = new t), C || u(S) ? e(S, w, O, D, R, H) : r(S, w, F, O, D, R, H); if (!(O & f)) { var V = W && v.call(S, "__wrapped__"), ae = J && v.call(w, "__wrapped__"); if (V || ae) { var ie = V ? S.value() : S, se = ae ? w.value() : w; return H || (H = new t), R(ie, se, O, D, H) } } return Q ? (H || (H = new t), n(S, w, O, D, R, H)) : !1 } return Eb = j, Eb } var Db, jk; function JN() { if (jk) return Db; jk = 1; var t = cq(), e = zs(); function r(n, s, o, c, u) { return n === s ? !0 : n == null || s == null || !e(n) && !e(s) ? n !== n && s !== s : t(n, s, o, c, r, u) } return Db = r, Db } var Tb, Nk; function uq() { if (Nk) return Tb; Nk = 1; var t = uM(), e = JN(), r = 1, n = 2; function s(o, c, u, f) { var h = u.length, p = h, x = !f; if (o == null) return !p; for (o = Object(o); h--;) { var g = u[h]; if (x && g[2] ? g[1] !== o[g[0]] : !(g[0] in o)) return !1 } for (; ++h < p;) { g = u[h]; var v = g[0], j = o[v], S = g[1]; if (x && g[2]) { if (j === void 0 && !(v in o)) return !1 } else { var w = new t; if (f) var O = f(j, S, v, o, c, w); if (!(O === void 0 ? e(S, j, r | n, f, w) : O)) return !1 } } return !0 } return Tb = s, Tb } var Pb, Sk; function wM() { if (Sk) return Pb; Sk = 1; var t = Ii(); function e(r) { return r === r && !t(r) } return Pb = e, Pb } var Mb, _k; function dq() { if (_k) return Mb; _k = 1; var t = wM(), e = Mp(); function r(n) { for (var s = e(n), o = s.length; o--;) { var c = s[o], u = n[c]; s[o] = [c, u, t(u)] } return s } return Mb = r, Mb } var Rb, Ok; function jM() { if (Ok) return Rb; Ok = 1; function t(e, r) { return function (n) { return n == null ? !1 : n[e] === r && (r !== void 0 || e in Object(n)) } } return Rb = t, Rb } var $b, Ck; function fq() { if (Ck) return $b; Ck = 1; var t = uq(), e = dq(), r = jM(); function n(s) { var o = e(s); return o.length == 1 && o[0][2] ? r(o[0][0], o[0][1]) : function (c) { return c === s || t(c, s, o) } } return $b = n, $b } var Ib, kk; function hq() { if (kk) return Ib; kk = 1; function t(e, r) { return e != null && r in Object(e) } return Ib = t, Ib } var Lb, Ak; function mq() { if (Ak) return Lb; Ak = 1; var t = BP(), e = KN(), r = yn(), n = WN(), s = XN(), o = Ap(); function c(u, f, h) { f = t(f, u); for (var p = -1, x = f.length, g = !1; ++p < x;) { var v = o(f[p]); if (!(g = u != null && h(u, v))) break; u = u[v] } return g || ++p != x ? g : (x = u == null ? 0 : u.length, !!x && s(x) && n(v, x) && (r(u) || e(u))) } return Lb = c, Lb } var Fb, Ek; function pq() { if (Ek) return Fb; Ek = 1; var t = hq(), e = mq(); function r(n, s) { return n != null && e(n, s, t) } return Fb = r, Fb } var Bb, Dk; function xq() { if (Dk) return Bb; Dk = 1; var t = JN(), e = qP(), r = pq(), n = PN(), s = wM(), o = jM(), c = Ap(), u = 1, f = 2; function h(p, x) { return n(p) && s(x) ? o(c(p), x) : function (g) { var v = e(g, p); return v === void 0 && v === x ? r(g, p) : t(x, v, u | f) } } return Bb = h, Bb } var qb, Tk; function wc() { if (Tk) return qb; Tk = 1; function t(e) { return e } return qb = t, qb } var zb, Pk; function gq() { if (Pk) return zb; Pk = 1; function t(e) { return function (r) { return r == null ? void 0 : r[e] } } return zb = t, zb } var Ub, Mk; function yq() { if (Mk) return Ub; Mk = 1; var t = FN(); function e(r) { return function (n) { return t(n, r) } } return Ub = e, Ub } var Hb, Rk; function bq() { if (Rk) return Hb; Rk = 1; var t = gq(), e = yq(), r = PN(), n = Ap(); function s(o) { return r(o) ? t(n(o)) : e(o) } return Hb = s, Hb } var Vb, $k; function Ka() { if ($k) return Vb; $k = 1; var t = fq(), e = xq(), r = wc(), n = yn(), s = bq(); function o(c) { return typeof c == "function" ? c : c == null ? r : typeof c == "object" ? n(c) ? e(c[0], c[1]) : t(c) : s(c) } return Vb = o, Vb } var Yb, Ik; function NM() { if (Ik) return Yb; Ik = 1; function t(e, r, n, s) { for (var o = e.length, c = n + (s ? 1 : -1); s ? c-- : ++c < o;)if (r(e[c], c, e)) return c; return -1 } return Yb = t, Yb } var Gb, Lk; function vq() { if (Lk) return Gb; Lk = 1; function t(e) { return e !== e } return Gb = t, Gb } var Kb, Fk; function wq() { if (Fk) return Kb; Fk = 1; function t(e, r, n) { for (var s = n - 1, o = e.length; ++s < o;)if (e[s] === r) return s; return -1 } return Kb = t, Kb } var Wb, Bk; function jq() { if (Bk) return Wb; Bk = 1; var t = NM(), e = vq(), r = wq(); function n(s, o, c) { return o === o ? r(s, o, c) : t(s, e, c) } return Wb = n, Wb } var Xb, qk; function Nq() { if (qk) return Xb; qk = 1; var t = jq(); function e(r, n) { var s = r == null ? 0 : r.length; return !!s && t(r, n, 0) > -1 } return Xb = e, Xb } var Jb, zk; function Sq() { if (zk) return Jb; zk = 1; function t(e, r, n) { for (var s = -1, o = e == null ? 0 : e.length; ++s < o;)if (n(r, e[s])) return !0; return !1 } return Jb = t, Jb } var Qb, Uk; function _q() { if (Uk) return Qb; Uk = 1; function t() { } return Qb = t, Qb } var Zb, Hk; function Oq() { if (Hk) return Zb; Hk = 1; var t = vM(), e = _q(), r = GN(), n = 1 / 0, s = t && 1 / r(new t([, -0]))[1] == n ? function (o) { return new t(o) } : e; return Zb = s, Zb } var ev, Vk; function Cq() { if (Vk) return ev; Vk = 1; var t = dM(), e = Nq(), r = Sq(), n = hM(), s = Oq(), o = GN(), c = 200; function u(f, h, p) { var x = -1, g = e, v = f.length, j = !0, S = [], w = S; if (p) j = !1, g = r; else if (v >= c) { var O = h ? null : s(f); if (O) return o(O); j = !1, g = n, w = new t } else w = h ? [] : S; e: for (; ++x < v;) { var D = f[x], R = h ? h(D) : D; if (D = p || D !== 0 ? D : 0, j && R === R) { for (var H = w.length; H--;)if (w[H] === R) continue e; h && w.push(R), S.push(D) } else g(w, R, p) || (w !== S && w.push(R), S.push(D)) } return S } return ev = u, ev } var tv, Yk; function kq() { if (Yk) return tv; Yk = 1; var t = Ka(), e = Cq(); function r(n, s) { return n && n.length ? e(n, t(s, 2)) : [] } return tv = r, tv } var Aq = kq(); const Gk = It(Aq); function SM(t, e, r) { return e === !0 ? Gk(t, r) : it(e) ? Gk(t, e) : t } function Vl(t) { "@babel/helpers - typeof"; return Vl = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Vl(t) } var Eq = ["ref"]; function Kk(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function ms(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? Kk(Object(r), !0).forEach(function (n) { Rp(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : Kk(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Dq(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function Wk(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, OM(n.key), n) } } function Tq(t, e, r) { return e && Wk(t.prototype, e), r && Wk(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function Pq(t, e, r) { return e = xm(e), Mq(t, _M() ? Reflect.construct(e, r || [], xm(t).constructor) : e.apply(t, r)) } function Mq(t, e) { if (e && (Vl(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return Rq(t) } function Rq(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function _M() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (_M = function () { return !!t })() } function xm(t) { return xm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, xm(t) } function $q(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && ij(t, e) } function ij(t, e) { return ij = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, ij(t, e) } function Rp(t, e, r) { return e = OM(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function OM(t) { var e = Iq(t, "string"); return Vl(e) == "symbol" ? e : e + "" } function Iq(t, e) { if (Vl(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Vl(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } function Lq(t, e) { if (t == null) return {}; var r = Fq(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function Fq(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function Bq(t) { return t.value } function qq(t, e) { if (he.isValidElement(t)) return he.cloneElement(t, e); if (typeof t == "function") return he.createElement(t, e); e.ref; var r = Lq(e, Eq); return he.createElement(YN, r) } var Xk = 1, Ps = (function (t) { function e() { var r; Dq(this, e); for (var n = arguments.length, s = new Array(n), o = 0; o < n; o++)s[o] = arguments[o]; return r = Pq(this, e, [].concat(s)), Rp(r, "lastBoundingBox", { width: -1, height: -1 }), r } return $q(e, t), Tq(e, [{ key: "componentDidMount", value: function () { this.updateBBox() } }, { key: "componentDidUpdate", value: function () { this.updateBBox() } }, { key: "getBBox", value: function () { if (this.wrapperNode && this.wrapperNode.getBoundingClientRect) { var n = this.wrapperNode.getBoundingClientRect(); return n.height = this.wrapperNode.offsetHeight, n.width = this.wrapperNode.offsetWidth, n } return null } }, { key: "updateBBox", value: function () { var n = this.props.onBBoxUpdate, s = this.getBBox(); s ? (Math.abs(s.width - this.lastBoundingBox.width) > Xk || Math.abs(s.height - this.lastBoundingBox.height) > Xk) && (this.lastBoundingBox.width = s.width, this.lastBoundingBox.height = s.height, n && n(s)) : (this.lastBoundingBox.width !== -1 || this.lastBoundingBox.height !== -1) && (this.lastBoundingBox.width = -1, this.lastBoundingBox.height = -1, n && n(null)) } }, { key: "getBBoxSnapshot", value: function () { return this.lastBoundingBox.width >= 0 && this.lastBoundingBox.height >= 0 ? ms({}, this.lastBoundingBox) : { width: 0, height: 0 } } }, { key: "getDefaultPosition", value: function (n) { var s = this.props, o = s.layout, c = s.align, u = s.verticalAlign, f = s.margin, h = s.chartWidth, p = s.chartHeight, x, g; if (!n || (n.left === void 0 || n.left === null) && (n.right === void 0 || n.right === null)) if (c === "center" && o === "vertical") { var v = this.getBBoxSnapshot(); x = { left: ((h || 0) - v.width) / 2 } } else x = c === "right" ? { right: f && f.right || 0 } : { left: f && f.left || 0 }; if (!n || (n.top === void 0 || n.top === null) && (n.bottom === void 0 || n.bottom === null)) if (u === "middle") { var j = this.getBBoxSnapshot(); g = { top: ((p || 0) - j.height) / 2 } } else g = u === "bottom" ? { bottom: f && f.bottom || 0 } : { top: f && f.top || 0 }; return ms(ms({}, x), g) } }, { key: "render", value: function () { var n = this, s = this.props, o = s.content, c = s.width, u = s.height, f = s.wrapperStyle, h = s.payloadUniqBy, p = s.payload, x = ms(ms({ position: "absolute", width: c || "auto", height: u || "auto" }, this.getDefaultPosition(f)), f); return he.createElement("div", { className: "recharts-legend-wrapper", style: x, ref: function (v) { n.wrapperNode = v } }, qq(o, ms(ms({}, this.props), {}, { payload: SM(p, h, Bq) }))) } }], [{ key: "getWithHeight", value: function (n, s) { var o = ms(ms({}, this.defaultProps), n.props), c = o.layout; return c === "vertical" && Le(n.props.height) ? { height: n.props.height } : c === "horizontal" ? { width: n.props.width || s } : null } }]) })(b.PureComponent); Rp(Ps, "displayName", "Legend"); Rp(Ps, "defaultProps", { iconSize: 14, layout: "horizontal", align: "center", verticalAlign: "bottom" }); var rv, Jk; function zq() { if (Jk) return rv; Jk = 1; var t = Ud(), e = KN(), r = yn(), n = t ? t.isConcatSpreadable : void 0; function s(o) { return r(o) || e(o) || !!(n && o && o[n]) } return rv = s, rv } var nv, Qk; function CM() { if (Qk) return nv; Qk = 1; var t = pM(), e = zq(); function r(n, s, o, c, u) { var f = -1, h = n.length; for (o || (o = e), u || (u = []); ++f < h;) { var p = n[f]; s > 0 && o(p) ? s > 1 ? r(p, s - 1, o, c, u) : t(u, p) : c || (u[u.length] = p) } return u } return nv = r, nv } var av, Zk; function Uq() { if (Zk) return av; Zk = 1; function t(e) { return function (r, n, s) { for (var o = -1, c = Object(r), u = s(r), f = u.length; f--;) { var h = u[e ? f : ++o]; if (n(c[h], h, c) === !1) break } return r } } return av = t, av } var sv, eA; function Hq() { if (eA) return sv; eA = 1; var t = Uq(), e = t(); return sv = e, sv } var iv, tA; function kM() { if (tA) return iv; tA = 1; var t = Hq(), e = Mp(); function r(n, s) { return n && t(n, s, e) } return iv = r, iv } var ov, rA; function Vq() { if (rA) return ov; rA = 1; var t = Hd(); function e(r, n) { return function (s, o) { if (s == null) return s; if (!t(s)) return r(s, o); for (var c = s.length, u = n ? c : -1, f = Object(s); (n ? u-- : ++u < c) && o(f[u], u, f) !== !1;); return s } } return ov = e, ov } var lv, nA; function QN() { if (nA) return lv; nA = 1; var t = kM(), e = Vq(), r = e(t); return lv = r, lv } var cv, aA; function AM() { if (aA) return cv; aA = 1; var t = QN(), e = Hd(); function r(n, s) { var o = -1, c = e(n) ? Array(n.length) : []; return t(n, function (u, f, h) { c[++o] = s(u, f, h) }), c } return cv = r, cv } var uv, sA; function Yq() { if (sA) return uv; sA = 1; function t(e, r) { var n = e.length; for (e.sort(r); n--;)e[n] = e[n].value; return e } return uv = t, uv } var dv, iA; function Gq() { if (iA) return dv; iA = 1; var t = yc(); function e(r, n) { if (r !== n) { var s = r !== void 0, o = r === null, c = r === r, u = t(r), f = n !== void 0, h = n === null, p = n === n, x = t(n); if (!h && !x && !u && r > n || u && f && p && !h && !x || o && f && p || !s && p || !c) return 1; if (!o && !u && !x && r < n || x && s && c && !o && !u || h && s && c || !f && c || !p) return -1 } return 0 } return dv = e, dv } var fv, oA; function Kq() { if (oA) return fv; oA = 1; var t = Gq(); function e(r, n, s) { for (var o = -1, c = r.criteria, u = n.criteria, f = c.length, h = s.length; ++o < f;) { var p = t(c[o], u[o]); if (p) { if (o >= h) return p; var x = s[o]; return p * (x == "desc" ? -1 : 1) } } return r.index - n.index } return fv = e, fv } var hv, lA; function Wq() { if (lA) return hv; lA = 1; var t = LN(), e = FN(), r = Ka(), n = AM(), s = Yq(), o = gM(), c = Kq(), u = wc(), f = yn(); function h(p, x, g) { x.length ? x = t(x, function (S) { return f(S) ? function (w) { return e(w, S.length === 1 ? S[0] : S) } : S }) : x = [u]; var v = -1; x = t(x, o(r)); var j = n(p, function (S, w, O) { var D = t(x, function (R) { return R(S) }); return { criteria: D, index: ++v, value: S } }); return s(j, function (S, w) { return c(S, w, g) }) } return hv = h, hv } var mv, cA; function Xq() { if (cA) return mv; cA = 1; function t(e, r, n) { switch (n.length) { case 0: return e.call(r); case 1: return e.call(r, n[0]); case 2: return e.call(r, n[0], n[1]); case 3: return e.call(r, n[0], n[1], n[2]) }return e.apply(r, n) } return mv = t, mv } var pv, uA; function Jq() { if (uA) return pv; uA = 1; var t = Xq(), e = Math.max; function r(n, s, o) { return s = e(s === void 0 ? n.length - 1 : s, 0), function () { for (var c = arguments, u = -1, f = e(c.length - s, 0), h = Array(f); ++u < f;)h[u] = c[s + u]; u = -1; for (var p = Array(s + 1); ++u < s;)p[u] = c[u]; return p[s] = o(h), t(n, this, p) } } return pv = r, pv } var xv, dA; function Qq() { if (dA) return xv; dA = 1; function t(e) { return function () { return e } } return xv = t, xv } var gv, fA; function EM() { if (fA) return gv; fA = 1; var t = Lo(), e = (function () { try { var r = t(Object, "defineProperty"); return r({}, "", {}), r } catch { } })(); return gv = e, gv } var yv, hA; function Zq() { if (hA) return yv; hA = 1; var t = Qq(), e = EM(), r = wc(), n = e ? function (s, o) { return e(s, "toString", { configurable: !0, enumerable: !1, value: t(o), writable: !0 }) } : r; return yv = n, yv } var bv, mA; function ez() { if (mA) return bv; mA = 1; var t = 800, e = 16, r = Date.now; function n(s) { var o = 0, c = 0; return function () { var u = r(), f = e - (u - c); if (c = u, f > 0) { if (++o >= t) return arguments[0] } else o = 0; return s.apply(void 0, arguments) } } return bv = n, bv } var vv, pA; function tz() { if (pA) return vv; pA = 1; var t = Zq(), e = ez(), r = e(t); return vv = r, vv } var wv, xA; function rz() { if (xA) return wv; xA = 1; var t = wc(), e = Jq(), r = tz(); function n(s, o) { return r(e(s, o, t), s + "") } return wv = n, wv } var jv, gA; function $p() { if (gA) return jv; gA = 1; var t = RN(), e = Hd(), r = WN(), n = Ii(); function s(o, c, u) { if (!n(u)) return !1; var f = typeof c; return (f == "number" ? e(u) && r(c, u.length) : f == "string" && c in u) ? t(u[c], o) : !1 } return jv = s, jv } var Nv, yA; function nz() { if (yA) return Nv; yA = 1; var t = CM(), e = Wq(), r = rz(), n = $p(), s = r(function (o, c) { if (o == null) return []; var u = c.length; return u > 1 && n(o, c[0], c[1]) ? c = [] : u > 2 && n(c[0], c[1], c[2]) && (c = [c[0]]), e(o, t(c, 1), []) }); return Nv = s, Nv } var az = nz(); const ZN = It(az); function ad(t) { "@babel/helpers - typeof"; return ad = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, ad(t) } function oj() { return oj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, oj.apply(this, arguments) } function sz(t, e) { return cz(t) || lz(t, e) || oz(t, e) || iz() } function iz() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function oz(t, e) { if (t) { if (typeof t == "string") return bA(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return bA(t, e) } } function bA(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function lz(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function cz(t) { if (Array.isArray(t)) return t } function vA(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Sv(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? vA(Object(r), !0).forEach(function (n) { uz(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : vA(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function uz(t, e, r) { return e = dz(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function dz(t) { var e = fz(t, "string"); return ad(e) == "symbol" ? e : e + "" } function fz(t, e) { if (ad(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (ad(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function hz(t) { return Array.isArray(t) && Er(t[0]) && Er(t[1]) ? t.join(" ~ ") : t } var mz = function (e) { var r = e.separator, n = r === void 0 ? " : " : r, s = e.contentStyle, o = s === void 0 ? {} : s, c = e.itemStyle, u = c === void 0 ? {} : c, f = e.labelStyle, h = f === void 0 ? {} : f, p = e.payload, x = e.formatter, g = e.itemSorter, v = e.wrapperClassName, j = e.labelClassName, S = e.label, w = e.labelFormatter, O = e.accessibilityLayer, D = O === void 0 ? !1 : O, R = function () { if (p && p.length) { var V = { padding: 0, margin: 0 }, ae = (g ? ZN(p, g) : p).map(function (ie, se) { if (ie.type === "none") return null; var U = Sv({ display: "block", paddingTop: 4, paddingBottom: 4, color: ie.color || "#000" }, u), le = ie.formatter || x || hz, de = ie.value, me = ie.name, pe = de, M = me; if (le && pe != null && M != null) { var Z = le(de, me, ie, se, p); if (Array.isArray(Z)) { var ce = sz(Z, 2); pe = ce[0], M = ce[1] } else pe = Z } return he.createElement("li", { className: "recharts-tooltip-item", key: "tooltip-item-".concat(se), style: U }, Er(M) ? he.createElement("span", { className: "recharts-tooltip-item-name" }, M) : null, Er(M) ? he.createElement("span", { className: "recharts-tooltip-item-separator" }, n) : null, he.createElement("span", { className: "recharts-tooltip-item-value" }, pe), he.createElement("span", { className: "recharts-tooltip-item-unit" }, ie.unit || "")) }); return he.createElement("ul", { className: "recharts-tooltip-item-list", style: V }, ae) } return null }, H = Sv({ margin: 0, padding: 10, backgroundColor: "#fff", border: "1px solid #ccc", whiteSpace: "nowrap" }, o), C = Sv({ margin: 0 }, h), k = !ot(S), F = k ? S : "", P = ct("recharts-default-tooltip", v), W = ct("recharts-tooltip-label", j); k && w && p !== void 0 && p !== null && (F = w(S, p)); var J = D ? { role: "status", "aria-live": "assertive" } : {}; return he.createElement("div", oj({ className: P, style: H }, J), he.createElement("p", { className: W, style: C }, he.isValidElement(F) ? F : "".concat(F)), R()) }; function sd(t) { "@babel/helpers - typeof"; return sd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, sd(t) } function jh(t, e, r) { return e = pz(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function pz(t) { var e = xz(t, "string"); return sd(e) == "symbol" ? e : e + "" } function xz(t, e) { if (sd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (sd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var vu = "recharts-tooltip-wrapper", gz = { visibility: "hidden" }; function yz(t) { var e = t.coordinate, r = t.translateX, n = t.translateY; return ct(vu, jh(jh(jh(jh({}, "".concat(vu, "-right"), Le(r) && e && Le(e.x) && r >= e.x), "".concat(vu, "-left"), Le(r) && e && Le(e.x) && r < e.x), "".concat(vu, "-bottom"), Le(n) && e && Le(e.y) && n >= e.y), "".concat(vu, "-top"), Le(n) && e && Le(e.y) && n < e.y)) } function wA(t) { var e = t.allowEscapeViewBox, r = t.coordinate, n = t.key, s = t.offsetTopLeft, o = t.position, c = t.reverseDirection, u = t.tooltipDimension, f = t.viewBox, h = t.viewBoxDimension; if (o && Le(o[n])) return o[n]; var p = r[n] - u - s, x = r[n] + s; if (e[n]) return c[n] ? p : x; if (c[n]) { var g = p, v = f[n]; return g < v ? Math.max(x, f[n]) : Math.max(p, f[n]) } var j = x + u, S = f[n] + h; return j > S ? Math.max(p, f[n]) : Math.max(x, f[n]) } function bz(t) { var e = t.translateX, r = t.translateY, n = t.useTranslate3d; return { transform: n ? "translate3d(".concat(e, "px, ").concat(r, "px, 0)") : "translate(".concat(e, "px, ").concat(r, "px)") } } function vz(t) { var e = t.allowEscapeViewBox, r = t.coordinate, n = t.offsetTopLeft, s = t.position, o = t.reverseDirection, c = t.tooltipBox, u = t.useTranslate3d, f = t.viewBox, h, p, x; return c.height > 0 && c.width > 0 && r ? (p = wA({ allowEscapeViewBox: e, coordinate: r, key: "x", offsetTopLeft: n, position: s, reverseDirection: o, tooltipDimension: c.width, viewBox: f, viewBoxDimension: f.width }), x = wA({ allowEscapeViewBox: e, coordinate: r, key: "y", offsetTopLeft: n, position: s, reverseDirection: o, tooltipDimension: c.height, viewBox: f, viewBoxDimension: f.height }), h = bz({ translateX: p, translateY: x, useTranslate3d: u })) : h = gz, { cssProperties: h, cssClasses: yz({ translateX: p, translateY: x, coordinate: r }) } } function Yl(t) { "@babel/helpers - typeof"; return Yl = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Yl(t) } function jA(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function NA(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? jA(Object(r), !0).forEach(function (n) { cj(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : jA(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function wz(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function jz(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, TM(n.key), n) } } function Nz(t, e, r) { return e && jz(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function Sz(t, e, r) { return e = gm(e), _z(t, DM() ? Reflect.construct(e, r || [], gm(t).constructor) : e.apply(t, r)) } function _z(t, e) { if (e && (Yl(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return Oz(t) } function Oz(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function DM() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (DM = function () { return !!t })() } function gm(t) { return gm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, gm(t) } function Cz(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && lj(t, e) } function lj(t, e) { return lj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, lj(t, e) } function cj(t, e, r) { return e = TM(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function TM(t) { var e = kz(t, "string"); return Yl(e) == "symbol" ? e : e + "" } function kz(t, e) { if (Yl(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Yl(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var SA = 1, Az = (function (t) { function e() { var r; wz(this, e); for (var n = arguments.length, s = new Array(n), o = 0; o < n; o++)s[o] = arguments[o]; return r = Sz(this, e, [].concat(s)), cj(r, "state", { dismissed: !1, dismissedAtCoordinate: { x: 0, y: 0 }, lastBoundingBox: { width: -1, height: -1 } }), cj(r, "handleKeyDown", function (c) { if (c.key === "Escape") { var u, f, h, p; r.setState({ dismissed: !0, dismissedAtCoordinate: { x: (u = (f = r.props.coordinate) === null || f === void 0 ? void 0 : f.x) !== null && u !== void 0 ? u : 0, y: (h = (p = r.props.coordinate) === null || p === void 0 ? void 0 : p.y) !== null && h !== void 0 ? h : 0 } }) } }), r } return Cz(e, t), Nz(e, [{ key: "updateBBox", value: function () { if (this.wrapperNode && this.wrapperNode.getBoundingClientRect) { var n = this.wrapperNode.getBoundingClientRect(); (Math.abs(n.width - this.state.lastBoundingBox.width) > SA || Math.abs(n.height - this.state.lastBoundingBox.height) > SA) && this.setState({ lastBoundingBox: { width: n.width, height: n.height } }) } else (this.state.lastBoundingBox.width !== -1 || this.state.lastBoundingBox.height !== -1) && this.setState({ lastBoundingBox: { width: -1, height: -1 } }) } }, { key: "componentDidMount", value: function () { document.addEventListener("keydown", this.handleKeyDown), this.updateBBox() } }, { key: "componentWillUnmount", value: function () { document.removeEventListener("keydown", this.handleKeyDown) } }, { key: "componentDidUpdate", value: function () { var n, s; this.props.active && this.updateBBox(), this.state.dismissed && (((n = this.props.coordinate) === null || n === void 0 ? void 0 : n.x) !== this.state.dismissedAtCoordinate.x || ((s = this.props.coordinate) === null || s === void 0 ? void 0 : s.y) !== this.state.dismissedAtCoordinate.y) && (this.state.dismissed = !1) } }, { key: "render", value: function () { var n = this, s = this.props, o = s.active, c = s.allowEscapeViewBox, u = s.animationDuration, f = s.animationEasing, h = s.children, p = s.coordinate, x = s.hasPayload, g = s.isAnimationActive, v = s.offset, j = s.position, S = s.reverseDirection, w = s.useTranslate3d, O = s.viewBox, D = s.wrapperStyle, R = vz({ allowEscapeViewBox: c, coordinate: p, offsetTopLeft: v, position: j, reverseDirection: S, tooltipBox: this.state.lastBoundingBox, useTranslate3d: w, viewBox: O }), H = R.cssClasses, C = R.cssProperties, k = NA(NA({ transition: g && o ? "transform ".concat(u, "ms ").concat(f) : void 0 }, C), {}, { pointerEvents: "none", visibility: !this.state.dismissed && o && x ? "visible" : "hidden", position: "absolute", top: 0, left: 0 }, D); return he.createElement("div", { tabIndex: -1, className: H, style: k, ref: function (P) { n.wrapperNode = P } }, h) } }]) })(b.PureComponent), Ez = function () { return !(typeof window < "u" && window.document && window.document.createElement && window.setTimeout) }, Li = { isSsr: Ez() }; function Gl(t) { "@babel/helpers - typeof"; return Gl = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Gl(t) } function _A(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function OA(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? _A(Object(r), !0).forEach(function (n) { e1(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : _A(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Dz(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function Tz(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, MM(n.key), n) } } function Pz(t, e, r) { return e && Tz(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function Mz(t, e, r) { return e = ym(e), Rz(t, PM() ? Reflect.construct(e, r || [], ym(t).constructor) : e.apply(t, r)) } function Rz(t, e) { if (e && (Gl(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return $z(t) } function $z(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function PM() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (PM = function () { return !!t })() } function ym(t) { return ym = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, ym(t) } function Iz(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && uj(t, e) } function uj(t, e) { return uj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, uj(t, e) } function e1(t, e, r) { return e = MM(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function MM(t) { var e = Lz(t, "string"); return Gl(e) == "symbol" ? e : e + "" } function Lz(t, e) { if (Gl(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Gl(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } function Fz(t) { return t.dataKey } function Bz(t, e) { return he.isValidElement(t) ? he.cloneElement(t, e) : typeof t == "function" ? he.createElement(t, e) : he.createElement(mz, e) } var nn = (function (t) { function e() { return Dz(this, e), Mz(this, e, arguments) } return Iz(e, t), Pz(e, [{ key: "render", value: function () { var n = this, s = this.props, o = s.active, c = s.allowEscapeViewBox, u = s.animationDuration, f = s.animationEasing, h = s.content, p = s.coordinate, x = s.filterNull, g = s.isAnimationActive, v = s.offset, j = s.payload, S = s.payloadUniqBy, w = s.position, O = s.reverseDirection, D = s.useTranslate3d, R = s.viewBox, H = s.wrapperStyle, C = j ?? []; x && C.length && (C = SM(j.filter(function (F) { return F.value != null && (F.hide !== !0 || n.props.includeHidden) }), S, Fz)); var k = C.length > 0; return he.createElement(Az, { allowEscapeViewBox: c, animationDuration: u, animationEasing: f, isAnimationActive: g, active: o, coordinate: p, hasPayload: k, offset: v, position: w, reverseDirection: O, useTranslate3d: D, viewBox: R, wrapperStyle: H }, Bz(h, OA(OA({}, this.props), {}, { payload: C }))) } }]) })(b.PureComponent); e1(nn, "displayName", "Tooltip"); e1(nn, "defaultProps", { accessibilityLayer: !1, allowEscapeViewBox: { x: !1, y: !1 }, animationDuration: 400, animationEasing: "ease", contentStyle: {}, coordinate: { x: 0, y: 0 }, cursor: !0, cursorStyle: {}, filterNull: !0, isAnimationActive: !Li.isSsr, itemStyle: {}, labelStyle: {}, offset: 10, reverseDirection: { x: !1, y: !1 }, separator: " : ", trigger: "hover", useTranslate3d: !1, viewBox: { x: 0, y: 0, height: 0, width: 0 }, wrapperStyle: {} }); var _v, CA; function qz() { if (CA) return _v; CA = 1; var t = Ga(), e = function () { return t.Date.now() }; return _v = e, _v } var Ov, kA; function zz() { if (kA) return Ov; kA = 1; var t = /\s/; function e(r) { for (var n = r.length; n-- && t.test(r.charAt(n));); return n } return Ov = e, Ov } var Cv, AA; function Uz() { if (AA) return Cv; AA = 1; var t = zz(), e = /^\s+/; function r(n) { return n && n.slice(0, t(n) + 1).replace(e, "") } return Cv = r, Cv } var kv, EA; function RM() { if (EA) return kv; EA = 1; var t = Uz(), e = Ii(), r = yc(), n = NaN, s = /^[-+]0x[0-9a-f]+$/i, o = /^0b[01]+$/i, c = /^0o[0-7]+$/i, u = parseInt; function f(h) { if (typeof h == "number") return h; if (r(h)) return n; if (e(h)) { var p = typeof h.valueOf == "function" ? h.valueOf() : h; h = e(p) ? p + "" : p } if (typeof h != "string") return h === 0 ? h : +h; h = t(h); var x = o.test(h); return x || c.test(h) ? u(h.slice(2), x ? 2 : 8) : s.test(h) ? n : +h } return kv = f, kv } var Av, DA; function Hz() { if (DA) return Av; DA = 1; var t = Ii(), e = qz(), r = RM(), n = "Expected a function", s = Math.max, o = Math.min; function c(u, f, h) { var p, x, g, v, j, S, w = 0, O = !1, D = !1, R = !0; if (typeof u != "function") throw new TypeError(n); f = r(f) || 0, t(h) && (O = !!h.leading, D = "maxWait" in h, g = D ? s(r(h.maxWait) || 0, f) : g, R = "trailing" in h ? !!h.trailing : R); function H(ae) { var ie = p, se = x; return p = x = void 0, w = ae, v = u.apply(se, ie), v } function C(ae) { return w = ae, j = setTimeout(P, f), O ? H(ae) : v } function k(ae) { var ie = ae - S, se = ae - w, U = f - ie; return D ? o(U, g - se) : U } function F(ae) { var ie = ae - S, se = ae - w; return S === void 0 || ie >= f || ie < 0 || D && se >= g } function P() { var ae = e(); if (F(ae)) return W(ae); j = setTimeout(P, k(ae)) } function W(ae) { return j = void 0, R && p ? H(ae) : (p = x = void 0, v) } function J() { j !== void 0 && clearTimeout(j), w = 0, p = S = x = j = void 0 } function Q() { return j === void 0 ? v : W(e()) } function V() { var ae = e(), ie = F(ae); if (p = arguments, x = this, S = ae, ie) { if (j === void 0) return C(S); if (D) return clearTimeout(j), j = setTimeout(P, f), H(S) } return j === void 0 && (j = setTimeout(P, f)), v } return V.cancel = J, V.flush = Q, V } return Av = c, Av } var Ev, TA; function Vz() { if (TA) return Ev; TA = 1; var t = Hz(), e = Ii(), r = "Expected a function"; function n(s, o, c) { var u = !0, f = !0; if (typeof s != "function") throw new TypeError(r); return e(c) && (u = "leading" in c ? !!c.leading : u, f = "trailing" in c ? !!c.trailing : f), t(s, o, { leading: u, maxWait: o, trailing: f }) } return Ev = n, Ev } var Yz = Vz(); const $M = It(Yz); function id(t) { "@babel/helpers - typeof"; return id = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, id(t) } function PA(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Nh(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? PA(Object(r), !0).forEach(function (n) { Gz(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : PA(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Gz(t, e, r) { return e = Kz(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function Kz(t) { var e = Wz(t, "string"); return id(e) == "symbol" ? e : e + "" } function Wz(t, e) { if (id(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (id(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function Xz(t, e) { return eU(t) || Zz(t, e) || Qz(t, e) || Jz() } function Jz() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function Qz(t, e) { if (t) { if (typeof t == "string") return MA(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return MA(t, e) } } function MA(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function Zz(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function eU(t) { if (Array.isArray(t)) return t } var bm = b.forwardRef(function (t, e) {
  var r = t.aspect, n = t.initialDimension, s = n === void 0 ? { width: -1, height: -1 } : n, o = t.width, c = o === void 0 ? "100%" : o, u = t.height, f = u === void 0 ? "100%" : u, h = t.minWidth, p = h === void 0 ? 0 : h, x = t.minHeight, g = t.maxHeight, v = t.children, j = t.debounce, S = j === void 0 ? 0 : j, w = t.id, O = t.className, D = t.onResize, R = t.style, H = R === void 0 ? {} : R, C = b.useRef(null), k = b.useRef(); k.current = D, b.useImperativeHandle(e, function () { return Object.defineProperty(C.current, "current", { get: function () { return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."), C.current }, configurable: !0 }) }); var F = b.useState({ containerWidth: s.width, containerHeight: s.height }), P = Xz(F, 2), W = P[0], J = P[1], Q = b.useCallback(function (ae, ie) { J(function (se) { var U = Math.round(ae), le = Math.round(ie); return se.containerWidth === U && se.containerHeight === le ? se : { containerWidth: U, containerHeight: le } }) }, []); b.useEffect(function () { var ae = function (me) { var pe, M = me[0].contentRect, Z = M.width, ce = M.height; Q(Z, ce), (pe = k.current) === null || pe === void 0 || pe.call(k, Z, ce) }; S > 0 && (ae = $M(ae, S, { trailing: !0, leading: !1 })); var ie = new ResizeObserver(ae), se = C.current.getBoundingClientRect(), U = se.width, le = se.height; return Q(U, le), ie.observe(C.current), function () { ie.disconnect() } }, [Q, S]); var V = b.useMemo(function () {
    var ae = W.containerWidth, ie = W.containerHeight; if (ae < 0 || ie < 0) return null; Oa(bo(c) || bo(f), `The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`, c, f), Oa(!r || r > 0, "The aspect(%s) must be greater than zero.", r); var se = bo(c) ? ae : c, U = bo(f) ? ie : f; r && r > 0 && (se ? U = se / r : U && (se = U * r), g && U > g && (U = g)), Oa(se > 0 || U > 0, `The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`, se, U, c, f, p, x, r); var le = !Array.isArray(v) && Ts(v.type).endsWith("Chart"); return he.Children.map(v, function (de) { return he.isValidElement(de) ? b.cloneElement(de, Nh({ width: se, height: U }, le ? { style: Nh({ height: "100%", width: "100%", maxHeight: U, maxWidth: se }, de.props.style) } : {})) : de })
  }, [r, v, f, g, x, p, W, c]); return he.createElement("div", { id: w ? "".concat(w) : void 0, className: ct("recharts-responsive-container", O), style: Nh(Nh({}, H), {}, { width: c, height: f, minWidth: p, minHeight: x, maxHeight: g }), ref: C }, V)
}), Vd = function (e) { return null }; Vd.displayName = "Cell"; function od(t) { "@babel/helpers - typeof"; return od = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, od(t) } function RA(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function dj(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? RA(Object(r), !0).forEach(function (n) { tU(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : RA(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function tU(t, e, r) { return e = rU(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function rU(t) { var e = nU(t, "string"); return od(e) == "symbol" ? e : e + "" } function nU(t, e) { if (od(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (od(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var Ol = { widthCache: {}, cacheCount: 0 }, aU = 2e3, sU = { position: "absolute", top: "-20000px", left: 0, padding: 0, margin: 0, border: "none", whiteSpace: "pre" }, $A = "recharts_measurement_span"; function iU(t) { var e = dj({}, t); return Object.keys(e).forEach(function (r) { e[r] || delete e[r] }), e } var Uu = function (e) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}; if (e == null || Li.isSsr) return { width: 0, height: 0 }; var n = iU(r), s = JSON.stringify({ text: e, copyStyle: n }); if (Ol.widthCache[s]) return Ol.widthCache[s]; try { var o = document.getElementById($A); o || (o = document.createElement("span"), o.setAttribute("id", $A), o.setAttribute("aria-hidden", "true"), document.body.appendChild(o)); var c = dj(dj({}, sU), n); Object.assign(o.style, c), o.textContent = "".concat(e); var u = o.getBoundingClientRect(), f = { width: u.width, height: u.height }; return Ol.widthCache[s] = f, ++Ol.cacheCount > aU && (Ol.cacheCount = 0, Ol.widthCache = {}), f } catch { return { width: 0, height: 0 } } }, oU = function (e) { return { top: e.top + window.scrollY - document.documentElement.clientTop, left: e.left + window.scrollX - document.documentElement.clientLeft } }; function ld(t) { "@babel/helpers - typeof"; return ld = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, ld(t) } function vm(t, e) { return dU(t) || uU(t, e) || cU(t, e) || lU() } function lU() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function cU(t, e) { if (t) { if (typeof t == "string") return IA(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return IA(t, e) } } function IA(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function uU(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e === 0) { if (Object(r) !== r) return; f = !1 } else for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function dU(t) { if (Array.isArray(t)) return t } function fU(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function LA(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, mU(n.key), n) } } function hU(t, e, r) { return e && LA(t.prototype, e), r && LA(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function mU(t) { var e = pU(t, "string"); return ld(e) == "symbol" ? e : e + "" } function pU(t, e) { if (ld(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (ld(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var FA = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/, BA = /(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/, xU = /^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/, gU = /(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/, IM = { cm: 96 / 2.54, mm: 96 / 25.4, pt: 96 / 72, pc: 96 / 6, in: 96, Q: 96 / (2.54 * 40), px: 1 }, yU = Object.keys(IM), Dl = "NaN"; function bU(t, e) { return t * IM[e] } var Sh = (function () { function t(e, r) { fU(this, t), this.num = e, this.unit = r, this.num = e, this.unit = r, Number.isNaN(e) && (this.unit = ""), r !== "" && !xU.test(r) && (this.num = NaN, this.unit = ""), yU.includes(r) && (this.num = bU(e, r), this.unit = "px") } return hU(t, [{ key: "add", value: function (r) { return this.unit !== r.unit ? new t(NaN, "") : new t(this.num + r.num, this.unit) } }, { key: "subtract", value: function (r) { return this.unit !== r.unit ? new t(NaN, "") : new t(this.num - r.num, this.unit) } }, { key: "multiply", value: function (r) { return this.unit !== "" && r.unit !== "" && this.unit !== r.unit ? new t(NaN, "") : new t(this.num * r.num, this.unit || r.unit) } }, { key: "divide", value: function (r) { return this.unit !== "" && r.unit !== "" && this.unit !== r.unit ? new t(NaN, "") : new t(this.num / r.num, this.unit || r.unit) } }, { key: "toString", value: function () { return "".concat(this.num).concat(this.unit) } }, { key: "isNaN", value: function () { return Number.isNaN(this.num) } }], [{ key: "parse", value: function (r) { var n, s = (n = gU.exec(r)) !== null && n !== void 0 ? n : [], o = vm(s, 3), c = o[1], u = o[2]; return new t(parseFloat(c), u ?? "") } }]) })(); function LM(t) { if (t.includes(Dl)) return Dl; for (var e = t; e.includes("*") || e.includes("/");) { var r, n = (r = FA.exec(e)) !== null && r !== void 0 ? r : [], s = vm(n, 4), o = s[1], c = s[2], u = s[3], f = Sh.parse(o ?? ""), h = Sh.parse(u ?? ""), p = c === "*" ? f.multiply(h) : f.divide(h); if (p.isNaN()) return Dl; e = e.replace(FA, p.toString()) } for (; e.includes("+") || /.-\d+(?:\.\d+)?/.test(e);) { var x, g = (x = BA.exec(e)) !== null && x !== void 0 ? x : [], v = vm(g, 4), j = v[1], S = v[2], w = v[3], O = Sh.parse(j ?? ""), D = Sh.parse(w ?? ""), R = S === "+" ? O.add(D) : O.subtract(D); if (R.isNaN()) return Dl; e = e.replace(BA, R.toString()) } return e } var qA = /\(([^()]*)\)/; function vU(t) { for (var e = t; e.includes("(");) { var r = qA.exec(e), n = vm(r, 2), s = n[1]; e = e.replace(qA, LM(s)) } return e } function wU(t) { var e = t.replace(/\s+/g, ""); return e = vU(e), e = LM(e), e } function jU(t) { try { return wU(t) } catch { return Dl } } function Dv(t) { var e = jU(t.slice(5, -1)); return e === Dl ? "" : e } var NU = ["x", "y", "lineHeight", "capHeight", "scaleToFit", "textAnchor", "verticalAnchor", "fill"], SU = ["dx", "dy", "angle", "className", "breakAll"]; function fj() { return fj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, fj.apply(this, arguments) } function zA(t, e) { if (t == null) return {}; var r = _U(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function _U(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function UA(t, e) { return AU(t) || kU(t, e) || CU(t, e) || OU() } function OU() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function CU(t, e) { if (t) { if (typeof t == "string") return HA(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return HA(t, e) } } function HA(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function kU(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e === 0) { if (Object(r) !== r) return; f = !1 } else for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function AU(t) { if (Array.isArray(t)) return t } var FM = /[ \f\n\r\t\v\u2028\u2029]+/, BM = function (e) { var r = e.children, n = e.breakAll, s = e.style; try { var o = []; ot(r) || (n ? o = r.toString().split("") : o = r.toString().split(FM)); var c = o.map(function (f) { return { word: f, width: Uu(f, s).width } }), u = n ? 0 : Uu("", s).width; return { wordsWithComputedWidth: c, spaceWidth: u } } catch { return null } }, EU = function (e, r, n, s, o) { var c = e.maxLines, u = e.children, f = e.style, h = e.breakAll, p = Le(c), x = u, g = function () { var se = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : []; return se.reduce(function (U, le) { var de = le.word, me = le.width, pe = U[U.length - 1]; if (pe && (s == null || o || pe.width + me + n < Number(s))) pe.words.push(de), pe.width += me + n; else { var M = { words: [de], width: me }; U.push(M) } return U }, []) }, v = g(r), j = function (se) { return se.reduce(function (U, le) { return U.width > le.width ? U : le }) }; if (!p) return v; for (var S = "", w = function (se) { var U = x.slice(0, se), le = BM({ breakAll: h, style: f, children: U + S }).wordsWithComputedWidth, de = g(le), me = de.length > c || j(de).width > Number(s); return [me, de] }, O = 0, D = x.length - 1, R = 0, H; O <= D && R <= x.length - 1;) { var C = Math.floor((O + D) / 2), k = C - 1, F = w(k), P = UA(F, 2), W = P[0], J = P[1], Q = w(C), V = UA(Q, 1), ae = V[0]; if (!W && !ae && (O = C + 1), W && ae && (D = C - 1), !W && ae) { H = J; break } R++ } return H || v }, VA = function (e) { var r = ot(e) ? [] : e.toString().split(FM); return [{ words: r }] }, DU = function (e) { var r = e.width, n = e.scaleToFit, s = e.children, o = e.style, c = e.breakAll, u = e.maxLines; if ((r || n) && !Li.isSsr) { var f, h, p = BM({ breakAll: c, children: s, style: o }); if (p) { var x = p.wordsWithComputedWidth, g = p.spaceWidth; f = x, h = g } else return VA(s); return EU({ breakAll: c, children: s, maxLines: u, style: o }, f, h, r, n) } return VA(s) }, YA = "#808080", Do = function (e) { var r = e.x, n = r === void 0 ? 0 : r, s = e.y, o = s === void 0 ? 0 : s, c = e.lineHeight, u = c === void 0 ? "1em" : c, f = e.capHeight, h = f === void 0 ? "0.71em" : f, p = e.scaleToFit, x = p === void 0 ? !1 : p, g = e.textAnchor, v = g === void 0 ? "start" : g, j = e.verticalAnchor, S = j === void 0 ? "end" : j, w = e.fill, O = w === void 0 ? YA : w, D = zA(e, NU), R = b.useMemo(function () { return DU({ breakAll: D.breakAll, children: D.children, maxLines: D.maxLines, scaleToFit: x, style: D.style, width: D.width }) }, [D.breakAll, D.children, D.maxLines, x, D.style, D.width]), H = D.dx, C = D.dy, k = D.angle, F = D.className, P = D.breakAll, W = zA(D, SU); if (!Er(n) || !Er(o)) return null; var J = n + (Le(H) ? H : 0), Q = o + (Le(C) ? C : 0), V; switch (S) { case "start": V = Dv("calc(".concat(h, ")")); break; case "middle": V = Dv("calc(".concat((R.length - 1) / 2, " * -").concat(u, " + (").concat(h, " / 2))")); break; default: V = Dv("calc(".concat(R.length - 1, " * -").concat(u, ")")); break }var ae = []; if (x) { var ie = R[0].width, se = D.width; ae.push("scale(".concat((Le(se) ? se / ie : 1) / ie, ")")) } return k && ae.push("rotate(".concat(k, ", ").concat(J, ", ").concat(Q, ")")), ae.length && (W.transform = ae.join(" ")), he.createElement("text", fj({}, et(W, !0), { x: J, y: Q, className: ct("recharts-text", F), textAnchor: v, fill: O.includes("url") ? YA : O }), R.map(function (U, le) { var de = U.words.join(P ? "" : " "); return he.createElement("tspan", { x: J, dy: le === 0 ? V : u, key: "".concat(de, "-").concat(le) }, de) })) }; function Ti(t, e) { return t == null || e == null ? NaN : t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN } function TU(t, e) { return t == null || e == null ? NaN : e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN } function t1(t) { let e, r, n; t.length !== 2 ? (e = Ti, r = (u, f) => Ti(t(u), f), n = (u, f) => t(u) - f) : (e = t === Ti || t === TU ? t : PU, r = t, n = t); function s(u, f, h = 0, p = u.length) { if (h < p) { if (e(f, f) !== 0) return p; do { const x = h + p >>> 1; r(u[x], f) < 0 ? h = x + 1 : p = x } while (h < p) } return h } function o(u, f, h = 0, p = u.length) { if (h < p) { if (e(f, f) !== 0) return p; do { const x = h + p >>> 1; r(u[x], f) <= 0 ? h = x + 1 : p = x } while (h < p) } return h } function c(u, f, h = 0, p = u.length) { const x = s(u, f, h, p - 1); return x > h && n(u[x - 1], f) > -n(u[x], f) ? x - 1 : x } return { left: s, center: c, right: o } } function PU() { return 0 } function qM(t) { return t === null ? NaN : +t } function* MU(t, e) { for (let r of t) r != null && (r = +r) >= r && (yield r) } const RU = t1(Ti), Yd = RU.right; t1(qM).center; class GA extends Map { constructor(e, r = LU) { if (super(), Object.defineProperties(this, { _intern: { value: new Map }, _key: { value: r } }), e != null) for (const [n, s] of e) this.set(n, s) } get(e) { return super.get(KA(this, e)) } has(e) { return super.has(KA(this, e)) } set(e, r) { return super.set($U(this, e), r) } delete(e) { return super.delete(IU(this, e)) } } function KA({ _intern: t, _key: e }, r) { const n = e(r); return t.has(n) ? t.get(n) : r } function $U({ _intern: t, _key: e }, r) { const n = e(r); return t.has(n) ? t.get(n) : (t.set(n, r), r) } function IU({ _intern: t, _key: e }, r) { const n = e(r); return t.has(n) && (r = t.get(n), t.delete(n)), r } function LU(t) { return t !== null && typeof t == "object" ? t.valueOf() : t } function FU(t = Ti) { if (t === Ti) return zM; if (typeof t != "function") throw new TypeError("compare is not a function"); return (e, r) => { const n = t(e, r); return n || n === 0 ? n : (t(r, r) === 0) - (t(e, e) === 0) } } function zM(t, e) { return (t == null || !(t >= t)) - (e == null || !(e >= e)) || (t < e ? -1 : t > e ? 1 : 0) } const BU = Math.sqrt(50), qU = Math.sqrt(10), zU = Math.sqrt(2); function wm(t, e, r) { const n = (e - t) / Math.max(0, r), s = Math.floor(Math.log10(n)), o = n / Math.pow(10, s), c = o >= BU ? 10 : o >= qU ? 5 : o >= zU ? 2 : 1; let u, f, h; return s < 0 ? (h = Math.pow(10, -s) / c, u = Math.round(t * h), f = Math.round(e * h), u / h < t && ++u, f / h > e && --f, h = -h) : (h = Math.pow(10, s) * c, u = Math.round(t / h), f = Math.round(e / h), u * h < t && ++u, f * h > e && --f), f < u && .5 <= r && r < 2 ? wm(t, e, r * 2) : [u, f, h] } function hj(t, e, r) { if (e = +e, t = +t, r = +r, !(r > 0)) return []; if (t === e) return [t]; const n = e < t, [s, o, c] = n ? wm(e, t, r) : wm(t, e, r); if (!(o >= s)) return []; const u = o - s + 1, f = new Array(u); if (n) if (c < 0) for (let h = 0; h < u; ++h)f[h] = (o - h) / -c; else for (let h = 0; h < u; ++h)f[h] = (o - h) * c; else if (c < 0) for (let h = 0; h < u; ++h)f[h] = (s + h) / -c; else for (let h = 0; h < u; ++h)f[h] = (s + h) * c; return f } function mj(t, e, r) { return e = +e, t = +t, r = +r, wm(t, e, r)[2] } function pj(t, e, r) { e = +e, t = +t, r = +r; const n = e < t, s = n ? mj(e, t, r) : mj(t, e, r); return (n ? -1 : 1) * (s < 0 ? 1 / -s : s) } function WA(t, e) { let r; for (const n of t) n != null && (r < n || r === void 0 && n >= n) && (r = n); return r } function XA(t, e) { let r; for (const n of t) n != null && (r > n || r === void 0 && n >= n) && (r = n); return r } function UM(t, e, r = 0, n = 1 / 0, s) { if (e = Math.floor(e), r = Math.floor(Math.max(0, r)), n = Math.floor(Math.min(t.length - 1, n)), !(r <= e && e <= n)) return t; for (s = s === void 0 ? zM : FU(s); n > r;) { if (n - r > 600) { const f = n - r + 1, h = e - r + 1, p = Math.log(f), x = .5 * Math.exp(2 * p / 3), g = .5 * Math.sqrt(p * x * (f - x) / f) * (h - f / 2 < 0 ? -1 : 1), v = Math.max(r, Math.floor(e - h * x / f + g)), j = Math.min(n, Math.floor(e + (f - h) * x / f + g)); UM(t, e, v, j, s) } const o = t[e]; let c = r, u = n; for (wu(t, r, e), s(t[n], o) > 0 && wu(t, r, n); c < u;) { for (wu(t, c, u), ++c, --u; s(t[c], o) < 0;)++c; for (; s(t[u], o) > 0;)--u } s(t[r], o) === 0 ? wu(t, r, u) : (++u, wu(t, u, n)), u <= e && (r = u + 1), e <= u && (n = u - 1) } return t } function wu(t, e, r) { const n = t[e]; t[e] = t[r], t[r] = n } function UU(t, e, r) { if (t = Float64Array.from(MU(t)), !(!(n = t.length) || isNaN(e = +e))) { if (e <= 0 || n < 2) return XA(t); if (e >= 1) return WA(t); var n, s = (n - 1) * e, o = Math.floor(s), c = WA(UM(t, o).subarray(0, o + 1)), u = XA(t.subarray(o + 1)); return c + (u - c) * (s - o) } } function HU(t, e, r = qM) { if (!(!(n = t.length) || isNaN(e = +e))) { if (e <= 0 || n < 2) return +r(t[0], 0, t); if (e >= 1) return +r(t[n - 1], n - 1, t); var n, s = (n - 1) * e, o = Math.floor(s), c = +r(t[o], o, t), u = +r(t[o + 1], o + 1, t); return c + (u - c) * (s - o) } } function VU(t, e, r) { t = +t, e = +e, r = (s = arguments.length) < 2 ? (e = t, t = 0, 1) : s < 3 ? 1 : +r; for (var n = -1, s = Math.max(0, Math.ceil((e - t) / r)) | 0, o = new Array(s); ++n < s;)o[n] = t + n * r; return o } function la(t, e) { switch (arguments.length) { case 0: break; case 1: this.range(t); break; default: this.range(e).domain(t); break }return this } function Us(t, e) { switch (arguments.length) { case 0: break; case 1: { typeof t == "function" ? this.interpolator(t) : this.range(t); break } default: { this.domain(t), typeof e == "function" ? this.interpolator(e) : this.range(e); break } }return this } const xj = Symbol("implicit"); function r1() { var t = new GA, e = [], r = [], n = xj; function s(o) { let c = t.get(o); if (c === void 0) { if (n !== xj) return n; t.set(o, c = e.push(o) - 1) } return r[c % r.length] } return s.domain = function (o) { if (!arguments.length) return e.slice(); e = [], t = new GA; for (const c of o) t.has(c) || t.set(c, e.push(c) - 1); return s }, s.range = function (o) { return arguments.length ? (r = Array.from(o), s) : r.slice() }, s.unknown = function (o) { return arguments.length ? (n = o, s) : n }, s.copy = function () { return r1(e, r).unknown(n) }, la.apply(s, arguments), s } function cd() { var t = r1().unknown(void 0), e = t.domain, r = t.range, n = 0, s = 1, o, c, u = !1, f = 0, h = 0, p = .5; delete t.unknown; function x() { var g = e().length, v = s < n, j = v ? s : n, S = v ? n : s; o = (S - j) / Math.max(1, g - f + h * 2), u && (o = Math.floor(o)), j += (S - j - o * (g - f)) * p, c = o * (1 - f), u && (j = Math.round(j), c = Math.round(c)); var w = VU(g).map(function (O) { return j + o * O }); return r(v ? w.reverse() : w) } return t.domain = function (g) { return arguments.length ? (e(g), x()) : e() }, t.range = function (g) { return arguments.length ? ([n, s] = g, n = +n, s = +s, x()) : [n, s] }, t.rangeRound = function (g) { return [n, s] = g, n = +n, s = +s, u = !0, x() }, t.bandwidth = function () { return c }, t.step = function () { return o }, t.round = function (g) { return arguments.length ? (u = !!g, x()) : u }, t.padding = function (g) { return arguments.length ? (f = Math.min(1, h = +g), x()) : f }, t.paddingInner = function (g) { return arguments.length ? (f = Math.min(1, g), x()) : f }, t.paddingOuter = function (g) { return arguments.length ? (h = +g, x()) : h }, t.align = function (g) { return arguments.length ? (p = Math.max(0, Math.min(1, g)), x()) : p }, t.copy = function () { return cd(e(), [n, s]).round(u).paddingInner(f).paddingOuter(h).align(p) }, la.apply(x(), arguments) } function HM(t) { var e = t.copy; return t.padding = t.paddingOuter, delete t.paddingInner, delete t.paddingOuter, t.copy = function () { return HM(e()) }, t } function Hu() { return HM(cd.apply(null, arguments).paddingInner(1)) } function n1(t, e, r) { t.prototype = e.prototype = r, r.constructor = t } function VM(t, e) { var r = Object.create(t.prototype); for (var n in e) r[n] = e[n]; return r } function Gd() { } var ud = .7, jm = 1 / ud, Ll = "\\s*([+-]?\\d+)\\s*", dd = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*", qa = "\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*", YU = /^#([0-9a-f]{3,8})$/, GU = new RegExp(`^rgb\\(${Ll},${Ll},${Ll}\\)$`), KU = new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`), WU = new RegExp(`^rgba\\(${Ll},${Ll},${Ll},${dd}\\)$`), XU = new RegExp(`^rgba\\(${qa},${qa},${qa},${dd}\\)$`), JU = new RegExp(`^hsl\\(${dd},${qa},${qa}\\)$`), QU = new RegExp(`^hsla\\(${dd},${qa},${qa},${dd}\\)$`), JA = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 }; n1(Gd, fd, { copy(t) { return Object.assign(new this.constructor, this, t) }, displayable() { return this.rgb().displayable() }, hex: QA, formatHex: QA, formatHex8: ZU, formatHsl: eH, formatRgb: ZA, toString: ZA }); function QA() { return this.rgb().formatHex() } function ZU() { return this.rgb().formatHex8() } function eH() { return YM(this).formatHsl() } function ZA() { return this.rgb().formatRgb() } function fd(t) { var e, r; return t = (t + "").trim().toLowerCase(), (e = YU.exec(t)) ? (r = e[1].length, e = parseInt(e[1], 16), r === 6 ? eE(e) : r === 3 ? new gn(e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | e & 240, (e & 15) << 4 | e & 15, 1) : r === 8 ? _h(e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, (e & 255) / 255) : r === 4 ? _h(e >> 12 & 15 | e >> 8 & 240, e >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | e & 240, ((e & 15) << 4 | e & 15) / 255) : null) : (e = GU.exec(t)) ? new gn(e[1], e[2], e[3], 1) : (e = KU.exec(t)) ? new gn(e[1] * 255 / 100, e[2] * 255 / 100, e[3] * 255 / 100, 1) : (e = WU.exec(t)) ? _h(e[1], e[2], e[3], e[4]) : (e = XU.exec(t)) ? _h(e[1] * 255 / 100, e[2] * 255 / 100, e[3] * 255 / 100, e[4]) : (e = JU.exec(t)) ? nE(e[1], e[2] / 100, e[3] / 100, 1) : (e = QU.exec(t)) ? nE(e[1], e[2] / 100, e[3] / 100, e[4]) : JA.hasOwnProperty(t) ? eE(JA[t]) : t === "transparent" ? new gn(NaN, NaN, NaN, 0) : null } function eE(t) { return new gn(t >> 16 & 255, t >> 8 & 255, t & 255, 1) } function _h(t, e, r, n) { return n <= 0 && (t = e = r = NaN), new gn(t, e, r, n) } function tH(t) { return t instanceof Gd || (t = fd(t)), t ? (t = t.rgb(), new gn(t.r, t.g, t.b, t.opacity)) : new gn } function gj(t, e, r, n) { return arguments.length === 1 ? tH(t) : new gn(t, e, r, n ?? 1) } function gn(t, e, r, n) { this.r = +t, this.g = +e, this.b = +r, this.opacity = +n } n1(gn, gj, VM(Gd, { brighter(t) { return t = t == null ? jm : Math.pow(jm, t), new gn(this.r * t, this.g * t, this.b * t, this.opacity) }, darker(t) { return t = t == null ? ud : Math.pow(ud, t), new gn(this.r * t, this.g * t, this.b * t, this.opacity) }, rgb() { return this }, clamp() { return new gn(_o(this.r), _o(this.g), _o(this.b), Nm(this.opacity)) }, displayable() { return -.5 <= this.r && this.r < 255.5 && -.5 <= this.g && this.g < 255.5 && -.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1 }, hex: tE, formatHex: tE, formatHex8: rH, formatRgb: rE, toString: rE })); function tE() { return `#${vo(this.r)}${vo(this.g)}${vo(this.b)}` } function rH() { return `#${vo(this.r)}${vo(this.g)}${vo(this.b)}${vo((isNaN(this.opacity) ? 1 : this.opacity) * 255)}` } function rE() { const t = Nm(this.opacity); return `${t === 1 ? "rgb(" : "rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${t === 1 ? ")" : `, ${t})`}` } function Nm(t) { return isNaN(t) ? 1 : Math.max(0, Math.min(1, t)) } function _o(t) { return Math.max(0, Math.min(255, Math.round(t) || 0)) } function vo(t) { return t = _o(t), (t < 16 ? "0" : "") + t.toString(16) } function nE(t, e, r, n) { return n <= 0 ? t = e = r = NaN : r <= 0 || r >= 1 ? t = e = NaN : e <= 0 && (t = NaN), new Na(t, e, r, n) } function YM(t) { if (t instanceof Na) return new Na(t.h, t.s, t.l, t.opacity); if (t instanceof Gd || (t = fd(t)), !t) return new Na; if (t instanceof Na) return t; t = t.rgb(); var e = t.r / 255, r = t.g / 255, n = t.b / 255, s = Math.min(e, r, n), o = Math.max(e, r, n), c = NaN, u = o - s, f = (o + s) / 2; return u ? (e === o ? c = (r - n) / u + (r < n) * 6 : r === o ? c = (n - e) / u + 2 : c = (e - r) / u + 4, u /= f < .5 ? o + s : 2 - o - s, c *= 60) : u = f > 0 && f < 1 ? 0 : c, new Na(c, u, f, t.opacity) } function nH(t, e, r, n) { return arguments.length === 1 ? YM(t) : new Na(t, e, r, n ?? 1) } function Na(t, e, r, n) { this.h = +t, this.s = +e, this.l = +r, this.opacity = +n } n1(Na, nH, VM(Gd, { brighter(t) { return t = t == null ? jm : Math.pow(jm, t), new Na(this.h, this.s, this.l * t, this.opacity) }, darker(t) { return t = t == null ? ud : Math.pow(ud, t), new Na(this.h, this.s, this.l * t, this.opacity) }, rgb() { var t = this.h % 360 + (this.h < 0) * 360, e = isNaN(t) || isNaN(this.s) ? 0 : this.s, r = this.l, n = r + (r < .5 ? r : 1 - r) * e, s = 2 * r - n; return new gn(Tv(t >= 240 ? t - 240 : t + 120, s, n), Tv(t, s, n), Tv(t < 120 ? t + 240 : t - 120, s, n), this.opacity) }, clamp() { return new Na(aE(this.h), Oh(this.s), Oh(this.l), Nm(this.opacity)) }, displayable() { return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1 }, formatHsl() { const t = Nm(this.opacity); return `${t === 1 ? "hsl(" : "hsla("}${aE(this.h)}, ${Oh(this.s) * 100}%, ${Oh(this.l) * 100}%${t === 1 ? ")" : `, ${t})`}` } })); function aE(t) { return t = (t || 0) % 360, t < 0 ? t + 360 : t } function Oh(t) { return Math.max(0, Math.min(1, t || 0)) } function Tv(t, e, r) { return (t < 60 ? e + (r - e) * t / 60 : t < 180 ? r : t < 240 ? e + (r - e) * (240 - t) / 60 : e) * 255 } const a1 = t => () => t; function aH(t, e) { return function (r) { return t + r * e } } function sH(t, e, r) { return t = Math.pow(t, r), e = Math.pow(e, r) - t, r = 1 / r, function (n) { return Math.pow(t + n * e, r) } } function iH(t) { return (t = +t) == 1 ? GM : function (e, r) { return r - e ? sH(e, r, t) : a1(isNaN(e) ? r : e) } } function GM(t, e) { var r = e - t; return r ? aH(t, r) : a1(isNaN(t) ? e : t) } const sE = (function t(e) { var r = iH(e); function n(s, o) { var c = r((s = gj(s)).r, (o = gj(o)).r), u = r(s.g, o.g), f = r(s.b, o.b), h = GM(s.opacity, o.opacity); return function (p) { return s.r = c(p), s.g = u(p), s.b = f(p), s.opacity = h(p), s + "" } } return n.gamma = t, n })(1); function oH(t, e) { e || (e = []); var r = t ? Math.min(e.length, t.length) : 0, n = e.slice(), s; return function (o) { for (s = 0; s < r; ++s)n[s] = t[s] * (1 - o) + e[s] * o; return n } } function lH(t) { return ArrayBuffer.isView(t) && !(t instanceof DataView) } function cH(t, e) { var r = e ? e.length : 0, n = t ? Math.min(r, t.length) : 0, s = new Array(n), o = new Array(r), c; for (c = 0; c < n; ++c)s[c] = jc(t[c], e[c]); for (; c < r; ++c)o[c] = e[c]; return function (u) { for (c = 0; c < n; ++c)o[c] = s[c](u); return o } } function uH(t, e) { var r = new Date; return t = +t, e = +e, function (n) { return r.setTime(t * (1 - n) + e * n), r } } function Sm(t, e) { return t = +t, e = +e, function (r) { return t * (1 - r) + e * r } } function dH(t, e) { var r = {}, n = {}, s; (t === null || typeof t != "object") && (t = {}), (e === null || typeof e != "object") && (e = {}); for (s in e) s in t ? r[s] = jc(t[s], e[s]) : n[s] = e[s]; return function (o) { for (s in r) n[s] = r[s](o); return n } } var yj = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, Pv = new RegExp(yj.source, "g"); function fH(t) { return function () { return t } } function hH(t) { return function (e) { return t(e) + "" } } function mH(t, e) { var r = yj.lastIndex = Pv.lastIndex = 0, n, s, o, c = -1, u = [], f = []; for (t = t + "", e = e + ""; (n = yj.exec(t)) && (s = Pv.exec(e));)(o = s.index) > r && (o = e.slice(r, o), u[c] ? u[c] += o : u[++c] = o), (n = n[0]) === (s = s[0]) ? u[c] ? u[c] += s : u[++c] = s : (u[++c] = null, f.push({ i: c, x: Sm(n, s) })), r = Pv.lastIndex; return r < e.length && (o = e.slice(r), u[c] ? u[c] += o : u[++c] = o), u.length < 2 ? f[0] ? hH(f[0].x) : fH(e) : (e = f.length, function (h) { for (var p = 0, x; p < e; ++p)u[(x = f[p]).i] = x.x(h); return u.join("") }) } function jc(t, e) { var r = typeof e, n; return e == null || r === "boolean" ? a1(e) : (r === "number" ? Sm : r === "string" ? (n = fd(e)) ? (e = n, sE) : mH : e instanceof fd ? sE : e instanceof Date ? uH : lH(e) ? oH : Array.isArray(e) ? cH : typeof e.valueOf != "function" && typeof e.toString != "function" || isNaN(e) ? dH : Sm)(t, e) } function s1(t, e) { return t = +t, e = +e, function (r) { return Math.round(t * (1 - r) + e * r) } } function pH(t, e) { e === void 0 && (e = t, t = jc); for (var r = 0, n = e.length - 1, s = e[0], o = new Array(n < 0 ? 0 : n); r < n;)o[r] = t(s, s = e[++r]); return function (c) { var u = Math.max(0, Math.min(n - 1, Math.floor(c *= n))); return o[u](c - u) } } function xH(t) { return function () { return t } } function _m(t) { return +t } var iE = [0, 1]; function ln(t) { return t } function bj(t, e) { return (e -= t = +t) ? function (r) { return (r - t) / e } : xH(isNaN(e) ? NaN : .5) } function gH(t, e) { var r; return t > e && (r = t, t = e, e = r), function (n) { return Math.max(t, Math.min(e, n)) } } function yH(t, e, r) { var n = t[0], s = t[1], o = e[0], c = e[1]; return s < n ? (n = bj(s, n), o = r(c, o)) : (n = bj(n, s), o = r(o, c)), function (u) { return o(n(u)) } } function bH(t, e, r) { var n = Math.min(t.length, e.length) - 1, s = new Array(n), o = new Array(n), c = -1; for (t[n] < t[0] && (t = t.slice().reverse(), e = e.slice().reverse()); ++c < n;)s[c] = bj(t[c], t[c + 1]), o[c] = r(e[c], e[c + 1]); return function (u) { var f = Yd(t, u, 1, n) - 1; return o[f](s[f](u)) } } function Kd(t, e) { return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown()) } function Ip() { var t = iE, e = iE, r = jc, n, s, o, c = ln, u, f, h; function p() { var g = Math.min(t.length, e.length); return c !== ln && (c = gH(t[0], t[g - 1])), u = g > 2 ? bH : yH, f = h = null, x } function x(g) { return g == null || isNaN(g = +g) ? o : (f || (f = u(t.map(n), e, r)))(n(c(g))) } return x.invert = function (g) { return c(s((h || (h = u(e, t.map(n), Sm)))(g))) }, x.domain = function (g) { return arguments.length ? (t = Array.from(g, _m), p()) : t.slice() }, x.range = function (g) { return arguments.length ? (e = Array.from(g), p()) : e.slice() }, x.rangeRound = function (g) { return e = Array.from(g), r = s1, p() }, x.clamp = function (g) { return arguments.length ? (c = g ? !0 : ln, p()) : c !== ln }, x.interpolate = function (g) { return arguments.length ? (r = g, p()) : r }, x.unknown = function (g) { return arguments.length ? (o = g, x) : o }, function (g, v) { return n = g, s = v, p() } } function i1() { return Ip()(ln, ln) } function vH(t) { return Math.abs(t = Math.round(t)) >= 1e21 ? t.toLocaleString("en").replace(/,/g, "") : t.toString(10) } function Om(t, e) { if ((r = (t = e ? t.toExponential(e - 1) : t.toExponential()).indexOf("e")) < 0) return null; var r, n = t.slice(0, r); return [n.length > 1 ? n[0] + n.slice(2) : n, +t.slice(r + 1)] } function Kl(t) { return t = Om(Math.abs(t)), t ? t[1] : NaN } function wH(t, e) { return function (r, n) { for (var s = r.length, o = [], c = 0, u = t[0], f = 0; s > 0 && u > 0 && (f + u + 1 > n && (u = Math.max(1, n - f)), o.push(r.substring(s -= u, s + u)), !((f += u + 1) > n));)u = t[c = (c + 1) % t.length]; return o.reverse().join(e) } } function jH(t) { return function (e) { return e.replace(/[0-9]/g, function (r) { return t[+r] }) } } var NH = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i; function hd(t) { if (!(e = NH.exec(t))) throw new Error("invalid format: " + t); var e; return new o1({ fill: e[1], align: e[2], sign: e[3], symbol: e[4], zero: e[5], width: e[6], comma: e[7], precision: e[8] && e[8].slice(1), trim: e[9], type: e[10] }) } hd.prototype = o1.prototype; function o1(t) { this.fill = t.fill === void 0 ? " " : t.fill + "", this.align = t.align === void 0 ? ">" : t.align + "", this.sign = t.sign === void 0 ? "-" : t.sign + "", this.symbol = t.symbol === void 0 ? "" : t.symbol + "", this.zero = !!t.zero, this.width = t.width === void 0 ? void 0 : +t.width, this.comma = !!t.comma, this.precision = t.precision === void 0 ? void 0 : +t.precision, this.trim = !!t.trim, this.type = t.type === void 0 ? "" : t.type + "" } o1.prototype.toString = function () { return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type }; function SH(t) { e: for (var e = t.length, r = 1, n = -1, s; r < e; ++r)switch (t[r]) { case ".": n = s = r; break; case "0": n === 0 && (n = r), s = r; break; default: if (!+t[r]) break e; n > 0 && (n = 0); break }return n > 0 ? t.slice(0, n) + t.slice(s + 1) : t } var KM; function _H(t, e) { var r = Om(t, e); if (!r) return t + ""; var n = r[0], s = r[1], o = s - (KM = Math.max(-8, Math.min(8, Math.floor(s / 3))) * 3) + 1, c = n.length; return o === c ? n : o > c ? n + new Array(o - c + 1).join("0") : o > 0 ? n.slice(0, o) + "." + n.slice(o) : "0." + new Array(1 - o).join("0") + Om(t, Math.max(0, e + o - 1))[0] } function oE(t, e) { var r = Om(t, e); if (!r) return t + ""; var n = r[0], s = r[1]; return s < 0 ? "0." + new Array(-s).join("0") + n : n.length > s + 1 ? n.slice(0, s + 1) + "." + n.slice(s + 1) : n + new Array(s - n.length + 2).join("0") } const lE = { "%": (t, e) => (t * 100).toFixed(e), b: t => Math.round(t).toString(2), c: t => t + "", d: vH, e: (t, e) => t.toExponential(e), f: (t, e) => t.toFixed(e), g: (t, e) => t.toPrecision(e), o: t => Math.round(t).toString(8), p: (t, e) => oE(t * 100, e), r: oE, s: _H, X: t => Math.round(t).toString(16).toUpperCase(), x: t => Math.round(t).toString(16) }; function cE(t) { return t } var uE = Array.prototype.map, dE = ["y", "z", "a", "f", "p", "n", "", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"]; function OH(t) { var e = t.grouping === void 0 || t.thousands === void 0 ? cE : wH(uE.call(t.grouping, Number), t.thousands + ""), r = t.currency === void 0 ? "" : t.currency[0] + "", n = t.currency === void 0 ? "" : t.currency[1] + "", s = t.decimal === void 0 ? "." : t.decimal + "", o = t.numerals === void 0 ? cE : jH(uE.call(t.numerals, String)), c = t.percent === void 0 ? "%" : t.percent + "", u = t.minus === void 0 ? "" : t.minus + "", f = t.nan === void 0 ? "NaN" : t.nan + ""; function h(x) { x = hd(x); var g = x.fill, v = x.align, j = x.sign, S = x.symbol, w = x.zero, O = x.width, D = x.comma, R = x.precision, H = x.trim, C = x.type; C === "n" ? (D = !0, C = "g") : lE[C] || (R === void 0 && (R = 12), H = !0, C = "g"), (w || g === "0" && v === "=") && (w = !0, g = "0", v = "="); var k = S === "$" ? r : S === "#" && /[boxX]/.test(C) ? "0" + C.toLowerCase() : "", F = S === "$" ? n : /[%p]/.test(C) ? c : "", P = lE[C], W = /[defgprs%]/.test(C); R = R === void 0 ? 6 : /[gprs]/.test(C) ? Math.max(1, Math.min(21, R)) : Math.max(0, Math.min(20, R)); function J(Q) { var V = k, ae = F, ie, se, U; if (C === "c") ae = P(Q) + ae, Q = ""; else { Q = +Q; var le = Q < 0 || 1 / Q < 0; if (Q = isNaN(Q) ? f : P(Math.abs(Q), R), H && (Q = SH(Q)), le && +Q == 0 && j !== "+" && (le = !1), V = (le ? j === "(" ? j : u : j === "-" || j === "(" ? "" : j) + V, ae = (C === "s" ? dE[8 + KM / 3] : "") + ae + (le && j === "(" ? ")" : ""), W) { for (ie = -1, se = Q.length; ++ie < se;)if (U = Q.charCodeAt(ie), 48 > U || U > 57) { ae = (U === 46 ? s + Q.slice(ie + 1) : Q.slice(ie)) + ae, Q = Q.slice(0, ie); break } } } D && !w && (Q = e(Q, 1 / 0)); var de = V.length + Q.length + ae.length, me = de < O ? new Array(O - de + 1).join(g) : ""; switch (D && w && (Q = e(me + Q, me.length ? O - ae.length : 1 / 0), me = ""), v) { case "<": Q = V + Q + ae + me; break; case "=": Q = V + me + Q + ae; break; case "^": Q = me.slice(0, de = me.length >> 1) + V + Q + ae + me.slice(de); break; default: Q = me + V + Q + ae; break }return o(Q) } return J.toString = function () { return x + "" }, J } function p(x, g) { var v = h((x = hd(x), x.type = "f", x)), j = Math.max(-8, Math.min(8, Math.floor(Kl(g) / 3))) * 3, S = Math.pow(10, -j), w = dE[8 + j / 3]; return function (O) { return v(S * O) + w } } return { format: h, formatPrefix: p } } var Ch, l1, WM; CH({ thousands: ",", grouping: [3], currency: ["$", ""] }); function CH(t) { return Ch = OH(t), l1 = Ch.format, WM = Ch.formatPrefix, Ch } function kH(t) { return Math.max(0, -Kl(Math.abs(t))) } function AH(t, e) { return Math.max(0, Math.max(-8, Math.min(8, Math.floor(Kl(e) / 3))) * 3 - Kl(Math.abs(t))) } function EH(t, e) { return t = Math.abs(t), e = Math.abs(e) - t, Math.max(0, Kl(e) - Kl(t)) + 1 } function XM(t, e, r, n) { var s = pj(t, e, r), o; switch (n = hd(n ?? ",f"), n.type) { case "s": { var c = Math.max(Math.abs(t), Math.abs(e)); return n.precision == null && !isNaN(o = AH(s, c)) && (n.precision = o), WM(n, c) } case "": case "e": case "g": case "p": case "r": { n.precision == null && !isNaN(o = EH(s, Math.max(Math.abs(t), Math.abs(e)))) && (n.precision = o - (n.type === "e")); break } case "f": case "%": { n.precision == null && !isNaN(o = kH(s)) && (n.precision = o - (n.type === "%") * 2); break } }return l1(n) } function Fi(t) { var e = t.domain; return t.ticks = function (r) { var n = e(); return hj(n[0], n[n.length - 1], r ?? 10) }, t.tickFormat = function (r, n) { var s = e(); return XM(s[0], s[s.length - 1], r ?? 10, n) }, t.nice = function (r) { r == null && (r = 10); var n = e(), s = 0, o = n.length - 1, c = n[s], u = n[o], f, h, p = 10; for (u < c && (h = c, c = u, u = h, h = s, s = o, o = h); p-- > 0;) { if (h = mj(c, u, r), h === f) return n[s] = c, n[o] = u, e(n); if (h > 0) c = Math.floor(c / h) * h, u = Math.ceil(u / h) * h; else if (h < 0) c = Math.ceil(c * h) / h, u = Math.floor(u * h) / h; else break; f = h } return t }, t } function Cm() { var t = i1(); return t.copy = function () { return Kd(t, Cm()) }, la.apply(t, arguments), Fi(t) } function JM(t) { var e; function r(n) { return n == null || isNaN(n = +n) ? e : n } return r.invert = r, r.domain = r.range = function (n) { return arguments.length ? (t = Array.from(n, _m), r) : t.slice() }, r.unknown = function (n) { return arguments.length ? (e = n, r) : e }, r.copy = function () { return JM(t).unknown(e) }, t = arguments.length ? Array.from(t, _m) : [0, 1], Fi(r) } function QM(t, e) { t = t.slice(); var r = 0, n = t.length - 1, s = t[r], o = t[n], c; return o < s && (c = r, r = n, n = c, c = s, s = o, o = c), t[r] = e.floor(s), t[n] = e.ceil(o), t } function fE(t) { return Math.log(t) } function hE(t) { return Math.exp(t) } function DH(t) { return -Math.log(-t) } function TH(t) { return -Math.exp(-t) } function PH(t) { return isFinite(t) ? +("1e" + t) : t < 0 ? 0 : t } function MH(t) { return t === 10 ? PH : t === Math.E ? Math.exp : e => Math.pow(t, e) } function RH(t) { return t === Math.E ? Math.log : t === 10 && Math.log10 || t === 2 && Math.log2 || (t = Math.log(t), e => Math.log(e) / t) } function mE(t) { return (e, r) => -t(-e, r) } function c1(t) { const e = t(fE, hE), r = e.domain; let n = 10, s, o; function c() { return s = RH(n), o = MH(n), r()[0] < 0 ? (s = mE(s), o = mE(o), t(DH, TH)) : t(fE, hE), e } return e.base = function (u) { return arguments.length ? (n = +u, c()) : n }, e.domain = function (u) { return arguments.length ? (r(u), c()) : r() }, e.ticks = u => { const f = r(); let h = f[0], p = f[f.length - 1]; const x = p < h; x && ([h, p] = [p, h]); let g = s(h), v = s(p), j, S; const w = u == null ? 10 : +u; let O = []; if (!(n % 1) && v - g < w) { if (g = Math.floor(g), v = Math.ceil(v), h > 0) { for (; g <= v; ++g)for (j = 1; j < n; ++j)if (S = g < 0 ? j / o(-g) : j * o(g), !(S < h)) { if (S > p) break; O.push(S) } } else for (; g <= v; ++g)for (j = n - 1; j >= 1; --j)if (S = g > 0 ? j / o(-g) : j * o(g), !(S < h)) { if (S > p) break; O.push(S) } O.length * 2 < w && (O = hj(h, p, w)) } else O = hj(g, v, Math.min(v - g, w)).map(o); return x ? O.reverse() : O }, e.tickFormat = (u, f) => { if (u == null && (u = 10), f == null && (f = n === 10 ? "s" : ","), typeof f != "function" && (!(n % 1) && (f = hd(f)).precision == null && (f.trim = !0), f = l1(f)), u === 1 / 0) return f; const h = Math.max(1, n * u / e.ticks().length); return p => { let x = p / o(Math.round(s(p))); return x * n < n - .5 && (x *= n), x <= h ? f(p) : "" } }, e.nice = () => r(QM(r(), { floor: u => o(Math.floor(s(u))), ceil: u => o(Math.ceil(s(u))) })), e } function ZM() { const t = c1(Ip()).domain([1, 10]); return t.copy = () => Kd(t, ZM()).base(t.base()), la.apply(t, arguments), t } function pE(t) { return function (e) { return Math.sign(e) * Math.log1p(Math.abs(e / t)) } } function xE(t) { return function (e) { return Math.sign(e) * Math.expm1(Math.abs(e)) * t } } function u1(t) { var e = 1, r = t(pE(e), xE(e)); return r.constant = function (n) { return arguments.length ? t(pE(e = +n), xE(e)) : e }, Fi(r) } function e4() { var t = u1(Ip()); return t.copy = function () { return Kd(t, e4()).constant(t.constant()) }, la.apply(t, arguments) } function gE(t) { return function (e) { return e < 0 ? -Math.pow(-e, t) : Math.pow(e, t) } } function $H(t) { return t < 0 ? -Math.sqrt(-t) : Math.sqrt(t) } function IH(t) { return t < 0 ? -t * t : t * t } function d1(t) { var e = t(ln, ln), r = 1; function n() { return r === 1 ? t(ln, ln) : r === .5 ? t($H, IH) : t(gE(r), gE(1 / r)) } return e.exponent = function (s) { return arguments.length ? (r = +s, n()) : r }, Fi(e) } function f1() { var t = d1(Ip()); return t.copy = function () { return Kd(t, f1()).exponent(t.exponent()) }, la.apply(t, arguments), t } function LH() { return f1.apply(null, arguments).exponent(.5) } function yE(t) { return Math.sign(t) * t * t } function FH(t) { return Math.sign(t) * Math.sqrt(Math.abs(t)) } function t4() { var t = i1(), e = [0, 1], r = !1, n; function s(o) { var c = FH(t(o)); return isNaN(c) ? n : r ? Math.round(c) : c } return s.invert = function (o) { return t.invert(yE(o)) }, s.domain = function (o) { return arguments.length ? (t.domain(o), s) : t.domain() }, s.range = function (o) { return arguments.length ? (t.range((e = Array.from(o, _m)).map(yE)), s) : e.slice() }, s.rangeRound = function (o) { return s.range(o).round(!0) }, s.round = function (o) { return arguments.length ? (r = !!o, s) : r }, s.clamp = function (o) { return arguments.length ? (t.clamp(o), s) : t.clamp() }, s.unknown = function (o) { return arguments.length ? (n = o, s) : n }, s.copy = function () { return t4(t.domain(), e).round(r).clamp(t.clamp()).unknown(n) }, la.apply(s, arguments), Fi(s) } function r4() { var t = [], e = [], r = [], n; function s() { var c = 0, u = Math.max(1, e.length); for (r = new Array(u - 1); ++c < u;)r[c - 1] = HU(t, c / u); return o } function o(c) { return c == null || isNaN(c = +c) ? n : e[Yd(r, c)] } return o.invertExtent = function (c) { var u = e.indexOf(c); return u < 0 ? [NaN, NaN] : [u > 0 ? r[u - 1] : t[0], u < r.length ? r[u] : t[t.length - 1]] }, o.domain = function (c) { if (!arguments.length) return t.slice(); t = []; for (let u of c) u != null && !isNaN(u = +u) && t.push(u); return t.sort(Ti), s() }, o.range = function (c) { return arguments.length ? (e = Array.from(c), s()) : e.slice() }, o.unknown = function (c) { return arguments.length ? (n = c, o) : n }, o.quantiles = function () { return r.slice() }, o.copy = function () { return r4().domain(t).range(e).unknown(n) }, la.apply(o, arguments) } function n4() { var t = 0, e = 1, r = 1, n = [.5], s = [0, 1], o; function c(f) { return f != null && f <= f ? s[Yd(n, f, 0, r)] : o } function u() { var f = -1; for (n = new Array(r); ++f < r;)n[f] = ((f + 1) * e - (f - r) * t) / (r + 1); return c } return c.domain = function (f) { return arguments.length ? ([t, e] = f, t = +t, e = +e, u()) : [t, e] }, c.range = function (f) { return arguments.length ? (r = (s = Array.from(f)).length - 1, u()) : s.slice() }, c.invertExtent = function (f) { var h = s.indexOf(f); return h < 0 ? [NaN, NaN] : h < 1 ? [t, n[0]] : h >= r ? [n[r - 1], e] : [n[h - 1], n[h]] }, c.unknown = function (f) { return arguments.length && (o = f), c }, c.thresholds = function () { return n.slice() }, c.copy = function () { return n4().domain([t, e]).range(s).unknown(o) }, la.apply(Fi(c), arguments) } function a4() { var t = [.5], e = [0, 1], r, n = 1; function s(o) { return o != null && o <= o ? e[Yd(t, o, 0, n)] : r } return s.domain = function (o) { return arguments.length ? (t = Array.from(o), n = Math.min(t.length, e.length - 1), s) : t.slice() }, s.range = function (o) { return arguments.length ? (e = Array.from(o), n = Math.min(t.length, e.length - 1), s) : e.slice() }, s.invertExtent = function (o) { var c = e.indexOf(o); return [t[c - 1], t[c]] }, s.unknown = function (o) { return arguments.length ? (r = o, s) : r }, s.copy = function () { return a4().domain(t).range(e).unknown(r) }, la.apply(s, arguments) } const Mv = new Date, Rv = new Date; function Dr(t, e, r, n) { function s(o) { return t(o = arguments.length === 0 ? new Date : new Date(+o)), o } return s.floor = o => (t(o = new Date(+o)), o), s.ceil = o => (t(o = new Date(o - 1)), e(o, 1), t(o), o), s.round = o => { const c = s(o), u = s.ceil(o); return o - c < u - o ? c : u }, s.offset = (o, c) => (e(o = new Date(+o), c == null ? 1 : Math.floor(c)), o), s.range = (o, c, u) => { const f = []; if (o = s.ceil(o), u = u == null ? 1 : Math.floor(u), !(o < c) || !(u > 0)) return f; let h; do f.push(h = new Date(+o)), e(o, u), t(o); while (h < o && o < c); return f }, s.filter = o => Dr(c => { if (c >= c) for (; t(c), !o(c);)c.setTime(c - 1) }, (c, u) => { if (c >= c) if (u < 0) for (; ++u <= 0;)for (; e(c, -1), !o(c);); else for (; --u >= 0;)for (; e(c, 1), !o(c);); }), r && (s.count = (o, c) => (Mv.setTime(+o), Rv.setTime(+c), t(Mv), t(Rv), Math.floor(r(Mv, Rv))), s.every = o => (o = Math.floor(o), !isFinite(o) || !(o > 0) ? null : o > 1 ? s.filter(n ? c => n(c) % o === 0 : c => s.count(0, c) % o === 0) : s)), s } const km = Dr(() => { }, (t, e) => { t.setTime(+t + e) }, (t, e) => e - t); km.every = t => (t = Math.floor(t), !isFinite(t) || !(t > 0) ? null : t > 1 ? Dr(e => { e.setTime(Math.floor(e / t) * t) }, (e, r) => { e.setTime(+e + r * t) }, (e, r) => (r - e) / t) : km); km.range; const Cs = 1e3, ea = Cs * 60, ks = ea * 60, Is = ks * 24, h1 = Is * 7, bE = Is * 30, $v = Is * 365, wo = Dr(t => { t.setTime(t - t.getMilliseconds()) }, (t, e) => { t.setTime(+t + e * Cs) }, (t, e) => (e - t) / Cs, t => t.getUTCSeconds()); wo.range; const m1 = Dr(t => { t.setTime(t - t.getMilliseconds() - t.getSeconds() * Cs) }, (t, e) => { t.setTime(+t + e * ea) }, (t, e) => (e - t) / ea, t => t.getMinutes()); m1.range; const p1 = Dr(t => { t.setUTCSeconds(0, 0) }, (t, e) => { t.setTime(+t + e * ea) }, (t, e) => (e - t) / ea, t => t.getUTCMinutes()); p1.range; const x1 = Dr(t => { t.setTime(t - t.getMilliseconds() - t.getSeconds() * Cs - t.getMinutes() * ea) }, (t, e) => { t.setTime(+t + e * ks) }, (t, e) => (e - t) / ks, t => t.getHours()); x1.range; const g1 = Dr(t => { t.setUTCMinutes(0, 0, 0) }, (t, e) => { t.setTime(+t + e * ks) }, (t, e) => (e - t) / ks, t => t.getUTCHours()); g1.range; const Wd = Dr(t => t.setHours(0, 0, 0, 0), (t, e) => t.setDate(t.getDate() + e), (t, e) => (e - t - (e.getTimezoneOffset() - t.getTimezoneOffset()) * ea) / Is, t => t.getDate() - 1); Wd.range; const Lp = Dr(t => { t.setUTCHours(0, 0, 0, 0) }, (t, e) => { t.setUTCDate(t.getUTCDate() + e) }, (t, e) => (e - t) / Is, t => t.getUTCDate() - 1); Lp.range; const s4 = Dr(t => { t.setUTCHours(0, 0, 0, 0) }, (t, e) => { t.setUTCDate(t.getUTCDate() + e) }, (t, e) => (e - t) / Is, t => Math.floor(t / Is)); s4.range; function Bo(t) { return Dr(e => { e.setDate(e.getDate() - (e.getDay() + 7 - t) % 7), e.setHours(0, 0, 0, 0) }, (e, r) => { e.setDate(e.getDate() + r * 7) }, (e, r) => (r - e - (r.getTimezoneOffset() - e.getTimezoneOffset()) * ea) / h1) } const Fp = Bo(0), Am = Bo(1), BH = Bo(2), qH = Bo(3), Wl = Bo(4), zH = Bo(5), UH = Bo(6); Fp.range; Am.range; BH.range; qH.range; Wl.range; zH.range; UH.range; function qo(t) { return Dr(e => { e.setUTCDate(e.getUTCDate() - (e.getUTCDay() + 7 - t) % 7), e.setUTCHours(0, 0, 0, 0) }, (e, r) => { e.setUTCDate(e.getUTCDate() + r * 7) }, (e, r) => (r - e) / h1) } const Bp = qo(0), Em = qo(1), HH = qo(2), VH = qo(3), Xl = qo(4), YH = qo(5), GH = qo(6); Bp.range; Em.range; HH.range; VH.range; Xl.range; YH.range; GH.range; const y1 = Dr(t => { t.setDate(1), t.setHours(0, 0, 0, 0) }, (t, e) => { t.setMonth(t.getMonth() + e) }, (t, e) => e.getMonth() - t.getMonth() + (e.getFullYear() - t.getFullYear()) * 12, t => t.getMonth()); y1.range; const b1 = Dr(t => { t.setUTCDate(1), t.setUTCHours(0, 0, 0, 0) }, (t, e) => { t.setUTCMonth(t.getUTCMonth() + e) }, (t, e) => e.getUTCMonth() - t.getUTCMonth() + (e.getUTCFullYear() - t.getUTCFullYear()) * 12, t => t.getUTCMonth()); b1.range; const Ls = Dr(t => { t.setMonth(0, 1), t.setHours(0, 0, 0, 0) }, (t, e) => { t.setFullYear(t.getFullYear() + e) }, (t, e) => e.getFullYear() - t.getFullYear(), t => t.getFullYear()); Ls.every = t => !isFinite(t = Math.floor(t)) || !(t > 0) ? null : Dr(e => { e.setFullYear(Math.floor(e.getFullYear() / t) * t), e.setMonth(0, 1), e.setHours(0, 0, 0, 0) }, (e, r) => { e.setFullYear(e.getFullYear() + r * t) }); Ls.range; const Fs = Dr(t => { t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0) }, (t, e) => { t.setUTCFullYear(t.getUTCFullYear() + e) }, (t, e) => e.getUTCFullYear() - t.getUTCFullYear(), t => t.getUTCFullYear()); Fs.every = t => !isFinite(t = Math.floor(t)) || !(t > 0) ? null : Dr(e => { e.setUTCFullYear(Math.floor(e.getUTCFullYear() / t) * t), e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0) }, (e, r) => { e.setUTCFullYear(e.getUTCFullYear() + r * t) }); Fs.range; function i4(t, e, r, n, s, o) { const c = [[wo, 1, Cs], [wo, 5, 5 * Cs], [wo, 15, 15 * Cs], [wo, 30, 30 * Cs], [o, 1, ea], [o, 5, 5 * ea], [o, 15, 15 * ea], [o, 30, 30 * ea], [s, 1, ks], [s, 3, 3 * ks], [s, 6, 6 * ks], [s, 12, 12 * ks], [n, 1, Is], [n, 2, 2 * Is], [r, 1, h1], [e, 1, bE], [e, 3, 3 * bE], [t, 1, $v]]; function u(h, p, x) { const g = p < h; g && ([h, p] = [p, h]); const v = x && typeof x.range == "function" ? x : f(h, p, x), j = v ? v.range(h, +p + 1) : []; return g ? j.reverse() : j } function f(h, p, x) { const g = Math.abs(p - h) / x, v = t1(([, , w]) => w).right(c, g); if (v === c.length) return t.every(pj(h / $v, p / $v, x)); if (v === 0) return km.every(Math.max(pj(h, p, x), 1)); const [j, S] = c[g / c[v - 1][2] < c[v][2] / g ? v - 1 : v]; return j.every(S) } return [u, f] } const [KH, WH] = i4(Fs, b1, Bp, s4, g1, p1), [XH, JH] = i4(Ls, y1, Fp, Wd, x1, m1); function Iv(t) { if (0 <= t.y && t.y < 100) { var e = new Date(-1, t.m, t.d, t.H, t.M, t.S, t.L); return e.setFullYear(t.y), e } return new Date(t.y, t.m, t.d, t.H, t.M, t.S, t.L) } function Lv(t) { if (0 <= t.y && t.y < 100) { var e = new Date(Date.UTC(-1, t.m, t.d, t.H, t.M, t.S, t.L)); return e.setUTCFullYear(t.y), e } return new Date(Date.UTC(t.y, t.m, t.d, t.H, t.M, t.S, t.L)) } function ju(t, e, r) { return { y: t, m: e, d: r, H: 0, M: 0, S: 0, L: 0 } } function QH(t) { var e = t.dateTime, r = t.date, n = t.time, s = t.periods, o = t.days, c = t.shortDays, u = t.months, f = t.shortMonths, h = Nu(s), p = Su(s), x = Nu(o), g = Su(o), v = Nu(c), j = Su(c), S = Nu(u), w = Su(u), O = Nu(f), D = Su(f), R = { a: le, A: de, b: me, B: pe, c: null, d: _E, e: _E, f: wV, g: DV, G: PV, H: yV, I: bV, j: vV, L: o4, m: jV, M: NV, p: M, q: Z, Q: kE, s: AE, S: SV, u: _V, U: OV, V: CV, w: kV, W: AV, x: null, X: null, y: EV, Y: TV, Z: MV, "%": CE }, H = { a: ce, A: ne, b: L, B: I, c: null, d: OE, e: OE, f: LV, g: KV, G: XV, H: RV, I: $V, j: IV, L: c4, m: FV, M: BV, p: _, q: X, Q: kE, s: AE, S: qV, u: zV, U: UV, V: HV, w: VV, W: YV, x: null, X: null, y: GV, Y: WV, Z: JV, "%": CE }, C = { a: J, A: Q, b: V, B: ae, c: ie, d: NE, e: NE, f: mV, g: jE, G: wE, H: SE, I: SE, j: uV, L: hV, m: cV, M: dV, p: W, q: lV, Q: xV, s: gV, S: fV, u: nV, U: aV, V: sV, w: rV, W: iV, x: se, X: U, y: jE, Y: wE, Z: oV, "%": pV }; R.x = k(r, R), R.X = k(n, R), R.c = k(e, R), H.x = k(r, H), H.X = k(n, H), H.c = k(e, H); function k(E, q) { return function (T) { var Y = [], G = -1, A = 0, z = E.length, $, K, ee; for (T instanceof Date || (T = new Date(+T)); ++G < z;)E.charCodeAt(G) === 37 && (Y.push(E.slice(A, G)), (K = vE[$ = E.charAt(++G)]) != null ? $ = E.charAt(++G) : K = $ === "e" ? " " : "0", (ee = q[$]) && ($ = ee(T, K)), Y.push($), A = G + 1); return Y.push(E.slice(A, G)), Y.join("") } } function F(E, q) { return function (T) { var Y = ju(1900, void 0, 1), G = P(Y, E, T += "", 0), A, z; if (G != T.length) return null; if ("Q" in Y) return new Date(Y.Q); if ("s" in Y) return new Date(Y.s * 1e3 + ("L" in Y ? Y.L : 0)); if (q && !("Z" in Y) && (Y.Z = 0), "p" in Y && (Y.H = Y.H % 12 + Y.p * 12), Y.m === void 0 && (Y.m = "q" in Y ? Y.q : 0), "V" in Y) { if (Y.V < 1 || Y.V > 53) return null; "w" in Y || (Y.w = 1), "Z" in Y ? (A = Lv(ju(Y.y, 0, 1)), z = A.getUTCDay(), A = z > 4 || z === 0 ? Em.ceil(A) : Em(A), A = Lp.offset(A, (Y.V - 1) * 7), Y.y = A.getUTCFullYear(), Y.m = A.getUTCMonth(), Y.d = A.getUTCDate() + (Y.w + 6) % 7) : (A = Iv(ju(Y.y, 0, 1)), z = A.getDay(), A = z > 4 || z === 0 ? Am.ceil(A) : Am(A), A = Wd.offset(A, (Y.V - 1) * 7), Y.y = A.getFullYear(), Y.m = A.getMonth(), Y.d = A.getDate() + (Y.w + 6) % 7) } else ("W" in Y || "U" in Y) && ("w" in Y || (Y.w = "u" in Y ? Y.u % 7 : "W" in Y ? 1 : 0), z = "Z" in Y ? Lv(ju(Y.y, 0, 1)).getUTCDay() : Iv(ju(Y.y, 0, 1)).getDay(), Y.m = 0, Y.d = "W" in Y ? (Y.w + 6) % 7 + Y.W * 7 - (z + 5) % 7 : Y.w + Y.U * 7 - (z + 6) % 7); return "Z" in Y ? (Y.H += Y.Z / 100 | 0, Y.M += Y.Z % 100, Lv(Y)) : Iv(Y) } } function P(E, q, T, Y) { for (var G = 0, A = q.length, z = T.length, $, K; G < A;) { if (Y >= z) return -1; if ($ = q.charCodeAt(G++), $ === 37) { if ($ = q.charAt(G++), K = C[$ in vE ? q.charAt(G++) : $], !K || (Y = K(E, T, Y)) < 0) return -1 } else if ($ != T.charCodeAt(Y++)) return -1 } return Y } function W(E, q, T) { var Y = h.exec(q.slice(T)); return Y ? (E.p = p.get(Y[0].toLowerCase()), T + Y[0].length) : -1 } function J(E, q, T) { var Y = v.exec(q.slice(T)); return Y ? (E.w = j.get(Y[0].toLowerCase()), T + Y[0].length) : -1 } function Q(E, q, T) { var Y = x.exec(q.slice(T)); return Y ? (E.w = g.get(Y[0].toLowerCase()), T + Y[0].length) : -1 } function V(E, q, T) { var Y = O.exec(q.slice(T)); return Y ? (E.m = D.get(Y[0].toLowerCase()), T + Y[0].length) : -1 } function ae(E, q, T) { var Y = S.exec(q.slice(T)); return Y ? (E.m = w.get(Y[0].toLowerCase()), T + Y[0].length) : -1 } function ie(E, q, T) { return P(E, e, q, T) } function se(E, q, T) { return P(E, r, q, T) } function U(E, q, T) { return P(E, n, q, T) } function le(E) { return c[E.getDay()] } function de(E) { return o[E.getDay()] } function me(E) { return f[E.getMonth()] } function pe(E) { return u[E.getMonth()] } function M(E) { return s[+(E.getHours() >= 12)] } function Z(E) { return 1 + ~~(E.getMonth() / 3) } function ce(E) { return c[E.getUTCDay()] } function ne(E) { return o[E.getUTCDay()] } function L(E) { return f[E.getUTCMonth()] } function I(E) { return u[E.getUTCMonth()] } function _(E) { return s[+(E.getUTCHours() >= 12)] } function X(E) { return 1 + ~~(E.getUTCMonth() / 3) } return { format: function (E) { var q = k(E += "", R); return q.toString = function () { return E }, q }, parse: function (E) { var q = F(E += "", !1); return q.toString = function () { return E }, q }, utcFormat: function (E) { var q = k(E += "", H); return q.toString = function () { return E }, q }, utcParse: function (E) { var q = F(E += "", !0); return q.toString = function () { return E }, q } } } var vE = { "-": "", _: " ", 0: "0" }, Lr = /^\s*\d+/, ZH = /^%/, eV = /[\\^$*+?|[\]().{}]/g; function Ot(t, e, r) { var n = t < 0 ? "-" : "", s = (n ? -t : t) + "", o = s.length; return n + (o < r ? new Array(r - o + 1).join(e) + s : s) } function tV(t) { return t.replace(eV, "\\$&") } function Nu(t) { return new RegExp("^(?:" + t.map(tV).join("|") + ")", "i") } function Su(t) { return new Map(t.map((e, r) => [e.toLowerCase(), r])) } function rV(t, e, r) { var n = Lr.exec(e.slice(r, r + 1)); return n ? (t.w = +n[0], r + n[0].length) : -1 } function nV(t, e, r) { var n = Lr.exec(e.slice(r, r + 1)); return n ? (t.u = +n[0], r + n[0].length) : -1 } function aV(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.U = +n[0], r + n[0].length) : -1 } function sV(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.V = +n[0], r + n[0].length) : -1 } function iV(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.W = +n[0], r + n[0].length) : -1 } function wE(t, e, r) { var n = Lr.exec(e.slice(r, r + 4)); return n ? (t.y = +n[0], r + n[0].length) : -1 } function jE(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3), r + n[0].length) : -1 } function oV(t, e, r) { var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r, r + 6)); return n ? (t.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")), r + n[0].length) : -1 } function lV(t, e, r) { var n = Lr.exec(e.slice(r, r + 1)); return n ? (t.q = n[0] * 3 - 3, r + n[0].length) : -1 } function cV(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.m = n[0] - 1, r + n[0].length) : -1 } function NE(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.d = +n[0], r + n[0].length) : -1 } function uV(t, e, r) { var n = Lr.exec(e.slice(r, r + 3)); return n ? (t.m = 0, t.d = +n[0], r + n[0].length) : -1 } function SE(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.H = +n[0], r + n[0].length) : -1 } function dV(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.M = +n[0], r + n[0].length) : -1 } function fV(t, e, r) { var n = Lr.exec(e.slice(r, r + 2)); return n ? (t.S = +n[0], r + n[0].length) : -1 } function hV(t, e, r) { var n = Lr.exec(e.slice(r, r + 3)); return n ? (t.L = +n[0], r + n[0].length) : -1 } function mV(t, e, r) { var n = Lr.exec(e.slice(r, r + 6)); return n ? (t.L = Math.floor(n[0] / 1e3), r + n[0].length) : -1 } function pV(t, e, r) { var n = ZH.exec(e.slice(r, r + 1)); return n ? r + n[0].length : -1 } function xV(t, e, r) { var n = Lr.exec(e.slice(r)); return n ? (t.Q = +n[0], r + n[0].length) : -1 } function gV(t, e, r) { var n = Lr.exec(e.slice(r)); return n ? (t.s = +n[0], r + n[0].length) : -1 } function _E(t, e) { return Ot(t.getDate(), e, 2) } function yV(t, e) { return Ot(t.getHours(), e, 2) } function bV(t, e) { return Ot(t.getHours() % 12 || 12, e, 2) } function vV(t, e) { return Ot(1 + Wd.count(Ls(t), t), e, 3) } function o4(t, e) { return Ot(t.getMilliseconds(), e, 3) } function wV(t, e) { return o4(t, e) + "000" } function jV(t, e) { return Ot(t.getMonth() + 1, e, 2) } function NV(t, e) { return Ot(t.getMinutes(), e, 2) } function SV(t, e) { return Ot(t.getSeconds(), e, 2) } function _V(t) { var e = t.getDay(); return e === 0 ? 7 : e } function OV(t, e) { return Ot(Fp.count(Ls(t) - 1, t), e, 2) } function l4(t) { var e = t.getDay(); return e >= 4 || e === 0 ? Wl(t) : Wl.ceil(t) } function CV(t, e) { return t = l4(t), Ot(Wl.count(Ls(t), t) + (Ls(t).getDay() === 4), e, 2) } function kV(t) { return t.getDay() } function AV(t, e) { return Ot(Am.count(Ls(t) - 1, t), e, 2) } function EV(t, e) { return Ot(t.getFullYear() % 100, e, 2) } function DV(t, e) { return t = l4(t), Ot(t.getFullYear() % 100, e, 2) } function TV(t, e) { return Ot(t.getFullYear() % 1e4, e, 4) } function PV(t, e) { var r = t.getDay(); return t = r >= 4 || r === 0 ? Wl(t) : Wl.ceil(t), Ot(t.getFullYear() % 1e4, e, 4) } function MV(t) { var e = t.getTimezoneOffset(); return (e > 0 ? "-" : (e *= -1, "+")) + Ot(e / 60 | 0, "0", 2) + Ot(e % 60, "0", 2) } function OE(t, e) { return Ot(t.getUTCDate(), e, 2) } function RV(t, e) { return Ot(t.getUTCHours(), e, 2) } function $V(t, e) { return Ot(t.getUTCHours() % 12 || 12, e, 2) } function IV(t, e) { return Ot(1 + Lp.count(Fs(t), t), e, 3) } function c4(t, e) { return Ot(t.getUTCMilliseconds(), e, 3) } function LV(t, e) { return c4(t, e) + "000" } function FV(t, e) { return Ot(t.getUTCMonth() + 1, e, 2) } function BV(t, e) { return Ot(t.getUTCMinutes(), e, 2) } function qV(t, e) { return Ot(t.getUTCSeconds(), e, 2) } function zV(t) { var e = t.getUTCDay(); return e === 0 ? 7 : e } function UV(t, e) { return Ot(Bp.count(Fs(t) - 1, t), e, 2) } function u4(t) { var e = t.getUTCDay(); return e >= 4 || e === 0 ? Xl(t) : Xl.ceil(t) } function HV(t, e) { return t = u4(t), Ot(Xl.count(Fs(t), t) + (Fs(t).getUTCDay() === 4), e, 2) } function VV(t) { return t.getUTCDay() } function YV(t, e) { return Ot(Em.count(Fs(t) - 1, t), e, 2) } function GV(t, e) { return Ot(t.getUTCFullYear() % 100, e, 2) } function KV(t, e) { return t = u4(t), Ot(t.getUTCFullYear() % 100, e, 2) } function WV(t, e) { return Ot(t.getUTCFullYear() % 1e4, e, 4) } function XV(t, e) { var r = t.getUTCDay(); return t = r >= 4 || r === 0 ? Xl(t) : Xl.ceil(t), Ot(t.getUTCFullYear() % 1e4, e, 4) } function JV() { return "+0000" } function CE() { return "%" } function kE(t) { return +t } function AE(t) { return Math.floor(+t / 1e3) } var Cl, d4, f4; QV({ dateTime: "%x, %X", date: "%-m/%-d/%Y", time: "%-I:%M:%S %p", periods: ["AM", "PM"], days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] }); function QV(t) { return Cl = QH(t), d4 = Cl.format, Cl.parse, f4 = Cl.utcFormat, Cl.utcParse, Cl } function ZV(t) { return new Date(t) } function eY(t) { return t instanceof Date ? +t : +new Date(+t) } function v1(t, e, r, n, s, o, c, u, f, h) { var p = i1(), x = p.invert, g = p.domain, v = h(".%L"), j = h(":%S"), S = h("%I:%M"), w = h("%I %p"), O = h("%a %d"), D = h("%b %d"), R = h("%B"), H = h("%Y"); function C(k) { return (f(k) < k ? v : u(k) < k ? j : c(k) < k ? S : o(k) < k ? w : n(k) < k ? s(k) < k ? O : D : r(k) < k ? R : H)(k) } return p.invert = function (k) { return new Date(x(k)) }, p.domain = function (k) { return arguments.length ? g(Array.from(k, eY)) : g().map(ZV) }, p.ticks = function (k) { var F = g(); return t(F[0], F[F.length - 1], k ?? 10) }, p.tickFormat = function (k, F) { return F == null ? C : h(F) }, p.nice = function (k) { var F = g(); return (!k || typeof k.range != "function") && (k = e(F[0], F[F.length - 1], k ?? 10)), k ? g(QM(F, k)) : p }, p.copy = function () { return Kd(p, v1(t, e, r, n, s, o, c, u, f, h)) }, p } function tY() { return la.apply(v1(XH, JH, Ls, y1, Fp, Wd, x1, m1, wo, d4).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments) } function rY() { return la.apply(v1(KH, WH, Fs, b1, Bp, Lp, g1, p1, wo, f4).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments) } function qp() { var t = 0, e = 1, r, n, s, o, c = ln, u = !1, f; function h(x) { return x == null || isNaN(x = +x) ? f : c(s === 0 ? .5 : (x = (o(x) - r) * s, u ? Math.max(0, Math.min(1, x)) : x)) } h.domain = function (x) { return arguments.length ? ([t, e] = x, r = o(t = +t), n = o(e = +e), s = r === n ? 0 : 1 / (n - r), h) : [t, e] }, h.clamp = function (x) { return arguments.length ? (u = !!x, h) : u }, h.interpolator = function (x) { return arguments.length ? (c = x, h) : c }; function p(x) { return function (g) { var v, j; return arguments.length ? ([v, j] = g, c = x(v, j), h) : [c(0), c(1)] } } return h.range = p(jc), h.rangeRound = p(s1), h.unknown = function (x) { return arguments.length ? (f = x, h) : f }, function (x) { return o = x, r = x(t), n = x(e), s = r === n ? 0 : 1 / (n - r), h } } function Bi(t, e) { return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown()) } function h4() { var t = Fi(qp()(ln)); return t.copy = function () { return Bi(t, h4()) }, Us.apply(t, arguments) } function m4() { var t = c1(qp()).domain([1, 10]); return t.copy = function () { return Bi(t, m4()).base(t.base()) }, Us.apply(t, arguments) } function p4() { var t = u1(qp()); return t.copy = function () { return Bi(t, p4()).constant(t.constant()) }, Us.apply(t, arguments) } function w1() { var t = d1(qp()); return t.copy = function () { return Bi(t, w1()).exponent(t.exponent()) }, Us.apply(t, arguments) } function nY() { return w1.apply(null, arguments).exponent(.5) } function x4() { var t = [], e = ln; function r(n) { if (n != null && !isNaN(n = +n)) return e((Yd(t, n, 1) - 1) / (t.length - 1)) } return r.domain = function (n) { if (!arguments.length) return t.slice(); t = []; for (let s of n) s != null && !isNaN(s = +s) && t.push(s); return t.sort(Ti), r }, r.interpolator = function (n) { return arguments.length ? (e = n, r) : e }, r.range = function () { return t.map((n, s) => e(s / (t.length - 1))) }, r.quantiles = function (n) { return Array.from({ length: n + 1 }, (s, o) => UU(t, o / n)) }, r.copy = function () { return x4(e).domain(t) }, Us.apply(r, arguments) } function zp() { var t = 0, e = .5, r = 1, n = 1, s, o, c, u, f, h = ln, p, x = !1, g; function v(S) { return isNaN(S = +S) ? g : (S = .5 + ((S = +p(S)) - o) * (n * S < n * o ? u : f), h(x ? Math.max(0, Math.min(1, S)) : S)) } v.domain = function (S) { return arguments.length ? ([t, e, r] = S, s = p(t = +t), o = p(e = +e), c = p(r = +r), u = s === o ? 0 : .5 / (o - s), f = o === c ? 0 : .5 / (c - o), n = o < s ? -1 : 1, v) : [t, e, r] }, v.clamp = function (S) { return arguments.length ? (x = !!S, v) : x }, v.interpolator = function (S) { return arguments.length ? (h = S, v) : h }; function j(S) { return function (w) { var O, D, R; return arguments.length ? ([O, D, R] = w, h = pH(S, [O, D, R]), v) : [h(0), h(.5), h(1)] } } return v.range = j(jc), v.rangeRound = j(s1), v.unknown = function (S) { return arguments.length ? (g = S, v) : g }, function (S) { return p = S, s = S(t), o = S(e), c = S(r), u = s === o ? 0 : .5 / (o - s), f = o === c ? 0 : .5 / (c - o), n = o < s ? -1 : 1, v } } function g4() { var t = Fi(zp()(ln)); return t.copy = function () { return Bi(t, g4()) }, Us.apply(t, arguments) } function y4() { var t = c1(zp()).domain([.1, 1, 10]); return t.copy = function () { return Bi(t, y4()).base(t.base()) }, Us.apply(t, arguments) } function b4() { var t = u1(zp()); return t.copy = function () { return Bi(t, b4()).constant(t.constant()) }, Us.apply(t, arguments) } function j1() { var t = d1(zp()); return t.copy = function () { return Bi(t, j1()).exponent(t.exponent()) }, Us.apply(t, arguments) } function aY() { return j1.apply(null, arguments).exponent(.5) } const EE = Object.freeze(Object.defineProperty({ __proto__: null, scaleBand: cd, scaleDiverging: g4, scaleDivergingLog: y4, scaleDivergingPow: j1, scaleDivergingSqrt: aY, scaleDivergingSymlog: b4, scaleIdentity: JM, scaleImplicit: xj, scaleLinear: Cm, scaleLog: ZM, scaleOrdinal: r1, scalePoint: Hu, scalePow: f1, scaleQuantile: r4, scaleQuantize: n4, scaleRadial: t4, scaleSequential: h4, scaleSequentialLog: m4, scaleSequentialPow: w1, scaleSequentialQuantile: x4, scaleSequentialSqrt: nY, scaleSequentialSymlog: p4, scaleSqrt: LH, scaleSymlog: e4, scaleThreshold: a4, scaleTime: tY, scaleUtc: rY, tickFormat: XM }, Symbol.toStringTag, { value: "Module" })); var Fv, DE; function Up() { if (DE) return Fv; DE = 1; var t = yc(); function e(r, n, s) { for (var o = -1, c = r.length; ++o < c;) { var u = r[o], f = n(u); if (f != null && (h === void 0 ? f === f && !t(f) : s(f, h))) var h = f, p = u } return p } return Fv = e, Fv } var Bv, TE; function v4() { if (TE) return Bv; TE = 1; function t(e, r) { return e > r } return Bv = t, Bv } var qv, PE; function sY() { if (PE) return qv; PE = 1; var t = Up(), e = v4(), r = wc(); function n(s) { return s && s.length ? t(s, r, e) : void 0 } return qv = n, qv } var iY = sY(); const Oi = It(iY); var zv, ME; function w4() { if (ME) return zv; ME = 1; function t(e, r) { return e < r } return zv = t, zv } var Uv, RE; function oY() { if (RE) return Uv; RE = 1; var t = Up(), e = w4(), r = wc(); function n(s) { return s && s.length ? t(s, r, e) : void 0 } return Uv = n, Uv } var lY = oY(); const Hp = It(lY); var Hv, $E; function cY() { if ($E) return Hv; $E = 1; var t = LN(), e = Ka(), r = AM(), n = yn(); function s(o, c) { var u = n(o) ? t : r; return u(o, e(c, 3)) } return Hv = s, Hv } var Vv, IE; function uY() { if (IE) return Vv; IE = 1; var t = CM(), e = cY(); function r(n, s) { return t(e(n, s), 1) } return Vv = r, Vv } var dY = uY(); const fY = It(dY); var Yv, LE; function hY() { if (LE) return Yv; LE = 1; var t = JN(); function e(r, n) { return t(r, n) } return Yv = e, Yv } var mY = hY(); const To = It(mY); var Nc = 1e9, pY = { precision: 20, rounding: 4, toExpNeg: -7, toExpPos: 21, LN10: "2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286" }, S1, rr = !0, aa = "[DecimalError] ", Oo = aa + "Invalid argument: ", N1 = aa + "Exponent out of range: ", Sc = Math.floor, xo = Math.pow, xY = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i, Tn, Rr = 1e7, Zt = 7, j4 = 9007199254740991, Dm = Sc(j4 / Zt), We = {}; We.absoluteValue = We.abs = function () { var t = new this.constructor(this); return t.s && (t.s = 1), t }; We.comparedTo = We.cmp = function (t) { var e, r, n, s, o = this; if (t = new o.constructor(t), o.s !== t.s) return o.s || -t.s; if (o.e !== t.e) return o.e > t.e ^ o.s < 0 ? 1 : -1; for (n = o.d.length, s = t.d.length, e = 0, r = n < s ? n : s; e < r; ++e)if (o.d[e] !== t.d[e]) return o.d[e] > t.d[e] ^ o.s < 0 ? 1 : -1; return n === s ? 0 : n > s ^ o.s < 0 ? 1 : -1 }; We.decimalPlaces = We.dp = function () { var t = this, e = t.d.length - 1, r = (e - t.e) * Zt; if (e = t.d[e], e) for (; e % 10 == 0; e /= 10)r--; return r < 0 ? 0 : r }; We.dividedBy = We.div = function (t) { return Ms(this, new this.constructor(t)) }; We.dividedToIntegerBy = We.idiv = function (t) { var e = this, r = e.constructor; return Ht(Ms(e, new r(t), 0, 1), r.precision) }; We.equals = We.eq = function (t) { return !this.cmp(t) }; We.exponent = function () { return Sr(this) }; We.greaterThan = We.gt = function (t) { return this.cmp(t) > 0 }; We.greaterThanOrEqualTo = We.gte = function (t) { return this.cmp(t) >= 0 }; We.isInteger = We.isint = function () { return this.e > this.d.length - 2 }; We.isNegative = We.isneg = function () { return this.s < 0 }; We.isPositive = We.ispos = function () { return this.s > 0 }; We.isZero = function () { return this.s === 0 }; We.lessThan = We.lt = function (t) { return this.cmp(t) < 0 }; We.lessThanOrEqualTo = We.lte = function (t) { return this.cmp(t) < 1 }; We.logarithm = We.log = function (t) { var e, r = this, n = r.constructor, s = n.precision, o = s + 5; if (t === void 0) t = new n(10); else if (t = new n(t), t.s < 1 || t.eq(Tn)) throw Error(aa + "NaN"); if (r.s < 1) throw Error(aa + (r.s ? "NaN" : "-Infinity")); return r.eq(Tn) ? new n(0) : (rr = !1, e = Ms(md(r, o), md(t, o), o), rr = !0, Ht(e, s)) }; We.minus = We.sub = function (t) { var e = this; return t = new e.constructor(t), e.s == t.s ? _4(e, t) : N4(e, (t.s = -t.s, t)) }; We.modulo = We.mod = function (t) { var e, r = this, n = r.constructor, s = n.precision; if (t = new n(t), !t.s) throw Error(aa + "NaN"); return r.s ? (rr = !1, e = Ms(r, t, 0, 1).times(t), rr = !0, r.minus(e)) : Ht(new n(r), s) }; We.naturalExponential = We.exp = function () { return S4(this) }; We.naturalLogarithm = We.ln = function () { return md(this) }; We.negated = We.neg = function () { var t = new this.constructor(this); return t.s = -t.s || 0, t }; We.plus = We.add = function (t) { var e = this; return t = new e.constructor(t), e.s == t.s ? N4(e, t) : _4(e, (t.s = -t.s, t)) }; We.precision = We.sd = function (t) { var e, r, n, s = this; if (t !== void 0 && t !== !!t && t !== 1 && t !== 0) throw Error(Oo + t); if (e = Sr(s) + 1, n = s.d.length - 1, r = n * Zt + 1, n = s.d[n], n) { for (; n % 10 == 0; n /= 10)r--; for (n = s.d[0]; n >= 10; n /= 10)r++ } return t && e > r ? e : r }; We.squareRoot = We.sqrt = function () { var t, e, r, n, s, o, c, u = this, f = u.constructor; if (u.s < 1) { if (!u.s) return new f(0); throw Error(aa + "NaN") } for (t = Sr(u), rr = !1, s = Math.sqrt(+u), s == 0 || s == 1 / 0 ? (e = Fa(u.d), (e.length + t) % 2 == 0 && (e += "0"), s = Math.sqrt(e), t = Sc((t + 1) / 2) - (t < 0 || t % 2), s == 1 / 0 ? e = "5e" + t : (e = s.toExponential(), e = e.slice(0, e.indexOf("e") + 1) + t), n = new f(e)) : n = new f(s.toString()), r = f.precision, s = c = r + 3; ;)if (o = n, n = o.plus(Ms(u, o, c + 2)).times(.5), Fa(o.d).slice(0, c) === (e = Fa(n.d)).slice(0, c)) { if (e = e.slice(c - 3, c + 1), s == c && e == "4999") { if (Ht(o, r + 1, 0), o.times(o).eq(u)) { n = o; break } } else if (e != "9999") break; c += 4 } return rr = !0, Ht(n, r) }; We.times = We.mul = function (t) { var e, r, n, s, o, c, u, f, h, p = this, x = p.constructor, g = p.d, v = (t = new x(t)).d; if (!p.s || !t.s) return new x(0); for (t.s *= p.s, r = p.e + t.e, f = g.length, h = v.length, f < h && (o = g, g = v, v = o, c = f, f = h, h = c), o = [], c = f + h, n = c; n--;)o.push(0); for (n = h; --n >= 0;) { for (e = 0, s = f + n; s > n;)u = o[s] + v[n] * g[s - n - 1] + e, o[s--] = u % Rr | 0, e = u / Rr | 0; o[s] = (o[s] + e) % Rr | 0 } for (; !o[--c];)o.pop(); return e ? ++r : o.shift(), t.d = o, t.e = r, rr ? Ht(t, x.precision) : t }; We.toDecimalPlaces = We.todp = function (t, e) { var r = this, n = r.constructor; return r = new n(r), t === void 0 ? r : (Va(t, 0, Nc), e === void 0 ? e = n.rounding : Va(e, 0, 8), Ht(r, t + Sr(r) + 1, e)) }; We.toExponential = function (t, e) { var r, n = this, s = n.constructor; return t === void 0 ? r = Po(n, !0) : (Va(t, 0, Nc), e === void 0 ? e = s.rounding : Va(e, 0, 8), n = Ht(new s(n), t + 1, e), r = Po(n, !0, t + 1)), r }; We.toFixed = function (t, e) { var r, n, s = this, o = s.constructor; return t === void 0 ? Po(s) : (Va(t, 0, Nc), e === void 0 ? e = o.rounding : Va(e, 0, 8), n = Ht(new o(s), t + Sr(s) + 1, e), r = Po(n.abs(), !1, t + Sr(n) + 1), s.isneg() && !s.isZero() ? "-" + r : r) }; We.toInteger = We.toint = function () { var t = this, e = t.constructor; return Ht(new e(t), Sr(t) + 1, e.rounding) }; We.toNumber = function () { return +this }; We.toPower = We.pow = function (t) { var e, r, n, s, o, c, u = this, f = u.constructor, h = 12, p = +(t = new f(t)); if (!t.s) return new f(Tn); if (u = new f(u), !u.s) { if (t.s < 1) throw Error(aa + "Infinity"); return u } if (u.eq(Tn)) return u; if (n = f.precision, t.eq(Tn)) return Ht(u, n); if (e = t.e, r = t.d.length - 1, c = e >= r, o = u.s, c) { if ((r = p < 0 ? -p : p) <= j4) { for (s = new f(Tn), e = Math.ceil(n / Zt + 4), rr = !1; r % 2 && (s = s.times(u), BE(s.d, e)), r = Sc(r / 2), r !== 0;)u = u.times(u), BE(u.d, e); return rr = !0, t.s < 0 ? new f(Tn).div(s) : Ht(s, n) } } else if (o < 0) throw Error(aa + "NaN"); return o = o < 0 && t.d[Math.max(e, r)] & 1 ? -1 : 1, u.s = 1, rr = !1, s = t.times(md(u, n + h)), rr = !0, s = S4(s), s.s = o, s }; We.toPrecision = function (t, e) { var r, n, s = this, o = s.constructor; return t === void 0 ? (r = Sr(s), n = Po(s, r <= o.toExpNeg || r >= o.toExpPos)) : (Va(t, 1, Nc), e === void 0 ? e = o.rounding : Va(e, 0, 8), s = Ht(new o(s), t, e), r = Sr(s), n = Po(s, t <= r || r <= o.toExpNeg, t)), n }; We.toSignificantDigits = We.tosd = function (t, e) { var r = this, n = r.constructor; return t === void 0 ? (t = n.precision, e = n.rounding) : (Va(t, 1, Nc), e === void 0 ? e = n.rounding : Va(e, 0, 8)), Ht(new n(r), t, e) }; We.toString = We.valueOf = We.val = We.toJSON = We[Symbol.for("nodejs.util.inspect.custom")] = function () { var t = this, e = Sr(t), r = t.constructor; return Po(t, e <= r.toExpNeg || e >= r.toExpPos) }; function N4(t, e) { var r, n, s, o, c, u, f, h, p = t.constructor, x = p.precision; if (!t.s || !e.s) return e.s || (e = new p(t)), rr ? Ht(e, x) : e; if (f = t.d, h = e.d, c = t.e, s = e.e, f = f.slice(), o = c - s, o) { for (o < 0 ? (n = f, o = -o, u = h.length) : (n = h, s = c, u = f.length), c = Math.ceil(x / Zt), u = c > u ? c + 1 : u + 1, o > u && (o = u, n.length = 1), n.reverse(); o--;)n.push(0); n.reverse() } for (u = f.length, o = h.length, u - o < 0 && (o = u, n = h, h = f, f = n), r = 0; o;)r = (f[--o] = f[o] + h[o] + r) / Rr | 0, f[o] %= Rr; for (r && (f.unshift(r), ++s), u = f.length; f[--u] == 0;)f.pop(); return e.d = f, e.e = s, rr ? Ht(e, x) : e } function Va(t, e, r) { if (t !== ~~t || t < e || t > r) throw Error(Oo + t) } function Fa(t) { var e, r, n, s = t.length - 1, o = "", c = t[0]; if (s > 0) { for (o += c, e = 1; e < s; e++)n = t[e] + "", r = Zt - n.length, r && (o += ji(r)), o += n; c = t[e], n = c + "", r = Zt - n.length, r && (o += ji(r)) } else if (c === 0) return "0"; for (; c % 10 === 0;)c /= 10; return o + c } var Ms = (function () { function t(n, s) { var o, c = 0, u = n.length; for (n = n.slice(); u--;)o = n[u] * s + c, n[u] = o % Rr | 0, c = o / Rr | 0; return c && n.unshift(c), n } function e(n, s, o, c) { var u, f; if (o != c) f = o > c ? 1 : -1; else for (u = f = 0; u < o; u++)if (n[u] != s[u]) { f = n[u] > s[u] ? 1 : -1; break } return f } function r(n, s, o) { for (var c = 0; o--;)n[o] -= c, c = n[o] < s[o] ? 1 : 0, n[o] = c * Rr + n[o] - s[o]; for (; !n[0] && n.length > 1;)n.shift() } return function (n, s, o, c) { var u, f, h, p, x, g, v, j, S, w, O, D, R, H, C, k, F, P, W = n.constructor, J = n.s == s.s ? 1 : -1, Q = n.d, V = s.d; if (!n.s) return new W(n); if (!s.s) throw Error(aa + "Division by zero"); for (f = n.e - s.e, F = V.length, C = Q.length, v = new W(J), j = v.d = [], h = 0; V[h] == (Q[h] || 0);)++h; if (V[h] > (Q[h] || 0) && --f, o == null ? D = o = W.precision : c ? D = o + (Sr(n) - Sr(s)) + 1 : D = o, D < 0) return new W(0); if (D = D / Zt + 2 | 0, h = 0, F == 1) for (p = 0, V = V[0], D++; (h < C || p) && D--; h++)R = p * Rr + (Q[h] || 0), j[h] = R / V | 0, p = R % V | 0; else { for (p = Rr / (V[0] + 1) | 0, p > 1 && (V = t(V, p), Q = t(Q, p), F = V.length, C = Q.length), H = F, S = Q.slice(0, F), w = S.length; w < F;)S[w++] = 0; P = V.slice(), P.unshift(0), k = V[0], V[1] >= Rr / 2 && ++k; do p = 0, u = e(V, S, F, w), u < 0 ? (O = S[0], F != w && (O = O * Rr + (S[1] || 0)), p = O / k | 0, p > 1 ? (p >= Rr && (p = Rr - 1), x = t(V, p), g = x.length, w = S.length, u = e(x, S, g, w), u == 1 && (p--, r(x, F < g ? P : V, g))) : (p == 0 && (u = p = 1), x = V.slice()), g = x.length, g < w && x.unshift(0), r(S, x, w), u == -1 && (w = S.length, u = e(V, S, F, w), u < 1 && (p++, r(S, F < w ? P : V, w))), w = S.length) : u === 0 && (p++, S = [0]), j[h++] = p, u && S[0] ? S[w++] = Q[H] || 0 : (S = [Q[H]], w = 1); while ((H++ < C || S[0] !== void 0) && D--) } return j[0] || j.shift(), v.e = f, Ht(v, c ? o + Sr(v) + 1 : o) } })(); function S4(t, e) { var r, n, s, o, c, u, f = 0, h = 0, p = t.constructor, x = p.precision; if (Sr(t) > 16) throw Error(N1 + Sr(t)); if (!t.s) return new p(Tn); for (rr = !1, u = x, c = new p(.03125); t.abs().gte(.1);)t = t.times(c), h += 5; for (n = Math.log(xo(2, h)) / Math.LN10 * 2 + 5 | 0, u += n, r = s = o = new p(Tn), p.precision = u; ;) { if (s = Ht(s.times(t), u), r = r.times(++f), c = o.plus(Ms(s, r, u)), Fa(c.d).slice(0, u) === Fa(o.d).slice(0, u)) { for (; h--;)o = Ht(o.times(o), u); return p.precision = x, e == null ? (rr = !0, Ht(o, x)) : o } o = c } } function Sr(t) { for (var e = t.e * Zt, r = t.d[0]; r >= 10; r /= 10)e++; return e } function Gv(t, e, r) { if (e > t.LN10.sd()) throw rr = !0, r && (t.precision = r), Error(aa + "LN10 precision limit exceeded"); return Ht(new t(t.LN10), e) } function ji(t) { for (var e = ""; t--;)e += "0"; return e } function md(t, e) { var r, n, s, o, c, u, f, h, p, x = 1, g = 10, v = t, j = v.d, S = v.constructor, w = S.precision; if (v.s < 1) throw Error(aa + (v.s ? "NaN" : "-Infinity")); if (v.eq(Tn)) return new S(0); if (e == null ? (rr = !1, h = w) : h = e, v.eq(10)) return e == null && (rr = !0), Gv(S, h); if (h += g, S.precision = h, r = Fa(j), n = r.charAt(0), o = Sr(v), Math.abs(o) < 15e14) { for (; n < 7 && n != 1 || n == 1 && r.charAt(1) > 3;)v = v.times(t), r = Fa(v.d), n = r.charAt(0), x++; o = Sr(v), n > 1 ? (v = new S("0." + r), o++) : v = new S(n + "." + r.slice(1)) } else return f = Gv(S, h + 2, w).times(o + ""), v = md(new S(n + "." + r.slice(1)), h - g).plus(f), S.precision = w, e == null ? (rr = !0, Ht(v, w)) : v; for (u = c = v = Ms(v.minus(Tn), v.plus(Tn), h), p = Ht(v.times(v), h), s = 3; ;) { if (c = Ht(c.times(p), h), f = u.plus(Ms(c, new S(s), h)), Fa(f.d).slice(0, h) === Fa(u.d).slice(0, h)) return u = u.times(2), o !== 0 && (u = u.plus(Gv(S, h + 2, w).times(o + ""))), u = Ms(u, new S(x), h), S.precision = w, e == null ? (rr = !0, Ht(u, w)) : u; u = f, s += 2 } } function FE(t, e) { var r, n, s; for ((r = e.indexOf(".")) > -1 && (e = e.replace(".", "")), (n = e.search(/e/i)) > 0 ? (r < 0 && (r = n), r += +e.slice(n + 1), e = e.substring(0, n)) : r < 0 && (r = e.length), n = 0; e.charCodeAt(n) === 48;)++n; for (s = e.length; e.charCodeAt(s - 1) === 48;)--s; if (e = e.slice(n, s), e) { if (s -= n, r = r - n - 1, t.e = Sc(r / Zt), t.d = [], n = (r + 1) % Zt, r < 0 && (n += Zt), n < s) { for (n && t.d.push(+e.slice(0, n)), s -= Zt; n < s;)t.d.push(+e.slice(n, n += Zt)); e = e.slice(n), n = Zt - e.length } else n -= s; for (; n--;)e += "0"; if (t.d.push(+e), rr && (t.e > Dm || t.e < -Dm)) throw Error(N1 + r) } else t.s = 0, t.e = 0, t.d = [0]; return t } function Ht(t, e, r) { var n, s, o, c, u, f, h, p, x = t.d; for (c = 1, o = x[0]; o >= 10; o /= 10)c++; if (n = e - c, n < 0) n += Zt, s = e, h = x[p = 0]; else { if (p = Math.ceil((n + 1) / Zt), o = x.length, p >= o) return t; for (h = o = x[p], c = 1; o >= 10; o /= 10)c++; n %= Zt, s = n - Zt + c } if (r !== void 0 && (o = xo(10, c - s - 1), u = h / o % 10 | 0, f = e < 0 || x[p + 1] !== void 0 || h % o, f = r < 4 ? (u || f) && (r == 0 || r == (t.s < 0 ? 3 : 2)) : u > 5 || u == 5 && (r == 4 || f || r == 6 && (n > 0 ? s > 0 ? h / xo(10, c - s) : 0 : x[p - 1]) % 10 & 1 || r == (t.s < 0 ? 8 : 7))), e < 1 || !x[0]) return f ? (o = Sr(t), x.length = 1, e = e - o - 1, x[0] = xo(10, (Zt - e % Zt) % Zt), t.e = Sc(-e / Zt) || 0) : (x.length = 1, x[0] = t.e = t.s = 0), t; if (n == 0 ? (x.length = p, o = 1, p--) : (x.length = p + 1, o = xo(10, Zt - n), x[p] = s > 0 ? (h / xo(10, c - s) % xo(10, s) | 0) * o : 0), f) for (; ;)if (p == 0) { (x[0] += o) == Rr && (x[0] = 1, ++t.e); break } else { if (x[p] += o, x[p] != Rr) break; x[p--] = 0, o = 1 } for (n = x.length; x[--n] === 0;)x.pop(); if (rr && (t.e > Dm || t.e < -Dm)) throw Error(N1 + Sr(t)); return t } function _4(t, e) { var r, n, s, o, c, u, f, h, p, x, g = t.constructor, v = g.precision; if (!t.s || !e.s) return e.s ? e.s = -e.s : e = new g(t), rr ? Ht(e, v) : e; if (f = t.d, x = e.d, n = e.e, h = t.e, f = f.slice(), c = h - n, c) { for (p = c < 0, p ? (r = f, c = -c, u = x.length) : (r = x, n = h, u = f.length), s = Math.max(Math.ceil(v / Zt), u) + 2, c > s && (c = s, r.length = 1), r.reverse(), s = c; s--;)r.push(0); r.reverse() } else { for (s = f.length, u = x.length, p = s < u, p && (u = s), s = 0; s < u; s++)if (f[s] != x[s]) { p = f[s] < x[s]; break } c = 0 } for (p && (r = f, f = x, x = r, e.s = -e.s), u = f.length, s = x.length - u; s > 0; --s)f[u++] = 0; for (s = x.length; s > c;) { if (f[--s] < x[s]) { for (o = s; o && f[--o] === 0;)f[o] = Rr - 1; --f[o], f[s] += Rr } f[s] -= x[s] } for (; f[--u] === 0;)f.pop(); for (; f[0] === 0; f.shift())--n; return f[0] ? (e.d = f, e.e = n, rr ? Ht(e, v) : e) : new g(0) } function Po(t, e, r) { var n, s = Sr(t), o = Fa(t.d), c = o.length; return e ? (r && (n = r - c) > 0 ? o = o.charAt(0) + "." + o.slice(1) + ji(n) : c > 1 && (o = o.charAt(0) + "." + o.slice(1)), o = o + (s < 0 ? "e" : "e+") + s) : s < 0 ? (o = "0." + ji(-s - 1) + o, r && (n = r - c) > 0 && (o += ji(n))) : s >= c ? (o += ji(s + 1 - c), r && (n = r - s - 1) > 0 && (o = o + "." + ji(n))) : ((n = s + 1) < c && (o = o.slice(0, n) + "." + o.slice(n)), r && (n = r - c) > 0 && (s + 1 === c && (o += "."), o += ji(n))), t.s < 0 ? "-" + o : o } function BE(t, e) { if (t.length > e) return t.length = e, !0 } function O4(t) { var e, r, n; function s(o) { var c = this; if (!(c instanceof s)) return new s(o); if (c.constructor = s, o instanceof s) { c.s = o.s, c.e = o.e, c.d = (o = o.d) ? o.slice() : o; return } if (typeof o == "number") { if (o * 0 !== 0) throw Error(Oo + o); if (o > 0) c.s = 1; else if (o < 0) o = -o, c.s = -1; else { c.s = 0, c.e = 0, c.d = [0]; return } if (o === ~~o && o < 1e7) { c.e = 0, c.d = [o]; return } return FE(c, o.toString()) } else if (typeof o != "string") throw Error(Oo + o); if (o.charCodeAt(0) === 45 ? (o = o.slice(1), c.s = -1) : c.s = 1, xY.test(o)) FE(c, o); else throw Error(Oo + o) } if (s.prototype = We, s.ROUND_UP = 0, s.ROUND_DOWN = 1, s.ROUND_CEIL = 2, s.ROUND_FLOOR = 3, s.ROUND_HALF_UP = 4, s.ROUND_HALF_DOWN = 5, s.ROUND_HALF_EVEN = 6, s.ROUND_HALF_CEIL = 7, s.ROUND_HALF_FLOOR = 8, s.clone = O4, s.config = s.set = gY, t === void 0 && (t = {}), t) for (n = ["precision", "rounding", "toExpNeg", "toExpPos", "LN10"], e = 0; e < n.length;)t.hasOwnProperty(r = n[e++]) || (t[r] = this[r]); return s.config(t), s } function gY(t) { if (!t || typeof t != "object") throw Error(aa + "Object expected"); var e, r, n, s = ["precision", 1, Nc, "rounding", 0, 8, "toExpNeg", -1 / 0, 0, "toExpPos", 0, 1 / 0]; for (e = 0; e < s.length; e += 3)if ((n = t[r = s[e]]) !== void 0) if (Sc(n) === n && n >= s[e + 1] && n <= s[e + 2]) this[r] = n; else throw Error(Oo + r + ": " + n); if ((n = t[r = "LN10"]) !== void 0) if (n == Math.LN10) this[r] = new this(n); else throw Error(Oo + r + ": " + n); return this } var S1 = O4(pY); Tn = new S1(1); const qt = S1; function yY(t) { return jY(t) || wY(t) || vY(t) || bY() } function bY() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function vY(t, e) { if (t) { if (typeof t == "string") return vj(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return vj(t, e) } } function wY(t) { if (typeof Symbol < "u" && Symbol.iterator in Object(t)) return Array.from(t) } function jY(t) { if (Array.isArray(t)) return vj(t) } function vj(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } var NY = function (e) { return e }, C4 = {}, k4 = function (e) { return e === C4 }, qE = function (e) { return function r() { return arguments.length === 0 || arguments.length === 1 && k4(arguments.length <= 0 ? void 0 : arguments[0]) ? r : e.apply(void 0, arguments) } }, SY = function t(e, r) { return e === 1 ? r : qE(function () { for (var n = arguments.length, s = new Array(n), o = 0; o < n; o++)s[o] = arguments[o]; var c = s.filter(function (u) { return u !== C4 }).length; return c >= e ? r.apply(void 0, s) : t(e - c, qE(function () { for (var u = arguments.length, f = new Array(u), h = 0; h < u; h++)f[h] = arguments[h]; var p = s.map(function (x) { return k4(x) ? f.shift() : x }); return r.apply(void 0, yY(p).concat(f)) })) }) }, Vp = function (e) { return SY(e.length, e) }, wj = function (e, r) { for (var n = [], s = e; s < r; ++s)n[s - e] = s; return n }, _Y = Vp(function (t, e) { return Array.isArray(e) ? e.map(t) : Object.keys(e).map(function (r) { return e[r] }).map(t) }), OY = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; if (!r.length) return NY; var s = r.reverse(), o = s[0], c = s.slice(1); return function () { return c.reduce(function (u, f) { return f(u) }, o.apply(void 0, arguments)) } }, jj = function (e) { return Array.isArray(e) ? e.reverse() : e.split("").reverse.join("") }, A4 = function (e) { var r = null, n = null; return function () { for (var s = arguments.length, o = new Array(s), c = 0; c < s; c++)o[c] = arguments[c]; return r && o.every(function (u, f) { return u === r[f] }) || (r = o, n = e.apply(void 0, o)), n } }; function CY(t) { var e; return t === 0 ? e = 1 : e = Math.floor(new qt(t).abs().log(10).toNumber()) + 1, e } function kY(t, e, r) { for (var n = new qt(t), s = 0, o = []; n.lt(e) && s < 1e5;)o.push(n.toNumber()), n = n.add(r), s++; return o } var AY = Vp(function (t, e, r) { var n = +t, s = +e; return n + r * (s - n) }), EY = Vp(function (t, e, r) { var n = e - +t; return n = n || 1 / 0, (r - t) / n }), DY = Vp(function (t, e, r) { var n = e - +t; return n = n || 1 / 0, Math.max(0, Math.min(1, (r - t) / n)) }); const Yp = { rangeStep: kY, getDigitCount: CY, interpolateNumber: AY, uninterpolateNumber: EY, uninterpolateTruncation: DY }; function Nj(t) { return MY(t) || PY(t) || E4(t) || TY() } function TY() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function PY(t) { if (typeof Symbol < "u" && Symbol.iterator in Object(t)) return Array.from(t) } function MY(t) { if (Array.isArray(t)) return Sj(t) } function pd(t, e) { return IY(t) || $Y(t, e) || E4(t, e) || RY() } function RY() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function E4(t, e) { if (t) { if (typeof t == "string") return Sj(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Sj(t, e) } } function Sj(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function $Y(t, e) { if (!(typeof Symbol > "u" || !(Symbol.iterator in Object(t)))) { var r = [], n = !0, s = !1, o = void 0; try { for (var c = t[Symbol.iterator](), u; !(n = (u = c.next()).done) && (r.push(u.value), !(e && r.length === e)); n = !0); } catch (f) { s = !0, o = f } finally { try { !n && c.return != null && c.return() } finally { if (s) throw o } } return r } } function IY(t) { if (Array.isArray(t)) return t } function D4(t) { var e = pd(t, 2), r = e[0], n = e[1], s = r, o = n; return r > n && (s = n, o = r), [s, o] } function T4(t, e, r) { if (t.lte(0)) return new qt(0); var n = Yp.getDigitCount(t.toNumber()), s = new qt(10).pow(n), o = t.div(s), c = n !== 1 ? .05 : .1, u = new qt(Math.ceil(o.div(c).toNumber())).add(r).mul(c), f = u.mul(s); return e ? f : new qt(Math.ceil(f)) } function LY(t, e, r) { var n = 1, s = new qt(t); if (!s.isint() && r) { var o = Math.abs(t); o < 1 ? (n = new qt(10).pow(Yp.getDigitCount(t) - 1), s = new qt(Math.floor(s.div(n).toNumber())).mul(n)) : o > 1 && (s = new qt(Math.floor(t))) } else t === 0 ? s = new qt(Math.floor((e - 1) / 2)) : r || (s = new qt(Math.floor(t))); var c = Math.floor((e - 1) / 2), u = OY(_Y(function (f) { return s.add(new qt(f - c).mul(n)).toNumber() }), wj); return u(0, e) } function P4(t, e, r, n) { var s = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0; if (!Number.isFinite((e - t) / (r - 1))) return { step: new qt(0), tickMin: new qt(0), tickMax: new qt(0) }; var o = T4(new qt(e).sub(t).div(r - 1), n, s), c; t <= 0 && e >= 0 ? c = new qt(0) : (c = new qt(t).add(e).div(2), c = c.sub(new qt(c).mod(o))); var u = Math.ceil(c.sub(t).div(o).toNumber()), f = Math.ceil(new qt(e).sub(c).div(o).toNumber()), h = u + f + 1; return h > r ? P4(t, e, r, n, s + 1) : (h < r && (f = e > 0 ? f + (r - h) : f, u = e > 0 ? u : u + (r - h)), { step: o, tickMin: c.sub(new qt(u).mul(o)), tickMax: c.add(new qt(f).mul(o)) }) } function FY(t) { var e = pd(t, 2), r = e[0], n = e[1], s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 6, o = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0, c = Math.max(s, 2), u = D4([r, n]), f = pd(u, 2), h = f[0], p = f[1]; if (h === -1 / 0 || p === 1 / 0) { var x = p === 1 / 0 ? [h].concat(Nj(wj(0, s - 1).map(function () { return 1 / 0 }))) : [].concat(Nj(wj(0, s - 1).map(function () { return -1 / 0 })), [p]); return r > n ? jj(x) : x } if (h === p) return LY(h, s, o); var g = P4(h, p, c, o), v = g.step, j = g.tickMin, S = g.tickMax, w = Yp.rangeStep(j, S.add(new qt(.1).mul(v)), v); return r > n ? jj(w) : w } function BY(t, e) { var r = pd(t, 2), n = r[0], s = r[1], o = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0, c = D4([n, s]), u = pd(c, 2), f = u[0], h = u[1]; if (f === -1 / 0 || h === 1 / 0) return [n, s]; if (f === h) return [f]; var p = Math.max(e, 2), x = T4(new qt(h).sub(f).div(p - 1), o, 0), g = [].concat(Nj(Yp.rangeStep(new qt(f), new qt(h).sub(new qt(.99).mul(x)), x)), [h]); return n > s ? jj(g) : g } var qY = A4(FY), zY = A4(BY), UY = "Invariant failed"; function Mo(t, e) { throw new Error(UY) } var HY = ["offset", "layout", "width", "dataKey", "data", "dataPointFormatter", "xAxis", "yAxis"]; function Jl(t) { "@babel/helpers - typeof"; return Jl = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Jl(t) } function Tm() { return Tm = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Tm.apply(this, arguments) } function VY(t, e) { return WY(t) || KY(t, e) || GY(t, e) || YY() } function YY() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function GY(t, e) { if (t) { if (typeof t == "string") return zE(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return zE(t, e) } } function zE(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function KY(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function WY(t) { if (Array.isArray(t)) return t } function XY(t, e) { if (t == null) return {}; var r = JY(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function JY(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function QY(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function ZY(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, $4(n.key), n) } } function eG(t, e, r) { return e && ZY(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function tG(t, e, r) { return e = Pm(e), rG(t, M4() ? Reflect.construct(e, r || [], Pm(t).constructor) : e.apply(t, r)) } function rG(t, e) { if (e && (Jl(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return nG(t) } function nG(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function M4() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (M4 = function () { return !!t })() } function Pm(t) { return Pm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, Pm(t) } function aG(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _j(t, e) } function _j(t, e) { return _j = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, _j(t, e) } function R4(t, e, r) { return e = $4(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function $4(t) { var e = sG(t, "string"); return Jl(e) == "symbol" ? e : e + "" } function sG(t, e) { if (Jl(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Jl(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var Xd = (function (t) { function e() { return QY(this, e), tG(this, e, arguments) } return aG(e, t), eG(e, [{ key: "render", value: function () { var n = this.props, s = n.offset, o = n.layout, c = n.width, u = n.dataKey, f = n.data, h = n.dataPointFormatter, p = n.xAxis, x = n.yAxis, g = XY(n, HY), v = et(g, !1); this.props.direction === "x" && p.type !== "number" && Mo(); var j = f.map(function (S) { var w = h(S, u), O = w.x, D = w.y, R = w.value, H = w.errorVal; if (!H) return null; var C = [], k, F; if (Array.isArray(H)) { var P = VY(H, 2); k = P[0], F = P[1] } else k = F = H; if (o === "vertical") { var W = p.scale, J = D + s, Q = J + c, V = J - c, ae = W(R - k), ie = W(R + F); C.push({ x1: ie, y1: Q, x2: ie, y2: V }), C.push({ x1: ae, y1: J, x2: ie, y2: J }), C.push({ x1: ae, y1: Q, x2: ae, y2: V }) } else if (o === "horizontal") { var se = x.scale, U = O + s, le = U - c, de = U + c, me = se(R - k), pe = se(R + F); C.push({ x1: le, y1: pe, x2: de, y2: pe }), C.push({ x1: U, y1: me, x2: U, y2: pe }), C.push({ x1: le, y1: me, x2: de, y2: me }) } return he.createElement(xt, Tm({ className: "recharts-errorBar", key: "bar-".concat(C.map(function (M) { return "".concat(M.x1, "-").concat(M.x2, "-").concat(M.y1, "-").concat(M.y2) })) }, v), C.map(function (M) { return he.createElement("line", Tm({}, M, { key: "line-".concat(M.x1, "-").concat(M.x2, "-").concat(M.y1, "-").concat(M.y2) })) })) }); return he.createElement(xt, { className: "recharts-errorBars" }, j) } }]) })(he.Component); R4(Xd, "defaultProps", { stroke: "black", strokeWidth: 1.5, width: 5, offset: 0, layout: "horizontal" }); R4(Xd, "displayName", "ErrorBar"); function xd(t) { "@babel/helpers - typeof"; return xd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, xd(t) } function UE(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function oo(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? UE(Object(r), !0).forEach(function (n) { iG(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : UE(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function iG(t, e, r) { return e = oG(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function oG(t) { var e = lG(t, "string"); return xd(e) == "symbol" ? e : e + "" } function lG(t, e) { if (xd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (xd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var I4 = function (e) { var r = e.children, n = e.formattedGraphicalItems, s = e.legendWidth, o = e.legendContent, c = Dn(r, Ps); if (!c) return null; var u = Ps.defaultProps, f = u !== void 0 ? oo(oo({}, u), c.props) : {}, h; return c.props && c.props.payload ? h = c.props && c.props.payload : o === "children" ? h = (n || []).reduce(function (p, x) { var g = x.item, v = x.props, j = v.sectors || v.data || []; return p.concat(j.map(function (S) { return { type: c.props.iconType || g.props.legendType, value: S.name, color: S.fill, payload: S } })) }, []) : h = (n || []).map(function (p) { var x = p.item, g = x.type.defaultProps, v = g !== void 0 ? oo(oo({}, g), x.props) : {}, j = v.dataKey, S = v.name, w = v.legendType, O = v.hide; return { inactive: O, dataKey: j, type: f.iconType || w || "square", color: _1(x), value: S || j, payload: v } }), oo(oo(oo({}, f), Ps.getWithHeight(c, s)), {}, { payload: h, item: c }) }; function gd(t) { "@babel/helpers - typeof"; return gd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, gd(t) } function HE(t) { return fG(t) || dG(t) || uG(t) || cG() } function cG() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function uG(t, e) { if (t) { if (typeof t == "string") return Oj(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Oj(t, e) } } function dG(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function fG(t) { if (Array.isArray(t)) return Oj(t) } function Oj(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function VE(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function dr(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? VE(Object(r), !0).forEach(function (n) { Fl(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : VE(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Fl(t, e, r) { return e = hG(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function hG(t) { var e = mG(t, "string"); return gd(e) == "symbol" ? e : e + "" } function mG(t, e) { if (gd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (gd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function pr(t, e, r) { return ot(t) || ot(e) ? r : Er(e) ? Rn(t, e, r) : it(e) ? e(t) : r } function Vu(t, e, r, n) { var s = fY(t, function (u) { return pr(u, e) }); if (r === "number") { var o = s.filter(function (u) { return Le(u) || parseFloat(u) }); return o.length ? [Hp(o), Oi(o)] : [1 / 0, -1 / 0] } var c = n ? s.filter(function (u) { return !ot(u) }) : s; return c.map(function (u) { return Er(u) || u instanceof Date ? u : "" }) } var pG = function (e) { var r, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], s = arguments.length > 2 ? arguments[2] : void 0, o = arguments.length > 3 ? arguments[3] : void 0, c = -1, u = (r = n == null ? void 0 : n.length) !== null && r !== void 0 ? r : 0; if (u <= 1) return 0; if (o && o.axisType === "angleAxis" && Math.abs(Math.abs(o.range[1] - o.range[0]) - 360) <= 1e-6) for (var f = o.range, h = 0; h < u; h++) { var p = h > 0 ? s[h - 1].coordinate : s[u - 1].coordinate, x = s[h].coordinate, g = h >= u - 1 ? s[0].coordinate : s[h + 1].coordinate, v = void 0; if (sn(x - p) !== sn(g - x)) { var j = []; if (sn(g - x) === sn(f[1] - f[0])) { v = g; var S = x + f[1] - f[0]; j[0] = Math.min(S, (S + p) / 2), j[1] = Math.max(S, (S + p) / 2) } else { v = p; var w = g + f[1] - f[0]; j[0] = Math.min(x, (w + x) / 2), j[1] = Math.max(x, (w + x) / 2) } var O = [Math.min(x, (v + x) / 2), Math.max(x, (v + x) / 2)]; if (e > O[0] && e <= O[1] || e >= j[0] && e <= j[1]) { c = s[h].index; break } } else { var D = Math.min(p, g), R = Math.max(p, g); if (e > (D + x) / 2 && e <= (R + x) / 2) { c = s[h].index; break } } } else for (var H = 0; H < u; H++)if (H === 0 && e <= (n[H].coordinate + n[H + 1].coordinate) / 2 || H > 0 && H < u - 1 && e > (n[H].coordinate + n[H - 1].coordinate) / 2 && e <= (n[H].coordinate + n[H + 1].coordinate) / 2 || H === u - 1 && e > (n[H].coordinate + n[H - 1].coordinate) / 2) { c = n[H].index; break } return c }, _1 = function (e) { var r, n = e, s = n.type.displayName, o = (r = e.type) !== null && r !== void 0 && r.defaultProps ? dr(dr({}, e.type.defaultProps), e.props) : e.props, c = o.stroke, u = o.fill, f; switch (s) { case "Line": f = c; break; case "Area": case "Radar": f = c && c !== "none" ? c : u; break; default: f = u; break }return f }, xG = function (e) { var r = e.barSize, n = e.totalSize, s = e.stackGroups, o = s === void 0 ? {} : s; if (!o) return {}; for (var c = {}, u = Object.keys(o), f = 0, h = u.length; f < h; f++)for (var p = o[u[f]].stackGroups, x = Object.keys(p), g = 0, v = x.length; g < v; g++) { var j = p[x[g]], S = j.items, w = j.cateAxisId, O = S.filter(function (F) { return Ts(F.type).indexOf("Bar") >= 0 }); if (O && O.length) { var D = O[0].type.defaultProps, R = D !== void 0 ? dr(dr({}, D), O[0].props) : O[0].props, H = R.barSize, C = R[w]; c[C] || (c[C] = []); var k = ot(H) ? r : H; c[C].push({ item: O[0], stackList: O.slice(1), barSize: ot(k) ? void 0 : on(k, n, 0) }) } } return c }, gG = function (e) { var r = e.barGap, n = e.barCategoryGap, s = e.bandSize, o = e.sizeList, c = o === void 0 ? [] : o, u = e.maxBarSize, f = c.length; if (f < 1) return null; var h = on(r, s, 0, !0), p, x = []; if (c[0].barSize === +c[0].barSize) { var g = !1, v = s / f, j = c.reduce(function (H, C) { return H + C.barSize || 0 }, 0); j += (f - 1) * h, j >= s && (j -= (f - 1) * h, h = 0), j >= s && v > 0 && (g = !0, v *= .9, j = f * v); var S = (s - j) / 2 >> 0, w = { offset: S - h, size: 0 }; p = c.reduce(function (H, C) { var k = { item: C.item, position: { offset: w.offset + w.size + h, size: g ? v : C.barSize } }, F = [].concat(HE(H), [k]); return w = F[F.length - 1].position, C.stackList && C.stackList.length && C.stackList.forEach(function (P) { F.push({ item: P, position: w }) }), F }, x) } else { var O = on(n, s, 0, !0); s - 2 * O - (f - 1) * h <= 0 && (h = 0); var D = (s - 2 * O - (f - 1) * h) / f; D > 1 && (D >>= 0); var R = u === +u ? Math.min(D, u) : D; p = c.reduce(function (H, C, k) { var F = [].concat(HE(H), [{ item: C.item, position: { offset: O + (D + h) * k + (D - R) / 2, size: R } }]); return C.stackList && C.stackList.length && C.stackList.forEach(function (P) { F.push({ item: P, position: F[F.length - 1].position }) }), F }, x) } return p }, yG = function (e, r, n, s) { var o = n.children, c = n.width, u = n.margin, f = c - (u.left || 0) - (u.right || 0), h = I4({ children: o, legendWidth: f }); if (h) { var p = s || {}, x = p.width, g = p.height, v = h.align, j = h.verticalAlign, S = h.layout; if ((S === "vertical" || S === "horizontal" && j === "middle") && v !== "center" && Le(e[v])) return dr(dr({}, e), {}, Fl({}, v, e[v] + (x || 0))); if ((S === "horizontal" || S === "vertical" && v === "center") && j !== "middle" && Le(e[j])) return dr(dr({}, e), {}, Fl({}, j, e[j] + (g || 0))) } return e }, bG = function (e, r, n) { return ot(r) ? !0 : e === "horizontal" ? r === "yAxis" : e === "vertical" || n === "x" ? r === "xAxis" : n === "y" ? r === "yAxis" : !0 }, L4 = function (e, r, n, s, o) { var c = r.props.children, u = $n(c, Xd).filter(function (h) { return bG(s, o, h.props.direction) }); if (u && u.length) { var f = u.map(function (h) { return h.props.dataKey }); return e.reduce(function (h, p) { var x = pr(p, n); if (ot(x)) return h; var g = Array.isArray(x) ? [Hp(x), Oi(x)] : [x, x], v = f.reduce(function (j, S) { var w = pr(p, S, 0), O = g[0] - Math.abs(Array.isArray(w) ? w[0] : w), D = g[1] + Math.abs(Array.isArray(w) ? w[1] : w); return [Math.min(O, j[0]), Math.max(D, j[1])] }, [1 / 0, -1 / 0]); return [Math.min(v[0], h[0]), Math.max(v[1], h[1])] }, [1 / 0, -1 / 0]) } return null }, vG = function (e, r, n, s, o) { var c = r.map(function (u) { return L4(e, u, n, o, s) }).filter(function (u) { return !ot(u) }); return c && c.length ? c.reduce(function (u, f) { return [Math.min(u[0], f[0]), Math.max(u[1], f[1])] }, [1 / 0, -1 / 0]) : null }, F4 = function (e, r, n, s, o) { var c = r.map(function (f) { var h = f.props.dataKey; return n === "number" && h && L4(e, f, h, s) || Vu(e, h, n, o) }); if (n === "number") return c.reduce(function (f, h) { return [Math.min(f[0], h[0]), Math.max(f[1], h[1])] }, [1 / 0, -1 / 0]); var u = {}; return c.reduce(function (f, h) { for (var p = 0, x = h.length; p < x; p++)u[h[p]] || (u[h[p]] = !0, f.push(h[p])); return f }, []) }, B4 = function (e, r) { return e === "horizontal" && r === "xAxis" || e === "vertical" && r === "yAxis" || e === "centric" && r === "angleAxis" || e === "radial" && r === "radiusAxis" }, q4 = function (e, r, n, s) { if (s) return e.map(function (f) { return f.coordinate }); var o, c, u = e.map(function (f) { return f.coordinate === r && (o = !0), f.coordinate === n && (c = !0), f.coordinate }); return o || u.push(r), c || u.push(n), u }, As = function (e, r, n) { if (!e) return null; var s = e.scale, o = e.duplicateDomain, c = e.type, u = e.range, f = e.realScaleType === "scaleBand" ? s.bandwidth() / 2 : 2, h = (r || n) && c === "category" && s.bandwidth ? s.bandwidth() / f : 0; if (h = e.axisType === "angleAxis" && (u == null ? void 0 : u.length) >= 2 ? sn(u[0] - u[1]) * 2 * h : h, r && (e.ticks || e.niceTicks)) { var p = (e.ticks || e.niceTicks).map(function (x) { var g = o ? o.indexOf(x) : x; return { coordinate: s(g) + h, value: x, offset: h } }); return p.filter(function (x) { return !vc(x.coordinate) }) } return e.isCategorical && e.categoricalDomain ? e.categoricalDomain.map(function (x, g) { return { coordinate: s(x) + h, value: x, index: g, offset: h } }) : s.ticks && !n ? s.ticks(e.tickCount).map(function (x) { return { coordinate: s(x) + h, value: x, offset: h } }) : s.domain().map(function (x, g) { return { coordinate: s(x) + h, value: o ? o[x] : x, index: g, offset: h } }) }, Kv = new WeakMap, kh = function (e, r) { if (typeof r != "function") return e; Kv.has(e) || Kv.set(e, new WeakMap); var n = Kv.get(e); if (n.has(r)) return n.get(r); var s = function () { e.apply(void 0, arguments), r.apply(void 0, arguments) }; return n.set(r, s), s }, z4 = function (e, r, n) { var s = e.scale, o = e.type, c = e.layout, u = e.axisType; if (s === "auto") return c === "radial" && u === "radiusAxis" ? { scale: cd(), realScaleType: "band" } : c === "radial" && u === "angleAxis" ? { scale: Cm(), realScaleType: "linear" } : o === "category" && r && (r.indexOf("LineChart") >= 0 || r.indexOf("AreaChart") >= 0 || r.indexOf("ComposedChart") >= 0 && !n) ? { scale: Hu(), realScaleType: "point" } : o === "category" ? { scale: cd(), realScaleType: "band" } : { scale: Cm(), realScaleType: "linear" }; if (Ao(s)) { var f = "scale".concat(Ep(s)); return { scale: (EE[f] || Hu)(), realScaleType: EE[f] ? f : "point" } } return it(s) ? { scale: s } : { scale: Hu(), realScaleType: "point" } }, YE = 1e-4, U4 = function (e) { var r = e.domain(); if (!(!r || r.length <= 2)) { var n = r.length, s = e.range(), o = Math.min(s[0], s[1]) - YE, c = Math.max(s[0], s[1]) + YE, u = e(r[0]), f = e(r[n - 1]); (u < o || u > c || f < o || f > c) && e.domain([r[0], r[n - 1]]) } }, wG = function (e, r) { if (!e) return null; for (var n = 0, s = e.length; n < s; n++)if (e[n].item === r) return e[n].position; return null }, jG = function (e, r) { if (!r || r.length !== 2 || !Le(r[0]) || !Le(r[1])) return e; var n = Math.min(r[0], r[1]), s = Math.max(r[0], r[1]), o = [e[0], e[1]]; return (!Le(e[0]) || e[0] < n) && (o[0] = n), (!Le(e[1]) || e[1] > s) && (o[1] = s), o[0] > s && (o[0] = s), o[1] < n && (o[1] = n), o }, NG = function (e) { var r = e.length; if (!(r <= 0)) for (var n = 0, s = e[0].length; n < s; ++n)for (var o = 0, c = 0, u = 0; u < r; ++u) { var f = vc(e[u][n][1]) ? e[u][n][0] : e[u][n][1]; f >= 0 ? (e[u][n][0] = o, e[u][n][1] = o + f, o = e[u][n][1]) : (e[u][n][0] = c, e[u][n][1] = c + f, c = e[u][n][1]) } }, SG = function (e) { var r = e.length; if (!(r <= 0)) for (var n = 0, s = e[0].length; n < s; ++n)for (var o = 0, c = 0; c < r; ++c) { var u = vc(e[c][n][1]) ? e[c][n][0] : e[c][n][1]; u >= 0 ? (e[c][n][0] = o, e[c][n][1] = o + u, o = e[c][n][1]) : (e[c][n][0] = 0, e[c][n][1] = 0) } }, _G = { sign: NG, expand: f7, none: Ul, silhouette: h7, wiggle: m7, positive: SG }, OG = function (e, r, n) { var s = r.map(function (u) { return u.props.dataKey }), o = _G[n], c = d7().keys(s).value(function (u, f) { return +pr(u, f, 0) }).order(rj).offset(o); return c(e) }, CG = function (e, r, n, s, o, c) { if (!e) return null; var u = c ? r.reverse() : r, f = {}, h = u.reduce(function (x, g) { var v, j = (v = g.type) !== null && v !== void 0 && v.defaultProps ? dr(dr({}, g.type.defaultProps), g.props) : g.props, S = j.stackId, w = j.hide; if (w) return x; var O = j[n], D = x[O] || { hasStack: !1, stackGroups: {} }; if (Er(S)) { var R = D.stackGroups[S] || { numericAxisId: n, cateAxisId: s, items: [] }; R.items.push(g), D.hasStack = !0, D.stackGroups[S] = R } else D.stackGroups[Fo("_stackId_")] = { numericAxisId: n, cateAxisId: s, items: [g] }; return dr(dr({}, x), {}, Fl({}, O, D)) }, f), p = {}; return Object.keys(h).reduce(function (x, g) { var v = h[g]; if (v.hasStack) { var j = {}; v.stackGroups = Object.keys(v.stackGroups).reduce(function (S, w) { var O = v.stackGroups[w]; return dr(dr({}, S), {}, Fl({}, w, { numericAxisId: n, cateAxisId: s, items: O.items, stackedData: OG(e, O.items, o) })) }, j) } return dr(dr({}, x), {}, Fl({}, g, v)) }, p) }, H4 = function (e, r) { var n = r.realScaleType, s = r.type, o = r.tickCount, c = r.originalDomain, u = r.allowDecimals, f = n || r.scale; if (f !== "auto" && f !== "linear") return null; if (o && s === "number" && c && (c[0] === "auto" || c[1] === "auto")) { var h = e.domain(); if (!h.length) return null; var p = qY(h, o, u); return e.domain([Hp(p), Oi(p)]), { niceTicks: p } } if (o && s === "number") { var x = e.domain(), g = zY(x, o, u); return { niceTicks: g } } return null }; function Mm(t) { var e = t.axis, r = t.ticks, n = t.bandSize, s = t.entry, o = t.index, c = t.dataKey; if (e.type === "category") { if (!e.allowDuplicatedCategory && e.dataKey && !ot(s[e.dataKey])) { var u = lm(r, "value", s[e.dataKey]); if (u) return u.coordinate + n / 2 } return r[o] ? r[o].coordinate + n / 2 : null } var f = pr(s, ot(c) ? e.dataKey : c); return ot(f) ? null : e.scale(f) } var GE = function (e) { var r = e.axis, n = e.ticks, s = e.offset, o = e.bandSize, c = e.entry, u = e.index; if (r.type === "category") return n[u] ? n[u].coordinate + s : null; var f = pr(c, r.dataKey, r.domain[u]); return ot(f) ? null : r.scale(f) - o / 2 + s }, kG = function (e) { var r = e.numericAxis, n = r.scale.domain(); if (r.type === "number") { var s = Math.min(n[0], n[1]), o = Math.max(n[0], n[1]); return s <= 0 && o >= 0 ? 0 : o < 0 ? o : s } return n[0] }, AG = function (e, r) { var n, s = (n = e.type) !== null && n !== void 0 && n.defaultProps ? dr(dr({}, e.type.defaultProps), e.props) : e.props, o = s.stackId; if (Er(o)) { var c = r[o]; if (c) { var u = c.items.indexOf(e); return u >= 0 ? c.stackedData[u] : null } } return null }, EG = function (e) { return e.reduce(function (r, n) { return [Hp(n.concat([r[0]]).filter(Le)), Oi(n.concat([r[1]]).filter(Le))] }, [1 / 0, -1 / 0]) }, V4 = function (e, r, n) { return Object.keys(e).reduce(function (s, o) { var c = e[o], u = c.stackedData, f = u.reduce(function (h, p) { var x = EG(p.slice(r, n + 1)); return [Math.min(h[0], x[0]), Math.max(h[1], x[1])] }, [1 / 0, -1 / 0]); return [Math.min(f[0], s[0]), Math.max(f[1], s[1])] }, [1 / 0, -1 / 0]).map(function (s) { return s === 1 / 0 || s === -1 / 0 ? 0 : s }) }, KE = /^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/, WE = /^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/, Cj = function (e, r, n) { if (it(e)) return e(r, n); if (!Array.isArray(e)) return r; var s = []; if (Le(e[0])) s[0] = n ? e[0] : Math.min(e[0], r[0]); else if (KE.test(e[0])) { var o = +KE.exec(e[0])[1]; s[0] = r[0] - o } else it(e[0]) ? s[0] = e[0](r[0]) : s[0] = r[0]; if (Le(e[1])) s[1] = n ? e[1] : Math.max(e[1], r[1]); else if (WE.test(e[1])) { var c = +WE.exec(e[1])[1]; s[1] = r[1] + c } else it(e[1]) ? s[1] = e[1](r[1]) : s[1] = r[1]; return s }, Rm = function (e, r, n) { if (e && e.scale && e.scale.bandwidth) { var s = e.scale.bandwidth(); if (!n || s > 0) return s } if (e && r && r.length >= 2) { for (var o = ZN(r, function (x) { return x.coordinate }), c = 1 / 0, u = 1, f = o.length; u < f; u++) { var h = o[u], p = o[u - 1]; c = Math.min((h.coordinate || 0) - (p.coordinate || 0), c) } return c === 1 / 0 ? 0 : c } return n ? void 0 : 0 }, XE = function (e, r, n) { return !e || !e.length || To(e, Rn(n, "type.defaultProps.domain")) ? r : e }, Y4 = function (e, r) { var n = e.type.defaultProps ? dr(dr({}, e.type.defaultProps), e.props) : e.props, s = n.dataKey, o = n.name, c = n.unit, u = n.formatter, f = n.tooltipType, h = n.chartType, p = n.hide; return dr(dr({}, et(e, !1)), {}, { dataKey: s, unit: c, formatter: u, name: o || s, color: _1(e), value: pr(r, s), type: f, payload: r, chartType: h, hide: p }) }; function yd(t) { "@babel/helpers - typeof"; return yd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, yd(t) } function JE(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function _s(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? JE(Object(r), !0).forEach(function (n) { G4(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : JE(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function G4(t, e, r) { return e = DG(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function DG(t) { var e = TG(t, "string"); return yd(e) == "symbol" ? e : e + "" } function TG(t, e) { if (yd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (yd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function PG(t, e) { return IG(t) || $G(t, e) || RG(t, e) || MG() } function MG() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function RG(t, e) { if (t) { if (typeof t == "string") return QE(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return QE(t, e) } } function QE(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function $G(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function IG(t) { if (Array.isArray(t)) return t } var $m = Math.PI / 180, LG = function (e) { return e * 180 / Math.PI }, Gt = function (e, r, n, s) { return { x: e + Math.cos(-$m * s) * n, y: r + Math.sin(-$m * s) * n } }, K4 = function (e, r) { var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : { top: 0, right: 0, bottom: 0, left: 0 }; return Math.min(Math.abs(e - (n.left || 0) - (n.right || 0)), Math.abs(r - (n.top || 0) - (n.bottom || 0))) / 2 }, FG = function (e, r, n, s, o) { var c = e.width, u = e.height, f = e.startAngle, h = e.endAngle, p = on(e.cx, c, c / 2), x = on(e.cy, u, u / 2), g = K4(c, u, n), v = on(e.innerRadius, g, 0), j = on(e.outerRadius, g, g * .8), S = Object.keys(r); return S.reduce(function (w, O) { var D = r[O], R = D.domain, H = D.reversed, C; if (ot(D.range)) s === "angleAxis" ? C = [f, h] : s === "radiusAxis" && (C = [v, j]), H && (C = [C[1], C[0]]); else { C = D.range; var k = C, F = PG(k, 2); f = F[0], h = F[1] } var P = z4(D, o), W = P.realScaleType, J = P.scale; J.domain(R).range(C), U4(J); var Q = H4(J, _s(_s({}, D), {}, { realScaleType: W })), V = _s(_s(_s({}, D), Q), {}, { range: C, radius: j, realScaleType: W, scale: J, cx: p, cy: x, innerRadius: v, outerRadius: j, startAngle: f, endAngle: h }); return _s(_s({}, w), {}, G4({}, O, V)) }, {}) }, BG = function (e, r) { var n = e.x, s = e.y, o = r.x, c = r.y; return Math.sqrt(Math.pow(n - o, 2) + Math.pow(s - c, 2)) }, qG = function (e, r) { var n = e.x, s = e.y, o = r.cx, c = r.cy, u = BG({ x: n, y: s }, { x: o, y: c }); if (u <= 0) return { radius: u }; var f = (n - o) / u, h = Math.acos(f); return s > c && (h = 2 * Math.PI - h), { radius: u, angle: LG(h), angleInRadian: h } }, zG = function (e) { var r = e.startAngle, n = e.endAngle, s = Math.floor(r / 360), o = Math.floor(n / 360), c = Math.min(s, o); return { startAngle: r - c * 360, endAngle: n - c * 360 } }, UG = function (e, r) { var n = r.startAngle, s = r.endAngle, o = Math.floor(n / 360), c = Math.floor(s / 360), u = Math.min(o, c); return e + u * 360 }, ZE = function (e, r) { var n = e.x, s = e.y, o = qG({ x: n, y: s }, r), c = o.radius, u = o.angle, f = r.innerRadius, h = r.outerRadius; if (c < f || c > h) return !1; if (c === 0) return !0; var p = zG(r), x = p.startAngle, g = p.endAngle, v = u, j; if (x <= g) { for (; v > g;)v -= 360; for (; v < x;)v += 360; j = v >= x && v <= g } else { for (; v > x;)v -= 360; for (; v < g;)v += 360; j = v >= g && v <= x } return j ? _s(_s({}, r), {}, { radius: c, angle: UG(v, r) }) : null }, W4 = function (e) { return !b.isValidElement(e) && !it(e) && typeof e != "boolean" ? e.className : "" }; function bd(t) { "@babel/helpers - typeof"; return bd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, bd(t) } var HG = ["offset"]; function VG(t) { return WG(t) || KG(t) || GG(t) || YG() } function YG() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function GG(t, e) { if (t) { if (typeof t == "string") return kj(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return kj(t, e) } } function KG(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function WG(t) { if (Array.isArray(t)) return kj(t) } function kj(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function XG(t, e) { if (t == null) return {}; var r = JG(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function JG(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function eD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function kr(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? eD(Object(r), !0).forEach(function (n) { QG(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : eD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function QG(t, e, r) { return e = ZG(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function ZG(t) { var e = eK(t, "string"); return bd(e) == "symbol" ? e : e + "" } function eK(t, e) { if (bd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (bd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function vd() { return vd = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, vd.apply(this, arguments) } var tK = function (e) { var r = e.value, n = e.formatter, s = ot(e.children) ? r : e.children; return it(n) ? n(s) : s }, rK = function (e, r) { var n = sn(r - e), s = Math.min(Math.abs(r - e), 360); return n * s }, nK = function (e, r, n) {
  var s = e.position, o = e.viewBox, c = e.offset, u = e.className, f = o, h = f.cx, p = f.cy, x = f.innerRadius, g = f.outerRadius, v = f.startAngle, j = f.endAngle, S = f.clockWise, w = (x + g) / 2, O = rK(v, j), D = O >= 0 ? 1 : -1, R, H; s === "insideStart" ? (R = v + D * c, H = S) : s === "insideEnd" ? (R = j - D * c, H = !S) : s === "end" && (R = j + D * c, H = S), H = O <= 0 ? H : !H; var C = Gt(h, p, w, R), k = Gt(h, p, w, R + (H ? 1 : -1) * 359), F = "M".concat(C.x, ",").concat(C.y, `
    A`).concat(w, ",").concat(w, ",0,1,").concat(H ? 0 : 1, `,
    `).concat(k.x, ",").concat(k.y), P = ot(e.id) ? Fo("recharts-radial-line-") : e.id; return he.createElement("text", vd({}, n, { dominantBaseline: "central", className: ct("recharts-radial-bar-label", u) }), he.createElement("defs", null, he.createElement("path", { id: P, d: F })), he.createElement("textPath", { xlinkHref: "#".concat(P) }, r))
}, aK = function (e) { var r = e.viewBox, n = e.offset, s = e.position, o = r, c = o.cx, u = o.cy, f = o.innerRadius, h = o.outerRadius, p = o.startAngle, x = o.endAngle, g = (p + x) / 2; if (s === "outside") { var v = Gt(c, u, h + n, g), j = v.x, S = v.y; return { x: j, y: S, textAnchor: j >= c ? "start" : "end", verticalAnchor: "middle" } } if (s === "center") return { x: c, y: u, textAnchor: "middle", verticalAnchor: "middle" }; if (s === "centerTop") return { x: c, y: u, textAnchor: "middle", verticalAnchor: "start" }; if (s === "centerBottom") return { x: c, y: u, textAnchor: "middle", verticalAnchor: "end" }; var w = (f + h) / 2, O = Gt(c, u, w, g), D = O.x, R = O.y; return { x: D, y: R, textAnchor: "middle", verticalAnchor: "middle" } }, sK = function (e) { var r = e.viewBox, n = e.parentViewBox, s = e.offset, o = e.position, c = r, u = c.x, f = c.y, h = c.width, p = c.height, x = p >= 0 ? 1 : -1, g = x * s, v = x > 0 ? "end" : "start", j = x > 0 ? "start" : "end", S = h >= 0 ? 1 : -1, w = S * s, O = S > 0 ? "end" : "start", D = S > 0 ? "start" : "end"; if (o === "top") { var R = { x: u + h / 2, y: f - x * s, textAnchor: "middle", verticalAnchor: v }; return kr(kr({}, R), n ? { height: Math.max(f - n.y, 0), width: h } : {}) } if (o === "bottom") { var H = { x: u + h / 2, y: f + p + g, textAnchor: "middle", verticalAnchor: j }; return kr(kr({}, H), n ? { height: Math.max(n.y + n.height - (f + p), 0), width: h } : {}) } if (o === "left") { var C = { x: u - w, y: f + p / 2, textAnchor: O, verticalAnchor: "middle" }; return kr(kr({}, C), n ? { width: Math.max(C.x - n.x, 0), height: p } : {}) } if (o === "right") { var k = { x: u + h + w, y: f + p / 2, textAnchor: D, verticalAnchor: "middle" }; return kr(kr({}, k), n ? { width: Math.max(n.x + n.width - k.x, 0), height: p } : {}) } var F = n ? { width: h, height: p } : {}; return o === "insideLeft" ? kr({ x: u + w, y: f + p / 2, textAnchor: D, verticalAnchor: "middle" }, F) : o === "insideRight" ? kr({ x: u + h - w, y: f + p / 2, textAnchor: O, verticalAnchor: "middle" }, F) : o === "insideTop" ? kr({ x: u + h / 2, y: f + g, textAnchor: "middle", verticalAnchor: j }, F) : o === "insideBottom" ? kr({ x: u + h / 2, y: f + p - g, textAnchor: "middle", verticalAnchor: v }, F) : o === "insideTopLeft" ? kr({ x: u + w, y: f + g, textAnchor: D, verticalAnchor: j }, F) : o === "insideTopRight" ? kr({ x: u + h - w, y: f + g, textAnchor: O, verticalAnchor: j }, F) : o === "insideBottomLeft" ? kr({ x: u + w, y: f + p - g, textAnchor: D, verticalAnchor: v }, F) : o === "insideBottomRight" ? kr({ x: u + h - w, y: f + p - g, textAnchor: O, verticalAnchor: v }, F) : bc(o) && (Le(o.x) || bo(o.x)) && (Le(o.y) || bo(o.y)) ? kr({ x: u + on(o.x, h), y: f + on(o.y, p), textAnchor: "end", verticalAnchor: "end" }, F) : kr({ x: u + h / 2, y: f + p / 2, textAnchor: "middle", verticalAnchor: "middle" }, F) }, iK = function (e) { return "cx" in e && Le(e.cx) }; function $r(t) { var e = t.offset, r = e === void 0 ? 5 : e, n = XG(t, HG), s = kr({ offset: r }, n), o = s.viewBox, c = s.position, u = s.value, f = s.children, h = s.content, p = s.className, x = p === void 0 ? "" : p, g = s.textBreakAll; if (!o || ot(u) && ot(f) && !b.isValidElement(h) && !it(h)) return null; if (b.isValidElement(h)) return b.cloneElement(h, s); var v; if (it(h)) { if (v = b.createElement(h, s), b.isValidElement(v)) return v } else v = tK(s); var j = iK(o), S = et(s, !0); if (j && (c === "insideStart" || c === "insideEnd" || c === "end")) return nK(s, v, S); var w = j ? aK(s) : sK(s); return he.createElement(Do, vd({ className: ct("recharts-label", x) }, S, w, { breakAll: g }), v) } $r.displayName = "Label"; var X4 = function (e) { var r = e.cx, n = e.cy, s = e.angle, o = e.startAngle, c = e.endAngle, u = e.r, f = e.radius, h = e.innerRadius, p = e.outerRadius, x = e.x, g = e.y, v = e.top, j = e.left, S = e.width, w = e.height, O = e.clockWise, D = e.labelViewBox; if (D) return D; if (Le(S) && Le(w)) { if (Le(x) && Le(g)) return { x, y: g, width: S, height: w }; if (Le(v) && Le(j)) return { x: v, y: j, width: S, height: w } } return Le(x) && Le(g) ? { x, y: g, width: 0, height: 0 } : Le(r) && Le(n) ? { cx: r, cy: n, startAngle: o || s || 0, endAngle: c || s || 0, innerRadius: h || 0, outerRadius: p || f || u || 0, clockWise: O } : e.viewBox ? e.viewBox : {} }, oK = function (e, r) { return e ? e === !0 ? he.createElement($r, { key: "label-implicit", viewBox: r }) : Er(e) ? he.createElement($r, { key: "label-implicit", viewBox: r, value: e }) : b.isValidElement(e) ? e.type === $r ? b.cloneElement(e, { key: "label-implicit", viewBox: r }) : he.createElement($r, { key: "label-implicit", content: e, viewBox: r }) : it(e) ? he.createElement($r, { key: "label-implicit", content: e, viewBox: r }) : bc(e) ? he.createElement($r, vd({ viewBox: r }, e, { key: "label-implicit" })) : null : null }, lK = function (e, r) { var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0; if (!e || !e.children && n && !e.label) return null; var s = e.children, o = X4(e), c = $n(s, $r).map(function (f, h) { return b.cloneElement(f, { viewBox: r || o, key: "label-".concat(h) }) }); if (!n) return c; var u = oK(e.label, r || o); return [u].concat(VG(c)) }; $r.parseViewBox = X4; $r.renderCallByParent = lK; var Wv, tD; function cK() { if (tD) return Wv; tD = 1; function t(e) { var r = e == null ? 0 : e.length; return r ? e[r - 1] : void 0 } return Wv = t, Wv } var uK = cK(); const dK = It(uK); function wd(t) { "@babel/helpers - typeof"; return wd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, wd(t) } var fK = ["valueAccessor"], hK = ["data", "dataKey", "clockWise", "id", "textBreakAll"]; function mK(t) { return yK(t) || gK(t) || xK(t) || pK() } function pK() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function xK(t, e) { if (t) { if (typeof t == "string") return Aj(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Aj(t, e) } } function gK(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function yK(t) { if (Array.isArray(t)) return Aj(t) } function Aj(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function Im() { return Im = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Im.apply(this, arguments) } function rD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function nD(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? rD(Object(r), !0).forEach(function (n) { bK(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : rD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function bK(t, e, r) { return e = vK(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function vK(t) { var e = wK(t, "string"); return wd(e) == "symbol" ? e : e + "" } function wK(t, e) { if (wd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (wd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function aD(t, e) { if (t == null) return {}; var r = jK(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function jK(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } var NK = function (e) { return Array.isArray(e.value) ? dK(e.value) : e.value }; function za(t) { var e = t.valueAccessor, r = e === void 0 ? NK : e, n = aD(t, fK), s = n.data, o = n.dataKey, c = n.clockWise, u = n.id, f = n.textBreakAll, h = aD(n, hK); return !s || !s.length ? null : he.createElement(xt, { className: "recharts-label-list" }, s.map(function (p, x) { var g = ot(o) ? r(p, x) : pr(p && p.payload, o), v = ot(u) ? {} : { id: "".concat(u, "-").concat(x) }; return he.createElement($r, Im({}, et(p, !0), h, v, { parentViewBox: p.parentViewBox, value: g, textBreakAll: f, viewBox: $r.parseViewBox(ot(c) ? p : nD(nD({}, p), {}, { clockWise: c })), key: "label-".concat(x), index: x })) })) } za.displayName = "LabelList"; function SK(t, e) { return t ? t === !0 ? he.createElement(za, { key: "labelList-implicit", data: e }) : he.isValidElement(t) || it(t) ? he.createElement(za, { key: "labelList-implicit", data: e, content: t }) : bc(t) ? he.createElement(za, Im({ data: e }, t, { key: "labelList-implicit" })) : null : null } function _K(t, e) { var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0; if (!t || !t.children && r && !t.label) return null; var n = t.children, s = $n(n, za).map(function (c, u) { return b.cloneElement(c, { data: e, key: "labelList-".concat(u) }) }); if (!r) return s; var o = SK(t.label, e); return [o].concat(mK(s)) } za.renderCallByParent = _K; function jd(t) { "@babel/helpers - typeof"; return jd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, jd(t) } function Ej() { return Ej = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Ej.apply(this, arguments) } function sD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function iD(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? sD(Object(r), !0).forEach(function (n) { OK(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : sD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function OK(t, e, r) { return e = CK(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function CK(t) { var e = kK(t, "string"); return jd(e) == "symbol" ? e : e + "" } function kK(t, e) { if (jd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (jd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var AK = function (e, r) { var n = sn(r - e), s = Math.min(Math.abs(r - e), 359.999); return n * s }, Ah = function (e) { var r = e.cx, n = e.cy, s = e.radius, o = e.angle, c = e.sign, u = e.isExternal, f = e.cornerRadius, h = e.cornerIsExternal, p = f * (u ? 1 : -1) + s, x = Math.asin(f / p) / $m, g = h ? o : o + c * x, v = Gt(r, n, p, g), j = Gt(r, n, s, g), S = h ? o - c * x : o, w = Gt(r, n, p * Math.cos(x * $m), S); return { center: v, circleTangency: j, lineTangency: w, theta: x } }, J4 = function (e) {
  var r = e.cx, n = e.cy, s = e.innerRadius, o = e.outerRadius, c = e.startAngle, u = e.endAngle, f = AK(c, u), h = c + f, p = Gt(r, n, o, c), x = Gt(r, n, o, h), g = "M ".concat(p.x, ",").concat(p.y, `
    A `).concat(o, ",").concat(o, `,0,
    `).concat(+(Math.abs(f) > 180), ",").concat(+(c > h), `,
    `).concat(x.x, ",").concat(x.y, `
  `); if (s > 0) {
    var v = Gt(r, n, s, c), j = Gt(r, n, s, h); g += "L ".concat(j.x, ",").concat(j.y, `
            A `).concat(s, ",").concat(s, `,0,
            `).concat(+(Math.abs(f) > 180), ",").concat(+(c <= h), `,
            `).concat(v.x, ",").concat(v.y, " Z")
  } else g += "L ".concat(r, ",").concat(n, " Z"); return g
}, EK = function (e) {
  var r = e.cx, n = e.cy, s = e.innerRadius, o = e.outerRadius, c = e.cornerRadius, u = e.forceCornerRadius, f = e.cornerIsExternal, h = e.startAngle, p = e.endAngle, x = sn(p - h), g = Ah({ cx: r, cy: n, radius: o, angle: h, sign: x, cornerRadius: c, cornerIsExternal: f }), v = g.circleTangency, j = g.lineTangency, S = g.theta, w = Ah({ cx: r, cy: n, radius: o, angle: p, sign: -x, cornerRadius: c, cornerIsExternal: f }), O = w.circleTangency, D = w.lineTangency, R = w.theta, H = f ? Math.abs(h - p) : Math.abs(h - p) - S - R; if (H < 0) return u ? "M ".concat(j.x, ",").concat(j.y, `
        a`).concat(c, ",").concat(c, ",0,0,1,").concat(c * 2, `,0
        a`).concat(c, ",").concat(c, ",0,0,1,").concat(-c * 2, `,0
      `) : J4({ cx: r, cy: n, innerRadius: s, outerRadius: o, startAngle: h, endAngle: p }); var C = "M ".concat(j.x, ",").concat(j.y, `
    A`).concat(c, ",").concat(c, ",0,0,").concat(+(x < 0), ",").concat(v.x, ",").concat(v.y, `
    A`).concat(o, ",").concat(o, ",0,").concat(+(H > 180), ",").concat(+(x < 0), ",").concat(O.x, ",").concat(O.y, `
    A`).concat(c, ",").concat(c, ",0,0,").concat(+(x < 0), ",").concat(D.x, ",").concat(D.y, `
  `); if (s > 0) {
    var k = Ah({ cx: r, cy: n, radius: s, angle: h, sign: x, isExternal: !0, cornerRadius: c, cornerIsExternal: f }), F = k.circleTangency, P = k.lineTangency, W = k.theta, J = Ah({ cx: r, cy: n, radius: s, angle: p, sign: -x, isExternal: !0, cornerRadius: c, cornerIsExternal: f }), Q = J.circleTangency, V = J.lineTangency, ae = J.theta, ie = f ? Math.abs(h - p) : Math.abs(h - p) - W - ae; if (ie < 0 && c === 0) return "".concat(C, "L").concat(r, ",").concat(n, "Z"); C += "L".concat(V.x, ",").concat(V.y, `
      A`).concat(c, ",").concat(c, ",0,0,").concat(+(x < 0), ",").concat(Q.x, ",").concat(Q.y, `
      A`).concat(s, ",").concat(s, ",0,").concat(+(ie > 180), ",").concat(+(x > 0), ",").concat(F.x, ",").concat(F.y, `
      A`).concat(c, ",").concat(c, ",0,0,").concat(+(x < 0), ",").concat(P.x, ",").concat(P.y, "Z")
  } else C += "L".concat(r, ",").concat(n, "Z"); return C
}, DK = { cx: 0, cy: 0, innerRadius: 0, outerRadius: 0, startAngle: 0, endAngle: 0, cornerRadius: 0, forceCornerRadius: !1, cornerIsExternal: !1 }, Q4 = function (e) { var r = iD(iD({}, DK), e), n = r.cx, s = r.cy, o = r.innerRadius, c = r.outerRadius, u = r.cornerRadius, f = r.forceCornerRadius, h = r.cornerIsExternal, p = r.startAngle, x = r.endAngle, g = r.className; if (c < o || p === x) return null; var v = ct("recharts-sector", g), j = c - o, S = on(u, j, 0, !0), w; return S > 0 && Math.abs(p - x) < 360 ? w = EK({ cx: n, cy: s, innerRadius: o, outerRadius: c, cornerRadius: Math.min(S, j / 2), forceCornerRadius: f, cornerIsExternal: h, startAngle: p, endAngle: x }) : w = J4({ cx: n, cy: s, innerRadius: o, outerRadius: c, startAngle: p, endAngle: x }), he.createElement("path", Ej({}, et(r, !0), { className: v, d: w, role: "img" })) }; function Nd(t) { "@babel/helpers - typeof"; return Nd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Nd(t) } function Dj() { return Dj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Dj.apply(this, arguments) } function oD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function lD(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? oD(Object(r), !0).forEach(function (n) { TK(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : oD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function TK(t, e, r) { return e = PK(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function PK(t) { var e = MK(t, "string"); return Nd(e) == "symbol" ? e : e + "" } function MK(t, e) { if (Nd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Nd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var cD = { curveBasisClosed: e7, curveBasisOpen: t7, curveBasis: Z9, curveBumpX: F9, curveBumpY: B9, curveLinearClosed: r7, curveLinear: Tp, curveMonotoneX: n7, curveMonotoneY: a7, curveNatural: s7, curveStep: i7, curveStepAfter: l7, curveStepBefore: o7 }, Eh = function (e) { return e.x === +e.x && e.y === +e.y }, _u = function (e) { return e.x }, Ou = function (e) { return e.y }, RK = function (e, r) { if (it(e)) return e; var n = "curve".concat(Ep(e)); return (n === "curveMonotone" || n === "curveBump") && r ? cD["".concat(n).concat(r === "vertical" ? "Y" : "X")] : cD[n] || Tp }, $K = function (e) { var r = e.type, n = r === void 0 ? "linear" : r, s = e.points, o = s === void 0 ? [] : s, c = e.baseLine, u = e.layout, f = e.connectNulls, h = f === void 0 ? !1 : f, p = RK(n, u), x = h ? o.filter(function (S) { return Eh(S) }) : o, g; if (Array.isArray(c)) { var v = h ? c.filter(function (S) { return Eh(S) }) : c, j = x.map(function (S, w) { return lD(lD({}, S), {}, { base: v[w] }) }); return u === "vertical" ? g = wh().y(Ou).x1(_u).x0(function (S) { return S.base.x }) : g = wh().x(_u).y1(Ou).y0(function (S) { return S.base.y }), g.defined(Eh).curve(p), g(j) } return u === "vertical" && Le(c) ? g = wh().y(Ou).x1(_u).x0(c) : Le(c) ? g = wh().x(_u).y1(Ou).y0(c) : g = XP().x(_u).y(Ou), g.defined(Eh).curve(p), g(x) }, Co = function (e) { var r = e.className, n = e.points, s = e.path, o = e.pathRef; if ((!n || !n.length) && !s) return null; var c = n && n.length ? $K(e) : s; return b.createElement("path", Dj({}, et(e, !1), cm(e), { className: ct("recharts-curve", r), d: c, ref: o })) }, Xv = { exports: {} }, Jv, uD; function IK() { if (uD) return Jv; uD = 1; var t = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"; return Jv = t, Jv } var Qv, dD; function LK() { if (dD) return Qv; dD = 1; var t = IK(); function e() { } function r() { } return r.resetWarningCache = e, Qv = function () { function n(c, u, f, h, p, x) { if (x !== t) { var g = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"); throw g.name = "Invariant Violation", g } } n.isRequired = n; function s() { return n } var o = { array: n, bigint: n, bool: n, func: n, number: n, object: n, string: n, symbol: n, any: n, arrayOf: s, element: n, elementType: n, instanceOf: s, node: n, objectOf: s, oneOf: s, oneOfType: s, shape: s, exact: s, checkPropTypes: r, resetWarningCache: e }; return o.PropTypes = o, o }, Qv } var fD; function FK() { return fD || (fD = 1, Xv.exports = LK()()), Xv.exports } var BK = FK(); const Dt = It(BK), { getOwnPropertyNames: qK, getOwnPropertySymbols: zK } = Object, { hasOwnProperty: UK } = Object.prototype; function Zv(t, e) { return function (n, s, o) { return t(n, s, o) && e(n, s, o) } } function Dh(t) { return function (r, n, s) { if (!r || !n || typeof r != "object" || typeof n != "object") return t(r, n, s); const { cache: o } = s, c = o.get(r), u = o.get(n); if (c && u) return c === n && u === r; o.set(r, n), o.set(n, r); const f = t(r, n, s); return o.delete(r), o.delete(n), f } } function HK(t) { return t != null ? t[Symbol.toStringTag] : void 0 } function hD(t) { return qK(t).concat(zK(t)) } const VK = Object.hasOwn || ((t, e) => UK.call(t, e)); function zo(t, e) { return t === e || !t && !e && t !== t && e !== e } const YK = "__v", GK = "__o", KK = "_owner", { getOwnPropertyDescriptor: mD, keys: pD } = Object; function WK(t, e) { return t.byteLength === e.byteLength && Lm(new Uint8Array(t), new Uint8Array(e)) } function XK(t, e, r) { let n = t.length; if (e.length !== n) return !1; for (; n-- > 0;)if (!r.equals(t[n], e[n], n, n, t, e, r)) return !1; return !0 } function JK(t, e) { return t.byteLength === e.byteLength && Lm(new Uint8Array(t.buffer, t.byteOffset, t.byteLength), new Uint8Array(e.buffer, e.byteOffset, e.byteLength)) } function QK(t, e) { return zo(t.getTime(), e.getTime()) } function ZK(t, e) { return t.name === e.name && t.message === e.message && t.cause === e.cause && t.stack === e.stack } function eW(t, e) { return t === e } function xD(t, e, r) { const n = t.size; if (n !== e.size) return !1; if (!n) return !0; const s = new Array(n), o = t.entries(); let c, u, f = 0; for (; (c = o.next()) && !c.done;) { const h = e.entries(); let p = !1, x = 0; for (; (u = h.next()) && !u.done;) { if (s[x]) { x++; continue } const g = c.value, v = u.value; if (r.equals(g[0], v[0], f, x, t, e, r) && r.equals(g[1], v[1], g[0], v[0], t, e, r)) { p = s[x] = !0; break } x++ } if (!p) return !1; f++ } return !0 } const tW = zo; function rW(t, e, r) { const n = pD(t); let s = n.length; if (pD(e).length !== s) return !1; for (; s-- > 0;)if (!Z4(t, e, r, n[s])) return !1; return !0 } function Cu(t, e, r) { const n = hD(t); let s = n.length; if (hD(e).length !== s) return !1; let o, c, u; for (; s-- > 0;)if (o = n[s], !Z4(t, e, r, o) || (c = mD(t, o), u = mD(e, o), (c || u) && (!c || !u || c.configurable !== u.configurable || c.enumerable !== u.enumerable || c.writable !== u.writable))) return !1; return !0 } function nW(t, e) { return zo(t.valueOf(), e.valueOf()) } function aW(t, e) { return t.source === e.source && t.flags === e.flags } function gD(t, e, r) { const n = t.size; if (n !== e.size) return !1; if (!n) return !0; const s = new Array(n), o = t.values(); let c, u; for (; (c = o.next()) && !c.done;) { const f = e.values(); let h = !1, p = 0; for (; (u = f.next()) && !u.done;) { if (!s[p] && r.equals(c.value, u.value, c.value, u.value, t, e, r)) { h = s[p] = !0; break } p++ } if (!h) return !1 } return !0 } function Lm(t, e) { let r = t.byteLength; if (e.byteLength !== r || t.byteOffset !== e.byteOffset) return !1; for (; r-- > 0;)if (t[r] !== e[r]) return !1; return !0 } function sW(t, e) { return t.hostname === e.hostname && t.pathname === e.pathname && t.protocol === e.protocol && t.port === e.port && t.hash === e.hash && t.username === e.username && t.password === e.password } function Z4(t, e, r, n) { return (n === KK || n === GK || n === YK) && (t.$$typeof || e.$$typeof) ? !0 : VK(e, n) && r.equals(t[n], e[n], n, n, t, e, r) } const iW = "[object ArrayBuffer]", oW = "[object Arguments]", lW = "[object Boolean]", cW = "[object DataView]", uW = "[object Date]", dW = "[object Error]", fW = "[object Map]", hW = "[object Number]", mW = "[object Object]", pW = "[object RegExp]", xW = "[object Set]", gW = "[object String]", yW = { "[object Int8Array]": !0, "[object Uint8Array]": !0, "[object Uint8ClampedArray]": !0, "[object Int16Array]": !0, "[object Uint16Array]": !0, "[object Int32Array]": !0, "[object Uint32Array]": !0, "[object Float16Array]": !0, "[object Float32Array]": !0, "[object Float64Array]": !0, "[object BigInt64Array]": !0, "[object BigUint64Array]": !0 }, bW = "[object URL]", vW = Object.prototype.toString; function wW({ areArrayBuffersEqual: t, areArraysEqual: e, areDataViewsEqual: r, areDatesEqual: n, areErrorsEqual: s, areFunctionsEqual: o, areMapsEqual: c, areNumbersEqual: u, areObjectsEqual: f, arePrimitiveWrappersEqual: h, areRegExpsEqual: p, areSetsEqual: x, areTypedArraysEqual: g, areUrlsEqual: v, unknownTagComparators: j }) { return function (w, O, D) { if (w === O) return !0; if (w == null || O == null) return !1; const R = typeof w; if (R !== typeof O) return !1; if (R !== "object") return R === "number" ? u(w, O, D) : R === "function" ? o(w, O, D) : !1; const H = w.constructor; if (H !== O.constructor) return !1; if (H === Object) return f(w, O, D); if (Array.isArray(w)) return e(w, O, D); if (H === Date) return n(w, O, D); if (H === RegExp) return p(w, O, D); if (H === Map) return c(w, O, D); if (H === Set) return x(w, O, D); const C = vW.call(w); if (C === uW) return n(w, O, D); if (C === pW) return p(w, O, D); if (C === fW) return c(w, O, D); if (C === xW) return x(w, O, D); if (C === mW) return typeof w.then != "function" && typeof O.then != "function" && f(w, O, D); if (C === bW) return v(w, O, D); if (C === dW) return s(w, O, D); if (C === oW) return f(w, O, D); if (yW[C]) return g(w, O, D); if (C === iW) return t(w, O, D); if (C === cW) return r(w, O, D); if (C === lW || C === hW || C === gW) return h(w, O, D); if (j) { let k = j[C]; if (!k) { const F = HK(w); F && (k = j[F]) } if (k) return k(w, O, D) } return !1 } } function jW({ circular: t, createCustomConfig: e, strict: r }) { let n = { areArrayBuffersEqual: WK, areArraysEqual: r ? Cu : XK, areDataViewsEqual: JK, areDatesEqual: QK, areErrorsEqual: ZK, areFunctionsEqual: eW, areMapsEqual: r ? Zv(xD, Cu) : xD, areNumbersEqual: tW, areObjectsEqual: r ? Cu : rW, arePrimitiveWrappersEqual: nW, areRegExpsEqual: aW, areSetsEqual: r ? Zv(gD, Cu) : gD, areTypedArraysEqual: r ? Zv(Lm, Cu) : Lm, areUrlsEqual: sW, unknownTagComparators: void 0 }; if (e && (n = Object.assign({}, n, e(n))), t) { const s = Dh(n.areArraysEqual), o = Dh(n.areMapsEqual), c = Dh(n.areObjectsEqual), u = Dh(n.areSetsEqual); n = Object.assign({}, n, { areArraysEqual: s, areMapsEqual: o, areObjectsEqual: c, areSetsEqual: u }) } return n } function NW(t) { return function (e, r, n, s, o, c, u) { return t(e, r, u) } } function SW({ circular: t, comparator: e, createState: r, equals: n, strict: s }) { if (r) return function (u, f) { const { cache: h = t ? new WeakMap : void 0, meta: p } = r(); return e(u, f, { cache: h, equals: n, meta: p, strict: s }) }; if (t) return function (u, f) { return e(u, f, { cache: new WeakMap, equals: n, meta: void 0, strict: s }) }; const o = { cache: void 0, equals: n, meta: void 0, strict: s }; return function (u, f) { return e(u, f, o) } } const _W = qi(); qi({ strict: !0 }); qi({ circular: !0 }); qi({ circular: !0, strict: !0 }); qi({ createInternalComparator: () => zo }); qi({ strict: !0, createInternalComparator: () => zo }); qi({ circular: !0, createInternalComparator: () => zo }); qi({ circular: !0, createInternalComparator: () => zo, strict: !0 }); function qi(t = {}) { const { circular: e = !1, createInternalComparator: r, createState: n, strict: s = !1 } = t, o = jW(t), c = wW(o), u = r ? r(c) : NW(c); return SW({ circular: e, comparator: c, createState: n, equals: u, strict: s }) } function OW(t) { typeof requestAnimationFrame < "u" && requestAnimationFrame(t) } function yD(t) { var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, r = -1, n = function s(o) { r < 0 && (r = o), o - r > e ? (t(o), r = -1) : OW(s) }; requestAnimationFrame(n) } function Tj(t) { "@babel/helpers - typeof"; return Tj = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Tj(t) } function CW(t) { return DW(t) || EW(t) || AW(t) || kW() } function kW() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function AW(t, e) { if (t) { if (typeof t == "string") return bD(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return bD(t, e) } } function bD(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function EW(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function DW(t) { if (Array.isArray(t)) return t } function TW() { var t = {}, e = function () { return null }, r = !1, n = function s(o) { if (!r) { if (Array.isArray(o)) { if (!o.length) return; var c = o, u = CW(c), f = u[0], h = u.slice(1); if (typeof f == "number") { yD(s.bind(null, h), f); return } s(f), yD(s.bind(null, h)); return } Tj(o) === "object" && (t = o, e(t)), typeof o == "function" && o() } }; return { stop: function () { r = !0 }, start: function (o) { r = !1, n(o) }, subscribe: function (o) { return e = o, function () { e = function () { return null } } } } } function Sd(t) { "@babel/helpers - typeof"; return Sd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Sd(t) } function vD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function wD(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? vD(Object(r), !0).forEach(function (n) { eR(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : vD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function eR(t, e, r) { return e = PW(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function PW(t) { var e = MW(t, "string"); return Sd(e) === "symbol" ? e : String(e) } function MW(t, e) { if (Sd(t) !== "object" || t === null) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Sd(n) !== "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var RW = function (e, r) { return [Object.keys(e), Object.keys(r)].reduce(function (n, s) { return n.filter(function (o) { return s.includes(o) }) }) }, $W = function (e) { return e }, IW = function (e) { return e.replace(/([A-Z])/g, function (r) { return "-".concat(r.toLowerCase()) }) }, Yu = function (e, r) { return Object.keys(r).reduce(function (n, s) { return wD(wD({}, n), {}, eR({}, s, e(s, r[s]))) }, {}) }, jD = function (e, r, n) { return e.map(function (s) { return "".concat(IW(s), " ").concat(r, "ms ").concat(n) }).join(",") }; function LW(t, e) { return qW(t) || BW(t, e) || tR(t, e) || FW() } function FW() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function BW(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function qW(t) { if (Array.isArray(t)) return t } function zW(t) { return VW(t) || HW(t) || tR(t) || UW() } function UW() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function tR(t, e) { if (t) { if (typeof t == "string") return Pj(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Pj(t, e) } } function HW(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function VW(t) { if (Array.isArray(t)) return Pj(t) } function Pj(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } var Fm = 1e-4, rR = function (e, r) { return [0, 3 * e, 3 * r - 6 * e, 3 * e - 3 * r + 1] }, nR = function (e, r) { return e.map(function (n, s) { return n * Math.pow(r, s) }).reduce(function (n, s) { return n + s }) }, ND = function (e, r) { return function (n) { var s = rR(e, r); return nR(s, n) } }, YW = function (e, r) { return function (n) { var s = rR(e, r), o = [].concat(zW(s.map(function (c, u) { return c * u }).slice(1)), [0]); return nR(o, n) } }, SD = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; var s = r[0], o = r[1], c = r[2], u = r[3]; if (r.length === 1) switch (r[0]) { case "linear": s = 0, o = 0, c = 1, u = 1; break; case "ease": s = .25, o = .1, c = .25, u = 1; break; case "ease-in": s = .42, o = 0, c = 1, u = 1; break; case "ease-out": s = .42, o = 0, c = .58, u = 1; break; case "ease-in-out": s = 0, o = 0, c = .58, u = 1; break; default: { var f = r[0].split("("); if (f[0] === "cubic-bezier" && f[1].split(")")[0].split(",").length === 4) { var h = f[1].split(")")[0].split(",").map(function (w) { return parseFloat(w) }), p = LW(h, 4); s = p[0], o = p[1], c = p[2], u = p[3] } } }var x = ND(s, c), g = ND(o, u), v = YW(s, c), j = function (O) { return O > 1 ? 1 : O < 0 ? 0 : O }, S = function (O) { for (var D = O > 1 ? 1 : O, R = D, H = 0; H < 8; ++H) { var C = x(R) - D, k = v(R); if (Math.abs(C - D) < Fm || k < Fm) return g(R); R = j(R - C / k) } return g(R) }; return S.isStepper = !1, S }, GW = function () { var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, r = e.stiff, n = r === void 0 ? 100 : r, s = e.damping, o = s === void 0 ? 8 : s, c = e.dt, u = c === void 0 ? 17 : c, f = function (p, x, g) { var v = -(p - x) * n, j = g * o, S = g + (v - j) * u / 1e3, w = g * u / 1e3 + p; return Math.abs(w - x) < Fm && Math.abs(S) < Fm ? [x, 0] : [w, S] }; return f.isStepper = !0, f.dt = u, f }, KW = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; var s = r[0]; if (typeof s == "string") switch (s) { case "ease": case "ease-in-out": case "ease-out": case "ease-in": case "linear": return SD(s); case "spring": return GW(); default: if (s.split("(")[0] === "cubic-bezier") return SD(s) }return typeof s == "function" ? s : null }; function _d(t) { "@babel/helpers - typeof"; return _d = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, _d(t) } function _D(t) { return JW(t) || XW(t) || aR(t) || WW() } function WW() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function XW(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function JW(t) { if (Array.isArray(t)) return Rj(t) } function OD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Gr(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? OD(Object(r), !0).forEach(function (n) { Mj(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : OD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Mj(t, e, r) { return e = QW(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function QW(t) { var e = ZW(t, "string"); return _d(e) === "symbol" ? e : String(e) } function ZW(t, e) { if (_d(t) !== "object" || t === null) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (_d(n) !== "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function eX(t, e) { return nX(t) || rX(t, e) || aR(t, e) || tX() } function tX() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function aR(t, e) { if (t) { if (typeof t == "string") return Rj(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Rj(t, e) } } function Rj(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function rX(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function nX(t) { if (Array.isArray(t)) return t } var Bm = function (e, r, n) { return e + (r - e) * n }, $j = function (e) { var r = e.from, n = e.to; return r !== n }, aX = function t(e, r, n) { var s = Yu(function (o, c) { if ($j(c)) { var u = e(c.from, c.to, c.velocity), f = eX(u, 2), h = f[0], p = f[1]; return Gr(Gr({}, c), {}, { from: h, velocity: p }) } return c }, r); return n < 1 ? Yu(function (o, c) { return $j(c) ? Gr(Gr({}, c), {}, { velocity: Bm(c.velocity, s[o].velocity, n), from: Bm(c.from, s[o].from, n) }) : c }, r) : t(e, s, n - 1) }; const sX = (function (t, e, r, n, s) { var o = RW(t, e), c = o.reduce(function (w, O) { return Gr(Gr({}, w), {}, Mj({}, O, [t[O], e[O]])) }, {}), u = o.reduce(function (w, O) { return Gr(Gr({}, w), {}, Mj({}, O, { from: t[O], velocity: 0, to: e[O] })) }, {}), f = -1, h, p, x = function () { return null }, g = function () { return Yu(function (O, D) { return D.from }, u) }, v = function () { return !Object.values(u).filter($j).length }, j = function (O) { h || (h = O); var D = O - h, R = D / r.dt; u = aX(r, u, R), s(Gr(Gr(Gr({}, t), e), g())), h = O, v() || (f = requestAnimationFrame(x)) }, S = function (O) { p || (p = O); var D = (O - p) / n, R = Yu(function (C, k) { return Bm.apply(void 0, _D(k).concat([r(D)])) }, c); if (s(Gr(Gr(Gr({}, t), e), R)), D < 1) f = requestAnimationFrame(x); else { var H = Yu(function (C, k) { return Bm.apply(void 0, _D(k).concat([r(1)])) }, c); s(Gr(Gr(Gr({}, t), e), H)) } }; return x = r.isStepper ? j : S, function () { return requestAnimationFrame(x), function () { cancelAnimationFrame(f) } } }); function Ql(t) { "@babel/helpers - typeof"; return Ql = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Ql(t) } var iX = ["children", "begin", "duration", "attributeName", "easing", "isActive", "steps", "from", "to", "canBegin", "onAnimationEnd", "shouldReAnimate", "onAnimationReStart"]; function oX(t, e) { if (t == null) return {}; var r = lX(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function lX(t, e) { if (t == null) return {}; var r = {}, n = Object.keys(t), s, o; for (o = 0; o < n.length; o++)s = n[o], !(e.indexOf(s) >= 0) && (r[s] = t[s]); return r } function ew(t) { return fX(t) || dX(t) || uX(t) || cX() } function cX() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function uX(t, e) { if (t) { if (typeof t == "string") return Ij(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Ij(t, e) } } function dX(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function fX(t) { if (Array.isArray(t)) return Ij(t) } function Ij(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function CD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function ha(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? CD(Object(r), !0).forEach(function (n) { Fu(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : CD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Fu(t, e, r) { return e = sR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function hX(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function mX(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, sR(n.key), n) } } function pX(t, e, r) { return e && mX(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function sR(t) { var e = xX(t, "string"); return Ql(e) === "symbol" ? e : String(e) } function xX(t, e) { if (Ql(t) !== "object" || t === null) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Ql(n) !== "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function gX(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && Lj(t, e) } function Lj(t, e) { return Lj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, Lj(t, e) } function yX(t) { var e = bX(); return function () { var n = qm(t), s; if (e) { var o = qm(this).constructor; s = Reflect.construct(n, arguments, o) } else s = n.apply(this, arguments); return Fj(this, s) } } function Fj(t, e) { if (e && (Ql(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return Bj(t) } function Bj(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function bX() { if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham) return !1; if (typeof Proxy == "function") return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch { return !1 } } function qm(t) { return qm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, qm(t) } var Ca = (function (t) { gX(r, t); var e = yX(r); function r(n, s) { var o; hX(this, r), o = e.call(this, n, s); var c = o.props, u = c.isActive, f = c.attributeName, h = c.from, p = c.to, x = c.steps, g = c.children, v = c.duration; if (o.handleStyleChange = o.handleStyleChange.bind(Bj(o)), o.changeStyle = o.changeStyle.bind(Bj(o)), !u || v <= 0) return o.state = { style: {} }, typeof g == "function" && (o.state = { style: p }), Fj(o); if (x && x.length) o.state = { style: x[0].style }; else if (h) { if (typeof g == "function") return o.state = { style: h }, Fj(o); o.state = { style: f ? Fu({}, f, h) : h } } else o.state = { style: {} }; return o } return pX(r, [{ key: "componentDidMount", value: function () { var s = this.props, o = s.isActive, c = s.canBegin; this.mounted = !0, !(!o || !c) && this.runAnimation(this.props) } }, { key: "componentDidUpdate", value: function (s) { var o = this.props, c = o.isActive, u = o.canBegin, f = o.attributeName, h = o.shouldReAnimate, p = o.to, x = o.from, g = this.state.style; if (u) { if (!c) { var v = { style: f ? Fu({}, f, p) : p }; this.state && g && (f && g[f] !== p || !f && g !== p) && this.setState(v); return } if (!(_W(s.to, p) && s.canBegin && s.isActive)) { var j = !s.canBegin || !s.isActive; this.manager && this.manager.stop(), this.stopJSAnimation && this.stopJSAnimation(); var S = j || h ? x : s.to; if (this.state && g) { var w = { style: f ? Fu({}, f, S) : S }; (f && g[f] !== S || !f && g !== S) && this.setState(w) } this.runAnimation(ha(ha({}, this.props), {}, { from: S, begin: 0 })) } } } }, { key: "componentWillUnmount", value: function () { this.mounted = !1; var s = this.props.onAnimationEnd; this.unSubscribe && this.unSubscribe(), this.manager && (this.manager.stop(), this.manager = null), this.stopJSAnimation && this.stopJSAnimation(), s && s() } }, { key: "handleStyleChange", value: function (s) { this.changeStyle(s) } }, { key: "changeStyle", value: function (s) { this.mounted && this.setState({ style: s }) } }, { key: "runJSAnimation", value: function (s) { var o = this, c = s.from, u = s.to, f = s.duration, h = s.easing, p = s.begin, x = s.onAnimationEnd, g = s.onAnimationStart, v = sX(c, u, KW(h), f, this.changeStyle), j = function () { o.stopJSAnimation = v() }; this.manager.start([g, p, j, f, x]) } }, { key: "runStepAnimation", value: function (s) { var o = this, c = s.steps, u = s.begin, f = s.onAnimationStart, h = c[0], p = h.style, x = h.duration, g = x === void 0 ? 0 : x, v = function (S, w, O) { if (O === 0) return S; var D = w.duration, R = w.easing, H = R === void 0 ? "ease" : R, C = w.style, k = w.properties, F = w.onAnimationEnd, P = O > 0 ? c[O - 1] : w, W = k || Object.keys(C); if (typeof H == "function" || H === "spring") return [].concat(ew(S), [o.runJSAnimation.bind(o, { from: P.style, to: C, duration: D, easing: H }), D]); var J = jD(W, D, H), Q = ha(ha(ha({}, P.style), C), {}, { transition: J }); return [].concat(ew(S), [Q, D, F]).filter($W) }; return this.manager.start([f].concat(ew(c.reduce(v, [p, Math.max(g, u)])), [s.onAnimationEnd])) } }, { key: "runAnimation", value: function (s) { this.manager || (this.manager = TW()); var o = s.begin, c = s.duration, u = s.attributeName, f = s.to, h = s.easing, p = s.onAnimationStart, x = s.onAnimationEnd, g = s.steps, v = s.children, j = this.manager; if (this.unSubscribe = j.subscribe(this.handleStyleChange), typeof h == "function" || typeof v == "function" || h === "spring") { this.runJSAnimation(s); return } if (g.length > 1) { this.runStepAnimation(s); return } var S = u ? Fu({}, u, f) : f, w = jD(Object.keys(S), c, h); j.start([p, o, ha(ha({}, S), {}, { transition: w }), c, x]) } }, { key: "render", value: function () { var s = this.props, o = s.children; s.begin; var c = s.duration; s.attributeName, s.easing; var u = s.isActive; s.steps, s.from, s.to, s.canBegin, s.onAnimationEnd, s.shouldReAnimate, s.onAnimationReStart; var f = oX(s, iX), h = b.Children.count(o), p = this.state.style; if (typeof o == "function") return o(p); if (!u || h === 0 || c <= 0) return o; var x = function (v) { var j = v.props, S = j.style, w = S === void 0 ? {} : S, O = j.className, D = b.cloneElement(v, ha(ha({}, f), {}, { style: ha(ha({}, w), p), className: O })); return D }; return h === 1 ? x(b.Children.only(o)) : he.createElement("div", null, b.Children.map(o, function (g) { return x(g) })) } }]), r })(b.PureComponent); Ca.displayName = "Animate"; Ca.defaultProps = { begin: 0, duration: 1e3, from: "", to: "", attributeName: "", easing: "ease", isActive: !0, canBegin: !0, steps: [], onAnimationEnd: function () { }, onAnimationStart: function () { } }; Ca.propTypes = { from: Dt.oneOfType([Dt.object, Dt.string]), to: Dt.oneOfType([Dt.object, Dt.string]), attributeName: Dt.string, duration: Dt.number, begin: Dt.number, easing: Dt.oneOfType([Dt.string, Dt.func]), steps: Dt.arrayOf(Dt.shape({ duration: Dt.number.isRequired, style: Dt.object.isRequired, easing: Dt.oneOfType([Dt.oneOf(["ease", "ease-in", "ease-out", "ease-in-out", "linear"]), Dt.func]), properties: Dt.arrayOf("string"), onAnimationEnd: Dt.func })), children: Dt.oneOfType([Dt.node, Dt.func]), isActive: Dt.bool, canBegin: Dt.bool, onAnimationEnd: Dt.func, shouldReAnimate: Dt.bool, onAnimationStart: Dt.func, onAnimationReStart: Dt.func }; function Od(t) { "@babel/helpers - typeof"; return Od = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Od(t) } function zm() { return zm = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, zm.apply(this, arguments) } function vX(t, e) { return SX(t) || NX(t, e) || jX(t, e) || wX() } function wX() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function jX(t, e) { if (t) { if (typeof t == "string") return kD(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return kD(t, e) } } function kD(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function NX(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function SX(t) { if (Array.isArray(t)) return t } function AD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function ED(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? AD(Object(r), !0).forEach(function (n) { _X(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : AD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function _X(t, e, r) { return e = OX(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function OX(t) { var e = CX(t, "string"); return Od(e) == "symbol" ? e : e + "" } function CX(t, e) { if (Od(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Od(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var DD = function (e, r, n, s, o) {
  var c = Math.min(Math.abs(n) / 2, Math.abs(s) / 2), u = s >= 0 ? 1 : -1, f = n >= 0 ? 1 : -1, h = s >= 0 && n >= 0 || s < 0 && n < 0 ? 1 : 0, p; if (c > 0 && o instanceof Array) {
    for (var x = [0, 0, 0, 0], g = 0, v = 4; g < v; g++)x[g] = o[g] > c ? c : o[g]; p = "M".concat(e, ",").concat(r + u * x[0]), x[0] > 0 && (p += "A ".concat(x[0], ",").concat(x[0], ",0,0,").concat(h, ",").concat(e + f * x[0], ",").concat(r)), p += "L ".concat(e + n - f * x[1], ",").concat(r), x[1] > 0 && (p += "A ".concat(x[1], ",").concat(x[1], ",0,0,").concat(h, `,
        `).concat(e + n, ",").concat(r + u * x[1])), p += "L ".concat(e + n, ",").concat(r + s - u * x[2]), x[2] > 0 && (p += "A ".concat(x[2], ",").concat(x[2], ",0,0,").concat(h, `,
        `).concat(e + n - f * x[2], ",").concat(r + s)), p += "L ".concat(e + f * x[3], ",").concat(r + s), x[3] > 0 && (p += "A ".concat(x[3], ",").concat(x[3], ",0,0,").concat(h, `,
        `).concat(e, ",").concat(r + s - u * x[3])), p += "Z"
  } else if (c > 0 && o === +o && o > 0) {
    var j = Math.min(c, o); p = "M ".concat(e, ",").concat(r + u * j, `
            A `).concat(j, ",").concat(j, ",0,0,").concat(h, ",").concat(e + f * j, ",").concat(r, `
            L `).concat(e + n - f * j, ",").concat(r, `
            A `).concat(j, ",").concat(j, ",0,0,").concat(h, ",").concat(e + n, ",").concat(r + u * j, `
            L `).concat(e + n, ",").concat(r + s - u * j, `
            A `).concat(j, ",").concat(j, ",0,0,").concat(h, ",").concat(e + n - f * j, ",").concat(r + s, `
            L `).concat(e + f * j, ",").concat(r + s, `
            A `).concat(j, ",").concat(j, ",0,0,").concat(h, ",").concat(e, ",").concat(r + s - u * j, " Z")
  } else p = "M ".concat(e, ",").concat(r, " h ").concat(n, " v ").concat(s, " h ").concat(-n, " Z"); return p
}, kX = function (e, r) { if (!e || !r) return !1; var n = e.x, s = e.y, o = r.x, c = r.y, u = r.width, f = r.height; if (Math.abs(u) > 0 && Math.abs(f) > 0) { var h = Math.min(o, o + u), p = Math.max(o, o + u), x = Math.min(c, c + f), g = Math.max(c, c + f); return n >= h && n <= p && s >= x && s <= g } return !1 }, AX = { x: 0, y: 0, width: 0, height: 0, radius: 0, isAnimationActive: !1, isUpdateAnimationActive: !1, animationBegin: 0, animationDuration: 1500, animationEasing: "ease" }, O1 = function (e) { var r = ED(ED({}, AX), e), n = b.useRef(), s = b.useState(-1), o = vX(s, 2), c = o[0], u = o[1]; b.useEffect(function () { if (n.current && n.current.getTotalLength) try { var H = n.current.getTotalLength(); H && u(H) } catch { } }, []); var f = r.x, h = r.y, p = r.width, x = r.height, g = r.radius, v = r.className, j = r.animationEasing, S = r.animationDuration, w = r.animationBegin, O = r.isAnimationActive, D = r.isUpdateAnimationActive; if (f !== +f || h !== +h || p !== +p || x !== +x || p === 0 || x === 0) return null; var R = ct("recharts-rectangle", v); return D ? he.createElement(Ca, { canBegin: c > 0, from: { width: p, height: x, x: f, y: h }, to: { width: p, height: x, x: f, y: h }, duration: S, animationEasing: j, isActive: D }, function (H) { var C = H.width, k = H.height, F = H.x, P = H.y; return he.createElement(Ca, { canBegin: c > 0, from: "0px ".concat(c === -1 ? 1 : c, "px"), to: "".concat(c, "px 0px"), attributeName: "strokeDasharray", begin: w, duration: S, isActive: O, easing: j }, he.createElement("path", zm({}, et(r, !0), { className: R, d: DD(F, P, C, k, g), ref: n }))) }) : he.createElement("path", zm({}, et(r, !0), { className: R, d: DD(f, h, p, x, g) })) }, EX = ["points", "className", "baseLinePoints", "connectNulls"]; function Tl() { return Tl = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Tl.apply(this, arguments) } function DX(t, e) { if (t == null) return {}; var r = TX(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function TX(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function TD(t) { return $X(t) || RX(t) || MX(t) || PX() } function PX() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function MX(t, e) { if (t) { if (typeof t == "string") return qj(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return qj(t, e) } } function RX(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function $X(t) { if (Array.isArray(t)) return qj(t) } function qj(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } var PD = function (e) { return e && e.x === +e.x && e.y === +e.y }, IX = function () { var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], r = [[]]; return e.forEach(function (n) { PD(n) ? r[r.length - 1].push(n) : r[r.length - 1].length > 0 && r.push([]) }), PD(e[0]) && r[r.length - 1].push(e[0]), r[r.length - 1].length <= 0 && (r = r.slice(0, -1)), r }, Gu = function (e, r) { var n = IX(e); r && (n = [n.reduce(function (o, c) { return [].concat(TD(o), TD(c)) }, [])]); var s = n.map(function (o) { return o.reduce(function (c, u, f) { return "".concat(c).concat(f === 0 ? "M" : "L").concat(u.x, ",").concat(u.y) }, "") }).join(""); return n.length === 1 ? "".concat(s, "Z") : s }, LX = function (e, r, n) { var s = Gu(e, n); return "".concat(s.slice(-1) === "Z" ? s.slice(0, -1) : s, "L").concat(Gu(r.reverse(), n).slice(1)) }, FX = function (e) { var r = e.points, n = e.className, s = e.baseLinePoints, o = e.connectNulls, c = DX(e, EX); if (!r || !r.length) return null; var u = ct("recharts-polygon", n); if (s && s.length) { var f = c.stroke && c.stroke !== "none", h = LX(r, s, o); return he.createElement("g", { className: u }, he.createElement("path", Tl({}, et(c, !0), { fill: h.slice(-1) === "Z" ? c.fill : "none", stroke: "none", d: h })), f ? he.createElement("path", Tl({}, et(c, !0), { fill: "none", d: Gu(r, o) })) : null, f ? he.createElement("path", Tl({}, et(c, !0), { fill: "none", d: Gu(s, o) })) : null) } var p = Gu(r, o); return he.createElement("path", Tl({}, et(c, !0), { fill: p.slice(-1) === "Z" ? c.fill : "none", className: u, d: p })) }; function zj() { return zj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, zj.apply(this, arguments) } var Jd = function (e) { var r = e.cx, n = e.cy, s = e.r, o = e.className, c = ct("recharts-dot", o); return r === +r && n === +n && s === +s ? b.createElement("circle", zj({}, et(e, !1), cm(e), { className: c, cx: r, cy: n, r: s })) : null }; function Cd(t) { "@babel/helpers - typeof"; return Cd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Cd(t) } var BX = ["x", "y", "top", "left", "width", "height", "className"]; function Uj() { return Uj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Uj.apply(this, arguments) } function MD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function qX(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? MD(Object(r), !0).forEach(function (n) { zX(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : MD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function zX(t, e, r) { return e = UX(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function UX(t) { var e = HX(t, "string"); return Cd(e) == "symbol" ? e : e + "" } function HX(t, e) { if (Cd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Cd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function VX(t, e) { if (t == null) return {}; var r = YX(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function YX(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } var GX = function (e, r, n, s, o, c) { return "M".concat(e, ",").concat(o, "v").concat(s, "M").concat(c, ",").concat(r, "h").concat(n) }, KX = function (e) { var r = e.x, n = r === void 0 ? 0 : r, s = e.y, o = s === void 0 ? 0 : s, c = e.top, u = c === void 0 ? 0 : c, f = e.left, h = f === void 0 ? 0 : f, p = e.width, x = p === void 0 ? 0 : p, g = e.height, v = g === void 0 ? 0 : g, j = e.className, S = VX(e, BX), w = qX({ x: n, y: o, top: u, left: h, width: x, height: v }, S); return !Le(n) || !Le(o) || !Le(x) || !Le(v) || !Le(u) || !Le(h) ? null : he.createElement("path", Uj({}, et(w, !0), { className: ct("recharts-cross", j), d: GX(n, o, x, v, u, h) })) }, tw, RD; function WX() { if (RD) return tw; RD = 1; var t = Up(), e = v4(), r = Ka(); function n(s, o) { return s && s.length ? t(s, r(o, 2), e) : void 0 } return tw = n, tw } var XX = WX(); const JX = It(XX); var rw, $D; function QX() { if ($D) return rw; $D = 1; var t = Up(), e = Ka(), r = w4(); function n(s, o) { return s && s.length ? t(s, e(o, 2), r) : void 0 } return rw = n, rw } var ZX = QX(); const eJ = It(ZX); var tJ = ["cx", "cy", "angle", "ticks", "axisLine"], rJ = ["ticks", "tick", "angle", "tickFormatter", "stroke"]; function Zl(t) { "@babel/helpers - typeof"; return Zl = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Zl(t) } function Ku() { return Ku = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Ku.apply(this, arguments) } function ID(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function lo(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? ID(Object(r), !0).forEach(function (n) { Gp(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : ID(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function LD(t, e) { if (t == null) return {}; var r = nJ(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function nJ(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function aJ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function FD(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, oR(n.key), n) } } function sJ(t, e, r) { return e && FD(t.prototype, e), r && FD(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function iJ(t, e, r) { return e = Um(e), oJ(t, iR() ? Reflect.construct(e, r || [], Um(t).constructor) : e.apply(t, r)) } function oJ(t, e) { if (e && (Zl(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return lJ(t) } function lJ(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function iR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (iR = function () { return !!t })() } function Um(t) { return Um = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, Um(t) } function cJ(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && Hj(t, e) } function Hj(t, e) { return Hj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, Hj(t, e) } function Gp(t, e, r) { return e = oR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function oR(t) { var e = uJ(t, "string"); return Zl(e) == "symbol" ? e : e + "" } function uJ(t, e) { if (Zl(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Zl(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var Kp = (function (t) { function e() { return aJ(this, e), iJ(this, e, arguments) } return cJ(e, t), sJ(e, [{ key: "getTickValueCoord", value: function (n) { var s = n.coordinate, o = this.props, c = o.angle, u = o.cx, f = o.cy; return Gt(u, f, s, c) } }, { key: "getTickTextAnchor", value: function () { var n = this.props.orientation, s; switch (n) { case "left": s = "end"; break; case "right": s = "start"; break; default: s = "middle"; break }return s } }, { key: "getViewBox", value: function () { var n = this.props, s = n.cx, o = n.cy, c = n.angle, u = n.ticks, f = JX(u, function (p) { return p.coordinate || 0 }), h = eJ(u, function (p) { return p.coordinate || 0 }); return { cx: s, cy: o, startAngle: c, endAngle: c, innerRadius: h.coordinate || 0, outerRadius: f.coordinate || 0 } } }, { key: "renderAxisLine", value: function () { var n = this.props, s = n.cx, o = n.cy, c = n.angle, u = n.ticks, f = n.axisLine, h = LD(n, tJ), p = u.reduce(function (j, S) { return [Math.min(j[0], S.coordinate), Math.max(j[1], S.coordinate)] }, [1 / 0, -1 / 0]), x = Gt(s, o, p[0], c), g = Gt(s, o, p[1], c), v = lo(lo(lo({}, et(h, !1)), {}, { fill: "none" }, et(f, !1)), {}, { x1: x.x, y1: x.y, x2: g.x, y2: g.y }); return he.createElement("line", Ku({ className: "recharts-polar-radius-axis-line" }, v)) } }, { key: "renderTicks", value: function () { var n = this, s = this.props, o = s.ticks, c = s.tick, u = s.angle, f = s.tickFormatter, h = s.stroke, p = LD(s, rJ), x = this.getTickTextAnchor(), g = et(p, !1), v = et(c, !1), j = o.map(function (S, w) { var O = n.getTickValueCoord(S), D = lo(lo(lo(lo({ textAnchor: x, transform: "rotate(".concat(90 - u, ", ").concat(O.x, ", ").concat(O.y, ")") }, g), {}, { stroke: "none", fill: h }, v), {}, { index: w }, O), {}, { payload: S }); return he.createElement(xt, Ku({ className: ct("recharts-polar-radius-axis-tick", W4(c)), key: "tick-".concat(S.coordinate) }, Eo(n.props, S, w)), e.renderTickItem(c, D, f ? f(S.value, w) : S.value)) }); return he.createElement(xt, { className: "recharts-polar-radius-axis-ticks" }, j) } }, { key: "render", value: function () { var n = this.props, s = n.ticks, o = n.axisLine, c = n.tick; return !s || !s.length ? null : he.createElement(xt, { className: ct("recharts-polar-radius-axis", this.props.className) }, o && this.renderAxisLine(), c && this.renderTicks(), $r.renderCallByParent(this.props, this.getViewBox())) } }], [{ key: "renderTickItem", value: function (n, s, o) { var c; return he.isValidElement(n) ? c = he.cloneElement(n, s) : it(n) ? c = n(s) : c = he.createElement(Do, Ku({}, s, { className: "recharts-polar-radius-axis-tick-value" }), o), c } }]) })(b.PureComponent); Gp(Kp, "displayName", "PolarRadiusAxis"); Gp(Kp, "axisType", "radiusAxis"); Gp(Kp, "defaultProps", { type: "number", radiusAxisId: 0, cx: 0, cy: 0, angle: 0, orientation: "right", stroke: "#ccc", axisLine: !0, tick: !0, tickCount: 5, allowDataOverflow: !1, scale: "auto", allowDuplicatedCategory: !0 }); function ec(t) { "@babel/helpers - typeof"; return ec = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, ec(t) } function yo() { return yo = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, yo.apply(this, arguments) } function BD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function co(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? BD(Object(r), !0).forEach(function (n) { Wp(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : BD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function dJ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function qD(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, cR(n.key), n) } } function fJ(t, e, r) { return e && qD(t.prototype, e), r && qD(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function hJ(t, e, r) { return e = Hm(e), mJ(t, lR() ? Reflect.construct(e, r || [], Hm(t).constructor) : e.apply(t, r)) } function mJ(t, e) { if (e && (ec(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return pJ(t) } function pJ(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function lR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (lR = function () { return !!t })() } function Hm(t) { return Hm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, Hm(t) } function xJ(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && Vj(t, e) } function Vj(t, e) { return Vj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, Vj(t, e) } function Wp(t, e, r) { return e = cR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function cR(t) { var e = gJ(t, "string"); return ec(e) == "symbol" ? e : e + "" } function gJ(t, e) { if (ec(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (ec(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var yJ = Math.PI / 180, zD = 1e-5, Xp = (function (t) { function e() { return dJ(this, e), hJ(this, e, arguments) } return xJ(e, t), fJ(e, [{ key: "getTickLineCoord", value: function (n) { var s = this.props, o = s.cx, c = s.cy, u = s.radius, f = s.orientation, h = s.tickSize, p = h || 8, x = Gt(o, c, u, n.coordinate), g = Gt(o, c, u + (f === "inner" ? -1 : 1) * p, n.coordinate); return { x1: x.x, y1: x.y, x2: g.x, y2: g.y } } }, { key: "getTickTextAnchor", value: function (n) { var s = this.props.orientation, o = Math.cos(-n.coordinate * yJ), c; return o > zD ? c = s === "outer" ? "start" : "end" : o < -zD ? c = s === "outer" ? "end" : "start" : c = "middle", c } }, { key: "renderAxisLine", value: function () { var n = this.props, s = n.cx, o = n.cy, c = n.radius, u = n.axisLine, f = n.axisLineType, h = co(co({}, et(this.props, !1)), {}, { fill: "none" }, et(u, !1)); if (f === "circle") return he.createElement(Jd, yo({ className: "recharts-polar-angle-axis-line" }, h, { cx: s, cy: o, r: c })); var p = this.props.ticks, x = p.map(function (g) { return Gt(s, o, c, g.coordinate) }); return he.createElement(FX, yo({ className: "recharts-polar-angle-axis-line" }, h, { points: x })) } }, { key: "renderTicks", value: function () { var n = this, s = this.props, o = s.ticks, c = s.tick, u = s.tickLine, f = s.tickFormatter, h = s.stroke, p = et(this.props, !1), x = et(c, !1), g = co(co({}, p), {}, { fill: "none" }, et(u, !1)), v = o.map(function (j, S) { var w = n.getTickLineCoord(j), O = n.getTickTextAnchor(j), D = co(co(co({ textAnchor: O }, p), {}, { stroke: "none", fill: h }, x), {}, { index: S, payload: j, x: w.x2, y: w.y2 }); return he.createElement(xt, yo({ className: ct("recharts-polar-angle-axis-tick", W4(c)), key: "tick-".concat(j.coordinate) }, Eo(n.props, j, S)), u && he.createElement("line", yo({ className: "recharts-polar-angle-axis-tick-line" }, g, w)), c && e.renderTickItem(c, D, f ? f(j.value, S) : j.value)) }); return he.createElement(xt, { className: "recharts-polar-angle-axis-ticks" }, v) } }, { key: "render", value: function () { var n = this.props, s = n.ticks, o = n.radius, c = n.axisLine; return o <= 0 || !s || !s.length ? null : he.createElement(xt, { className: ct("recharts-polar-angle-axis", this.props.className) }, c && this.renderAxisLine(), this.renderTicks()) } }], [{ key: "renderTickItem", value: function (n, s, o) { var c; return he.isValidElement(n) ? c = he.cloneElement(n, s) : it(n) ? c = n(s) : c = he.createElement(Do, yo({}, s, { className: "recharts-polar-angle-axis-tick-value" }), o), c } }]) })(b.PureComponent); Wp(Xp, "displayName", "PolarAngleAxis"); Wp(Xp, "axisType", "angleAxis"); Wp(Xp, "defaultProps", { type: "category", angleAxisId: 0, scale: "auto", cx: 0, cy: 0, orientation: "outer", axisLine: !0, tickLine: !0, tickSize: 8, tick: !0, hide: !1, allowDuplicatedCategory: !0 }); var nw, UD; function bJ() { if (UD) return nw; UD = 1; var t = bM(), e = t(Object.getPrototypeOf, Object); return nw = e, nw } var aw, HD; function vJ() { if (HD) return aw; HD = 1; var t = qs(), e = bJ(), r = zs(), n = "[object Object]", s = Function.prototype, o = Object.prototype, c = s.toString, u = o.hasOwnProperty, f = c.call(Object); function h(p) { if (!r(p) || t(p) != n) return !1; var x = e(p); if (x === null) return !0; var g = u.call(x, "constructor") && x.constructor; return typeof g == "function" && g instanceof g && c.call(g) == f } return aw = h, aw } var wJ = vJ(); const jJ = It(wJ); var sw, VD; function NJ() { if (VD) return sw; VD = 1; var t = qs(), e = zs(), r = "[object Boolean]"; function n(s) { return s === !0 || s === !1 || e(s) && t(s) == r } return sw = n, sw } var SJ = NJ(); const _J = It(SJ); function kd(t) { "@babel/helpers - typeof"; return kd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, kd(t) } function Vm() { return Vm = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Vm.apply(this, arguments) } function OJ(t, e) { return EJ(t) || AJ(t, e) || kJ(t, e) || CJ() } function CJ() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function kJ(t, e) { if (t) { if (typeof t == "string") return YD(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return YD(t, e) } } function YD(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function AJ(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function EJ(t) { if (Array.isArray(t)) return t } function GD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function KD(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? GD(Object(r), !0).forEach(function (n) { DJ(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : GD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function DJ(t, e, r) { return e = TJ(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function TJ(t) { var e = PJ(t, "string"); return kd(e) == "symbol" ? e : e + "" } function PJ(t, e) { if (kd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (kd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var WD = function (e, r, n, s, o) { var c = n - s, u; return u = "M ".concat(e, ",").concat(r), u += "L ".concat(e + n, ",").concat(r), u += "L ".concat(e + n - c / 2, ",").concat(r + o), u += "L ".concat(e + n - c / 2 - s, ",").concat(r + o), u += "L ".concat(e, ",").concat(r, " Z"), u }, MJ = { x: 0, y: 0, upperWidth: 0, lowerWidth: 0, height: 0, isUpdateAnimationActive: !1, animationBegin: 0, animationDuration: 1500, animationEasing: "ease" }, RJ = function (e) { var r = KD(KD({}, MJ), e), n = b.useRef(), s = b.useState(-1), o = OJ(s, 2), c = o[0], u = o[1]; b.useEffect(function () { if (n.current && n.current.getTotalLength) try { var R = n.current.getTotalLength(); R && u(R) } catch { } }, []); var f = r.x, h = r.y, p = r.upperWidth, x = r.lowerWidth, g = r.height, v = r.className, j = r.animationEasing, S = r.animationDuration, w = r.animationBegin, O = r.isUpdateAnimationActive; if (f !== +f || h !== +h || p !== +p || x !== +x || g !== +g || p === 0 && x === 0 || g === 0) return null; var D = ct("recharts-trapezoid", v); return O ? he.createElement(Ca, { canBegin: c > 0, from: { upperWidth: 0, lowerWidth: 0, height: g, x: f, y: h }, to: { upperWidth: p, lowerWidth: x, height: g, x: f, y: h }, duration: S, animationEasing: j, isActive: O }, function (R) { var H = R.upperWidth, C = R.lowerWidth, k = R.height, F = R.x, P = R.y; return he.createElement(Ca, { canBegin: c > 0, from: "0px ".concat(c === -1 ? 1 : c, "px"), to: "".concat(c, "px 0px"), attributeName: "strokeDasharray", begin: w, duration: S, easing: j }, he.createElement("path", Vm({}, et(r, !0), { className: D, d: WD(F, P, H, C, k), ref: n }))) }) : he.createElement("g", null, he.createElement("path", Vm({}, et(r, !0), { className: D, d: WD(f, h, p, x, g) }))) }, $J = ["option", "shapeType", "propTransformer", "activeClassName", "isActive"]; function Ad(t) { "@babel/helpers - typeof"; return Ad = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Ad(t) } function IJ(t, e) { if (t == null) return {}; var r = LJ(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function LJ(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function XD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Ym(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? XD(Object(r), !0).forEach(function (n) { FJ(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : XD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function FJ(t, e, r) { return e = BJ(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function BJ(t) { var e = qJ(t, "string"); return Ad(e) == "symbol" ? e : e + "" } function qJ(t, e) { if (Ad(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Ad(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function zJ(t, e) { return Ym(Ym({}, e), t) } function UJ(t, e) { return t === "symbols" } function JD(t) { var e = t.shapeType, r = t.elementProps; switch (e) { case "rectangle": return he.createElement(O1, r); case "trapezoid": return he.createElement(RJ, r); case "sector": return he.createElement(Q4, r); case "symbols": if (UJ(e)) return he.createElement(VN, r); break; default: return null } } function HJ(t) { return b.isValidElement(t) ? t.props : t } function uR(t) { var e = t.option, r = t.shapeType, n = t.propTransformer, s = n === void 0 ? zJ : n, o = t.activeClassName, c = o === void 0 ? "recharts-active-shape" : o, u = t.isActive, f = IJ(t, $J), h; if (b.isValidElement(e)) h = b.cloneElement(e, Ym(Ym({}, f), HJ(e))); else if (it(e)) h = e(f); else if (jJ(e) && !_J(e)) { var p = s(e, f); h = he.createElement(JD, { shapeType: r, elementProps: p }) } else { var x = f; h = he.createElement(JD, { shapeType: r, elementProps: x }) } return u ? he.createElement(xt, { className: c }, h) : h } function Jp(t, e) { return e != null && "trapezoids" in t.props } function Qp(t, e) { return e != null && "sectors" in t.props } function Ed(t, e) { return e != null && "points" in t.props } function VJ(t, e) { var r, n, s = t.x === (e == null || (r = e.labelViewBox) === null || r === void 0 ? void 0 : r.x) || t.x === e.x, o = t.y === (e == null || (n = e.labelViewBox) === null || n === void 0 ? void 0 : n.y) || t.y === e.y; return s && o } function YJ(t, e) { var r = t.endAngle === e.endAngle, n = t.startAngle === e.startAngle; return r && n } function GJ(t, e) { var r = t.x === e.x, n = t.y === e.y, s = t.z === e.z; return r && n && s } function KJ(t, e) { var r; return Jp(t, e) ? r = VJ : Qp(t, e) ? r = YJ : Ed(t, e) && (r = GJ), r } function WJ(t, e) { var r; return Jp(t, e) ? r = "trapezoids" : Qp(t, e) ? r = "sectors" : Ed(t, e) && (r = "points"), r } function XJ(t, e) { if (Jp(t, e)) { var r; return (r = e.tooltipPayload) === null || r === void 0 || (r = r[0]) === null || r === void 0 || (r = r.payload) === null || r === void 0 ? void 0 : r.payload } if (Qp(t, e)) { var n; return (n = e.tooltipPayload) === null || n === void 0 || (n = n[0]) === null || n === void 0 || (n = n.payload) === null || n === void 0 ? void 0 : n.payload } return Ed(t, e) ? e.payload : {} } function JJ(t) { var e = t.activeTooltipItem, r = t.graphicalItem, n = t.itemData, s = WJ(r, e), o = XJ(r, e), c = n.filter(function (f, h) { var p = To(o, f), x = r.props[s].filter(function (j) { var S = KJ(r, e); return S(j, e) }), g = r.props[s].indexOf(x[x.length - 1]), v = h === g; return p && v }), u = n.indexOf(c[c.length - 1]); return u } var Qh; function tc(t) { "@babel/helpers - typeof"; return tc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, tc(t) } function Pl() { return Pl = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Pl.apply(this, arguments) } function QD(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Vt(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? QD(Object(r), !0).forEach(function (n) { Zn(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : QD(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function QJ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function ZD(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, fR(n.key), n) } } function ZJ(t, e, r) { return e && ZD(t.prototype, e), r && ZD(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function eQ(t, e, r) { return e = Gm(e), tQ(t, dR() ? Reflect.construct(e, r || [], Gm(t).constructor) : e.apply(t, r)) } function tQ(t, e) { if (e && (tc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return rQ(t) } function rQ(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function dR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (dR = function () { return !!t })() } function Gm(t) { return Gm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, Gm(t) } function nQ(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && Yj(t, e) } function Yj(t, e) { return Yj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, Yj(t, e) } function Zn(t, e, r) { return e = fR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function fR(t) { var e = aQ(t, "string"); return tc(e) == "symbol" ? e : e + "" } function aQ(t, e) { if (tc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (tc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var Hs = (function (t) { function e(r) { var n; return QJ(this, e), n = eQ(this, e, [r]), Zn(n, "pieRef", null), Zn(n, "sectorRefs", []), Zn(n, "id", Fo("recharts-pie-")), Zn(n, "handleAnimationEnd", function () { var s = n.props.onAnimationEnd; n.setState({ isAnimationFinished: !0 }), it(s) && s() }), Zn(n, "handleAnimationStart", function () { var s = n.props.onAnimationStart; n.setState({ isAnimationFinished: !1 }), it(s) && s() }), n.state = { isAnimationFinished: !r.isAnimationActive, prevIsAnimationActive: r.isAnimationActive, prevAnimationId: r.animationId, sectorToFocus: 0 }, n } return nQ(e, t), ZJ(e, [{ key: "isActiveIndex", value: function (n) { var s = this.props.activeIndex; return Array.isArray(s) ? s.indexOf(n) !== -1 : n === s } }, { key: "hasActiveIndex", value: function () { var n = this.props.activeIndex; return Array.isArray(n) ? n.length !== 0 : n || n === 0 } }, { key: "renderLabels", value: function (n) { var s = this.props.isAnimationActive; if (s && !this.state.isAnimationFinished) return null; var o = this.props, c = o.label, u = o.labelLine, f = o.dataKey, h = o.valueKey, p = et(this.props, !1), x = et(c, !1), g = et(u, !1), v = c && c.offsetRadius || 20, j = n.map(function (S, w) { var O = (S.startAngle + S.endAngle) / 2, D = Gt(S.cx, S.cy, S.outerRadius + v, O), R = Vt(Vt(Vt(Vt({}, p), S), {}, { stroke: "none" }, x), {}, { index: w, textAnchor: e.getTextAnchor(D.x, S.cx) }, D), H = Vt(Vt(Vt(Vt({}, p), S), {}, { fill: "none", stroke: S.fill }, g), {}, { index: w, points: [Gt(S.cx, S.cy, S.outerRadius, O), D] }), C = f; return ot(f) && ot(h) ? C = "value" : ot(f) && (C = h), he.createElement(xt, { key: "label-".concat(S.startAngle, "-").concat(S.endAngle, "-").concat(S.midAngle, "-").concat(w) }, u && e.renderLabelLineItem(u, H, "line"), e.renderLabelItem(c, R, pr(S, C))) }); return he.createElement(xt, { className: "recharts-pie-labels" }, j) } }, { key: "renderSectorsStatically", value: function (n) { var s = this, o = this.props, c = o.activeShape, u = o.blendStroke, f = o.inactiveShape; return n.map(function (h, p) { if ((h == null ? void 0 : h.startAngle) === 0 && (h == null ? void 0 : h.endAngle) === 0 && n.length !== 1) return null; var x = s.isActiveIndex(p), g = f && s.hasActiveIndex() ? f : null, v = x ? c : g, j = Vt(Vt({}, h), {}, { stroke: u ? h.fill : h.stroke, tabIndex: -1 }); return he.createElement(xt, Pl({ ref: function (w) { w && !s.sectorRefs.includes(w) && s.sectorRefs.push(w) }, tabIndex: -1, className: "recharts-pie-sector" }, Eo(s.props, h, p), { key: "sector-".concat(h == null ? void 0 : h.startAngle, "-").concat(h == null ? void 0 : h.endAngle, "-").concat(h.midAngle, "-").concat(p) }), he.createElement(uR, Pl({ option: v, isActive: x, shapeType: "sector" }, j))) }) } }, { key: "renderSectorsWithAnimation", value: function () { var n = this, s = this.props, o = s.sectors, c = s.isAnimationActive, u = s.animationBegin, f = s.animationDuration, h = s.animationEasing, p = s.animationId, x = this.state, g = x.prevSectors, v = x.prevIsAnimationActive; return he.createElement(Ca, { begin: u, duration: f, isActive: c, easing: h, from: { t: 0 }, to: { t: 1 }, key: "pie-".concat(p, "-").concat(v), onAnimationStart: this.handleAnimationStart, onAnimationEnd: this.handleAnimationEnd }, function (j) { var S = j.t, w = [], O = o && o[0], D = O.startAngle; return o.forEach(function (R, H) { var C = g && g[H], k = H > 0 ? Rn(R, "paddingAngle", 0) : 0; if (C) { var F = Ar(C.endAngle - C.startAngle, R.endAngle - R.startAngle), P = Vt(Vt({}, R), {}, { startAngle: D + k, endAngle: D + F(S) + k }); w.push(P), D = P.endAngle } else { var W = R.endAngle, J = R.startAngle, Q = Ar(0, W - J), V = Q(S), ae = Vt(Vt({}, R), {}, { startAngle: D + k, endAngle: D + V + k }); w.push(ae), D = ae.endAngle } }), he.createElement(xt, null, n.renderSectorsStatically(w)) }) } }, { key: "attachKeyboardHandlers", value: function (n) { var s = this; n.onkeydown = function (o) { if (!o.altKey) switch (o.key) { case "ArrowLeft": { var c = ++s.state.sectorToFocus % s.sectorRefs.length; s.sectorRefs[c].focus(), s.setState({ sectorToFocus: c }); break } case "ArrowRight": { var u = --s.state.sectorToFocus < 0 ? s.sectorRefs.length - 1 : s.state.sectorToFocus % s.sectorRefs.length; s.sectorRefs[u].focus(), s.setState({ sectorToFocus: u }); break } case "Escape": { s.sectorRefs[s.state.sectorToFocus].blur(), s.setState({ sectorToFocus: 0 }); break } } } } }, { key: "renderSectors", value: function () { var n = this.props, s = n.sectors, o = n.isAnimationActive, c = this.state.prevSectors; return o && s && s.length && (!c || !To(c, s)) ? this.renderSectorsWithAnimation() : this.renderSectorsStatically(s) } }, { key: "componentDidMount", value: function () { this.pieRef && this.attachKeyboardHandlers(this.pieRef) } }, { key: "render", value: function () { var n = this, s = this.props, o = s.hide, c = s.sectors, u = s.className, f = s.label, h = s.cx, p = s.cy, x = s.innerRadius, g = s.outerRadius, v = s.isAnimationActive, j = this.state.isAnimationFinished; if (o || !c || !c.length || !Le(h) || !Le(p) || !Le(x) || !Le(g)) return null; var S = ct("recharts-pie", u); return he.createElement(xt, { tabIndex: this.props.rootTabIndex, className: S, ref: function (O) { n.pieRef = O } }, this.renderSectors(), f && this.renderLabels(c), $r.renderCallByParent(this.props, null, !1), (!v || j) && za.renderCallByParent(this.props, c, !1)) } }], [{ key: "getDerivedStateFromProps", value: function (n, s) { return s.prevIsAnimationActive !== n.isAnimationActive ? { prevIsAnimationActive: n.isAnimationActive, prevAnimationId: n.animationId, curSectors: n.sectors, prevSectors: [], isAnimationFinished: !0 } : n.isAnimationActive && n.animationId !== s.prevAnimationId ? { prevAnimationId: n.animationId, curSectors: n.sectors, prevSectors: s.curSectors, isAnimationFinished: !0 } : n.sectors !== s.curSectors ? { curSectors: n.sectors, isAnimationFinished: !0 } : null } }, { key: "getTextAnchor", value: function (n, s) { return n > s ? "start" : n < s ? "end" : "middle" } }, { key: "renderLabelLineItem", value: function (n, s, o) { if (he.isValidElement(n)) return he.cloneElement(n, s); if (it(n)) return n(s); var c = ct("recharts-pie-label-line", typeof n != "boolean" ? n.className : ""); return he.createElement(Co, Pl({}, s, { key: o, type: "linear", className: c })) } }, { key: "renderLabelItem", value: function (n, s, o) { if (he.isValidElement(n)) return he.cloneElement(n, s); var c = o; if (it(n) && (c = n(s), he.isValidElement(c))) return c; var u = ct("recharts-pie-label-text", typeof n != "boolean" && !it(n) ? n.className : ""); return he.createElement(Do, Pl({}, s, { alignmentBaseline: "middle", className: u }), c) } }]) })(b.PureComponent); Qh = Hs; Zn(Hs, "displayName", "Pie"); Zn(Hs, "defaultProps", { stroke: "#fff", fill: "#808080", legendType: "rect", cx: "50%", cy: "50%", startAngle: 0, endAngle: 360, innerRadius: 0, outerRadius: "80%", paddingAngle: 0, labelLine: !0, hide: !1, minAngle: 0, isAnimationActive: !Li.isSsr, animationBegin: 400, animationDuration: 1500, animationEasing: "ease", nameKey: "name", blendStroke: !1, rootTabIndex: 0 }); Zn(Hs, "parseDeltaAngle", function (t, e) { var r = sn(e - t), n = Math.min(Math.abs(e - t), 360); return r * n }); Zn(Hs, "getRealPieData", function (t) { var e = t.data, r = t.children, n = et(t, !1), s = $n(r, Vd); return e && e.length ? e.map(function (o, c) { return Vt(Vt(Vt({ payload: o }, n), o), s && s[c] && s[c].props) }) : s && s.length ? s.map(function (o) { return Vt(Vt({}, n), o.props) }) : [] }); Zn(Hs, "parseCoordinateOfPie", function (t, e) { var r = e.top, n = e.left, s = e.width, o = e.height, c = K4(s, o), u = n + on(t.cx, s, s / 2), f = r + on(t.cy, o, o / 2), h = on(t.innerRadius, c, 0), p = on(t.outerRadius, c, c * .8), x = t.maxRadius || Math.sqrt(s * s + o * o) / 2; return { cx: u, cy: f, innerRadius: h, outerRadius: p, maxRadius: x } }); Zn(Hs, "getComposedData", function (t) {
  var e = t.item, r = t.offset, n = e.type.defaultProps !== void 0 ? Vt(Vt({}, e.type.defaultProps), e.props) : e.props, s = Qh.getRealPieData(n); if (!s || !s.length) return null; var o = n.cornerRadius, c = n.startAngle, u = n.endAngle, f = n.paddingAngle, h = n.dataKey, p = n.nameKey, x = n.valueKey, g = n.tooltipType, v = Math.abs(n.minAngle), j = Qh.parseCoordinateOfPie(n, r), S = Qh.parseDeltaAngle(c, u), w = Math.abs(S), O = h; ot(h) && ot(x) ? (Oa(!1, `Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`), O = "value") : ot(h) && (Oa(!1, `Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`), O = x); var D = s.filter(function (P) { return pr(P, O, 0) !== 0 }).length, R = (w >= 360 ? D : D - 1) * f, H = w - D * v - R, C = s.reduce(function (P, W) { var J = pr(W, O, 0); return P + (Le(J) ? J : 0) }, 0), k; if (C > 0) { var F; k = s.map(function (P, W) { var J = pr(P, O, 0), Q = pr(P, p, W), V = (Le(J) ? J : 0) / C, ae; W ? ae = F.endAngle + sn(S) * f * (J !== 0 ? 1 : 0) : ae = c; var ie = ae + sn(S) * ((J !== 0 ? v : 0) + V * H), se = (ae + ie) / 2, U = (j.innerRadius + j.outerRadius) / 2, le = [{ name: Q, value: J, payload: P, dataKey: O, type: g }], de = Gt(j.cx, j.cy, U, se); return F = Vt(Vt(Vt({ percent: V, cornerRadius: o, name: Q, tooltipPayload: le, midAngle: se, middleRadius: U, tooltipPosition: de }, P), j), {}, { value: pr(P, O), startAngle: ae, endAngle: ie, payload: P, paddingAngle: sn(S) * f }), F }) } return Vt(Vt({}, j), {}, { sectors: k, data: s })
}); var iw, eT; function sQ() { if (eT) return iw; eT = 1; var t = Math.ceil, e = Math.max; function r(n, s, o, c) { for (var u = -1, f = e(t((s - n) / (o || 1)), 0), h = Array(f); f--;)h[c ? f : ++u] = n, n += o; return h } return iw = r, iw } var ow, tT; function hR() { if (tT) return ow; tT = 1; var t = RM(), e = 1 / 0, r = 17976931348623157e292; function n(s) { if (!s) return s === 0 ? s : 0; if (s = t(s), s === e || s === -e) { var o = s < 0 ? -1 : 1; return o * r } return s === s ? s : 0 } return ow = n, ow } var lw, rT; function iQ() { if (rT) return lw; rT = 1; var t = sQ(), e = $p(), r = hR(); function n(s) { return function (o, c, u) { return u && typeof u != "number" && e(o, c, u) && (c = u = void 0), o = r(o), c === void 0 ? (c = o, o = 0) : c = r(c), u = u === void 0 ? o < c ? 1 : -1 : r(u), t(o, c, u, s) } } return lw = n, lw } var cw, nT; function oQ() { if (nT) return cw; nT = 1; var t = iQ(), e = t(); return cw = e, cw } var lQ = oQ(); const Km = It(lQ); function Dd(t) { "@babel/helpers - typeof"; return Dd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Dd(t) } function aT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function sT(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? aT(Object(r), !0).forEach(function (n) { mR(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : aT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function mR(t, e, r) { return e = cQ(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function cQ(t) { var e = uQ(t, "string"); return Dd(e) == "symbol" ? e : e + "" } function uQ(t, e) { if (Dd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Dd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var dQ = ["Webkit", "Moz", "O", "ms"], fQ = function (e, r) { var n = e.replace(/(\w)/, function (o) { return o.toUpperCase() }), s = dQ.reduce(function (o, c) { return sT(sT({}, o), {}, mR({}, c + n, r)) }, {}); return s[e] = r, s }; function rc(t) { "@babel/helpers - typeof"; return rc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, rc(t) } function Wm() { return Wm = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Wm.apply(this, arguments) } function iT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function uw(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? iT(Object(r), !0).forEach(function (n) { En(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : iT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function hQ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function oT(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, xR(n.key), n) } } function mQ(t, e, r) { return e && oT(t.prototype, e), r && oT(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function pQ(t, e, r) { return e = Xm(e), xQ(t, pR() ? Reflect.construct(e, r || [], Xm(t).constructor) : e.apply(t, r)) } function xQ(t, e) { if (e && (rc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return gQ(t) } function gQ(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function pR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (pR = function () { return !!t })() } function Xm(t) { return Xm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, Xm(t) } function yQ(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && Gj(t, e) } function Gj(t, e) { return Gj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, Gj(t, e) } function En(t, e, r) { return e = xR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function xR(t) { var e = bQ(t, "string"); return rc(e) == "symbol" ? e : e + "" } function bQ(t, e) { if (rc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (rc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var vQ = function (e) { var r = e.data, n = e.startIndex, s = e.endIndex, o = e.x, c = e.width, u = e.travellerWidth; if (!r || !r.length) return {}; var f = r.length, h = Hu().domain(Km(0, f)).range([o, o + c - u]), p = h.domain().map(function (x) { return h(x) }); return { isTextActive: !1, isSlideMoving: !1, isTravellerMoving: !1, isTravellerFocused: !1, startX: h(n), endX: h(s), scale: h, scaleValues: p } }, lT = function (e) { return e.changedTouches && !!e.changedTouches.length }, Ro = (function (t) { function e(r) { var n; return hQ(this, e), n = pQ(this, e, [r]), En(n, "handleDrag", function (s) { n.leaveTimer && (clearTimeout(n.leaveTimer), n.leaveTimer = null), n.state.isTravellerMoving ? n.handleTravellerMove(s) : n.state.isSlideMoving && n.handleSlideDrag(s) }), En(n, "handleTouchMove", function (s) { s.changedTouches != null && s.changedTouches.length > 0 && n.handleDrag(s.changedTouches[0]) }), En(n, "handleDragEnd", function () { n.setState({ isTravellerMoving: !1, isSlideMoving: !1 }, function () { var s = n.props, o = s.endIndex, c = s.onDragEnd, u = s.startIndex; c == null || c({ endIndex: o, startIndex: u }) }), n.detachDragEndListener() }), En(n, "handleLeaveWrapper", function () { (n.state.isTravellerMoving || n.state.isSlideMoving) && (n.leaveTimer = window.setTimeout(n.handleDragEnd, n.props.leaveTimeOut)) }), En(n, "handleEnterSlideOrTraveller", function () { n.setState({ isTextActive: !0 }) }), En(n, "handleLeaveSlideOrTraveller", function () { n.setState({ isTextActive: !1 }) }), En(n, "handleSlideDragStart", function (s) { var o = lT(s) ? s.changedTouches[0] : s; n.setState({ isTravellerMoving: !1, isSlideMoving: !0, slideMoveStartX: o.pageX }), n.attachDragEndListener() }), n.travellerDragStartHandlers = { startX: n.handleTravellerDragStart.bind(n, "startX"), endX: n.handleTravellerDragStart.bind(n, "endX") }, n.state = {}, n } return yQ(e, t), mQ(e, [{ key: "componentWillUnmount", value: function () { this.leaveTimer && (clearTimeout(this.leaveTimer), this.leaveTimer = null), this.detachDragEndListener() } }, { key: "getIndex", value: function (n) { var s = n.startX, o = n.endX, c = this.state.scaleValues, u = this.props, f = u.gap, h = u.data, p = h.length - 1, x = Math.min(s, o), g = Math.max(s, o), v = e.getIndexInRange(c, x), j = e.getIndexInRange(c, g); return { startIndex: v - v % f, endIndex: j === p ? p : j - j % f } } }, { key: "getTextOfTick", value: function (n) { var s = this.props, o = s.data, c = s.tickFormatter, u = s.dataKey, f = pr(o[n], u, n); return it(c) ? c(f, n) : f } }, { key: "attachDragEndListener", value: function () { window.addEventListener("mouseup", this.handleDragEnd, !0), window.addEventListener("touchend", this.handleDragEnd, !0), window.addEventListener("mousemove", this.handleDrag, !0) } }, { key: "detachDragEndListener", value: function () { window.removeEventListener("mouseup", this.handleDragEnd, !0), window.removeEventListener("touchend", this.handleDragEnd, !0), window.removeEventListener("mousemove", this.handleDrag, !0) } }, { key: "handleSlideDrag", value: function (n) { var s = this.state, o = s.slideMoveStartX, c = s.startX, u = s.endX, f = this.props, h = f.x, p = f.width, x = f.travellerWidth, g = f.startIndex, v = f.endIndex, j = f.onChange, S = n.pageX - o; S > 0 ? S = Math.min(S, h + p - x - u, h + p - x - c) : S < 0 && (S = Math.max(S, h - c, h - u)); var w = this.getIndex({ startX: c + S, endX: u + S }); (w.startIndex !== g || w.endIndex !== v) && j && j(w), this.setState({ startX: c + S, endX: u + S, slideMoveStartX: n.pageX }) } }, { key: "handleTravellerDragStart", value: function (n, s) { var o = lT(s) ? s.changedTouches[0] : s; this.setState({ isSlideMoving: !1, isTravellerMoving: !0, movingTravellerId: n, brushMoveStartX: o.pageX }), this.attachDragEndListener() } }, { key: "handleTravellerMove", value: function (n) { var s = this.state, o = s.brushMoveStartX, c = s.movingTravellerId, u = s.endX, f = s.startX, h = this.state[c], p = this.props, x = p.x, g = p.width, v = p.travellerWidth, j = p.onChange, S = p.gap, w = p.data, O = { startX: this.state.startX, endX: this.state.endX }, D = n.pageX - o; D > 0 ? D = Math.min(D, x + g - v - h) : D < 0 && (D = Math.max(D, x - h)), O[c] = h + D; var R = this.getIndex(O), H = R.startIndex, C = R.endIndex, k = function () { var P = w.length - 1; return c === "startX" && (u > f ? H % S === 0 : C % S === 0) || u < f && C === P || c === "endX" && (u > f ? C % S === 0 : H % S === 0) || u > f && C === P }; this.setState(En(En({}, c, h + D), "brushMoveStartX", n.pageX), function () { j && k() && j(R) }) } }, { key: "handleTravellerMoveKeyboard", value: function (n, s) { var o = this, c = this.state, u = c.scaleValues, f = c.startX, h = c.endX, p = this.state[s], x = u.indexOf(p); if (x !== -1) { var g = x + n; if (!(g === -1 || g >= u.length)) { var v = u[g]; s === "startX" && v >= h || s === "endX" && v <= f || this.setState(En({}, s, v), function () { o.props.onChange(o.getIndex({ startX: o.state.startX, endX: o.state.endX })) }) } } } }, { key: "renderBackground", value: function () { var n = this.props, s = n.x, o = n.y, c = n.width, u = n.height, f = n.fill, h = n.stroke; return he.createElement("rect", { stroke: h, fill: f, x: s, y: o, width: c, height: u }) } }, { key: "renderPanorama", value: function () { var n = this.props, s = n.x, o = n.y, c = n.width, u = n.height, f = n.data, h = n.children, p = n.padding, x = b.Children.only(h); return x ? he.cloneElement(x, { x: s, y: o, width: c, height: u, margin: p, compact: !0, data: f }) : null } }, { key: "renderTravellerLayer", value: function (n, s) { var o, c, u = this, f = this.props, h = f.y, p = f.travellerWidth, x = f.height, g = f.traveller, v = f.ariaLabel, j = f.data, S = f.startIndex, w = f.endIndex, O = Math.max(n, this.props.x), D = uw(uw({}, et(this.props, !1)), {}, { x: O, y: h, width: p, height: x }), R = v || "Min value: ".concat((o = j[S]) === null || o === void 0 ? void 0 : o.name, ", Max value: ").concat((c = j[w]) === null || c === void 0 ? void 0 : c.name); return he.createElement(xt, { tabIndex: 0, role: "slider", "aria-label": R, "aria-valuenow": n, className: "recharts-brush-traveller", onMouseEnter: this.handleEnterSlideOrTraveller, onMouseLeave: this.handleLeaveSlideOrTraveller, onMouseDown: this.travellerDragStartHandlers[s], onTouchStart: this.travellerDragStartHandlers[s], onKeyDown: function (C) { ["ArrowLeft", "ArrowRight"].includes(C.key) && (C.preventDefault(), C.stopPropagation(), u.handleTravellerMoveKeyboard(C.key === "ArrowRight" ? 1 : -1, s)) }, onFocus: function () { u.setState({ isTravellerFocused: !0 }) }, onBlur: function () { u.setState({ isTravellerFocused: !1 }) }, style: { cursor: "col-resize" } }, e.renderTraveller(g, D)) } }, { key: "renderSlide", value: function (n, s) { var o = this.props, c = o.y, u = o.height, f = o.stroke, h = o.travellerWidth, p = Math.min(n, s) + h, x = Math.max(Math.abs(s - n) - h, 0); return he.createElement("rect", { className: "recharts-brush-slide", onMouseEnter: this.handleEnterSlideOrTraveller, onMouseLeave: this.handleLeaveSlideOrTraveller, onMouseDown: this.handleSlideDragStart, onTouchStart: this.handleSlideDragStart, style: { cursor: "move" }, stroke: "none", fill: f, fillOpacity: .2, x: p, y: c, width: x, height: u }) } }, { key: "renderText", value: function () { var n = this.props, s = n.startIndex, o = n.endIndex, c = n.y, u = n.height, f = n.travellerWidth, h = n.stroke, p = this.state, x = p.startX, g = p.endX, v = 5, j = { pointerEvents: "none", fill: h }; return he.createElement(xt, { className: "recharts-brush-texts" }, he.createElement(Do, Wm({ textAnchor: "end", verticalAnchor: "middle", x: Math.min(x, g) - v, y: c + u / 2 }, j), this.getTextOfTick(s)), he.createElement(Do, Wm({ textAnchor: "start", verticalAnchor: "middle", x: Math.max(x, g) + f + v, y: c + u / 2 }, j), this.getTextOfTick(o))) } }, { key: "render", value: function () { var n = this.props, s = n.data, o = n.className, c = n.children, u = n.x, f = n.y, h = n.width, p = n.height, x = n.alwaysShowText, g = this.state, v = g.startX, j = g.endX, S = g.isTextActive, w = g.isSlideMoving, O = g.isTravellerMoving, D = g.isTravellerFocused; if (!s || !s.length || !Le(u) || !Le(f) || !Le(h) || !Le(p) || h <= 0 || p <= 0) return null; var R = ct("recharts-brush", o), H = he.Children.count(c) === 1, C = fQ("userSelect", "none"); return he.createElement(xt, { className: R, onMouseLeave: this.handleLeaveWrapper, onTouchMove: this.handleTouchMove, style: C }, this.renderBackground(), H && this.renderPanorama(), this.renderSlide(v, j), this.renderTravellerLayer(v, "startX"), this.renderTravellerLayer(j, "endX"), (S || w || O || D || x) && this.renderText()) } }], [{ key: "renderDefaultTraveller", value: function (n) { var s = n.x, o = n.y, c = n.width, u = n.height, f = n.stroke, h = Math.floor(o + u / 2) - 1; return he.createElement(he.Fragment, null, he.createElement("rect", { x: s, y: o, width: c, height: u, fill: f, stroke: "none" }), he.createElement("line", { x1: s + 1, y1: h, x2: s + c - 1, y2: h, fill: "none", stroke: "#fff" }), he.createElement("line", { x1: s + 1, y1: h + 2, x2: s + c - 1, y2: h + 2, fill: "none", stroke: "#fff" })) } }, { key: "renderTraveller", value: function (n, s) { var o; return he.isValidElement(n) ? o = he.cloneElement(n, s) : it(n) ? o = n(s) : o = e.renderDefaultTraveller(s), o } }, { key: "getDerivedStateFromProps", value: function (n, s) { var o = n.data, c = n.width, u = n.x, f = n.travellerWidth, h = n.updateId, p = n.startIndex, x = n.endIndex; if (o !== s.prevData || h !== s.prevUpdateId) return uw({ prevData: o, prevTravellerWidth: f, prevUpdateId: h, prevX: u, prevWidth: c }, o && o.length ? vQ({ data: o, width: c, x: u, travellerWidth: f, startIndex: p, endIndex: x }) : { scale: null, scaleValues: null }); if (s.scale && (c !== s.prevWidth || u !== s.prevX || f !== s.prevTravellerWidth)) { s.scale.range([u, u + c - f]); var g = s.scale.domain().map(function (v) { return s.scale(v) }); return { prevData: o, prevTravellerWidth: f, prevUpdateId: h, prevX: u, prevWidth: c, startX: s.scale(n.startIndex), endX: s.scale(n.endIndex), scaleValues: g } } return null } }, { key: "getIndexInRange", value: function (n, s) { for (var o = n.length, c = 0, u = o - 1; u - c > 1;) { var f = Math.floor((c + u) / 2); n[f] > s ? u = f : c = f } return s >= n[u] ? u : c } }]) })(b.PureComponent); En(Ro, "displayName", "Brush"); En(Ro, "defaultProps", { height: 40, travellerWidth: 5, gap: 1, fill: "#fff", stroke: "#666", padding: { top: 1, right: 1, bottom: 1, left: 1 }, leaveTimeOut: 1e3, alwaysShowText: !1 }); var dw, cT; function wQ() { if (cT) return dw; cT = 1; var t = QN(); function e(r, n) { var s; return t(r, function (o, c, u) { return s = n(o, c, u), !s }), !!s } return dw = e, dw } var fw, uT; function jQ() { if (uT) return fw; uT = 1; var t = fM(), e = Ka(), r = wQ(), n = yn(), s = $p(); function o(c, u, f) { var h = n(c) ? t : r; return f && s(c, u, f) && (u = void 0), h(c, e(u, 3)) } return fw = o, fw } var NQ = jQ(); const SQ = It(NQ); var Ua = function (e, r) { var n = e.alwaysShow, s = e.ifOverflow; return n && (s = "extendDomain"), s === r }, hw, dT; function _Q() { if (dT) return hw; dT = 1; var t = EM(); function e(r, n, s) { n == "__proto__" && t ? t(r, n, { configurable: !0, enumerable: !0, value: s, writable: !0 }) : r[n] = s } return hw = e, hw } var mw, fT; function OQ() { if (fT) return mw; fT = 1; var t = _Q(), e = kM(), r = Ka(); function n(s, o) { var c = {}; return o = r(o, 3), e(s, function (u, f, h) { t(c, f, o(u, f, h)) }), c } return mw = n, mw } var CQ = OQ(); const kQ = It(CQ); var pw, hT; function AQ() { if (hT) return pw; hT = 1; function t(e, r) { for (var n = -1, s = e == null ? 0 : e.length; ++n < s;)if (!r(e[n], n, e)) return !1; return !0 } return pw = t, pw } var xw, mT; function EQ() { if (mT) return xw; mT = 1; var t = QN(); function e(r, n) { var s = !0; return t(r, function (o, c, u) { return s = !!n(o, c, u), s }), s } return xw = e, xw } var gw, pT; function DQ() { if (pT) return gw; pT = 1; var t = AQ(), e = EQ(), r = Ka(), n = yn(), s = $p(); function o(c, u, f) { var h = n(c) ? t : e; return f && s(c, u, f) && (u = void 0), h(c, r(u, 3)) } return gw = o, gw } var TQ = DQ(); const gR = It(TQ); var PQ = ["x", "y"]; function Td(t) { "@babel/helpers - typeof"; return Td = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Td(t) } function Kj() { return Kj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Kj.apply(this, arguments) } function xT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function ku(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? xT(Object(r), !0).forEach(function (n) { MQ(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : xT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function MQ(t, e, r) { return e = RQ(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function RQ(t) { var e = $Q(t, "string"); return Td(e) == "symbol" ? e : e + "" } function $Q(t, e) { if (Td(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Td(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function IQ(t, e) { if (t == null) return {}; var r = LQ(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function LQ(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function FQ(t, e) { var r = t.x, n = t.y, s = IQ(t, PQ), o = "".concat(r), c = parseInt(o, 10), u = "".concat(n), f = parseInt(u, 10), h = "".concat(e.height || s.height), p = parseInt(h, 10), x = "".concat(e.width || s.width), g = parseInt(x, 10); return ku(ku(ku(ku(ku({}, e), s), c ? { x: c } : {}), f ? { y: f } : {}), {}, { height: p, width: g, name: e.name, radius: e.radius }) } function gT(t) { return he.createElement(uR, Kj({ shapeType: "rectangle", propTransformer: FQ, activeClassName: "recharts-active-bar" }, t)) } var BQ = function (e) { var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0; return function (n, s) { if (typeof e == "number") return e; var o = Le(n) || o9(n); return o ? e(n, s) : (o || Mo(), r) } }, qQ = ["value", "background"], yR; function nc(t) { "@babel/helpers - typeof"; return nc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, nc(t) } function zQ(t, e) { if (t == null) return {}; var r = UQ(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function UQ(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function Jm() { return Jm = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Jm.apply(this, arguments) } function yT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Nr(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? yT(Object(r), !0).forEach(function (n) { Ci(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : yT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function HQ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function bT(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, vR(n.key), n) } } function VQ(t, e, r) { return e && bT(t.prototype, e), r && bT(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function YQ(t, e, r) { return e = Qm(e), GQ(t, bR() ? Reflect.construct(e, r || [], Qm(t).constructor) : e.apply(t, r)) } function GQ(t, e) { if (e && (nc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return KQ(t) } function KQ(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function bR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (bR = function () { return !!t })() } function Qm(t) { return Qm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, Qm(t) } function WQ(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && Wj(t, e) } function Wj(t, e) { return Wj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, Wj(t, e) } function Ci(t, e, r) { return e = vR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function vR(t) { var e = XQ(t, "string"); return nc(e) == "symbol" ? e : e + "" } function XQ(t, e) { if (nc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (nc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var ka = (function (t) { function e() { var r; HQ(this, e); for (var n = arguments.length, s = new Array(n), o = 0; o < n; o++)s[o] = arguments[o]; return r = YQ(this, e, [].concat(s)), Ci(r, "state", { isAnimationFinished: !1 }), Ci(r, "id", Fo("recharts-bar-")), Ci(r, "handleAnimationEnd", function () { var c = r.props.onAnimationEnd; r.setState({ isAnimationFinished: !0 }), c && c() }), Ci(r, "handleAnimationStart", function () { var c = r.props.onAnimationStart; r.setState({ isAnimationFinished: !1 }), c && c() }), r } return WQ(e, t), VQ(e, [{ key: "renderRectanglesStatically", value: function (n) { var s = this, o = this.props, c = o.shape, u = o.dataKey, f = o.activeIndex, h = o.activeBar, p = et(this.props, !1); return n && n.map(function (x, g) { var v = g === f, j = v ? h : c, S = Nr(Nr(Nr({}, p), x), {}, { isActive: v, option: j, index: g, dataKey: u, onAnimationStart: s.handleAnimationStart, onAnimationEnd: s.handleAnimationEnd }); return he.createElement(xt, Jm({ className: "recharts-bar-rectangle" }, Eo(s.props, x, g), { key: "rectangle-".concat(x == null ? void 0 : x.x, "-").concat(x == null ? void 0 : x.y, "-").concat(x == null ? void 0 : x.value, "-").concat(g) }), he.createElement(gT, S)) }) } }, { key: "renderRectanglesWithAnimation", value: function () { var n = this, s = this.props, o = s.data, c = s.layout, u = s.isAnimationActive, f = s.animationBegin, h = s.animationDuration, p = s.animationEasing, x = s.animationId, g = this.state.prevData; return he.createElement(Ca, { begin: f, duration: h, isActive: u, easing: p, from: { t: 0 }, to: { t: 1 }, key: "bar-".concat(x), onAnimationEnd: this.handleAnimationEnd, onAnimationStart: this.handleAnimationStart }, function (v) { var j = v.t, S = o.map(function (w, O) { var D = g && g[O]; if (D) { var R = Ar(D.x, w.x), H = Ar(D.y, w.y), C = Ar(D.width, w.width), k = Ar(D.height, w.height); return Nr(Nr({}, w), {}, { x: R(j), y: H(j), width: C(j), height: k(j) }) } if (c === "horizontal") { var F = Ar(0, w.height), P = F(j); return Nr(Nr({}, w), {}, { y: w.y + w.height - P, height: P }) } var W = Ar(0, w.width), J = W(j); return Nr(Nr({}, w), {}, { width: J }) }); return he.createElement(xt, null, n.renderRectanglesStatically(S)) }) } }, { key: "renderRectangles", value: function () { var n = this.props, s = n.data, o = n.isAnimationActive, c = this.state.prevData; return o && s && s.length && (!c || !To(c, s)) ? this.renderRectanglesWithAnimation() : this.renderRectanglesStatically(s) } }, { key: "renderBackground", value: function () { var n = this, s = this.props, o = s.data, c = s.dataKey, u = s.activeIndex, f = et(this.props.background, !1); return o.map(function (h, p) { h.value; var x = h.background, g = zQ(h, qQ); if (!x) return null; var v = Nr(Nr(Nr(Nr(Nr({}, g), {}, { fill: "#eee" }, x), f), Eo(n.props, h, p)), {}, { onAnimationStart: n.handleAnimationStart, onAnimationEnd: n.handleAnimationEnd, dataKey: c, index: p, className: "recharts-bar-background-rectangle" }); return he.createElement(gT, Jm({ key: "background-bar-".concat(p), option: n.props.background, isActive: p === u }, v)) }) } }, { key: "renderErrorBar", value: function (n, s) { if (this.props.isAnimationActive && !this.state.isAnimationFinished) return null; var o = this.props, c = o.data, u = o.xAxis, f = o.yAxis, h = o.layout, p = o.children, x = $n(p, Xd); if (!x) return null; var g = h === "vertical" ? c[0].height / 2 : c[0].width / 2, v = function (w, O) { var D = Array.isArray(w.value) ? w.value[1] : w.value; return { x: w.x, y: w.y, value: D, errorVal: pr(w, O) } }, j = { clipPath: n ? "url(#clipPath-".concat(s, ")") : null }; return he.createElement(xt, j, x.map(function (S) { return he.cloneElement(S, { key: "error-bar-".concat(s, "-").concat(S.props.dataKey), data: c, xAxis: u, yAxis: f, layout: h, offset: g, dataPointFormatter: v }) })) } }, { key: "render", value: function () { var n = this.props, s = n.hide, o = n.data, c = n.className, u = n.xAxis, f = n.yAxis, h = n.left, p = n.top, x = n.width, g = n.height, v = n.isAnimationActive, j = n.background, S = n.id; if (s || !o || !o.length) return null; var w = this.state.isAnimationFinished, O = ct("recharts-bar", c), D = u && u.allowDataOverflow, R = f && f.allowDataOverflow, H = D || R, C = ot(S) ? this.id : S; return he.createElement(xt, { className: O }, D || R ? he.createElement("defs", null, he.createElement("clipPath", { id: "clipPath-".concat(C) }, he.createElement("rect", { x: D ? h : h - x / 2, y: R ? p : p - g / 2, width: D ? x : x * 2, height: R ? g : g * 2 }))) : null, he.createElement(xt, { className: "recharts-bar-rectangles", clipPath: H ? "url(#clipPath-".concat(C, ")") : null }, j ? this.renderBackground() : null, this.renderRectangles()), this.renderErrorBar(H, C), (!v || w) && za.renderCallByParent(this.props, o)) } }], [{ key: "getDerivedStateFromProps", value: function (n, s) { return n.animationId !== s.prevAnimationId ? { prevAnimationId: n.animationId, curData: n.data, prevData: s.curData } : n.data !== s.curData ? { curData: n.data } : null } }]) })(b.PureComponent); yR = ka; Ci(ka, "displayName", "Bar"); Ci(ka, "defaultProps", { xAxisId: 0, yAxisId: 0, legendType: "rect", minPointSize: 0, hide: !1, data: [], layout: "vertical", activeBar: !1, isAnimationActive: !Li.isSsr, animationBegin: 0, animationDuration: 400, animationEasing: "ease" }); Ci(ka, "getComposedData", function (t) { var e = t.props, r = t.item, n = t.barPosition, s = t.bandSize, o = t.xAxis, c = t.yAxis, u = t.xAxisTicks, f = t.yAxisTicks, h = t.stackedData, p = t.dataStartIndex, x = t.displayedData, g = t.offset, v = wG(n, r); if (!v) return null; var j = e.layout, S = r.type.defaultProps, w = S !== void 0 ? Nr(Nr({}, S), r.props) : r.props, O = w.dataKey, D = w.children, R = w.minPointSize, H = j === "horizontal" ? c : o, C = h ? H.scale.domain() : null, k = kG({ numericAxis: H }), F = $n(D, Vd), P = x.map(function (W, J) { var Q, V, ae, ie, se, U; h ? Q = jG(h[p + J], C) : (Q = pr(W, O), Array.isArray(Q) || (Q = [k, Q])); var le = BQ(R, yR.defaultProps.minPointSize)(Q[1], J); if (j === "horizontal") { var de, me = [c.scale(Q[0]), c.scale(Q[1])], pe = me[0], M = me[1]; V = GE({ axis: o, ticks: u, bandSize: s, offset: v.offset, entry: W, index: J }), ae = (de = M ?? pe) !== null && de !== void 0 ? de : void 0, ie = v.size; var Z = pe - M; if (se = Number.isNaN(Z) ? 0 : Z, U = { x: V, y: c.y, width: ie, height: c.height }, Math.abs(le) > 0 && Math.abs(se) < Math.abs(le)) { var ce = sn(se || le) * (Math.abs(le) - Math.abs(se)); ae -= ce, se += ce } } else { var ne = [o.scale(Q[0]), o.scale(Q[1])], L = ne[0], I = ne[1]; if (V = L, ae = GE({ axis: c, ticks: f, bandSize: s, offset: v.offset, entry: W, index: J }), ie = I - L, se = v.size, U = { x: o.x, y: ae, width: o.width, height: se }, Math.abs(le) > 0 && Math.abs(ie) < Math.abs(le)) { var _ = sn(ie || le) * (Math.abs(le) - Math.abs(ie)); ie += _ } } return Nr(Nr(Nr({}, W), {}, { x: V, y: ae, width: ie, height: se, value: h ? Q : Q[1], payload: W, background: U }, F && F[J] && F[J].props), {}, { tooltipPayload: [Y4(r, W)], tooltipPosition: { x: V + ie / 2, y: ae + se / 2 } }) }); return Nr({ data: P, layout: j }, g) }); function Pd(t) { "@babel/helpers - typeof"; return Pd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Pd(t) } function JQ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function vT(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, wR(n.key), n) } } function QQ(t, e, r) { return e && vT(t.prototype, e), r && vT(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function wT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function wa(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? wT(Object(r), !0).forEach(function (n) { Zp(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : wT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Zp(t, e, r) { return e = wR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function wR(t) { var e = ZQ(t, "string"); return Pd(e) == "symbol" ? e : e + "" } function ZQ(t, e) { if (Pd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Pd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var C1 = function (e, r, n, s, o) { var c = e.width, u = e.height, f = e.layout, h = e.children, p = Object.keys(r), x = { left: n.left, leftMirror: n.left, right: c - n.right, rightMirror: c - n.right, top: n.top, topMirror: n.top, bottom: u - n.bottom, bottomMirror: u - n.bottom }, g = !!Dn(h, ka); return p.reduce(function (v, j) { var S = r[j], w = S.orientation, O = S.domain, D = S.padding, R = D === void 0 ? {} : D, H = S.mirror, C = S.reversed, k = "".concat(w).concat(H ? "Mirror" : ""), F, P, W, J, Q; if (S.type === "number" && (S.padding === "gap" || S.padding === "no-gap")) { var V = O[1] - O[0], ae = 1 / 0, ie = S.categoricalDomain.sort(u9); if (ie.forEach(function (ne, L) { L > 0 && (ae = Math.min((ne || 0) - (ie[L - 1] || 0), ae)) }), Number.isFinite(ae)) { var se = ae / V, U = S.layout === "vertical" ? n.height : n.width; if (S.padding === "gap" && (F = se * U / 2), S.padding === "no-gap") { var le = on(e.barCategoryGap, se * U), de = se * U / 2; F = de - le - (de - le) / U * le } } } s === "xAxis" ? P = [n.left + (R.left || 0) + (F || 0), n.left + n.width - (R.right || 0) - (F || 0)] : s === "yAxis" ? P = f === "horizontal" ? [n.top + n.height - (R.bottom || 0), n.top + (R.top || 0)] : [n.top + (R.top || 0) + (F || 0), n.top + n.height - (R.bottom || 0) - (F || 0)] : P = S.range, C && (P = [P[1], P[0]]); var me = z4(S, o, g), pe = me.scale, M = me.realScaleType; pe.domain(O).range(P), U4(pe); var Z = H4(pe, wa(wa({}, S), {}, { realScaleType: M })); s === "xAxis" ? (Q = w === "top" && !H || w === "bottom" && H, W = n.left, J = x[k] - Q * S.height) : s === "yAxis" && (Q = w === "left" && !H || w === "right" && H, W = x[k] - Q * S.width, J = n.top); var ce = wa(wa(wa({}, S), Z), {}, { realScaleType: M, x: W, y: J, scale: pe, width: s === "xAxis" ? n.width : S.width, height: s === "yAxis" ? n.height : S.height }); return ce.bandSize = Rm(ce, Z), !S.hide && s === "xAxis" ? x[k] += (Q ? -1 : 1) * ce.height : S.hide || (x[k] += (Q ? -1 : 1) * ce.width), wa(wa({}, v), {}, Zp({}, j, ce)) }, {}) }, jR = function (e, r) { var n = e.x, s = e.y, o = r.x, c = r.y; return { x: Math.min(n, o), y: Math.min(s, c), width: Math.abs(o - n), height: Math.abs(c - s) } }, eZ = function (e) { var r = e.x1, n = e.y1, s = e.x2, o = e.y2; return jR({ x: r, y: n }, { x: s, y: o }) }, NR = (function () { function t(e) { JQ(this, t), this.scale = e } return QQ(t, [{ key: "domain", get: function () { return this.scale.domain } }, { key: "range", get: function () { return this.scale.range } }, { key: "rangeMin", get: function () { return this.range()[0] } }, { key: "rangeMax", get: function () { return this.range()[1] } }, { key: "bandwidth", get: function () { return this.scale.bandwidth } }, { key: "apply", value: function (r) { var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, s = n.bandAware, o = n.position; if (r !== void 0) { if (o) switch (o) { case "start": return this.scale(r); case "middle": { var c = this.bandwidth ? this.bandwidth() / 2 : 0; return this.scale(r) + c } case "end": { var u = this.bandwidth ? this.bandwidth() : 0; return this.scale(r) + u } default: return this.scale(r) }if (s) { var f = this.bandwidth ? this.bandwidth() / 2 : 0; return this.scale(r) + f } return this.scale(r) } } }, { key: "isInRange", value: function (r) { var n = this.range(), s = n[0], o = n[n.length - 1]; return s <= o ? r >= s && r <= o : r >= o && r <= s } }], [{ key: "create", value: function (r) { return new t(r) } }]) })(); Zp(NR, "EPS", 1e-4); var k1 = function (e) { var r = Object.keys(e).reduce(function (n, s) { return wa(wa({}, n), {}, Zp({}, s, NR.create(e[s]))) }, {}); return wa(wa({}, r), {}, { apply: function (s) { var o = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, c = o.bandAware, u = o.position; return kQ(s, function (f, h) { return r[h].apply(f, { bandAware: c, position: u }) }) }, isInRange: function (s) { return gR(s, function (o, c) { return r[c].isInRange(o) }) } }) }; function tZ(t) { return (t % 180 + 180) % 180 } var rZ = function (e) { var r = e.width, n = e.height, s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, o = tZ(s), c = o * Math.PI / 180, u = Math.atan(n / r), f = c > u && c < Math.PI - u ? n / Math.sin(c) : r / Math.cos(c); return Math.abs(f) }, yw, jT; function nZ() { if (jT) return yw; jT = 1; var t = Ka(), e = Hd(), r = Mp(); function n(s) { return function (o, c, u) { var f = Object(o); if (!e(o)) { var h = t(c, 3); o = r(o), c = function (x) { return h(f[x], x, f) } } var p = s(o, c, u); return p > -1 ? f[h ? o[p] : p] : void 0 } } return yw = n, yw } var bw, NT; function aZ() { if (NT) return bw; NT = 1; var t = hR(); function e(r) { var n = t(r), s = n % 1; return n === n ? s ? n - s : n : 0 } return bw = e, bw } var vw, ST; function sZ() { if (ST) return vw; ST = 1; var t = NM(), e = Ka(), r = aZ(), n = Math.max; function s(o, c, u) { var f = o == null ? 0 : o.length; if (!f) return -1; var h = u == null ? 0 : r(u); return h < 0 && (h = n(f + h, 0)), t(o, e(c, 3), h) } return vw = s, vw } var ww, _T; function iZ() { if (_T) return ww; _T = 1; var t = nZ(), e = sZ(), r = t(e); return ww = r, ww } var oZ = iZ(); const lZ = It(oZ); var cZ = LP(); const uZ = It(cZ); var dZ = uZ(function (t) { return { x: t.left, y: t.top, width: t.width, height: t.height } }, function (t) { return ["l", t.left, "t", t.top, "w", t.width, "h", t.height].join("") }), A1 = b.createContext(void 0), E1 = b.createContext(void 0), SR = b.createContext(void 0), _R = b.createContext({}), OR = b.createContext(void 0), CR = b.createContext(0), kR = b.createContext(0), OT = function (e) { var r = e.state, n = r.xAxisMap, s = r.yAxisMap, o = r.offset, c = e.clipPathId, u = e.children, f = e.width, h = e.height, p = dZ(o); return he.createElement(A1.Provider, { value: n }, he.createElement(E1.Provider, { value: s }, he.createElement(_R.Provider, { value: o }, he.createElement(SR.Provider, { value: p }, he.createElement(OR.Provider, { value: c }, he.createElement(CR.Provider, { value: h }, he.createElement(kR.Provider, { value: f }, u))))))) }, fZ = function () { return b.useContext(OR) }, AR = function (e) { var r = b.useContext(A1); r == null && Mo(); var n = r[e]; return n == null && Mo(), n }, hZ = function () { var e = b.useContext(A1); return Si(e) }, mZ = function () { var e = b.useContext(E1), r = lZ(e, function (n) { return gR(n.domain, Number.isFinite) }); return r || Si(e) }, ER = function (e) { var r = b.useContext(E1); r == null && Mo(); var n = r[e]; return n == null && Mo(), n }, pZ = function () { var e = b.useContext(SR); return e }, xZ = function () { return b.useContext(_R) }, D1 = function () { return b.useContext(kR) }, T1 = function () { return b.useContext(CR) }; function ac(t) { "@babel/helpers - typeof"; return ac = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, ac(t) } function gZ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function yZ(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, TR(n.key), n) } } function bZ(t, e, r) { return e && yZ(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function vZ(t, e, r) { return e = Zm(e), wZ(t, DR() ? Reflect.construct(e, r || [], Zm(t).constructor) : e.apply(t, r)) } function wZ(t, e) { if (e && (ac(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return jZ(t) } function jZ(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function DR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (DR = function () { return !!t })() } function Zm(t) { return Zm = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, Zm(t) } function NZ(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && Xj(t, e) } function Xj(t, e) { return Xj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, Xj(t, e) } function CT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function kT(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? CT(Object(r), !0).forEach(function (n) { P1(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : CT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function P1(t, e, r) { return e = TR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function TR(t) { var e = SZ(t, "string"); return ac(e) == "symbol" ? e : e + "" } function SZ(t, e) { if (ac(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (ac(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } function _Z(t, e) { return AZ(t) || kZ(t, e) || CZ(t, e) || OZ() } function OZ() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function CZ(t, e) { if (t) { if (typeof t == "string") return AT(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return AT(t, e) } } function AT(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function kZ(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function AZ(t) { if (Array.isArray(t)) return t } function Jj() { return Jj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Jj.apply(this, arguments) } var EZ = function (e, r) { var n; return he.isValidElement(e) ? n = he.cloneElement(e, r) : it(e) ? n = e(r) : n = he.createElement("line", Jj({}, r, { className: "recharts-reference-line-line" })), n }, DZ = function (e, r, n, s, o, c, u, f, h) { var p = o.x, x = o.y, g = o.width, v = o.height; if (n) { var j = h.y, S = e.y.apply(j, { position: c }); if (Ua(h, "discard") && !e.y.isInRange(S)) return null; var w = [{ x: p + g, y: S }, { x: p, y: S }]; return f === "left" ? w.reverse() : w } if (r) { var O = h.x, D = e.x.apply(O, { position: c }); if (Ua(h, "discard") && !e.x.isInRange(D)) return null; var R = [{ x: D, y: x + v }, { x: D, y: x }]; return u === "top" ? R.reverse() : R } if (s) { var H = h.segment, C = H.map(function (k) { return e.apply(k, { position: c }) }); return Ua(h, "discard") && SQ(C, function (k) { return !e.isInRange(k) }) ? null : C } return null }; function TZ(t) { var e = t.x, r = t.y, n = t.segment, s = t.xAxisId, o = t.yAxisId, c = t.shape, u = t.className, f = t.alwaysShow, h = fZ(), p = AR(s), x = ER(o), g = pZ(); if (!h || !g) return null; Oa(f === void 0, 'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'); var v = k1({ x: p.scale, y: x.scale }), j = Er(e), S = Er(r), w = n && n.length === 2, O = DZ(v, j, S, w, g, t.position, p.orientation, x.orientation, t); if (!O) return null; var D = _Z(O, 2), R = D[0], H = R.x, C = R.y, k = D[1], F = k.x, P = k.y, W = Ua(t, "hidden") ? "url(#".concat(h, ")") : void 0, J = kT(kT({ clipPath: W }, et(t, !0)), {}, { x1: H, y1: C, x2: F, y2: P }); return he.createElement(xt, { className: ct("recharts-reference-line", u) }, EZ(c, J), $r.renderCallByParent(t, eZ({ x1: H, y1: C, x2: F, y2: P }))) } var ex = (function (t) { function e() { return gZ(this, e), vZ(this, e, arguments) } return NZ(e, t), bZ(e, [{ key: "render", value: function () { return he.createElement(TZ, this.props) } }]) })(he.Component); P1(ex, "displayName", "ReferenceLine"); P1(ex, "defaultProps", { isFront: !1, ifOverflow: "discard", xAxisId: 0, yAxisId: 0, fill: "none", stroke: "#ccc", fillOpacity: 1, strokeWidth: 1, position: "middle" }); function Qj() { return Qj = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Qj.apply(this, arguments) } function sc(t) { "@babel/helpers - typeof"; return sc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, sc(t) } function ET(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function DT(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? ET(Object(r), !0).forEach(function (n) { tx(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : ET(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function PZ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function MZ(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, MR(n.key), n) } } function RZ(t, e, r) { return e && MZ(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function $Z(t, e, r) { return e = ep(e), IZ(t, PR() ? Reflect.construct(e, r || [], ep(t).constructor) : e.apply(t, r)) } function IZ(t, e) { if (e && (sc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return LZ(t) } function LZ(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function PR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (PR = function () { return !!t })() } function ep(t) { return ep = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, ep(t) } function FZ(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && Zj(t, e) } function Zj(t, e) { return Zj = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, Zj(t, e) } function tx(t, e, r) { return e = MR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function MR(t) { var e = BZ(t, "string"); return sc(e) == "symbol" ? e : e + "" } function BZ(t, e) { if (sc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (sc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var qZ = function (e) { var r = e.x, n = e.y, s = e.xAxis, o = e.yAxis, c = k1({ x: s.scale, y: o.scale }), u = c.apply({ x: r, y: n }, { bandAware: !0 }); return Ua(e, "discard") && !c.isInRange(u) ? null : u }, rx = (function (t) { function e() { return PZ(this, e), $Z(this, e, arguments) } return FZ(e, t), RZ(e, [{ key: "render", value: function () { var n = this.props, s = n.x, o = n.y, c = n.r, u = n.alwaysShow, f = n.clipPathId, h = Er(s), p = Er(o); if (Oa(u === void 0, 'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'), !h || !p) return null; var x = qZ(this.props); if (!x) return null; var g = x.x, v = x.y, j = this.props, S = j.shape, w = j.className, O = Ua(this.props, "hidden") ? "url(#".concat(f, ")") : void 0, D = DT(DT({ clipPath: O }, et(this.props, !0)), {}, { cx: g, cy: v }); return he.createElement(xt, { className: ct("recharts-reference-dot", w) }, e.renderDot(S, D), $r.renderCallByParent(this.props, { x: g - c, y: v - c, width: 2 * c, height: 2 * c })) } }]) })(he.Component); tx(rx, "displayName", "ReferenceDot"); tx(rx, "defaultProps", { isFront: !1, ifOverflow: "discard", xAxisId: 0, yAxisId: 0, r: 10, fill: "#fff", stroke: "#ccc", fillOpacity: 1, strokeWidth: 1 }); tx(rx, "renderDot", function (t, e) { var r; return he.isValidElement(t) ? r = he.cloneElement(t, e) : it(t) ? r = t(e) : r = he.createElement(Jd, Qj({}, e, { cx: e.cx, cy: e.cy, className: "recharts-reference-dot-dot" })), r }); function eN() { return eN = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, eN.apply(this, arguments) } function ic(t) { "@babel/helpers - typeof"; return ic = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, ic(t) } function TT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function PT(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? TT(Object(r), !0).forEach(function (n) { nx(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : TT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function zZ(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function UZ(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, $R(n.key), n) } } function HZ(t, e, r) { return e && UZ(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function VZ(t, e, r) { return e = tp(e), YZ(t, RR() ? Reflect.construct(e, r || [], tp(t).constructor) : e.apply(t, r)) } function YZ(t, e) { if (e && (ic(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return GZ(t) } function GZ(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function RR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (RR = function () { return !!t })() } function tp(t) { return tp = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, tp(t) } function KZ(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && tN(t, e) } function tN(t, e) { return tN = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, tN(t, e) } function nx(t, e, r) { return e = $R(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function $R(t) { var e = WZ(t, "string"); return ic(e) == "symbol" ? e : e + "" } function WZ(t, e) { if (ic(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (ic(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var XZ = function (e, r, n, s, o) { var c = o.x1, u = o.x2, f = o.y1, h = o.y2, p = o.xAxis, x = o.yAxis; if (!p || !x) return null; var g = k1({ x: p.scale, y: x.scale }), v = { x: e ? g.x.apply(c, { position: "start" }) : g.x.rangeMin, y: n ? g.y.apply(f, { position: "start" }) : g.y.rangeMin }, j = { x: r ? g.x.apply(u, { position: "end" }) : g.x.rangeMax, y: s ? g.y.apply(h, { position: "end" }) : g.y.rangeMax }; return Ua(o, "discard") && (!g.isInRange(v) || !g.isInRange(j)) ? null : jR(v, j) }, ax = (function (t) { function e() { return zZ(this, e), VZ(this, e, arguments) } return KZ(e, t), HZ(e, [{ key: "render", value: function () { var n = this.props, s = n.x1, o = n.x2, c = n.y1, u = n.y2, f = n.className, h = n.alwaysShow, p = n.clipPathId; Oa(h === void 0, 'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'); var x = Er(s), g = Er(o), v = Er(c), j = Er(u), S = this.props.shape; if (!x && !g && !v && !j && !S) return null; var w = XZ(x, g, v, j, this.props); if (!w && !S) return null; var O = Ua(this.props, "hidden") ? "url(#".concat(p, ")") : void 0; return he.createElement(xt, { className: ct("recharts-reference-area", f) }, e.renderRect(S, PT(PT({ clipPath: O }, et(this.props, !0)), w)), $r.renderCallByParent(this.props, w)) } }]) })(he.Component); nx(ax, "displayName", "ReferenceArea"); nx(ax, "defaultProps", { isFront: !1, ifOverflow: "discard", xAxisId: 0, yAxisId: 0, r: 10, fill: "#ccc", fillOpacity: .5, stroke: "none", strokeWidth: 1 }); nx(ax, "renderRect", function (t, e) { var r; return he.isValidElement(t) ? r = he.cloneElement(t, e) : it(t) ? r = t(e) : r = he.createElement(O1, eN({}, e, { className: "recharts-reference-area-rect" })), r }); function IR(t, e, r) { if (e < 1) return []; if (e === 1 && r === void 0) return t; for (var n = [], s = 0; s < t.length; s += e)n.push(t[s]); return n } function JZ(t, e, r) { var n = { width: t.width + e.width, height: t.height + e.height }; return rZ(n, r) } function QZ(t, e, r) { var n = r === "width", s = t.x, o = t.y, c = t.width, u = t.height; return e === 1 ? { start: n ? s : o, end: n ? s + c : o + u } : { start: n ? s + c : o + u, end: n ? s : o } } function rp(t, e, r, n, s) { if (t * e < t * n || t * e > t * s) return !1; var o = r(); return t * (e - t * o / 2 - n) >= 0 && t * (e + t * o / 2 - s) <= 0 } function ZZ(t, e) { return IR(t, e + 1) } function eee(t, e, r, n, s) { for (var o = (n || []).slice(), c = e.start, u = e.end, f = 0, h = 1, p = c, x = function () { var j = n == null ? void 0 : n[f]; if (j === void 0) return { v: IR(n, h) }; var S = f, w, O = function () { return w === void 0 && (w = r(j, S)), w }, D = j.coordinate, R = f === 0 || rp(t, D, O, p, u); R || (f = 0, p = c, h += 1), R && (p = D + t * (O() / 2 + s), f += h) }, g; h <= o.length;)if (g = x(), g) return g.v; return [] } function Md(t) { "@babel/helpers - typeof"; return Md = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Md(t) } function MT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Qr(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? MT(Object(r), !0).forEach(function (n) { tee(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : MT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function tee(t, e, r) { return e = ree(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function ree(t) { var e = nee(t, "string"); return Md(e) == "symbol" ? e : e + "" } function nee(t, e) { if (Md(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Md(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function aee(t, e, r, n, s) { for (var o = (n || []).slice(), c = o.length, u = e.start, f = e.end, h = function (g) { var v = o[g], j, S = function () { return j === void 0 && (j = r(v, g)), j }; if (g === c - 1) { var w = t * (v.coordinate + t * S() / 2 - f); o[g] = v = Qr(Qr({}, v), {}, { tickCoord: w > 0 ? v.coordinate - w * t : v.coordinate }) } else o[g] = v = Qr(Qr({}, v), {}, { tickCoord: v.coordinate }); var O = rp(t, v.tickCoord, S, u, f); O && (f = v.tickCoord - t * (S() / 2 + s), o[g] = Qr(Qr({}, v), {}, { isShow: !0 })) }, p = c - 1; p >= 0; p--)h(p); return o } function see(t, e, r, n, s, o) { var c = (n || []).slice(), u = c.length, f = e.start, h = e.end; if (o) { var p = n[u - 1], x = r(p, u - 1), g = t * (p.coordinate + t * x / 2 - h); c[u - 1] = p = Qr(Qr({}, p), {}, { tickCoord: g > 0 ? p.coordinate - g * t : p.coordinate }); var v = rp(t, p.tickCoord, function () { return x }, f, h); v && (h = p.tickCoord - t * (x / 2 + s), c[u - 1] = Qr(Qr({}, p), {}, { isShow: !0 })) } for (var j = o ? u - 1 : u, S = function (D) { var R = c[D], H, C = function () { return H === void 0 && (H = r(R, D)), H }; if (D === 0) { var k = t * (R.coordinate - t * C() / 2 - f); c[D] = R = Qr(Qr({}, R), {}, { tickCoord: k < 0 ? R.coordinate - k * t : R.coordinate }) } else c[D] = R = Qr(Qr({}, R), {}, { tickCoord: R.coordinate }); var F = rp(t, R.tickCoord, C, f, h); F && (f = R.tickCoord + t * (C() / 2 + s), c[D] = Qr(Qr({}, R), {}, { isShow: !0 })) }, w = 0; w < j; w++)S(w); return c } function M1(t, e, r) { var n = t.tick, s = t.ticks, o = t.viewBox, c = t.minTickGap, u = t.orientation, f = t.interval, h = t.tickFormatter, p = t.unit, x = t.angle; if (!s || !s.length || !n) return []; if (Le(f) || Li.isSsr) return ZZ(s, typeof f == "number" && Le(f) ? f : 0); var g = [], v = u === "top" || u === "bottom" ? "width" : "height", j = p && v === "width" ? Uu(p, { fontSize: e, letterSpacing: r }) : { width: 0, height: 0 }, S = function (R, H) { var C = it(h) ? h(R.value, H) : R.value; return v === "width" ? JZ(Uu(C, { fontSize: e, letterSpacing: r }), j, x) : Uu(C, { fontSize: e, letterSpacing: r })[v] }, w = s.length >= 2 ? sn(s[1].coordinate - s[0].coordinate) : 1, O = QZ(o, w, v); return f === "equidistantPreserveStart" ? eee(w, O, S, s, c) : (f === "preserveStart" || f === "preserveStartEnd" ? g = see(w, O, S, s, c, f === "preserveStartEnd") : g = aee(w, O, S, s, c), g.filter(function (D) { return D.isShow })) } var iee = ["viewBox"], oee = ["viewBox"], lee = ["ticks"]; function oc(t) { "@babel/helpers - typeof"; return oc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, oc(t) } function Ml() { return Ml = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Ml.apply(this, arguments) } function RT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Cr(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? RT(Object(r), !0).forEach(function (n) { R1(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : RT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function jw(t, e) { if (t == null) return {}; var r = cee(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function cee(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function uee(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function $T(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, FR(n.key), n) } } function dee(t, e, r) { return e && $T(t.prototype, e), r && $T(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function fee(t, e, r) { return e = np(e), hee(t, LR() ? Reflect.construct(e, r || [], np(t).constructor) : e.apply(t, r)) } function hee(t, e) { if (e && (oc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return mee(t) } function mee(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function LR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (LR = function () { return !!t })() } function np(t) { return np = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, np(t) } function pee(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && rN(t, e) } function rN(t, e) { return rN = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, rN(t, e) } function R1(t, e, r) { return e = FR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function FR(t) { var e = xee(t, "string"); return oc(e) == "symbol" ? e : e + "" } function xee(t, e) { if (oc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (oc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var _c = (function (t) { function e(r) { var n; return uee(this, e), n = fee(this, e, [r]), n.state = { fontSize: "", letterSpacing: "" }, n } return pee(e, t), dee(e, [{ key: "shouldComponentUpdate", value: function (n, s) { var o = n.viewBox, c = jw(n, iee), u = this.props, f = u.viewBox, h = jw(u, oee); return !Il(o, f) || !Il(c, h) || !Il(s, this.state) } }, { key: "componentDidMount", value: function () { var n = this.layerReference; if (n) { var s = n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0]; s && this.setState({ fontSize: window.getComputedStyle(s).fontSize, letterSpacing: window.getComputedStyle(s).letterSpacing }) } } }, { key: "getTickLineCoord", value: function (n) { var s = this.props, o = s.x, c = s.y, u = s.width, f = s.height, h = s.orientation, p = s.tickSize, x = s.mirror, g = s.tickMargin, v, j, S, w, O, D, R = x ? -1 : 1, H = n.tickSize || p, C = Le(n.tickCoord) ? n.tickCoord : n.coordinate; switch (h) { case "top": v = j = n.coordinate, w = c + +!x * f, S = w - R * H, D = S - R * g, O = C; break; case "left": S = w = n.coordinate, j = o + +!x * u, v = j - R * H, O = v - R * g, D = C; break; case "right": S = w = n.coordinate, j = o + +x * u, v = j + R * H, O = v + R * g, D = C; break; default: v = j = n.coordinate, w = c + +x * f, S = w + R * H, D = S + R * g, O = C; break }return { line: { x1: v, y1: S, x2: j, y2: w }, tick: { x: O, y: D } } } }, { key: "getTickTextAnchor", value: function () { var n = this.props, s = n.orientation, o = n.mirror, c; switch (s) { case "left": c = o ? "start" : "end"; break; case "right": c = o ? "end" : "start"; break; default: c = "middle"; break }return c } }, { key: "getTickVerticalAnchor", value: function () { var n = this.props, s = n.orientation, o = n.mirror, c = "end"; switch (s) { case "left": case "right": c = "middle"; break; case "top": c = o ? "start" : "end"; break; default: c = o ? "end" : "start"; break }return c } }, { key: "renderAxisLine", value: function () { var n = this.props, s = n.x, o = n.y, c = n.width, u = n.height, f = n.orientation, h = n.mirror, p = n.axisLine, x = Cr(Cr(Cr({}, et(this.props, !1)), et(p, !1)), {}, { fill: "none" }); if (f === "top" || f === "bottom") { var g = +(f === "top" && !h || f === "bottom" && h); x = Cr(Cr({}, x), {}, { x1: s, y1: o + g * u, x2: s + c, y2: o + g * u }) } else { var v = +(f === "left" && !h || f === "right" && h); x = Cr(Cr({}, x), {}, { x1: s + v * c, y1: o, x2: s + v * c, y2: o + u }) } return he.createElement("line", Ml({}, x, { className: ct("recharts-cartesian-axis-line", Rn(p, "className")) })) } }, { key: "renderTicks", value: function (n, s, o) { var c = this, u = this.props, f = u.tickLine, h = u.stroke, p = u.tick, x = u.tickFormatter, g = u.unit, v = M1(Cr(Cr({}, this.props), {}, { ticks: n }), s, o), j = this.getTickTextAnchor(), S = this.getTickVerticalAnchor(), w = et(this.props, !1), O = et(p, !1), D = Cr(Cr({}, w), {}, { fill: "none" }, et(f, !1)), R = v.map(function (H, C) { var k = c.getTickLineCoord(H), F = k.line, P = k.tick, W = Cr(Cr(Cr(Cr({ textAnchor: j, verticalAnchor: S }, w), {}, { stroke: "none", fill: h }, O), P), {}, { index: C, payload: H, visibleTicksCount: v.length, tickFormatter: x }); return he.createElement(xt, Ml({ className: "recharts-cartesian-axis-tick", key: "tick-".concat(H.value, "-").concat(H.coordinate, "-").concat(H.tickCoord) }, Eo(c.props, H, C)), f && he.createElement("line", Ml({}, D, F, { className: ct("recharts-cartesian-axis-tick-line", Rn(f, "className")) })), p && e.renderTickItem(p, W, "".concat(it(x) ? x(H.value, C) : H.value).concat(g || ""))) }); return he.createElement("g", { className: "recharts-cartesian-axis-ticks" }, R) } }, { key: "render", value: function () { var n = this, s = this.props, o = s.axisLine, c = s.width, u = s.height, f = s.ticksGenerator, h = s.className, p = s.hide; if (p) return null; var x = this.props, g = x.ticks, v = jw(x, lee), j = g; return it(f) && (j = g && g.length > 0 ? f(this.props) : f(v)), c <= 0 || u <= 0 || !j || !j.length ? null : he.createElement(xt, { className: ct("recharts-cartesian-axis", h), ref: function (w) { n.layerReference = w } }, o && this.renderAxisLine(), this.renderTicks(j, this.state.fontSize, this.state.letterSpacing), $r.renderCallByParent(this.props)) } }], [{ key: "renderTickItem", value: function (n, s, o) { var c, u = ct(s.className, "recharts-cartesian-axis-tick-value"); return he.isValidElement(n) ? c = he.cloneElement(n, Cr(Cr({}, s), {}, { className: u })) : it(n) ? c = n(Cr(Cr({}, s), {}, { className: u })) : c = he.createElement(Do, Ml({}, s, { className: "recharts-cartesian-axis-tick-value" }), o), c } }]) })(b.Component); R1(_c, "displayName", "CartesianAxis"); R1(_c, "defaultProps", { x: 0, y: 0, width: 0, height: 0, viewBox: { x: 0, y: 0, width: 0, height: 0 }, orientation: "bottom", ticks: [], stroke: "#666", tickLine: !0, axisLine: !0, tick: !0, mirror: !1, minTickGap: 5, tickSize: 6, tickMargin: 2, interval: "preserveEnd" }); var gee = ["x1", "y1", "x2", "y2", "key"], yee = ["offset"]; function $o(t) { "@babel/helpers - typeof"; return $o = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, $o(t) } function IT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Zr(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? IT(Object(r), !0).forEach(function (n) { bee(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : IT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function bee(t, e, r) { return e = vee(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function vee(t) { var e = wee(t, "string"); return $o(e) == "symbol" ? e : e + "" } function wee(t, e) { if ($o(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if ($o(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function jo() { return jo = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, jo.apply(this, arguments) } function LT(t, e) { if (t == null) return {}; var r = jee(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function jee(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } var Nee = function (e) { var r = e.fill; if (!r || r === "none") return null; var n = e.fillOpacity, s = e.x, o = e.y, c = e.width, u = e.height, f = e.ry; return he.createElement("rect", { x: s, y: o, ry: f, width: c, height: u, stroke: "none", fill: r, fillOpacity: n, className: "recharts-cartesian-grid-bg" }) }; function BR(t, e) { var r; if (he.isValidElement(t)) r = he.cloneElement(t, e); else if (it(t)) r = t(e); else { var n = e.x1, s = e.y1, o = e.x2, c = e.y2, u = e.key, f = LT(e, gee), h = et(f, !1); h.offset; var p = LT(h, yee); r = he.createElement("line", jo({}, p, { x1: n, y1: s, x2: o, y2: c, fill: "none", key: u })) } return r } function See(t) { var e = t.x, r = t.width, n = t.horizontal, s = n === void 0 ? !0 : n, o = t.horizontalPoints; if (!s || !o || !o.length) return null; var c = o.map(function (u, f) { var h = Zr(Zr({}, t), {}, { x1: e, y1: u, x2: e + r, y2: u, key: "line-".concat(f), index: f }); return BR(s, h) }); return he.createElement("g", { className: "recharts-cartesian-grid-horizontal" }, c) } function _ee(t) { var e = t.y, r = t.height, n = t.vertical, s = n === void 0 ? !0 : n, o = t.verticalPoints; if (!s || !o || !o.length) return null; var c = o.map(function (u, f) { var h = Zr(Zr({}, t), {}, { x1: u, y1: e, x2: u, y2: e + r, key: "line-".concat(f), index: f }); return BR(s, h) }); return he.createElement("g", { className: "recharts-cartesian-grid-vertical" }, c) } function Oee(t) { var e = t.horizontalFill, r = t.fillOpacity, n = t.x, s = t.y, o = t.width, c = t.height, u = t.horizontalPoints, f = t.horizontal, h = f === void 0 ? !0 : f; if (!h || !e || !e.length) return null; var p = u.map(function (g) { return Math.round(g + s - s) }).sort(function (g, v) { return g - v }); s !== p[0] && p.unshift(0); var x = p.map(function (g, v) { var j = !p[v + 1], S = j ? s + c - g : p[v + 1] - g; if (S <= 0) return null; var w = v % e.length; return he.createElement("rect", { key: "react-".concat(v), y: g, x: n, height: S, width: o, stroke: "none", fill: e[w], fillOpacity: r, className: "recharts-cartesian-grid-bg" }) }); return he.createElement("g", { className: "recharts-cartesian-gridstripes-horizontal" }, x) } function Cee(t) { var e = t.vertical, r = e === void 0 ? !0 : e, n = t.verticalFill, s = t.fillOpacity, o = t.x, c = t.y, u = t.width, f = t.height, h = t.verticalPoints; if (!r || !n || !n.length) return null; var p = h.map(function (g) { return Math.round(g + o - o) }).sort(function (g, v) { return g - v }); o !== p[0] && p.unshift(0); var x = p.map(function (g, v) { var j = !p[v + 1], S = j ? o + u - g : p[v + 1] - g; if (S <= 0) return null; var w = v % n.length; return he.createElement("rect", { key: "react-".concat(v), x: g, y: c, width: S, height: f, stroke: "none", fill: n[w], fillOpacity: s, className: "recharts-cartesian-grid-bg" }) }); return he.createElement("g", { className: "recharts-cartesian-gridstripes-vertical" }, x) } var kee = function (e, r) { var n = e.xAxis, s = e.width, o = e.height, c = e.offset; return q4(M1(Zr(Zr(Zr({}, _c.defaultProps), n), {}, { ticks: As(n, !0), viewBox: { x: 0, y: 0, width: s, height: o } })), c.left, c.left + c.width, r) }, Aee = function (e, r) { var n = e.yAxis, s = e.width, o = e.height, c = e.offset; return q4(M1(Zr(Zr(Zr({}, _c.defaultProps), n), {}, { ticks: As(n, !0), viewBox: { x: 0, y: 0, width: s, height: o } })), c.top, c.top + c.height, r) }, kl = { horizontal: !0, vertical: !0, stroke: "#ccc", fill: "none", verticalFill: [], horizontalFill: [] }; function Es(t) { var e, r, n, s, o, c, u = D1(), f = T1(), h = xZ(), p = Zr(Zr({}, t), {}, { stroke: (e = t.stroke) !== null && e !== void 0 ? e : kl.stroke, fill: (r = t.fill) !== null && r !== void 0 ? r : kl.fill, horizontal: (n = t.horizontal) !== null && n !== void 0 ? n : kl.horizontal, horizontalFill: (s = t.horizontalFill) !== null && s !== void 0 ? s : kl.horizontalFill, vertical: (o = t.vertical) !== null && o !== void 0 ? o : kl.vertical, verticalFill: (c = t.verticalFill) !== null && c !== void 0 ? c : kl.verticalFill, x: Le(t.x) ? t.x : h.left, y: Le(t.y) ? t.y : h.top, width: Le(t.width) ? t.width : h.width, height: Le(t.height) ? t.height : h.height }), x = p.x, g = p.y, v = p.width, j = p.height, S = p.syncWithTicks, w = p.horizontalValues, O = p.verticalValues, D = hZ(), R = mZ(); if (!Le(v) || v <= 0 || !Le(j) || j <= 0 || !Le(x) || x !== +x || !Le(g) || g !== +g) return null; var H = p.verticalCoordinatesGenerator || kee, C = p.horizontalCoordinatesGenerator || Aee, k = p.horizontalPoints, F = p.verticalPoints; if ((!k || !k.length) && it(C)) { var P = w && w.length, W = C({ yAxis: R ? Zr(Zr({}, R), {}, { ticks: P ? w : R.ticks }) : void 0, width: u, height: f, offset: h }, P ? !0 : S); Oa(Array.isArray(W), "horizontalCoordinatesGenerator should return Array but instead it returned [".concat($o(W), "]")), Array.isArray(W) && (k = W) } if ((!F || !F.length) && it(H)) { var J = O && O.length, Q = H({ xAxis: D ? Zr(Zr({}, D), {}, { ticks: J ? O : D.ticks }) : void 0, width: u, height: f, offset: h }, J ? !0 : S); Oa(Array.isArray(Q), "verticalCoordinatesGenerator should return Array but instead it returned [".concat($o(Q), "]")), Array.isArray(Q) && (F = Q) } return he.createElement("g", { className: "recharts-cartesian-grid" }, he.createElement(Nee, { fill: p.fill, fillOpacity: p.fillOpacity, x: p.x, y: p.y, width: p.width, height: p.height, ry: p.ry }), he.createElement(See, jo({}, p, { offset: h, horizontalPoints: k, xAxis: D, yAxis: R })), he.createElement(_ee, jo({}, p, { offset: h, verticalPoints: F, xAxis: D, yAxis: R })), he.createElement(Oee, jo({}, p, { horizontalPoints: k })), he.createElement(Cee, jo({}, p, { verticalPoints: F }))) } Es.displayName = "CartesianGrid"; var Eee = ["type", "layout", "connectNulls", "ref"], Dee = ["key"]; function lc(t) { "@babel/helpers - typeof"; return lc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, lc(t) } function FT(t, e) { if (t == null) return {}; var r = Tee(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function Tee(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function Wu() { return Wu = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Wu.apply(this, arguments) } function BT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function An(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? BT(Object(r), !0).forEach(function (n) { ja(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : BT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Al(t) { return $ee(t) || Ree(t) || Mee(t) || Pee() } function Pee() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function Mee(t, e) { if (t) { if (typeof t == "string") return nN(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return nN(t, e) } } function Ree(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function $ee(t) { if (Array.isArray(t)) return nN(t) } function nN(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function Iee(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function qT(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, zR(n.key), n) } } function Lee(t, e, r) { return e && qT(t.prototype, e), r && qT(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function Fee(t, e, r) { return e = ap(e), Bee(t, qR() ? Reflect.construct(e, r || [], ap(t).constructor) : e.apply(t, r)) } function Bee(t, e) { if (e && (lc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return qee(t) } function qee(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function qR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (qR = function () { return !!t })() } function ap(t) { return ap = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, ap(t) } function zee(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && aN(t, e) } function aN(t, e) { return aN = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, aN(t, e) } function ja(t, e, r) { return e = zR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function zR(t) { var e = Uee(t, "string"); return lc(e) == "symbol" ? e : e + "" } function Uee(t, e) { if (lc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (lc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var Oc = (function (t) { function e() { var r; Iee(this, e); for (var n = arguments.length, s = new Array(n), o = 0; o < n; o++)s[o] = arguments[o]; return r = Fee(this, e, [].concat(s)), ja(r, "state", { isAnimationFinished: !0, totalLength: 0 }), ja(r, "generateSimpleStrokeDasharray", function (c, u) { return "".concat(u, "px ").concat(c - u, "px") }), ja(r, "getStrokeDasharray", function (c, u, f) { var h = f.reduce(function (O, D) { return O + D }); if (!h) return r.generateSimpleStrokeDasharray(u, c); for (var p = Math.floor(c / h), x = c % h, g = u - c, v = [], j = 0, S = 0; j < f.length; S += f[j], ++j)if (S + f[j] > x) { v = [].concat(Al(f.slice(0, j)), [x - S]); break } var w = v.length % 2 === 0 ? [0, g] : [g]; return [].concat(Al(e.repeat(f, p)), Al(v), w).map(function (O) { return "".concat(O, "px") }).join(", ") }), ja(r, "id", Fo("recharts-line-")), ja(r, "pathRef", function (c) { r.mainCurve = c }), ja(r, "handleAnimationEnd", function () { r.setState({ isAnimationFinished: !0 }), r.props.onAnimationEnd && r.props.onAnimationEnd() }), ja(r, "handleAnimationStart", function () { r.setState({ isAnimationFinished: !1 }), r.props.onAnimationStart && r.props.onAnimationStart() }), r } return zee(e, t), Lee(e, [{ key: "componentDidMount", value: function () { if (this.props.isAnimationActive) { var n = this.getTotalLength(); this.setState({ totalLength: n }) } } }, { key: "componentDidUpdate", value: function () { if (this.props.isAnimationActive) { var n = this.getTotalLength(); n !== this.state.totalLength && this.setState({ totalLength: n }) } } }, { key: "getTotalLength", value: function () { var n = this.mainCurve; try { return n && n.getTotalLength && n.getTotalLength() || 0 } catch { return 0 } } }, { key: "renderErrorBar", value: function (n, s) { if (this.props.isAnimationActive && !this.state.isAnimationFinished) return null; var o = this.props, c = o.points, u = o.xAxis, f = o.yAxis, h = o.layout, p = o.children, x = $n(p, Xd); if (!x) return null; var g = function (S, w) { return { x: S.x, y: S.y, value: S.value, errorVal: pr(S.payload, w) } }, v = { clipPath: n ? "url(#clipPath-".concat(s, ")") : null }; return he.createElement(xt, v, x.map(function (j) { return he.cloneElement(j, { key: "bar-".concat(j.props.dataKey), data: c, xAxis: u, yAxis: f, layout: h, dataPointFormatter: g }) })) } }, { key: "renderDots", value: function (n, s, o) { var c = this.props.isAnimationActive; if (c && !this.state.isAnimationFinished) return null; var u = this.props, f = u.dot, h = u.points, p = u.dataKey, x = et(this.props, !1), g = et(f, !0), v = h.map(function (S, w) { var O = An(An(An({ key: "dot-".concat(w), r: 3 }, x), g), {}, { index: w, cx: S.x, cy: S.y, value: S.value, dataKey: p, payload: S.payload, points: h }); return e.renderDotItem(f, O) }), j = { clipPath: n ? "url(#clipPath-".concat(s ? "" : "dots-").concat(o, ")") : null }; return he.createElement(xt, Wu({ className: "recharts-line-dots", key: "dots" }, j), v) } }, { key: "renderCurveStatically", value: function (n, s, o, c) { var u = this.props, f = u.type, h = u.layout, p = u.connectNulls; u.ref; var x = FT(u, Eee), g = An(An(An({}, et(x, !0)), {}, { fill: "none", className: "recharts-line-curve", clipPath: s ? "url(#clipPath-".concat(o, ")") : null, points: n }, c), {}, { type: f, layout: h, connectNulls: p }); return he.createElement(Co, Wu({}, g, { pathRef: this.pathRef })) } }, { key: "renderCurveWithAnimation", value: function (n, s) { var o = this, c = this.props, u = c.points, f = c.strokeDasharray, h = c.isAnimationActive, p = c.animationBegin, x = c.animationDuration, g = c.animationEasing, v = c.animationId, j = c.animateNewValues, S = c.width, w = c.height, O = this.state, D = O.prevPoints, R = O.totalLength; return he.createElement(Ca, { begin: p, duration: x, isActive: h, easing: g, from: { t: 0 }, to: { t: 1 }, key: "line-".concat(v), onAnimationEnd: this.handleAnimationEnd, onAnimationStart: this.handleAnimationStart }, function (H) { var C = H.t; if (D) { var k = D.length / u.length, F = u.map(function (V, ae) { var ie = Math.floor(ae * k); if (D[ie]) { var se = D[ie], U = Ar(se.x, V.x), le = Ar(se.y, V.y); return An(An({}, V), {}, { x: U(C), y: le(C) }) } if (j) { var de = Ar(S * 2, V.x), me = Ar(w / 2, V.y); return An(An({}, V), {}, { x: de(C), y: me(C) }) } return An(An({}, V), {}, { x: V.x, y: V.y }) }); return o.renderCurveStatically(F, n, s) } var P = Ar(0, R), W = P(C), J; if (f) { var Q = "".concat(f).split(/[,\s]+/gim).map(function (V) { return parseFloat(V) }); J = o.getStrokeDasharray(W, R, Q) } else J = o.generateSimpleStrokeDasharray(R, W); return o.renderCurveStatically(u, n, s, { strokeDasharray: J }) }) } }, { key: "renderCurve", value: function (n, s) { var o = this.props, c = o.points, u = o.isAnimationActive, f = this.state, h = f.prevPoints, p = f.totalLength; return u && c && c.length && (!h && p > 0 || !To(h, c)) ? this.renderCurveWithAnimation(n, s) : this.renderCurveStatically(c, n, s) } }, { key: "render", value: function () { var n, s = this.props, o = s.hide, c = s.dot, u = s.points, f = s.className, h = s.xAxis, p = s.yAxis, x = s.top, g = s.left, v = s.width, j = s.height, S = s.isAnimationActive, w = s.id; if (o || !u || !u.length) return null; var O = this.state.isAnimationFinished, D = u.length === 1, R = ct("recharts-line", f), H = h && h.allowDataOverflow, C = p && p.allowDataOverflow, k = H || C, F = ot(w) ? this.id : w, P = (n = et(c, !1)) !== null && n !== void 0 ? n : { r: 3, strokeWidth: 2 }, W = P.r, J = W === void 0 ? 3 : W, Q = P.strokeWidth, V = Q === void 0 ? 2 : Q, ae = UP(c) ? c : {}, ie = ae.clipDot, se = ie === void 0 ? !0 : ie, U = J * 2 + V; return he.createElement(xt, { className: R }, H || C ? he.createElement("defs", null, he.createElement("clipPath", { id: "clipPath-".concat(F) }, he.createElement("rect", { x: H ? g : g - v / 2, y: C ? x : x - j / 2, width: H ? v : v * 2, height: C ? j : j * 2 })), !se && he.createElement("clipPath", { id: "clipPath-dots-".concat(F) }, he.createElement("rect", { x: g - U / 2, y: x - U / 2, width: v + U, height: j + U }))) : null, !D && this.renderCurve(k, F), this.renderErrorBar(k, F), (D || c) && this.renderDots(k, se, F), (!S || O) && za.renderCallByParent(this.props, u)) } }], [{ key: "getDerivedStateFromProps", value: function (n, s) { return n.animationId !== s.prevAnimationId ? { prevAnimationId: n.animationId, curPoints: n.points, prevPoints: s.curPoints } : n.points !== s.curPoints ? { curPoints: n.points } : null } }, { key: "repeat", value: function (n, s) { for (var o = n.length % 2 !== 0 ? [].concat(Al(n), [0]) : n, c = [], u = 0; u < s; ++u)c = [].concat(Al(c), Al(o)); return c } }, { key: "renderDotItem", value: function (n, s) { var o; if (he.isValidElement(n)) o = he.cloneElement(n, s); else if (it(n)) o = n(s); else { var c = s.key, u = FT(s, Dee), f = ct("recharts-line-dot", typeof n != "boolean" ? n.className : ""); o = he.createElement(Jd, Wu({ key: c }, u, { className: f })) } return o } }]) })(b.PureComponent); ja(Oc, "displayName", "Line"); ja(Oc, "defaultProps", { xAxisId: 0, yAxisId: 0, connectNulls: !1, activeDot: !0, dot: !0, legendType: "line", stroke: "#3182bd", strokeWidth: 1, fill: "#fff", points: [], isAnimationActive: !Li.isSsr, animateNewValues: !0, animationBegin: 0, animationDuration: 1500, animationEasing: "ease", hide: !1, label: !1 }); ja(Oc, "getComposedData", function (t) { var e = t.props, r = t.xAxis, n = t.yAxis, s = t.xAxisTicks, o = t.yAxisTicks, c = t.dataKey, u = t.bandSize, f = t.displayedData, h = t.offset, p = e.layout, x = f.map(function (g, v) { var j = pr(g, c); return p === "horizontal" ? { x: Mm({ axis: r, ticks: s, bandSize: u, entry: g, index: v }), y: ot(j) ? null : n.scale(j), value: j, payload: g } : { x: ot(j) ? null : r.scale(j), y: Mm({ axis: n, ticks: o, bandSize: u, entry: g, index: v }), value: j, payload: g } }); return An({ points: x, layout: p }, h) }); var Hee = ["layout", "type", "stroke", "connectNulls", "isRange", "ref"], Vee = ["key"], UR; function cc(t) { "@babel/helpers - typeof"; return cc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, cc(t) } function HR(t, e) { if (t == null) return {}; var r = Yee(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function Yee(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function No() { return No = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, No.apply(this, arguments) } function zT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function yi(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? zT(Object(r), !0).forEach(function (n) { Ba(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : zT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Gee(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function UT(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, YR(n.key), n) } } function Kee(t, e, r) { return e && UT(t.prototype, e), r && UT(t, r), Object.defineProperty(t, "prototype", { writable: !1 }), t } function Wee(t, e, r) { return e = sp(e), Xee(t, VR() ? Reflect.construct(e, r || [], sp(t).constructor) : e.apply(t, r)) } function Xee(t, e) { if (e && (cc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return Jee(t) } function Jee(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function VR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (VR = function () { return !!t })() } function sp(t) { return sp = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, sp(t) } function Qee(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && sN(t, e) } function sN(t, e) { return sN = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, sN(t, e) } function Ba(t, e, r) { return e = YR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function YR(t) { var e = Zee(t, "string"); return cc(e) == "symbol" ? e : e + "" } function Zee(t, e) { if (cc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (cc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var Vs = (function (t) { function e() { var r; Gee(this, e); for (var n = arguments.length, s = new Array(n), o = 0; o < n; o++)s[o] = arguments[o]; return r = Wee(this, e, [].concat(s)), Ba(r, "state", { isAnimationFinished: !0 }), Ba(r, "id", Fo("recharts-area-")), Ba(r, "handleAnimationEnd", function () { var c = r.props.onAnimationEnd; r.setState({ isAnimationFinished: !0 }), it(c) && c() }), Ba(r, "handleAnimationStart", function () { var c = r.props.onAnimationStart; r.setState({ isAnimationFinished: !1 }), it(c) && c() }), r } return Qee(e, t), Kee(e, [{ key: "renderDots", value: function (n, s, o) { var c = this.props.isAnimationActive, u = this.state.isAnimationFinished; if (c && !u) return null; var f = this.props, h = f.dot, p = f.points, x = f.dataKey, g = et(this.props, !1), v = et(h, !0), j = p.map(function (w, O) { var D = yi(yi(yi({ key: "dot-".concat(O), r: 3 }, g), v), {}, { index: O, cx: w.x, cy: w.y, dataKey: x, value: w.value, payload: w.payload, points: p }); return e.renderDotItem(h, D) }), S = { clipPath: n ? "url(#clipPath-".concat(s ? "" : "dots-").concat(o, ")") : null }; return he.createElement(xt, No({ className: "recharts-area-dots" }, S), j) } }, { key: "renderHorizontalRect", value: function (n) { var s = this.props, o = s.baseLine, c = s.points, u = s.strokeWidth, f = c[0].x, h = c[c.length - 1].x, p = n * Math.abs(f - h), x = Oi(c.map(function (g) { return g.y || 0 })); return Le(o) && typeof o == "number" ? x = Math.max(o, x) : o && Array.isArray(o) && o.length && (x = Math.max(Oi(o.map(function (g) { return g.y || 0 })), x)), Le(x) ? he.createElement("rect", { x: f < h ? f : f - p, y: 0, width: p, height: Math.floor(x + (u ? parseInt("".concat(u), 10) : 1)) }) : null } }, { key: "renderVerticalRect", value: function (n) { var s = this.props, o = s.baseLine, c = s.points, u = s.strokeWidth, f = c[0].y, h = c[c.length - 1].y, p = n * Math.abs(f - h), x = Oi(c.map(function (g) { return g.x || 0 })); return Le(o) && typeof o == "number" ? x = Math.max(o, x) : o && Array.isArray(o) && o.length && (x = Math.max(Oi(o.map(function (g) { return g.x || 0 })), x)), Le(x) ? he.createElement("rect", { x: 0, y: f < h ? f : f - p, width: x + (u ? parseInt("".concat(u), 10) : 1), height: Math.floor(p) }) : null } }, { key: "renderClipRect", value: function (n) { var s = this.props.layout; return s === "vertical" ? this.renderVerticalRect(n) : this.renderHorizontalRect(n) } }, { key: "renderAreaStatically", value: function (n, s, o, c) { var u = this.props, f = u.layout, h = u.type, p = u.stroke, x = u.connectNulls, g = u.isRange; u.ref; var v = HR(u, Hee); return he.createElement(xt, { clipPath: o ? "url(#clipPath-".concat(c, ")") : null }, he.createElement(Co, No({}, et(v, !0), { points: n, connectNulls: x, type: h, baseLine: s, layout: f, stroke: "none", className: "recharts-area-area" })), p !== "none" && he.createElement(Co, No({}, et(this.props, !1), { className: "recharts-area-curve", layout: f, type: h, connectNulls: x, fill: "none", points: n })), p !== "none" && g && he.createElement(Co, No({}, et(this.props, !1), { className: "recharts-area-curve", layout: f, type: h, connectNulls: x, fill: "none", points: s }))) } }, { key: "renderAreaWithAnimation", value: function (n, s) { var o = this, c = this.props, u = c.points, f = c.baseLine, h = c.isAnimationActive, p = c.animationBegin, x = c.animationDuration, g = c.animationEasing, v = c.animationId, j = this.state, S = j.prevPoints, w = j.prevBaseLine; return he.createElement(Ca, { begin: p, duration: x, isActive: h, easing: g, from: { t: 0 }, to: { t: 1 }, key: "area-".concat(v), onAnimationEnd: this.handleAnimationEnd, onAnimationStart: this.handleAnimationStart }, function (O) { var D = O.t; if (S) { var R = S.length / u.length, H = u.map(function (P, W) { var J = Math.floor(W * R); if (S[J]) { var Q = S[J], V = Ar(Q.x, P.x), ae = Ar(Q.y, P.y); return yi(yi({}, P), {}, { x: V(D), y: ae(D) }) } return P }), C; if (Le(f) && typeof f == "number") { var k = Ar(w, f); C = k(D) } else if (ot(f) || vc(f)) { var F = Ar(w, 0); C = F(D) } else C = f.map(function (P, W) { var J = Math.floor(W * R); if (w[J]) { var Q = w[J], V = Ar(Q.x, P.x), ae = Ar(Q.y, P.y); return yi(yi({}, P), {}, { x: V(D), y: ae(D) }) } return P }); return o.renderAreaStatically(H, C, n, s) } return he.createElement(xt, null, he.createElement("defs", null, he.createElement("clipPath", { id: "animationClipPath-".concat(s) }, o.renderClipRect(D))), he.createElement(xt, { clipPath: "url(#animationClipPath-".concat(s, ")") }, o.renderAreaStatically(u, f, n, s))) }) } }, { key: "renderArea", value: function (n, s) { var o = this.props, c = o.points, u = o.baseLine, f = o.isAnimationActive, h = this.state, p = h.prevPoints, x = h.prevBaseLine, g = h.totalLength; return f && c && c.length && (!p && g > 0 || !To(p, c) || !To(x, u)) ? this.renderAreaWithAnimation(n, s) : this.renderAreaStatically(c, u, n, s) } }, { key: "render", value: function () { var n, s = this.props, o = s.hide, c = s.dot, u = s.points, f = s.className, h = s.top, p = s.left, x = s.xAxis, g = s.yAxis, v = s.width, j = s.height, S = s.isAnimationActive, w = s.id; if (o || !u || !u.length) return null; var O = this.state.isAnimationFinished, D = u.length === 1, R = ct("recharts-area", f), H = x && x.allowDataOverflow, C = g && g.allowDataOverflow, k = H || C, F = ot(w) ? this.id : w, P = (n = et(c, !1)) !== null && n !== void 0 ? n : { r: 3, strokeWidth: 2 }, W = P.r, J = W === void 0 ? 3 : W, Q = P.strokeWidth, V = Q === void 0 ? 2 : Q, ae = UP(c) ? c : {}, ie = ae.clipDot, se = ie === void 0 ? !0 : ie, U = J * 2 + V; return he.createElement(xt, { className: R }, H || C ? he.createElement("defs", null, he.createElement("clipPath", { id: "clipPath-".concat(F) }, he.createElement("rect", { x: H ? p : p - v / 2, y: C ? h : h - j / 2, width: H ? v : v * 2, height: C ? j : j * 2 })), !se && he.createElement("clipPath", { id: "clipPath-dots-".concat(F) }, he.createElement("rect", { x: p - U / 2, y: h - U / 2, width: v + U, height: j + U }))) : null, D ? null : this.renderArea(k, F), (c || D) && this.renderDots(k, se, F), (!S || O) && za.renderCallByParent(this.props, u)) } }], [{ key: "getDerivedStateFromProps", value: function (n, s) { return n.animationId !== s.prevAnimationId ? { prevAnimationId: n.animationId, curPoints: n.points, curBaseLine: n.baseLine, prevPoints: s.curPoints, prevBaseLine: s.curBaseLine } : n.points !== s.curPoints || n.baseLine !== s.curBaseLine ? { curPoints: n.points, curBaseLine: n.baseLine } : null } }]) })(b.PureComponent); UR = Vs; Ba(Vs, "displayName", "Area"); Ba(Vs, "defaultProps", { stroke: "#3182bd", fill: "#3182bd", fillOpacity: .6, xAxisId: 0, yAxisId: 0, legendType: "line", connectNulls: !1, points: [], dot: !1, activeDot: !0, hide: !1, isAnimationActive: !Li.isSsr, animationBegin: 0, animationDuration: 1500, animationEasing: "ease" }); Ba(Vs, "getBaseValue", function (t, e, r, n) { var s = t.layout, o = t.baseValue, c = e.props.baseValue, u = c ?? o; if (Le(u) && typeof u == "number") return u; var f = s === "horizontal" ? n : r, h = f.scale.domain(); if (f.type === "number") { var p = Math.max(h[0], h[1]), x = Math.min(h[0], h[1]); return u === "dataMin" ? x : u === "dataMax" || p < 0 ? p : Math.max(Math.min(h[0], h[1]), 0) } return u === "dataMin" ? h[0] : u === "dataMax" ? h[1] : h[0] }); Ba(Vs, "getComposedData", function (t) { var e = t.props, r = t.item, n = t.xAxis, s = t.yAxis, o = t.xAxisTicks, c = t.yAxisTicks, u = t.bandSize, f = t.dataKey, h = t.stackedData, p = t.dataStartIndex, x = t.displayedData, g = t.offset, v = e.layout, j = h && h.length, S = UR.getBaseValue(e, r, n, s), w = v === "horizontal", O = !1, D = x.map(function (H, C) { var k; j ? k = h[p + C] : (k = pr(H, f), Array.isArray(k) ? O = !0 : k = [S, k]); var F = k[1] == null || j && pr(H, f) == null; return w ? { x: Mm({ axis: n, ticks: o, bandSize: u, entry: H, index: C }), y: F ? null : s.scale(k[1]), value: k, payload: H } : { x: F ? null : n.scale(k[1]), y: Mm({ axis: s, ticks: c, bandSize: u, entry: H, index: C }), value: k, payload: H } }), R; return j || O ? R = D.map(function (H) { var C = Array.isArray(H.value) ? H.value[0] : null; return w ? { x: H.x, y: C != null && H.y != null ? s.scale(C) : null } : { x: C != null ? n.scale(C) : null, y: H.y } }) : R = w ? s.scale(S) : n.scale(S), yi({ points: D, baseLine: R, layout: v, isRange: O }, g) }); Ba(Vs, "renderDotItem", function (t, e) { var r; if (he.isValidElement(t)) r = he.cloneElement(t, e); else if (it(t)) r = t(e); else { var n = ct("recharts-area-dot", typeof t != "boolean" ? t.className : ""), s = e.key, o = HR(e, Vee); r = he.createElement(Jd, No({}, o, { key: s, className: n })) } return r }); function uc(t) { "@babel/helpers - typeof"; return uc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, uc(t) } function ete(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function tte(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, WR(n.key), n) } } function rte(t, e, r) { return e && tte(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function nte(t, e, r) { return e = ip(e), ate(t, GR() ? Reflect.construct(e, r || [], ip(t).constructor) : e.apply(t, r)) } function ate(t, e) { if (e && (uc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return ste(t) } function ste(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function GR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (GR = function () { return !!t })() } function ip(t) { return ip = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, ip(t) } function ite(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && iN(t, e) } function iN(t, e) { return iN = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, iN(t, e) } function KR(t, e, r) { return e = WR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function WR(t) { var e = ote(t, "string"); return uc(e) == "symbol" ? e : e + "" } function ote(t, e) { if (uc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (uc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } function oN() { return oN = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, oN.apply(this, arguments) } function lte(t) { var e = t.xAxisId, r = D1(), n = T1(), s = AR(e); return s == null ? null : b.createElement(_c, oN({}, s, { className: ct("recharts-".concat(s.axisType, " ").concat(s.axisType), s.className), viewBox: { x: 0, y: 0, width: r, height: n }, ticksGenerator: function (c) { return As(c, !0) } })) } var Mn = (function (t) { function e() { return ete(this, e), nte(this, e, arguments) } return ite(e, t), rte(e, [{ key: "render", value: function () { return b.createElement(lte, this.props) } }]) })(b.Component); KR(Mn, "displayName", "XAxis"); KR(Mn, "defaultProps", { allowDecimals: !0, hide: !1, orientation: "bottom", width: 0, height: 30, mirror: !1, xAxisId: 0, tickCount: 5, type: "category", padding: { left: 0, right: 0 }, allowDataOverflow: !1, scale: "auto", reversed: !1, allowDuplicatedCategory: !0 }); function dc(t) { "@babel/helpers - typeof"; return dc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, dc(t) } function cte(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function ute(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, QR(n.key), n) } } function dte(t, e, r) { return e && ute(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function fte(t, e, r) { return e = op(e), hte(t, XR() ? Reflect.construct(e, r || [], op(t).constructor) : e.apply(t, r)) } function hte(t, e) { if (e && (dc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return mte(t) } function mte(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function XR() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (XR = function () { return !!t })() } function op(t) { return op = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, op(t) } function pte(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && lN(t, e) } function lN(t, e) { return lN = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, lN(t, e) } function JR(t, e, r) { return e = QR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function QR(t) { var e = xte(t, "string"); return dc(e) == "symbol" ? e : e + "" } function xte(t, e) { if (dc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (dc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } function cN() { return cN = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, cN.apply(this, arguments) } var gte = function (e) { var r = e.yAxisId, n = D1(), s = T1(), o = ER(r); return o == null ? null : b.createElement(_c, cN({}, o, { className: ct("recharts-".concat(o.axisType, " ").concat(o.axisType), o.className), viewBox: { x: 0, y: 0, width: n, height: s }, ticksGenerator: function (u) { return As(u, !0) } })) }, Ha = (function (t) { function e() { return cte(this, e), fte(this, e, arguments) } return pte(e, t), dte(e, [{ key: "render", value: function () { return b.createElement(gte, this.props) } }]) })(b.Component); JR(Ha, "displayName", "YAxis"); JR(Ha, "defaultProps", { allowDuplicatedCategory: !0, allowDecimals: !0, hide: !1, orientation: "left", width: 60, height: 0, mirror: !1, yAxisId: 0, tickCount: 5, type: "number", padding: { top: 0, bottom: 0 }, allowDataOverflow: !1, scale: "auto", reversed: !1 }); function HT(t) { return wte(t) || vte(t) || bte(t) || yte() } function yte() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function bte(t, e) { if (t) { if (typeof t == "string") return uN(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return uN(t, e) } } function vte(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function wte(t) { if (Array.isArray(t)) return uN(t) } function uN(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } var dN = function (e, r, n, s, o) { var c = $n(e, ex), u = $n(e, rx), f = [].concat(HT(c), HT(u)), h = $n(e, ax), p = "".concat(s, "Id"), x = s[0], g = r; if (f.length && (g = f.reduce(function (S, w) { if (w.props[p] === n && Ua(w.props, "extendDomain") && Le(w.props[x])) { var O = w.props[x]; return [Math.min(S[0], O), Math.max(S[1], O)] } return S }, g)), h.length) { var v = "".concat(x, "1"), j = "".concat(x, "2"); g = h.reduce(function (S, w) { if (w.props[p] === n && Ua(w.props, "extendDomain") && Le(w.props[v]) && Le(w.props[j])) { var O = w.props[v], D = w.props[j]; return [Math.min(S[0], O, D), Math.max(S[1], O, D)] } return S }, g) } return o && o.length && (g = o.reduce(function (S, w) { return Le(w) ? [Math.min(S[0], w), Math.max(S[1], w)] : S }, g)), g }, Nw = { exports: {} }, VT; function jte() { return VT || (VT = 1, (function (t) { var e = Object.prototype.hasOwnProperty, r = "~"; function n() { } Object.create && (n.prototype = Object.create(null), new n().__proto__ || (r = !1)); function s(f, h, p) { this.fn = f, this.context = h, this.once = p || !1 } function o(f, h, p, x, g) { if (typeof p != "function") throw new TypeError("The listener must be a function"); var v = new s(p, x || f, g), j = r ? r + h : h; return f._events[j] ? f._events[j].fn ? f._events[j] = [f._events[j], v] : f._events[j].push(v) : (f._events[j] = v, f._eventsCount++), f } function c(f, h) { --f._eventsCount === 0 ? f._events = new n : delete f._events[h] } function u() { this._events = new n, this._eventsCount = 0 } u.prototype.eventNames = function () { var h = [], p, x; if (this._eventsCount === 0) return h; for (x in p = this._events) e.call(p, x) && h.push(r ? x.slice(1) : x); return Object.getOwnPropertySymbols ? h.concat(Object.getOwnPropertySymbols(p)) : h }, u.prototype.listeners = function (h) { var p = r ? r + h : h, x = this._events[p]; if (!x) return []; if (x.fn) return [x.fn]; for (var g = 0, v = x.length, j = new Array(v); g < v; g++)j[g] = x[g].fn; return j }, u.prototype.listenerCount = function (h) { var p = r ? r + h : h, x = this._events[p]; return x ? x.fn ? 1 : x.length : 0 }, u.prototype.emit = function (h, p, x, g, v, j) { var S = r ? r + h : h; if (!this._events[S]) return !1; var w = this._events[S], O = arguments.length, D, R; if (w.fn) { switch (w.once && this.removeListener(h, w.fn, void 0, !0), O) { case 1: return w.fn.call(w.context), !0; case 2: return w.fn.call(w.context, p), !0; case 3: return w.fn.call(w.context, p, x), !0; case 4: return w.fn.call(w.context, p, x, g), !0; case 5: return w.fn.call(w.context, p, x, g, v), !0; case 6: return w.fn.call(w.context, p, x, g, v, j), !0 }for (R = 1, D = new Array(O - 1); R < O; R++)D[R - 1] = arguments[R]; w.fn.apply(w.context, D) } else { var H = w.length, C; for (R = 0; R < H; R++)switch (w[R].once && this.removeListener(h, w[R].fn, void 0, !0), O) { case 1: w[R].fn.call(w[R].context); break; case 2: w[R].fn.call(w[R].context, p); break; case 3: w[R].fn.call(w[R].context, p, x); break; case 4: w[R].fn.call(w[R].context, p, x, g); break; default: if (!D) for (C = 1, D = new Array(O - 1); C < O; C++)D[C - 1] = arguments[C]; w[R].fn.apply(w[R].context, D) } } return !0 }, u.prototype.on = function (h, p, x) { return o(this, h, p, x, !1) }, u.prototype.once = function (h, p, x) { return o(this, h, p, x, !0) }, u.prototype.removeListener = function (h, p, x, g) { var v = r ? r + h : h; if (!this._events[v]) return this; if (!p) return c(this, v), this; var j = this._events[v]; if (j.fn) j.fn === p && (!g || j.once) && (!x || j.context === x) && c(this, v); else { for (var S = 0, w = [], O = j.length; S < O; S++)(j[S].fn !== p || g && !j[S].once || x && j[S].context !== x) && w.push(j[S]); w.length ? this._events[v] = w.length === 1 ? w[0] : w : c(this, v) } return this }, u.prototype.removeAllListeners = function (h) { var p; return h ? (p = r ? r + h : h, this._events[p] && c(this, p)) : (this._events = new n, this._eventsCount = 0), this }, u.prototype.off = u.prototype.removeListener, u.prototype.addListener = u.prototype.on, u.prefixed = r, u.EventEmitter = u, t.exports = u })(Nw)), Nw.exports } var Nte = jte(); const Ste = It(Nte); var Sw = new Ste, _w = "recharts.syncMouseEvents"; function Rd(t) { "@babel/helpers - typeof"; return Rd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Rd(t) } function _te(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function Ote(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, ZR(n.key), n) } } function Cte(t, e, r) { return e && Ote(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function Ow(t, e, r) { return e = ZR(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function ZR(t) { var e = kte(t, "string"); return Rd(e) == "symbol" ? e : e + "" } function kte(t, e) { if (Rd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Rd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return String(t) } var Ate = (function () { function t() { _te(this, t), Ow(this, "activeIndex", 0), Ow(this, "coordinateList", []), Ow(this, "layout", "horizontal") } return Cte(t, [{ key: "setDetails", value: function (r) { var n, s = r.coordinateList, o = s === void 0 ? null : s, c = r.container, u = c === void 0 ? null : c, f = r.layout, h = f === void 0 ? null : f, p = r.offset, x = p === void 0 ? null : p, g = r.mouseHandlerCallback, v = g === void 0 ? null : g; this.coordinateList = (n = o ?? this.coordinateList) !== null && n !== void 0 ? n : [], this.container = u ?? this.container, this.layout = h ?? this.layout, this.offset = x ?? this.offset, this.mouseHandlerCallback = v ?? this.mouseHandlerCallback, this.activeIndex = Math.min(Math.max(this.activeIndex, 0), this.coordinateList.length - 1) } }, { key: "focus", value: function () { this.spoofMouse() } }, { key: "keyboardEvent", value: function (r) { if (this.coordinateList.length !== 0) switch (r.key) { case "ArrowRight": { if (this.layout !== "horizontal") return; this.activeIndex = Math.min(this.activeIndex + 1, this.coordinateList.length - 1), this.spoofMouse(); break } case "ArrowLeft": { if (this.layout !== "horizontal") return; this.activeIndex = Math.max(this.activeIndex - 1, 0), this.spoofMouse(); break } } } }, { key: "setIndex", value: function (r) { this.activeIndex = r } }, { key: "spoofMouse", value: function () { var r, n; if (this.layout === "horizontal" && this.coordinateList.length !== 0) { var s = this.container.getBoundingClientRect(), o = s.x, c = s.y, u = s.height, f = this.coordinateList[this.activeIndex].coordinate, h = ((r = window) === null || r === void 0 ? void 0 : r.scrollX) || 0, p = ((n = window) === null || n === void 0 ? void 0 : n.scrollY) || 0, x = o + f + h, g = c + this.offset.top + u / 2 + p; this.mouseHandlerCallback({ pageX: x, pageY: g }) } } }]) })(); function Ete(t, e, r) { if (r === "number" && e === !0 && Array.isArray(t)) { var n = t == null ? void 0 : t[0], s = t == null ? void 0 : t[1]; if (n && s && Le(n) && Le(s)) return !0 } return !1 } function Dte(t, e, r, n) { var s = n / 2; return { stroke: "none", fill: "#ccc", x: t === "horizontal" ? e.x - s : r.left + .5, y: t === "horizontal" ? r.top + .5 : e.y - s, width: t === "horizontal" ? n : r.width - 1, height: t === "horizontal" ? r.height - 1 : n } } function e6(t) { var e = t.cx, r = t.cy, n = t.radius, s = t.startAngle, o = t.endAngle, c = Gt(e, r, n, s), u = Gt(e, r, n, o); return { points: [c, u], cx: e, cy: r, radius: n, startAngle: s, endAngle: o } } function Tte(t, e, r) { var n, s, o, c; if (t === "horizontal") n = e.x, o = n, s = r.top, c = r.top + r.height; else if (t === "vertical") s = e.y, c = s, n = r.left, o = r.left + r.width; else if (e.cx != null && e.cy != null) if (t === "centric") { var u = e.cx, f = e.cy, h = e.innerRadius, p = e.outerRadius, x = e.angle, g = Gt(u, f, h, x), v = Gt(u, f, p, x); n = g.x, s = g.y, o = v.x, c = v.y } else return e6(e); return [{ x: n, y: s }, { x: o, y: c }] } function $d(t) { "@babel/helpers - typeof"; return $d = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, $d(t) } function YT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Th(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? YT(Object(r), !0).forEach(function (n) { Pte(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : YT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function Pte(t, e, r) { return e = Mte(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function Mte(t) { var e = Rte(t, "string"); return $d(e) == "symbol" ? e : e + "" } function Rte(t, e) { if ($d(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if ($d(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function $te(t) { var e, r, n = t.element, s = t.tooltipEventType, o = t.isActive, c = t.activeCoordinate, u = t.activePayload, f = t.offset, h = t.activeTooltipIndex, p = t.tooltipAxisBandSize, x = t.layout, g = t.chartName, v = (e = n.props.cursor) !== null && e !== void 0 ? e : (r = n.type.defaultProps) === null || r === void 0 ? void 0 : r.cursor; if (!n || !v || !o || !c || g !== "ScatterChart" && s !== "axis") return null; var j, S = Co; if (g === "ScatterChart") j = c, S = KX; else if (g === "BarChart") j = Dte(x, c, f, p), S = O1; else if (x === "radial") { var w = e6(c), O = w.cx, D = w.cy, R = w.radius, H = w.startAngle, C = w.endAngle; j = { cx: O, cy: D, startAngle: H, endAngle: C, innerRadius: R, outerRadius: R }, S = Q4 } else j = { points: Tte(x, c, f) }, S = Co; var k = Th(Th(Th(Th({ stroke: "#ccc", pointerEvents: "none" }, f), j), et(v, !1)), {}, { payload: u, payloadIndex: h, className: ct("recharts-tooltip-cursor", v.className) }); return b.isValidElement(v) ? b.cloneElement(v, k) : b.createElement(S, k) } var Ite = ["item"], Lte = ["children", "className", "width", "height", "style", "compact", "title", "desc"]; function fc(t) { "@babel/helpers - typeof"; return fc = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, fc(t) } function Rl() { return Rl = Object.assign ? Object.assign.bind() : function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, Rl.apply(this, arguments) } function GT(t, e) { return qte(t) || Bte(t, e) || r6(t, e) || Fte() } function Fte() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function Bte(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, o, c, u = [], f = !0, h = !1; try { if (o = (r = r.call(t)).next, e !== 0) for (; !(f = (n = o.call(r)).done) && (u.push(n.value), u.length !== e); f = !0); } catch (p) { h = !0, s = p } finally { try { if (!f && r.return != null && (c = r.return(), Object(c) !== c)) return } finally { if (h) throw s } } return u } } function qte(t) { if (Array.isArray(t)) return t } function KT(t, e) { if (t == null) return {}; var r = zte(t, e), n, s; if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (s = 0; s < o.length; s++)n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } function zte(t, e) { if (t == null) return {}; var r = {}; for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) { if (e.indexOf(n) >= 0) continue; r[n] = t[n] } return r } function Ute(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function Hte(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n6(n.key), n) } } function Vte(t, e, r) { return e && Hte(t.prototype, e), Object.defineProperty(t, "prototype", { writable: !1 }), t } function Yte(t, e, r) { return e = lp(e), Gte(t, t6() ? Reflect.construct(e, r || [], lp(t).constructor) : e.apply(t, r)) } function Gte(t, e) { if (e && (fc(e) === "object" || typeof e == "function")) return e; if (e !== void 0) throw new TypeError("Derived constructors may only return object or undefined"); return Kte(t) } function Kte(t) { if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function t6() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })) } catch { } return (t6 = function () { return !!t })() } function lp(t) { return lp = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (r) { return r.__proto__ || Object.getPrototypeOf(r) }, lp(t) } function Wte(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && fN(t, e) } function fN(t, e) { return fN = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (n, s) { return n.__proto__ = s, n }, fN(t, e) } function hc(t) { return Qte(t) || Jte(t) || r6(t) || Xte() } function Xte() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
} function r6(t, e) { if (t) { if (typeof t == "string") return hN(t, e); var r = Object.prototype.toString.call(t).slice(8, -1); if (r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set") return Array.from(t); if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return hN(t, e) } } function Jte(t) { if (typeof Symbol < "u" && t[Symbol.iterator] != null || t["@@iterator"] != null) return Array.from(t) } function Qte(t) { if (Array.isArray(t)) return hN(t) } function hN(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r]; return n } function WT(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Ee(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? WT(Object(r), !0).forEach(function (n) { st(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : WT(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } function st(t, e, r) { return e = n6(e), e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function n6(t) { var e = Zte(t, "string"); return fc(e) == "symbol" ? e : e + "" } function Zte(t, e) { if (fc(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (fc(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } var ere = { xAxis: ["bottom", "top"], yAxis: ["left", "right"] }, tre = { width: "100%", height: "100%" }, a6 = { x: 0, y: 0 }; function Ph(t) { return t } var rre = function (e, r) { return r === "horizontal" ? e.x : r === "vertical" ? e.y : r === "centric" ? e.angle : e.radius }, nre = function (e, r, n, s) { var o = r.find(function (p) { return p && p.index === n }); if (o) { if (e === "horizontal") return { x: o.coordinate, y: s.y }; if (e === "vertical") return { x: s.x, y: o.coordinate }; if (e === "centric") { var c = o.coordinate, u = s.radius; return Ee(Ee(Ee({}, s), Gt(s.cx, s.cy, u, c)), {}, { angle: c, radius: u }) } var f = o.coordinate, h = s.angle; return Ee(Ee(Ee({}, s), Gt(s.cx, s.cy, f, h)), {}, { angle: h, radius: f }) } return a6 }, sx = function (e, r) { var n = r.graphicalItems, s = r.dataStartIndex, o = r.dataEndIndex, c = (n ?? []).reduce(function (u, f) { var h = f.props.data; return h && h.length ? [].concat(hc(u), hc(h)) : u }, []); return c.length > 0 ? c : e && e.length && Le(s) && Le(o) ? e.slice(s, o + 1) : [] }; function s6(t) { return t === "number" ? [0, "auto"] : void 0 } var mN = function (e, r, n, s) { var o = e.graphicalItems, c = e.tooltipAxis, u = sx(r, e); return n < 0 || !o || !o.length || n >= u.length ? null : o.reduce(function (f, h) { var p, x = (p = h.props.data) !== null && p !== void 0 ? p : r; x && e.dataStartIndex + e.dataEndIndex !== 0 && e.dataEndIndex - e.dataStartIndex >= n && (x = x.slice(e.dataStartIndex, e.dataEndIndex + 1)); var g; if (c.dataKey && !c.allowDuplicatedCategory) { var v = x === void 0 ? u : x; g = lm(v, c.dataKey, s) } else g = x && x[n] || u[n]; return g ? [].concat(hc(f), [Y4(h, g)]) : f }, []) }, XT = function (e, r, n, s) { var o = s || { x: e.chartX, y: e.chartY }, c = rre(o, n), u = e.orderedTooltipTicks, f = e.tooltipAxis, h = e.tooltipTicks, p = pG(c, u, h, f); if (p >= 0 && h) { var x = h[p] && h[p].value, g = mN(e, r, p, x), v = nre(n, u, p, o); return { activeTooltipIndex: p, activeLabel: x, activePayload: g, activeCoordinate: v } } return null }, are = function (e, r) { var n = r.axes, s = r.graphicalItems, o = r.axisType, c = r.axisIdKey, u = r.stackGroups, f = r.dataStartIndex, h = r.dataEndIndex, p = e.layout, x = e.children, g = e.stackOffset, v = B4(p, o); return n.reduce(function (j, S) { var w, O = S.type.defaultProps !== void 0 ? Ee(Ee({}, S.type.defaultProps), S.props) : S.props, D = O.type, R = O.dataKey, H = O.allowDataOverflow, C = O.allowDuplicatedCategory, k = O.scale, F = O.ticks, P = O.includeHidden, W = O[c]; if (j[W]) return j; var J = sx(e.data, { graphicalItems: s.filter(function (Z) { var ce, ne = c in Z.props ? Z.props[c] : (ce = Z.type.defaultProps) === null || ce === void 0 ? void 0 : ce[c]; return ne === W }), dataStartIndex: f, dataEndIndex: h }), Q = J.length, V, ae, ie; Ete(O.domain, H, D) && (V = Cj(O.domain, null, H), v && (D === "number" || k !== "auto") && (ie = Vu(J, R, "category"))); var se = s6(D); if (!V || V.length === 0) { var U, le = (U = O.domain) !== null && U !== void 0 ? U : se; if (R) { if (V = Vu(J, R, D), D === "category" && v) { var de = c9(V); C && de ? (ae = V, V = Km(0, Q)) : C || (V = XE(le, V, S).reduce(function (Z, ce) { return Z.indexOf(ce) >= 0 ? Z : [].concat(hc(Z), [ce]) }, [])) } else if (D === "category") C ? V = V.filter(function (Z) { return Z !== "" && !ot(Z) }) : V = XE(le, V, S).reduce(function (Z, ce) { return Z.indexOf(ce) >= 0 || ce === "" || ot(ce) ? Z : [].concat(hc(Z), [ce]) }, []); else if (D === "number") { var me = vG(J, s.filter(function (Z) { var ce, ne, L = c in Z.props ? Z.props[c] : (ce = Z.type.defaultProps) === null || ce === void 0 ? void 0 : ce[c], I = "hide" in Z.props ? Z.props.hide : (ne = Z.type.defaultProps) === null || ne === void 0 ? void 0 : ne.hide; return L === W && (P || !I) }), R, o, p); me && (V = me) } v && (D === "number" || k !== "auto") && (ie = Vu(J, R, "category")) } else v ? V = Km(0, Q) : u && u[W] && u[W].hasStack && D === "number" ? V = g === "expand" ? [0, 1] : V4(u[W].stackGroups, f, h) : V = F4(J, s.filter(function (Z) { var ce = c in Z.props ? Z.props[c] : Z.type.defaultProps[c], ne = "hide" in Z.props ? Z.props.hide : Z.type.defaultProps.hide; return ce === W && (P || !ne) }), D, p, !0); if (D === "number") V = dN(x, V, W, o, F), le && (V = Cj(le, V, H)); else if (D === "category" && le) { var pe = le, M = V.every(function (Z) { return pe.indexOf(Z) >= 0 }); M && (V = pe) } } return Ee(Ee({}, j), {}, st({}, W, Ee(Ee({}, O), {}, { axisType: o, domain: V, categoricalDomain: ie, duplicateDomain: ae, originalDomain: (w = O.domain) !== null && w !== void 0 ? w : se, isCategorical: v, layout: p }))) }, {}) }, sre = function (e, r) { var n = r.graphicalItems, s = r.Axis, o = r.axisType, c = r.axisIdKey, u = r.stackGroups, f = r.dataStartIndex, h = r.dataEndIndex, p = e.layout, x = e.children, g = sx(e.data, { graphicalItems: n, dataStartIndex: f, dataEndIndex: h }), v = g.length, j = B4(p, o), S = -1; return n.reduce(function (w, O) { var D = O.type.defaultProps !== void 0 ? Ee(Ee({}, O.type.defaultProps), O.props) : O.props, R = D[c], H = s6("number"); if (!w[R]) { S++; var C; return j ? C = Km(0, v) : u && u[R] && u[R].hasStack ? (C = V4(u[R].stackGroups, f, h), C = dN(x, C, R, o)) : (C = Cj(H, F4(g, n.filter(function (k) { var F, P, W = c in k.props ? k.props[c] : (F = k.type.defaultProps) === null || F === void 0 ? void 0 : F[c], J = "hide" in k.props ? k.props.hide : (P = k.type.defaultProps) === null || P === void 0 ? void 0 : P.hide; return W === R && !J }), "number", p), s.defaultProps.allowDataOverflow), C = dN(x, C, R, o)), Ee(Ee({}, w), {}, st({}, R, Ee(Ee({ axisType: o }, s.defaultProps), {}, { hide: !0, orientation: Rn(ere, "".concat(o, ".").concat(S % 2), null), domain: C, originalDomain: H, isCategorical: j, layout: p }))) } return w }, {}) }, ire = function (e, r) { var n = r.axisType, s = n === void 0 ? "xAxis" : n, o = r.AxisComp, c = r.graphicalItems, u = r.stackGroups, f = r.dataStartIndex, h = r.dataEndIndex, p = e.children, x = "".concat(s, "Id"), g = $n(p, o), v = {}; return g && g.length ? v = are(e, { axes: g, graphicalItems: c, axisType: s, axisIdKey: x, stackGroups: u, dataStartIndex: f, dataEndIndex: h }) : c && c.length && (v = sre(e, { Axis: o, graphicalItems: c, axisType: s, axisIdKey: x, stackGroups: u, dataStartIndex: f, dataEndIndex: h })), v }, ore = function (e) { var r = Si(e), n = As(r, !1, !0); return { tooltipTicks: n, orderedTooltipTicks: ZN(n, function (s) { return s.coordinate }), tooltipAxis: r, tooltipAxisBandSize: Rm(r, n) } }, JT = function (e) { var r = e.children, n = e.defaultShowTooltip, s = Dn(r, Ro), o = 0, c = 0; return e.data && e.data.length !== 0 && (c = e.data.length - 1), s && s.props && (s.props.startIndex >= 0 && (o = s.props.startIndex), s.props.endIndex >= 0 && (c = s.props.endIndex)), { chartX: 0, chartY: 0, dataStartIndex: o, dataEndIndex: c, activeTooltipIndex: -1, isTooltipActive: !!n } }, lre = function (e) { return !e || !e.length ? !1 : e.some(function (r) { var n = Ts(r && r.type); return n && n.indexOf("Bar") >= 0 }) }, QT = function (e) { return e === "horizontal" ? { numericAxisName: "yAxis", cateAxisName: "xAxis" } : e === "vertical" ? { numericAxisName: "xAxis", cateAxisName: "yAxis" } : e === "centric" ? { numericAxisName: "radiusAxis", cateAxisName: "angleAxis" } : { numericAxisName: "angleAxis", cateAxisName: "radiusAxis" } }, cre = function (e, r) { var n = e.props, s = e.graphicalItems, o = e.xAxisMap, c = o === void 0 ? {} : o, u = e.yAxisMap, f = u === void 0 ? {} : u, h = n.width, p = n.height, x = n.children, g = n.margin || {}, v = Dn(x, Ro), j = Dn(x, Ps), S = Object.keys(f).reduce(function (C, k) { var F = f[k], P = F.orientation; return !F.mirror && !F.hide ? Ee(Ee({}, C), {}, st({}, P, C[P] + F.width)) : C }, { left: g.left || 0, right: g.right || 0 }), w = Object.keys(c).reduce(function (C, k) { var F = c[k], P = F.orientation; return !F.mirror && !F.hide ? Ee(Ee({}, C), {}, st({}, P, Rn(C, "".concat(P)) + F.height)) : C }, { top: g.top || 0, bottom: g.bottom || 0 }), O = Ee(Ee({}, w), S), D = O.bottom; v && (O.bottom += v.props.height || Ro.defaultProps.height), j && r && (O = yG(O, s, n, r)); var R = h - O.left - O.right, H = p - O.top - O.bottom; return Ee(Ee({ brushBottom: D }, O), {}, { width: Math.max(R, 0), height: Math.max(H, 0) }) }, ure = function (e, r) { if (r === "xAxis") return e[r].width; if (r === "yAxis") return e[r].height }, ix = function (e) { var r = e.chartName, n = e.GraphicalChild, s = e.defaultTooltipEventType, o = s === void 0 ? "axis" : s, c = e.validateTooltipEventTypes, u = c === void 0 ? ["axis"] : c, f = e.axisComponents, h = e.legendContent, p = e.formatAxisMap, x = e.defaultProps, g = function (O, D) { var R = D.graphicalItems, H = D.stackGroups, C = D.offset, k = D.updateId, F = D.dataStartIndex, P = D.dataEndIndex, W = O.barSize, J = O.layout, Q = O.barGap, V = O.barCategoryGap, ae = O.maxBarSize, ie = QT(J), se = ie.numericAxisName, U = ie.cateAxisName, le = lre(R), de = []; return R.forEach(function (me, pe) { var M = sx(O.data, { graphicalItems: [me], dataStartIndex: F, dataEndIndex: P }), Z = me.type.defaultProps !== void 0 ? Ee(Ee({}, me.type.defaultProps), me.props) : me.props, ce = Z.dataKey, ne = Z.maxBarSize, L = Z["".concat(se, "Id")], I = Z["".concat(U, "Id")], _ = {}, X = f.reduce(function (fe, ue) { var ye = D["".concat(ue.axisType, "Map")], be = Z["".concat(ue.axisType, "Id")]; ye && ye[be] || ue.axisType === "zAxis" || Mo(); var Pe = ye[be]; return Ee(Ee({}, fe), {}, st(st({}, ue.axisType, Pe), "".concat(ue.axisType, "Ticks"), As(Pe))) }, _), E = X[U], q = X["".concat(U, "Ticks")], T = H && H[L] && H[L].hasStack && AG(me, H[L].stackGroups), Y = Ts(me.type).indexOf("Bar") >= 0, G = Rm(E, q), A = [], z = le && xG({ barSize: W, stackGroups: H, totalSize: ure(X, U) }); if (Y) { var $, K, ee = ot(ne) ? ae : ne, te = ($ = (K = Rm(E, q, !0)) !== null && K !== void 0 ? K : ee) !== null && $ !== void 0 ? $ : 0; A = gG({ barGap: Q, barCategoryGap: V, bandSize: te !== G ? te : G, sizeList: z[I], maxBarSize: ee }), te !== G && (A = A.map(function (fe) { return Ee(Ee({}, fe), {}, { position: Ee(Ee({}, fe.position), {}, { offset: fe.position.offset - te / 2 }) }) })) } var oe = me && me.type && me.type.getComposedData; oe && de.push({ props: Ee(Ee({}, oe(Ee(Ee({}, X), {}, { displayedData: M, props: O, dataKey: ce, item: me, bandSize: G, barPosition: A, offset: C, stackedData: T, layout: J, dataStartIndex: F, dataEndIndex: P }))), {}, st(st(st({ key: me.key || "item-".concat(pe) }, se, X[se]), U, X[U]), "animationId", k)), childIndex: w9(me, O.children), item: me }) }), de }, v = function (O, D) { var R = O.props, H = O.dataStartIndex, C = O.dataEndIndex, k = O.updateId; if (!d3({ props: R })) return null; var F = R.children, P = R.layout, W = R.stackOffset, J = R.data, Q = R.reverseStackOrder, V = QT(P), ae = V.numericAxisName, ie = V.cateAxisName, se = $n(F, n), U = CG(J, se, "".concat(ae, "Id"), "".concat(ie, "Id"), W, Q), le = f.reduce(function (Z, ce) { var ne = "".concat(ce.axisType, "Map"); return Ee(Ee({}, Z), {}, st({}, ne, ire(R, Ee(Ee({}, ce), {}, { graphicalItems: se, stackGroups: ce.axisType === ae && U, dataStartIndex: H, dataEndIndex: C })))) }, {}), de = cre(Ee(Ee({}, le), {}, { props: R, graphicalItems: se }), D == null ? void 0 : D.legendBBox); Object.keys(le).forEach(function (Z) { le[Z] = p(R, le[Z], de, Z.replace("Map", ""), r) }); var me = le["".concat(ie, "Map")], pe = ore(me), M = g(R, Ee(Ee({}, le), {}, { dataStartIndex: H, dataEndIndex: C, updateId: k, graphicalItems: se, stackGroups: U, offset: de })); return Ee(Ee({ formattedGraphicalItems: M, graphicalItems: se, offset: de, stackGroups: U }, pe), le) }, j = (function (w) { function O(D) { var R, H, C; return Ute(this, O), C = Yte(this, O, [D]), st(C, "eventEmitterSymbol", Symbol("rechartsEventEmitter")), st(C, "accessibilityManager", new Ate), st(C, "handleLegendBBoxUpdate", function (k) { if (k) { var F = C.state, P = F.dataStartIndex, W = F.dataEndIndex, J = F.updateId; C.setState(Ee({ legendBBox: k }, v({ props: C.props, dataStartIndex: P, dataEndIndex: W, updateId: J }, Ee(Ee({}, C.state), {}, { legendBBox: k })))) } }), st(C, "handleReceiveSyncEvent", function (k, F, P) { if (C.props.syncId === k) { if (P === C.eventEmitterSymbol && typeof C.props.syncMethod != "function") return; C.applySyncEvent(F) } }), st(C, "handleBrushChange", function (k) { var F = k.startIndex, P = k.endIndex; if (F !== C.state.dataStartIndex || P !== C.state.dataEndIndex) { var W = C.state.updateId; C.setState(function () { return Ee({ dataStartIndex: F, dataEndIndex: P }, v({ props: C.props, dataStartIndex: F, dataEndIndex: P, updateId: W }, C.state)) }), C.triggerSyncEvent({ dataStartIndex: F, dataEndIndex: P }) } }), st(C, "handleMouseEnter", function (k) { var F = C.getMouseInfo(k); if (F) { var P = Ee(Ee({}, F), {}, { isTooltipActive: !0 }); C.setState(P), C.triggerSyncEvent(P); var W = C.props.onMouseEnter; it(W) && W(P, k) } }), st(C, "triggeredAfterMouseMove", function (k) { var F = C.getMouseInfo(k), P = F ? Ee(Ee({}, F), {}, { isTooltipActive: !0 }) : { isTooltipActive: !1 }; C.setState(P), C.triggerSyncEvent(P); var W = C.props.onMouseMove; it(W) && W(P, k) }), st(C, "handleItemMouseEnter", function (k) { C.setState(function () { return { isTooltipActive: !0, activeItem: k, activePayload: k.tooltipPayload, activeCoordinate: k.tooltipPosition || { x: k.cx, y: k.cy } } }) }), st(C, "handleItemMouseLeave", function () { C.setState(function () { return { isTooltipActive: !1 } }) }), st(C, "handleMouseMove", function (k) { k.persist(), C.throttleTriggeredAfterMouseMove(k) }), st(C, "handleMouseLeave", function (k) { C.throttleTriggeredAfterMouseMove.cancel(); var F = { isTooltipActive: !1 }; C.setState(F), C.triggerSyncEvent(F); var P = C.props.onMouseLeave; it(P) && P(F, k) }), st(C, "handleOuterEvent", function (k) { var F = v9(k), P = Rn(C.props, "".concat(F)); if (F && it(P)) { var W, J; /.*touch.*/i.test(F) ? J = C.getMouseInfo(k.changedTouches[0]) : J = C.getMouseInfo(k), P((W = J) !== null && W !== void 0 ? W : {}, k) } }), st(C, "handleClick", function (k) { var F = C.getMouseInfo(k); if (F) { var P = Ee(Ee({}, F), {}, { isTooltipActive: !0 }); C.setState(P), C.triggerSyncEvent(P); var W = C.props.onClick; it(W) && W(P, k) } }), st(C, "handleMouseDown", function (k) { var F = C.props.onMouseDown; if (it(F)) { var P = C.getMouseInfo(k); F(P, k) } }), st(C, "handleMouseUp", function (k) { var F = C.props.onMouseUp; if (it(F)) { var P = C.getMouseInfo(k); F(P, k) } }), st(C, "handleTouchMove", function (k) { k.changedTouches != null && k.changedTouches.length > 0 && C.throttleTriggeredAfterMouseMove(k.changedTouches[0]) }), st(C, "handleTouchStart", function (k) { k.changedTouches != null && k.changedTouches.length > 0 && C.handleMouseDown(k.changedTouches[0]) }), st(C, "handleTouchEnd", function (k) { k.changedTouches != null && k.changedTouches.length > 0 && C.handleMouseUp(k.changedTouches[0]) }), st(C, "handleDoubleClick", function (k) { var F = C.props.onDoubleClick; if (it(F)) { var P = C.getMouseInfo(k); F(P, k) } }), st(C, "handleContextMenu", function (k) { var F = C.props.onContextMenu; if (it(F)) { var P = C.getMouseInfo(k); F(P, k) } }), st(C, "triggerSyncEvent", function (k) { C.props.syncId !== void 0 && Sw.emit(_w, C.props.syncId, k, C.eventEmitterSymbol) }), st(C, "applySyncEvent", function (k) { var F = C.props, P = F.layout, W = F.syncMethod, J = C.state.updateId, Q = k.dataStartIndex, V = k.dataEndIndex; if (k.dataStartIndex !== void 0 || k.dataEndIndex !== void 0) C.setState(Ee({ dataStartIndex: Q, dataEndIndex: V }, v({ props: C.props, dataStartIndex: Q, dataEndIndex: V, updateId: J }, C.state))); else if (k.activeTooltipIndex !== void 0) { var ae = k.chartX, ie = k.chartY, se = k.activeTooltipIndex, U = C.state, le = U.offset, de = U.tooltipTicks; if (!le) return; if (typeof W == "function") se = W(de, k); else if (W === "value") { se = -1; for (var me = 0; me < de.length; me++)if (de[me].value === k.activeLabel) { se = me; break } } var pe = Ee(Ee({}, le), {}, { x: le.left, y: le.top }), M = Math.min(ae, pe.x + pe.width), Z = Math.min(ie, pe.y + pe.height), ce = de[se] && de[se].value, ne = mN(C.state, C.props.data, se), L = de[se] ? { x: P === "horizontal" ? de[se].coordinate : M, y: P === "horizontal" ? Z : de[se].coordinate } : a6; C.setState(Ee(Ee({}, k), {}, { activeLabel: ce, activeCoordinate: L, activePayload: ne, activeTooltipIndex: se })) } else C.setState(k) }), st(C, "renderCursor", function (k) { var F, P = C.state, W = P.isTooltipActive, J = P.activeCoordinate, Q = P.activePayload, V = P.offset, ae = P.activeTooltipIndex, ie = P.tooltipAxisBandSize, se = C.getTooltipEventType(), U = (F = k.props.active) !== null && F !== void 0 ? F : W, le = C.props.layout, de = k.key || "_recharts-cursor"; return he.createElement($te, { key: de, activeCoordinate: J, activePayload: Q, activeTooltipIndex: ae, chartName: r, element: k, isActive: U, layout: le, offset: V, tooltipAxisBandSize: ie, tooltipEventType: se }) }), st(C, "renderPolarAxis", function (k, F, P) { var W = Rn(k, "type.axisType"), J = Rn(C.state, "".concat(W, "Map")), Q = k.type.defaultProps, V = Q !== void 0 ? Ee(Ee({}, Q), k.props) : k.props, ae = J && J[V["".concat(W, "Id")]]; return b.cloneElement(k, Ee(Ee({}, ae), {}, { className: ct(W, ae.className), key: k.key || "".concat(F, "-").concat(P), ticks: As(ae, !0) })) }), st(C, "renderPolarGrid", function (k) { var F = k.props, P = F.radialLines, W = F.polarAngles, J = F.polarRadius, Q = C.state, V = Q.radiusAxisMap, ae = Q.angleAxisMap, ie = Si(V), se = Si(ae), U = se.cx, le = se.cy, de = se.innerRadius, me = se.outerRadius; return b.cloneElement(k, { polarAngles: Array.isArray(W) ? W : As(se, !0).map(function (pe) { return pe.coordinate }), polarRadius: Array.isArray(J) ? J : As(ie, !0).map(function (pe) { return pe.coordinate }), cx: U, cy: le, innerRadius: de, outerRadius: me, key: k.key || "polar-grid", radialLines: P }) }), st(C, "renderLegend", function () { var k = C.state.formattedGraphicalItems, F = C.props, P = F.children, W = F.width, J = F.height, Q = C.props.margin || {}, V = W - (Q.left || 0) - (Q.right || 0), ae = I4({ children: P, formattedGraphicalItems: k, legendWidth: V, legendContent: h }); if (!ae) return null; var ie = ae.item, se = KT(ae, Ite); return b.cloneElement(ie, Ee(Ee({}, se), {}, { chartWidth: W, chartHeight: J, margin: Q, onBBoxUpdate: C.handleLegendBBoxUpdate })) }), st(C, "renderTooltip", function () { var k, F = C.props, P = F.children, W = F.accessibilityLayer, J = Dn(P, nn); if (!J) return null; var Q = C.state, V = Q.isTooltipActive, ae = Q.activeCoordinate, ie = Q.activePayload, se = Q.activeLabel, U = Q.offset, le = (k = J.props.active) !== null && k !== void 0 ? k : V; return b.cloneElement(J, { viewBox: Ee(Ee({}, U), {}, { x: U.left, y: U.top }), active: le, label: se, payload: le ? ie : [], coordinate: ae, accessibilityLayer: W }) }), st(C, "renderBrush", function (k) { var F = C.props, P = F.margin, W = F.data, J = C.state, Q = J.offset, V = J.dataStartIndex, ae = J.dataEndIndex, ie = J.updateId; return b.cloneElement(k, { key: k.key || "_recharts-brush", onChange: kh(C.handleBrushChange, k.props.onChange), data: W, x: Le(k.props.x) ? k.props.x : Q.left, y: Le(k.props.y) ? k.props.y : Q.top + Q.height + Q.brushBottom - (P.bottom || 0), width: Le(k.props.width) ? k.props.width : Q.width, startIndex: V, endIndex: ae, updateId: "brush-".concat(ie) }) }), st(C, "renderReferenceElement", function (k, F, P) { if (!k) return null; var W = C, J = W.clipPathId, Q = C.state, V = Q.xAxisMap, ae = Q.yAxisMap, ie = Q.offset, se = k.type.defaultProps || {}, U = k.props, le = U.xAxisId, de = le === void 0 ? se.xAxisId : le, me = U.yAxisId, pe = me === void 0 ? se.yAxisId : me; return b.cloneElement(k, { key: k.key || "".concat(F, "-").concat(P), xAxis: V[de], yAxis: ae[pe], viewBox: { x: ie.left, y: ie.top, width: ie.width, height: ie.height }, clipPathId: J }) }), st(C, "renderActivePoints", function (k) { var F = k.item, P = k.activePoint, W = k.basePoint, J = k.childIndex, Q = k.isRange, V = [], ae = F.props.key, ie = F.item.type.defaultProps !== void 0 ? Ee(Ee({}, F.item.type.defaultProps), F.item.props) : F.item.props, se = ie.activeDot, U = ie.dataKey, le = Ee(Ee({ index: J, dataKey: U, cx: P.x, cy: P.y, r: 4, fill: _1(F.item), strokeWidth: 2, stroke: "#fff", payload: P.payload, value: P.value }, et(se, !1)), cm(se)); return V.push(O.renderActiveDot(se, le, "".concat(ae, "-activePoint-").concat(J))), W ? V.push(O.renderActiveDot(se, Ee(Ee({}, le), {}, { cx: W.x, cy: W.y }), "".concat(ae, "-basePoint-").concat(J))) : Q && V.push(null), V }), st(C, "renderGraphicChild", function (k, F, P) { var W = C.filterFormatItem(k, F, P); if (!W) return null; var J = C.getTooltipEventType(), Q = C.state, V = Q.isTooltipActive, ae = Q.tooltipAxis, ie = Q.activeTooltipIndex, se = Q.activeLabel, U = C.props.children, le = Dn(U, nn), de = W.props, me = de.points, pe = de.isRange, M = de.baseLine, Z = W.item.type.defaultProps !== void 0 ? Ee(Ee({}, W.item.type.defaultProps), W.item.props) : W.item.props, ce = Z.activeDot, ne = Z.hide, L = Z.activeBar, I = Z.activeShape, _ = !!(!ne && V && le && (ce || L || I)), X = {}; J !== "axis" && le && le.props.trigger === "click" ? X = { onClick: kh(C.handleItemMouseEnter, k.props.onClick) } : J !== "axis" && (X = { onMouseLeave: kh(C.handleItemMouseLeave, k.props.onMouseLeave), onMouseEnter: kh(C.handleItemMouseEnter, k.props.onMouseEnter) }); var E = b.cloneElement(k, Ee(Ee({}, W.props), X)); function q(ue) { return typeof ae.dataKey == "function" ? ae.dataKey(ue.payload) : null } if (_) if (ie >= 0) { var T, Y; if (ae.dataKey && !ae.allowDuplicatedCategory) { var G = typeof ae.dataKey == "function" ? q : "payload.".concat(ae.dataKey.toString()); T = lm(me, G, se), Y = pe && M && lm(M, G, se) } else T = me == null ? void 0 : me[ie], Y = pe && M && M[ie]; if (I || L) { var A = k.props.activeIndex !== void 0 ? k.props.activeIndex : ie; return [b.cloneElement(k, Ee(Ee(Ee({}, W.props), X), {}, { activeIndex: A })), null, null] } if (!ot(T)) return [E].concat(hc(C.renderActivePoints({ item: W, activePoint: T, basePoint: Y, childIndex: ie, isRange: pe }))) } else { var z, $ = (z = C.getItemByXY(C.state.activeCoordinate)) !== null && z !== void 0 ? z : { graphicalItem: E }, K = $.graphicalItem, ee = K.item, te = ee === void 0 ? k : ee, oe = K.childIndex, fe = Ee(Ee(Ee({}, W.props), X), {}, { activeIndex: oe }); return [b.cloneElement(te, fe), null, null] } return pe ? [E, null, null] : [E, null] }), st(C, "renderCustomized", function (k, F, P) { return b.cloneElement(k, Ee(Ee({ key: "recharts-customized-".concat(P) }, C.props), C.state)) }), st(C, "renderMap", { CartesianGrid: { handler: Ph, once: !0 }, ReferenceArea: { handler: C.renderReferenceElement }, ReferenceLine: { handler: Ph }, ReferenceDot: { handler: C.renderReferenceElement }, XAxis: { handler: Ph }, YAxis: { handler: Ph }, Brush: { handler: C.renderBrush, once: !0 }, Bar: { handler: C.renderGraphicChild }, Line: { handler: C.renderGraphicChild }, Area: { handler: C.renderGraphicChild }, Radar: { handler: C.renderGraphicChild }, RadialBar: { handler: C.renderGraphicChild }, Scatter: { handler: C.renderGraphicChild }, Pie: { handler: C.renderGraphicChild }, Funnel: { handler: C.renderGraphicChild }, Tooltip: { handler: C.renderCursor, once: !0 }, PolarGrid: { handler: C.renderPolarGrid, once: !0 }, PolarAngleAxis: { handler: C.renderPolarAxis }, PolarRadiusAxis: { handler: C.renderPolarAxis }, Customized: { handler: C.renderCustomized } }), C.clipPathId = "".concat((R = D.id) !== null && R !== void 0 ? R : Fo("recharts"), "-clip"), C.throttleTriggeredAfterMouseMove = $M(C.triggeredAfterMouseMove, (H = D.throttleDelay) !== null && H !== void 0 ? H : 1e3 / 60), C.state = {}, C } return Wte(O, w), Vte(O, [{ key: "componentDidMount", value: function () { var R, H; this.addListener(), this.accessibilityManager.setDetails({ container: this.container, offset: { left: (R = this.props.margin.left) !== null && R !== void 0 ? R : 0, top: (H = this.props.margin.top) !== null && H !== void 0 ? H : 0 }, coordinateList: this.state.tooltipTicks, mouseHandlerCallback: this.triggeredAfterMouseMove, layout: this.props.layout }), this.displayDefaultTooltip() } }, { key: "displayDefaultTooltip", value: function () { var R = this.props, H = R.children, C = R.data, k = R.height, F = R.layout, P = Dn(H, nn); if (P) { var W = P.props.defaultIndex; if (!(typeof W != "number" || W < 0 || W > this.state.tooltipTicks.length - 1)) { var J = this.state.tooltipTicks[W] && this.state.tooltipTicks[W].value, Q = mN(this.state, C, W, J), V = this.state.tooltipTicks[W].coordinate, ae = (this.state.offset.top + k) / 2, ie = F === "horizontal", se = ie ? { x: V, y: ae } : { y: V, x: ae }, U = this.state.formattedGraphicalItems.find(function (de) { var me = de.item; return me.type.name === "Scatter" }); U && (se = Ee(Ee({}, se), U.props.points[W].tooltipPosition), Q = U.props.points[W].tooltipPayload); var le = { activeTooltipIndex: W, isTooltipActive: !0, activeLabel: J, activePayload: Q, activeCoordinate: se }; this.setState(le), this.renderCursor(P), this.accessibilityManager.setIndex(W) } } } }, { key: "getSnapshotBeforeUpdate", value: function (R, H) { if (!this.props.accessibilityLayer) return null; if (this.state.tooltipTicks !== H.tooltipTicks && this.accessibilityManager.setDetails({ coordinateList: this.state.tooltipTicks }), this.props.layout !== R.layout && this.accessibilityManager.setDetails({ layout: this.props.layout }), this.props.margin !== R.margin) { var C, k; this.accessibilityManager.setDetails({ offset: { left: (C = this.props.margin.left) !== null && C !== void 0 ? C : 0, top: (k = this.props.margin.top) !== null && k !== void 0 ? k : 0 } }) } return null } }, { key: "componentDidUpdate", value: function (R) { Ww([Dn(R.children, nn)], [Dn(this.props.children, nn)]) || this.displayDefaultTooltip() } }, { key: "componentWillUnmount", value: function () { this.removeListener(), this.throttleTriggeredAfterMouseMove.cancel() } }, { key: "getTooltipEventType", value: function () { var R = Dn(this.props.children, nn); if (R && typeof R.props.shared == "boolean") { var H = R.props.shared ? "axis" : "item"; return u.indexOf(H) >= 0 ? H : o } return o } }, { key: "getMouseInfo", value: function (R) { if (!this.container) return null; var H = this.container, C = H.getBoundingClientRect(), k = oU(C), F = { chartX: Math.round(R.pageX - k.left), chartY: Math.round(R.pageY - k.top) }, P = C.width / H.offsetWidth || 1, W = this.inRange(F.chartX, F.chartY, P); if (!W) return null; var J = this.state, Q = J.xAxisMap, V = J.yAxisMap, ae = this.getTooltipEventType(), ie = XT(this.state, this.props.data, this.props.layout, W); if (ae !== "axis" && Q && V) { var se = Si(Q).scale, U = Si(V).scale, le = se && se.invert ? se.invert(F.chartX) : null, de = U && U.invert ? U.invert(F.chartY) : null; return Ee(Ee({}, F), {}, { xValue: le, yValue: de }, ie) } return ie ? Ee(Ee({}, F), ie) : null } }, { key: "inRange", value: function (R, H) { var C = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1, k = this.props.layout, F = R / C, P = H / C; if (k === "horizontal" || k === "vertical") { var W = this.state.offset, J = F >= W.left && F <= W.left + W.width && P >= W.top && P <= W.top + W.height; return J ? { x: F, y: P } : null } var Q = this.state, V = Q.angleAxisMap, ae = Q.radiusAxisMap; if (V && ae) { var ie = Si(V); return ZE({ x: F, y: P }, ie) } return null } }, { key: "parseEventsOfWrapper", value: function () { var R = this.props.children, H = this.getTooltipEventType(), C = Dn(R, nn), k = {}; C && H === "axis" && (C.props.trigger === "click" ? k = { onClick: this.handleClick } : k = { onMouseEnter: this.handleMouseEnter, onDoubleClick: this.handleDoubleClick, onMouseMove: this.handleMouseMove, onMouseLeave: this.handleMouseLeave, onTouchMove: this.handleTouchMove, onTouchStart: this.handleTouchStart, onTouchEnd: this.handleTouchEnd, onContextMenu: this.handleContextMenu }); var F = cm(this.props, this.handleOuterEvent); return Ee(Ee({}, F), k) } }, { key: "addListener", value: function () { Sw.on(_w, this.handleReceiveSyncEvent) } }, { key: "removeListener", value: function () { Sw.removeListener(_w, this.handleReceiveSyncEvent) } }, { key: "filterFormatItem", value: function (R, H, C) { for (var k = this.state.formattedGraphicalItems, F = 0, P = k.length; F < P; F++) { var W = k[F]; if (W.item === R || W.props.key === R.key || H === Ts(W.item.type) && C === W.childIndex) return W } return null } }, { key: "renderClipPath", value: function () { var R = this.clipPathId, H = this.state.offset, C = H.left, k = H.top, F = H.height, P = H.width; return he.createElement("defs", null, he.createElement("clipPath", { id: R }, he.createElement("rect", { x: C, y: k, height: F, width: P }))) } }, { key: "getXScales", value: function () { var R = this.state.xAxisMap; return R ? Object.entries(R).reduce(function (H, C) { var k = GT(C, 2), F = k[0], P = k[1]; return Ee(Ee({}, H), {}, st({}, F, P.scale)) }, {}) : null } }, { key: "getYScales", value: function () { var R = this.state.yAxisMap; return R ? Object.entries(R).reduce(function (H, C) { var k = GT(C, 2), F = k[0], P = k[1]; return Ee(Ee({}, H), {}, st({}, F, P.scale)) }, {}) : null } }, { key: "getXScaleByAxisId", value: function (R) { var H; return (H = this.state.xAxisMap) === null || H === void 0 || (H = H[R]) === null || H === void 0 ? void 0 : H.scale } }, { key: "getYScaleByAxisId", value: function (R) { var H; return (H = this.state.yAxisMap) === null || H === void 0 || (H = H[R]) === null || H === void 0 ? void 0 : H.scale } }, { key: "getItemByXY", value: function (R) { var H = this.state, C = H.formattedGraphicalItems, k = H.activeItem; if (C && C.length) for (var F = 0, P = C.length; F < P; F++) { var W = C[F], J = W.props, Q = W.item, V = Q.type.defaultProps !== void 0 ? Ee(Ee({}, Q.type.defaultProps), Q.props) : Q.props, ae = Ts(Q.type); if (ae === "Bar") { var ie = (J.data || []).find(function (de) { return kX(R, de) }); if (ie) return { graphicalItem: W, payload: ie } } else if (ae === "RadialBar") { var se = (J.data || []).find(function (de) { return ZE(R, de) }); if (se) return { graphicalItem: W, payload: se } } else if (Jp(W, k) || Qp(W, k) || Ed(W, k)) { var U = JJ({ graphicalItem: W, activeTooltipItem: k, itemData: V.data }), le = V.activeIndex === void 0 ? U : V.activeIndex; return { graphicalItem: Ee(Ee({}, W), {}, { childIndex: le }), payload: Ed(W, k) ? V.data[U] : W.props.data[U] } } } return null } }, { key: "render", value: function () { var R = this; if (!d3(this)) return null; var H = this.props, C = H.children, k = H.className, F = H.width, P = H.height, W = H.style, J = H.compact, Q = H.title, V = H.desc, ae = KT(H, Lte), ie = et(ae, !1); if (J) return he.createElement(OT, { state: this.state, width: this.props.width, height: this.props.height, clipPathId: this.clipPathId }, he.createElement(Jw, Rl({}, ie, { width: F, height: P, title: Q, desc: V }), this.renderClipPath(), h3(C, this.renderMap))); if (this.props.accessibilityLayer) { var se, U; ie.tabIndex = (se = this.props.tabIndex) !== null && se !== void 0 ? se : 0, ie.role = (U = this.props.role) !== null && U !== void 0 ? U : "application", ie.onKeyDown = function (de) { R.accessibilityManager.keyboardEvent(de) }, ie.onFocus = function () { R.accessibilityManager.focus() } } var le = this.parseEventsOfWrapper(); return he.createElement(OT, { state: this.state, width: this.props.width, height: this.props.height, clipPathId: this.clipPathId }, he.createElement("div", Rl({ className: ct("recharts-wrapper", k), style: Ee({ position: "relative", cursor: "default", width: F, height: P }, W) }, le, { ref: function (me) { R.container = me } }), he.createElement(Jw, Rl({}, ie, { width: F, height: P, title: Q, desc: V, style: tre }), this.renderClipPath(), h3(C, this.renderMap)), this.renderLegend(), this.renderTooltip())) } }]) })(b.Component); st(j, "displayName", r), st(j, "defaultProps", Ee({ layout: "horizontal", stackOffset: "none", barCategoryGap: "10%", barGap: 4, margin: { top: 5, right: 5, bottom: 5, left: 5 }, reverseStackOrder: !1, syncMethod: "index" }, x)), st(j, "getDerivedStateFromProps", function (w, O) { var D = w.dataKey, R = w.data, H = w.children, C = w.width, k = w.height, F = w.layout, P = w.stackOffset, W = w.margin, J = O.dataStartIndex, Q = O.dataEndIndex; if (O.updateId === void 0) { var V = JT(w); return Ee(Ee(Ee({}, V), {}, { updateId: 0 }, v(Ee(Ee({ props: w }, V), {}, { updateId: 0 }), O)), {}, { prevDataKey: D, prevData: R, prevWidth: C, prevHeight: k, prevLayout: F, prevStackOffset: P, prevMargin: W, prevChildren: H }) } if (D !== O.prevDataKey || R !== O.prevData || C !== O.prevWidth || k !== O.prevHeight || F !== O.prevLayout || P !== O.prevStackOffset || !Il(W, O.prevMargin)) { var ae = JT(w), ie = { chartX: O.chartX, chartY: O.chartY, isTooltipActive: O.isTooltipActive }, se = Ee(Ee({}, XT(O, R, F)), {}, { updateId: O.updateId + 1 }), U = Ee(Ee(Ee({}, ae), ie), se); return Ee(Ee(Ee({}, U), v(Ee({ props: w }, U), O)), {}, { prevDataKey: D, prevData: R, prevWidth: C, prevHeight: k, prevLayout: F, prevStackOffset: P, prevMargin: W, prevChildren: H }) } if (!Ww(H, O.prevChildren)) { var le, de, me, pe, M = Dn(H, Ro), Z = M && (le = (de = M.props) === null || de === void 0 ? void 0 : de.startIndex) !== null && le !== void 0 ? le : J, ce = M && (me = (pe = M.props) === null || pe === void 0 ? void 0 : pe.endIndex) !== null && me !== void 0 ? me : Q, ne = Z !== J || ce !== Q, L = !ot(R), I = L && !ne ? O.updateId : O.updateId + 1; return Ee(Ee({ updateId: I }, v(Ee(Ee({ props: w }, O), {}, { updateId: I, dataStartIndex: Z, dataEndIndex: ce }), O)), {}, { prevChildren: H, dataStartIndex: Z, dataEndIndex: ce }) } return null }), st(j, "renderActiveDot", function (w, O, D) { var R; return b.isValidElement(w) ? R = b.cloneElement(w, O) : it(w) ? R = w(O) : R = he.createElement(Jd, O), he.createElement(xt, { className: "recharts-active-dot", key: D }, R) }); var S = b.forwardRef(function (O, D) { return he.createElement(j, Rl({}, O, { ref: D })) }); return S.displayName = j.displayName, S }, i6 = ix({ chartName: "LineChart", GraphicalChild: Oc, axisComponents: [{ axisType: "xAxis", AxisComp: Mn }, { axisType: "yAxis", AxisComp: Ha }], formatAxisMap: C1 }), cp = ix({ chartName: "BarChart", GraphicalChild: ka, defaultTooltipEventType: "axis", validateTooltipEventTypes: ["axis", "item"], axisComponents: [{ axisType: "xAxis", AxisComp: Mn }, { axisType: "yAxis", AxisComp: Ha }], formatAxisMap: C1 }), dre = ix({ chartName: "PieChart", GraphicalChild: Hs, validateTooltipEventTypes: ["item"], defaultTooltipEventType: "item", legendContent: "children", axisComponents: [{ axisType: "angleAxis", AxisComp: Xp }, { axisType: "radiusAxis", AxisComp: Kp }], formatAxisMap: FG, defaultProps: { layout: "centric", startAngle: 0, endAngle: 360, cx: "50%", cy: "50%", innerRadius: 0, outerRadius: "80%" } }), o6 = ix({ chartName: "AreaChart", GraphicalChild: Vs, axisComponents: [{ axisType: "xAxis", AxisComp: Mn }, { axisType: "yAxis", AxisComp: Ha }], formatAxisMap: C1 }); function fre() { const [t, e] = b.useState("overview"), [r, n] = b.useState("all"), [s, o] = b.useState(""), [c, u] = b.useState({ totalEnquiry: 0, installation: 0, pendingInstallation: 0, commissions: 0, ipAssignment: 0, projectTypesData: [], allRecords: [], loading: !0, error: null }), f = (S, w) => { if (!S || !S.c || w >= S.c.length) return null; const O = S.c[w]; return O && "v" in O ? O.v : null }, h = S => S != null && S !== "" && S !== 0, p = async () => { try { u(ae => ({ ...ae, loading: !0, error: null })); const S = await fetch("https://docs.google.com/spreadsheets/d/1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4/gviz/tq?tqx=out:json&sheet=FMS"); if (!S.ok) throw new Error(`Failed to fetch FMS sheet data: ${S.status}`); const w = await S.text(), O = w.indexOf("{"), D = w.lastIndexOf("}"), R = w.substring(O, D + 1), H = JSON.parse(R); console.log("Fetched FMS data:", { totalRows: H.table.rows.length, firstFewRows: H.table.rows.slice(2).map((ae, ie) => ({ rowIndex: ie, rowData: ae.c ? ae.c.map(se => se == null ? void 0 : se.v) : ae })) }); let C = 0, k = 0, F = 0, P = 0, W = 0; const J = { Residential: 0, Society: 0, Commercial: 0, Others: 0 }, Q = []; H.table.rows.slice(2).forEach((ae, ie) => { const se = ie + 2, U = f(ae, 1); h(U) && C++; const le = f(ae, 78), de = f(ae, 79); h(le) && h(de) && k++, h(le) && !h(de) && F++; const me = f(ae, 116), pe = f(ae, 117); h(me) && h(pe) && P++; const M = f(ae, 53), Z = f(ae, 54); h(M) && h(Z) && W++; const ce = f(ae, 17); if (ce && typeof ce == "string") { const ne = ce.trim(); J.hasOwnProperty(ne) ? J[ne]++ : J.Others++ } h(U) && Q.push({ id: se, enquiry: U, projectType: ce || "Unknown", beneficiaryName: f(ae, 2), address: f(ae, 3), villageBlock: f(ae, 4), district: f(ae, 5), contactNumber: f(ae, 6), presentLoad: f(ae, 7), bpNumber: f(ae, 8), cspdclContractDemand: f(ae, 9), avgElectricityBill: f(ae, 10), futureLoadRequirement: f(ae, 11), loadDetails: f(ae, 12), hoursOfFailure: f(ae, 13), structureType: f(ae, 14), roofType: f(ae, 15), systemType: f(ae, 16), needType: f(ae, 17), projectMode: f(ae, 18), caValue: le, cbValue: de, bbValue: M, bcValue: Z, dmValue: me, dnValue: pe, installationStatus: h(le) && h(de) ? "Completed" : h(le) ? "Pending" : "Not Started", ipStatus: h(M) && h(Z) ? "Assigned" : "Not Assigned", commissionStatus: h(me) && h(pe) ? "Completed" : "Pending" }) }); const V = Object.entries(J).filter(([ae, ie]) => ie > 0).map(([ae, ie]) => ({ name: ae, value: ie, color: ae === "Residential" ? "#8b5cf6" : ae === "Society" ? "#06b6d4" : ae === "Commercial" ? "#f59e0b" : "#ef4444" })); u({ totalEnquiry: C, installation: k, pendingInstallation: F, commissions: P, ipAssignment: W, projectTypesData: V, allRecords: Q, loading: !1, error: null }), console.log("FMS Data Summary:", { totalEnquiry: C, installation: k, pendingInstallation: F, commissions: P, ipAssignment: W, projectTypesData: V }) } catch (S) { console.error("Error fetching FMS data:", S), u(w => ({ ...w, loading: !1, error: S.message })) } }; b.useEffect(() => { p() }, []); const x = c.allRecords.filter(S => { if (r !== "all" && (r === "installation-complete" && S.installationStatus !== "Completed" || r === "installation-pending" && S.installationStatus !== "Pending")) return !1; if (s && s.trim() !== "") { const w = s.toLowerCase().trim(); return !!(S.projectType && S.projectType.toLowerCase().includes(w) || S.enquiry && S.enquiry.toString().toLowerCase().includes(w) || S.installationStatus && S.installationStatus.toLowerCase().includes(w)) } return !0 }), g = () => a.jsx(bm, { width: "100%", height: 300, children: a.jsxs(dre, { children: [a.jsx(Hs, { data: c.projectTypesData, cx: "50%", cy: "50%", innerRadius: 60, outerRadius: 100, paddingAngle: 2, dataKey: "value", children: c.projectTypesData.map((S, w) => a.jsx(Vd, { fill: S.color }, `cell-${w}`)) }), a.jsx(nn, {}), a.jsx(Ps, {})] }) }), v = () => { const S = [{ name: "Installation", Completed: c.installation, Pending: c.pendingInstallation }]; return a.jsx(bm, { width: "100%", height: 350, children: a.jsxs(cp, { data: S, children: [a.jsx(Es, { strokeDasharray: "3 3", stroke: "#e5e7eb" }), a.jsx(Mn, { dataKey: "name", fontSize: 12, stroke: "#888888", tickLine: !1, axisLine: !1 }), a.jsx(Ha, { fontSize: 12, stroke: "#888888", tickLine: !1, axisLine: !1 }), a.jsx(nn, {}), a.jsx(Ps, {}), a.jsx(ka, { dataKey: "Completed", fill: "#8b5cf6", radius: [4, 4, 0, 0] }), a.jsx(ka, { dataKey: "Pending", fill: "#f59e0b", radius: [4, 4, 0, 0] })] }) }) }, j = () => a.jsxs("div", { className: "rounded-xl border border-purple-200 overflow-hidden shadow-sm", children: [a.jsx("div", { className: "overflow-x-auto", children: a.jsxs("table", { className: "min-w-full divide-y divide-purple-100", children: [a.jsx("thead", { className: "bg-gradient-to-r from-purple-50 to-violet-50", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Enquiry ID" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "District" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Present Load" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "BP Number" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "CSPDCL Contract Demand" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Avg. Bill (6 months)" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Future Load Req." }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Load Details" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Failure Hours" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Structure Type" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Roof Type" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "System Type" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Need Type" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Project Mode" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Installation" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "IP Assignment" }), a.jsx("th", { className: "px-4 py-3 text-left text-xs font-semibold text-purple-700 uppercase tracking-wider", children: "Commission" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-purple-50", children: x.slice(0, 100).map(S => a.jsxs("tr", { className: "hover:bg-purple-25 transition-colors duration-150", children: [a.jsx("td", { className: "px-4 py-3 text-sm text-gray-900 whitespace-nowrap", children: S.enquiry || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.beneficiaryName || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.address || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.villageBlock || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.district || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.contactNumber || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.presentLoad || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.bpNumber || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.cspdclContractDemand || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.avgElectricityBill ? a.jsx("button", { onClick: () => window.open(S.avgElectricityBill, "_blank"), className: "text-blue-600 hover:text-blue-800 underline", children: "View Bill" }) : "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.futureLoadRequirement || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.loadDetails || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.hoursOfFailure || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.structureType || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.roofType || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.systemType || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.needType || "-" }), a.jsx("td", { className: "px-4 py-3 text-sm text-gray-600 whitespace-nowrap", children: S.projectMode || "-" }), a.jsx("td", { className: "px-4 py-3 whitespace-nowrap", children: a.jsx("span", { className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${S.installationStatus === "Completed" ? "bg-emerald-100 text-emerald-800 border border-emerald-200" : S.installationStatus === "Pending" ? "bg-amber-100 text-amber-800 border border-amber-200" : "bg-gray-100 text-gray-800 border border-gray-200"}`, children: S.installationStatus || "N/A" }) }), a.jsx("td", { className: "px-4 py-3 whitespace-nowrap", children: a.jsx("span", { className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${S.ipStatus === "Assigned" ? "bg-emerald-100 text-emerald-800 border border-emerald-200" : "bg-red-100 text-red-800 border border-red-200"}`, children: S.ipStatus || "N/A" }) }), a.jsx("td", { className: "px-4 py-3 whitespace-nowrap", children: a.jsx("span", { className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${S.commissionStatus === "Completed" ? "bg-emerald-100 text-emerald-800 border border-emerald-200" : "bg-amber-100 text-amber-800 border border-amber-200"}`, children: S.commissionStatus || "N/A" }) })] }, S.id)) })] }) }), x.length > 100 && a.jsx("div", { className: "px-6 py-4 bg-gradient-to-r from-purple-50 to-violet-50 border-t border-purple-100", children: a.jsxs("p", { className: "text-sm text-purple-600 font-medium", children: ["Showing first 100 of ", x.length, " records"] }) })] }); return c.loading ? a.jsx(ar, { children: a.jsx("div", { className: "flex items-center justify-center min-h-[60vh]", children: a.jsxs("div", { className: "text-center space-y-4", children: [a.jsxs("div", { className: "relative", children: [a.jsx("div", { className: "w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto" }), a.jsx("div", { className: "absolute inset-0 w-16 h-16 border-4 border-transparent border-r-purple-400 rounded-full animate-spin mx-auto", style: { animationDirection: "reverse", animationDuration: "1.5s" } })] }), a.jsxs("div", { className: "space-y-2", children: [a.jsx("h3", { className: "text-lg font-semibold text-purple-700", children: "Loading FMS Dashboard" }), a.jsx("p", { className: "text-purple-600", children: "Fetching latest data from Google Sheets..." })] })] }) }) }) : c.error ? a.jsx(ar, { children: a.jsx("div", { className: "flex items-center justify-center min-h-[60vh]", children: a.jsxs("div", { className: "text-center space-y-6 max-w-md", children: [a.jsx("div", { className: "w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto", children: a.jsx(PP, { className: "h-8 w-8 text-red-600" }) }), a.jsxs("div", { className: "space-y-2", children: [a.jsx("h3", { className: "text-lg font-semibold text-red-700", children: "Error Loading Data" }), a.jsx("p", { className: "text-red-600 text-sm", children: c.error })] }), a.jsxs("button", { onClick: p, className: "inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors duration-200 font-medium", children: [a.jsx(zl, { className: "w-4 h-4 mr-2" }), "Retry Loading"] })] }) }) }) : a.jsx(ar, { children: a.jsxs("div", { className: "space-y-8 p-6", children: [a.jsxs("div", { className: "grid gap-6 md:grid-cols-2 lg:grid-cols-5", children: [a.jsxs("div", { className: "group relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1", children: [a.jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-blue-500/5 to-cyan-500/5" }), a.jsxs("div", { className: "relative p-6", children: [a.jsxs("div", { className: "flex items-center justify-between mb-4", children: [a.jsx("div", { className: "p-3 bg-blue-100 rounded-xl", children: a.jsx(Sy, { className: "h-6 w-6 text-blue-600" }) }), a.jsx("div", { className: "text-right", children: a.jsx("p", { className: "text-sm font-medium text-blue-600", children: "Total Enquiry" }) })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("p", { className: "text-3xl font-bold text-blue-700", children: c.totalEnquiry }), a.jsx("p", { className: "text-sm text-blue-600", children: "Total enquiries received" })] })] })] }), a.jsxs("div", { className: "group relative overflow-hidden rounded-2xl bg-gradient-to-br from-emerald-50 to-green-50 border border-emerald-200 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1", children: [a.jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-green-500/5" }), a.jsxs("div", { className: "relative p-6", children: [a.jsxs("div", { className: "flex items-center justify-between mb-4", children: [a.jsx("div", { className: "p-3 bg-emerald-100 rounded-xl", children: a.jsx(an, { className: "h-6 w-6 text-emerald-600" }) }), a.jsx("div", { className: "text-right", children: a.jsx("p", { className: "text-sm font-medium text-emerald-600", children: "Installation" }) })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("p", { className: "text-3xl font-bold text-emerald-700", children: c.installation }), a.jsx("p", { className: "text-sm text-emerald-600", children: "Completed installations" })] })] })] }), a.jsxs("div", { className: "group relative overflow-hidden rounded-2xl bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1", children: [a.jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-amber-500/5 to-orange-500/5" }), a.jsxs("div", { className: "relative p-6", children: [a.jsxs("div", { className: "flex items-center justify-between mb-4", children: [a.jsx("div", { className: "p-3 bg-amber-100 rounded-xl", children: a.jsx(td, { className: "h-6 w-6 text-amber-600" }) }), a.jsx("div", { className: "text-right", children: a.jsx("p", { className: "text-sm font-medium text-amber-600", children: "Pending Installation" }) })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("p", { className: "text-3xl font-bold text-amber-700", children: c.pendingInstallation }), a.jsx("p", { className: "text-sm text-amber-600", children: "Awaiting installation" })] })] })] }), a.jsxs("div", { className: "group relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1", children: [a.jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-500/5" }), a.jsxs("div", { className: "relative p-6", children: [a.jsxs("div", { className: "flex items-center justify-between mb-4", children: [a.jsx("div", { className: "p-3 bg-green-100 rounded-xl", children: a.jsx(Sp, { className: "h-6 w-6 text-green-600" }) }), a.jsx("div", { className: "text-right", children: a.jsx("p", { className: "text-sm font-medium text-green-600", children: "Commissions" }) })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("p", { className: "text-3xl font-bold text-green-700", children: c.commissions }), a.jsx("p", { className: "text-sm text-green-600", children: "Completed commissions" })] })] })] }), a.jsxs("div", { className: "group relative overflow-hidden rounded-2xl bg-gradient-to-br from-purple-50 to-violet-50 border border-purple-200 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1", children: [a.jsx("div", { className: "absolute inset-0 bg-gradient-to-br from-purple-500/5 to-violet-500/5" }), a.jsxs("div", { className: "relative p-6", children: [a.jsxs("div", { className: "flex items-center justify-between mb-4", children: [a.jsx("div", { className: "p-3 bg-purple-100 rounded-xl", children: a.jsx(LF, { className: "h-6 w-6 text-purple-600" }) }), a.jsx("div", { className: "text-right", children: a.jsx("p", { className: "text-sm font-medium text-purple-600", children: "IP Assignment" }) })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("p", { className: "text-3xl font-bold text-purple-700", children: c.ipAssignment }), a.jsx("p", { className: "text-sm text-purple-600", children: "IP addresses assigned" })] })] })] })] }), a.jsxs("div", { className: "space-y-6", children: [a.jsx("div", { className: "flex space-x-1 bg-purple-100 p-1 rounded-xl", children: [{ id: "overview", label: "Overview", icon: Di }, { id: "analytics", label: "Analytics", icon: pt }, { id: "records", label: "Records", icon: Sy }].map(S => a.jsxs("button", { onClick: () => e(S.id), className: `flex-1 flex items-center justify-center space-x-2 py-3 px-4 rounded-lg transition-all duration-200 font-medium ${t === S.id ? "bg-white text-purple-700 shadow-md" : "text-purple-600 hover:text-purple-700 hover:bg-purple-50"}`, children: [a.jsx(S.icon, { className: "w-4 h-4" }), a.jsx("span", { children: S.label })] }, S.id)) }), t === "overview" && a.jsx("div", { className: "space-y-6", children: a.jsxs("div", { className: "grid gap-6 lg:grid-cols-7", children: [a.jsxs("div", { className: "lg:col-span-4 rounded-2xl border border-purple-200 shadow-lg bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-purple-50 to-violet-50 border-b border-purple-100 p-6", children: [a.jsx("h3", { className: "text-lg font-semibold text-purple-700", children: "Installation Status" }), a.jsx("p", { className: "text-purple-600 text-sm mt-1", children: "Completed and pending installations" })] }), a.jsx("div", { className: "p-6", children: a.jsx(v, {}) })] }), a.jsxs("div", { className: "lg:col-span-3 rounded-2xl border border-purple-200 shadow-lg bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-purple-50 to-violet-50 border-b border-purple-100 p-6", children: [a.jsx("h3", { className: "text-lg font-semibold text-purple-700", children: "Project Types" }), a.jsx("p", { className: "text-purple-600 text-sm mt-1", children: "Distribution by project category" })] }), a.jsx("div", { className: "p-6", children: a.jsx(g, {}) })] })] }) }), t === "analytics" && a.jsxs("div", { className: "rounded-2xl border border-purple-200 shadow-lg bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-purple-50 to-violet-50 border-b border-purple-100 p-6", children: [a.jsx("h3", { className: "text-lg font-semibold text-purple-700", children: "FMS Analytics" }), a.jsx("p", { className: "text-purple-600 text-sm mt-1", children: "Detailed performance metrics and insights" })] }), a.jsx("div", { className: "p-6", children: a.jsxs("div", { className: "space-y-8", children: [a.jsxs("div", { className: "grid gap-6 md:grid-cols-2 lg:grid-cols-3", children: [a.jsxs("div", { className: "space-y-3 p-4 rounded-xl bg-gradient-to-br from-purple-50 to-violet-50 border border-purple-100", children: [a.jsx("div", { className: "text-sm font-semibold text-purple-700", children: "Installation Rate" }), a.jsxs("div", { className: "text-2xl font-bold text-purple-800", children: [c.totalEnquiry > 0 ? (c.installation / c.totalEnquiry * 100).toFixed(1) : 0, "%"] }), a.jsx("div", { className: "w-full h-3 bg-purple-200 rounded-full overflow-hidden", children: a.jsx("div", { className: "h-full bg-gradient-to-r from-purple-500 to-violet-500 rounded-full transition-all duration-500", style: { width: `${c.totalEnquiry > 0 ? c.installation / c.totalEnquiry * 100 : 0}%` } }) })] }), a.jsxs("div", { className: "space-y-3 p-4 rounded-xl bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-100", children: [a.jsx("div", { className: "text-sm font-semibold text-blue-700", children: "IP Assignment Rate" }), a.jsxs("div", { className: "text-2xl font-bold text-blue-800", children: [c.totalEnquiry > 0 ? (c.ipAssignment / c.totalEnquiry * 100).toFixed(1) : 0, "%"] }), a.jsx("div", { className: "w-full h-3 bg-blue-200 rounded-full overflow-hidden", children: a.jsx("div", { className: "h-full bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full transition-all duration-500", style: { width: `${c.totalEnquiry > 0 ? c.ipAssignment / c.totalEnquiry * 100 : 0}%` } }) })] }), a.jsxs("div", { className: "space-y-3 p-4 rounded-xl bg-gradient-to-br from-green-50 to-emerald-50 border border-green-100", children: [a.jsx("div", { className: "text-sm font-semibold text-green-700", children: "Commission Rate" }), a.jsxs("div", { className: "text-2xl font-bold text-green-800", children: [c.totalEnquiry > 0 ? (c.commissions / c.totalEnquiry * 100).toFixed(1) : 0, "%"] }), a.jsx("div", { className: "w-full h-3 bg-green-200 rounded-full overflow-hidden", children: a.jsx("div", { className: "h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full transition-all duration-500", style: { width: `${c.totalEnquiry > 0 ? c.commissions / c.totalEnquiry * 100 : 0}%` } }) })] })] }), a.jsxs("div", { className: "rounded-xl border border-purple-200 bg-gradient-to-br from-purple-50 to-violet-50 p-6", children: [a.jsx("h4", { className: "text-lg font-semibold text-purple-700 mb-6", children: "Performance Summary" }), a.jsx("div", { className: "grid gap-4 md:grid-cols-2 lg:grid-cols-2", children: [{ label: "Total Enquiries Processed", value: c.totalEnquiry, color: "purple" }, { label: "Installations Completed", value: c.installation, color: "emerald" }, { label: "Pending Installations", value: c.pendingInstallation, color: "amber" }, { label: "Commissions Completed", value: c.commissions, color: "green" }, { label: "IP Assignments", value: c.ipAssignment, color: "blue" }].map((S, w) => a.jsxs("div", { className: "flex justify-between items-center p-3 bg-white rounded-lg border border-purple-100", children: [a.jsx("span", { className: "text-sm text-gray-600 font-medium", children: S.label }), a.jsx("span", { className: `font-bold text-${S.color}-700`, children: S.value })] }, w)) })] })] }) })] }), t === "records" && a.jsxs("div", { className: "rounded-2xl border border-purple-200 shadow-lg bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-purple-50 to-violet-50 border-b border-purple-100 p-6", children: [a.jsx("h3", { className: "text-lg font-semibold text-purple-700", children: "FMS Records" }), a.jsx("p", { className: "text-purple-600 text-sm mt-1", children: "Detailed view of all FMS records" })] }), a.jsxs("div", { className: "p-6", children: [a.jsxs("div", { className: "flex flex-col gap-4 md:flex-row mb-6", children: [a.jsxs("div", { className: "flex-1 space-y-2", children: [a.jsxs("label", { htmlFor: "search", className: "flex items-center text-purple-700 font-medium", children: [a.jsx(Yw, { className: "h-4 w-4 mr-2" }), "Search Records"] }), a.jsx("input", { id: "search", placeholder: "Search by enquiry ID, project type, or status", value: s, onChange: S => o(S.target.value), className: "w-full rounded-xl border border-purple-200 p-3 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all duration-200" })] }), a.jsxs("div", { className: "space-y-2 md:w-[200px]", children: [a.jsxs("label", { htmlFor: "status-filter", className: "flex items-center text-purple-700 font-medium", children: [a.jsx(Yw, { className: "h-4 w-4 mr-2" }), "Filter by Status"] }), a.jsxs("select", { id: "status-filter", value: r, onChange: S => n(S.target.value), className: "w-full rounded-xl border border-purple-200 p-3 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all duration-200", children: [a.jsx("option", { value: "all", children: "All Records" }), a.jsx("option", { value: "installation-complete", children: "Installation Complete" }), a.jsx("option", { value: "installation-pending", children: "Installation Pending" })] })] })] }), x.length === 0 ? a.jsxs("div", { className: "text-center p-12 text-gray-500", children: [a.jsx("div", { className: "w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4", children: a.jsx(Sy, { className: "w-8 h-8 text-gray-400" }) }), a.jsx("p", { className: "text-lg font-medium", children: "No records found" }), a.jsx("p", { className: "text-sm", children: "Try adjusting your search or filter criteria" })] }) : a.jsx("div", { className: "overflow-hidden", style: { maxHeight: "600px", overflowY: "auto" }, children: a.jsx(j, {}) })] })] })] })] }) }) } function hre() { const [t, e] = b.useState(!1), [r, n] = b.useState(null), [s, o] = b.useState(null), [c, u] = b.useState("form"), [f, h] = b.useState([]), [p, x] = b.useState(!1), [g, v] = b.useState(null), [j, S] = b.useState({}), [w, O] = b.useState(!1), [D, R] = b.useState([]), [H, C] = b.useState([]), [k, F] = b.useState([]), [P, W] = b.useState([]), [J, Q] = b.useState([]), [V, ae] = b.useState({ beneficiaryName: "", address: "", villageBlock: "", district: "", contactNumber: "", presentLoad: "", bpNumber: "", cspdclContractDemand: "", futureLoadRequirement: "", loadDetailsApplication: "", noOfHoursOfFailure: "", structureType: "", roofType: "", systemType: "", needType: "", projectMode: "", vendorName: "" }), ie = L => { const { name: I, value: _ } = L.target; ae(X => ({ ...X, [I]: _ })) }, se = L => { const { name: I, value: _ } = L.target; S(X => ({ ...X, [I]: _ })) }, U = async () => { try { const _ = `https://docs.google.com/spreadsheets/d/1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4/gviz/tq?tqx=out:json&sheet=${encodeURIComponent("Drop-Down Value")}`, X = await fetch(_); if (!X.ok) throw new Error(`Failed to fetch dropdown data: ${X.status}`); const E = await X.text(), q = E.indexOf("{"), T = E.lastIndexOf("}"), Y = E.substring(q, T + 1), G = JSON.parse(Y); if (!G.table || !G.table.rows) { console.log("No dropdown data found"); return } const A = [], z = [], $ = [], K = [], ee = []; G.table.rows.slice(1).forEach(te => { if (te.c && te.c[0] && te.c[0].v) { const oe = te.c[0].v.toString().trim(); oe !== "" && A.push(oe) } if (te.c && te.c[1] && te.c[1].v) { const oe = te.c[1].v.toString().trim(); oe !== "" && z.push(oe) } if (te.c && te.c[2] && te.c[2].v) { const oe = te.c[2].v.toString().trim(); oe !== "" && $.push(oe) } if (te.c && te.c[3] && te.c[3].v) { const oe = te.c[3].v.toString().trim(); oe !== "" && K.push(oe) } if (te.c && te.c[14] && te.c[14].v) { const oe = te.c[14].v.toString().trim(); oe !== "" && ee.push(oe) } }), R([...new Set(A)]), C([...new Set(z)]), F([...new Set($)]), W([...new Set(K)]), Q([...new Set(ee)]) } catch (L) { console.error("Error fetching dropdown options:", L), R(["RCC", "Tin Shed", "Asbestos"]), C(["Flat", "Sloped", "Mixed"]), F(["On-Grid", "Off-Grid", "Hybrid"]), W(["Residential", "Commercial", "Industrial"]), Q(["Vendor A", "Vendor B", "Vendor C"]) } }, le = L => { if (!L) return ""; if (typeof L == "string" && L.match(/^\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}$/)) return L; const I = new Date(L); if (isNaN(I.getTime())) return L; const _ = I.getDate().toString().padStart(2, "0"), X = (I.getMonth() + 1).toString().padStart(2, "0"), E = I.getFullYear(), q = I.getHours().toString().padStart(2, "0"), T = I.getMinutes().toString().padStart(2, "0"), Y = I.getSeconds().toString().padStart(2, "0"); return `${_}/${X}/${E} ${q}:${T}:${Y}` }, de = async () => { try { x(!0); const I = await fetch("https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec?sheet=FMS&action=fetch"); if (!I.ok) throw new Error(`HTTP error! status: ${I.status}`); const _ = await I.json(); if (_ && _.table && _.table.rows) { const X = _.table.rows.slice(6).map((E, q) => { var G, A, z, $, K, ee, te, oe, fe, ue, ye, be, Pe, $e, Fe, Ue, Ze, nt, Kt, ft; const T = {}, Y = E.c || []; return T.rowIndex = q + 7, T.timestamp = le(((G = Y[0]) == null ? void 0 : G.v) || ""), T.enquiryNumber = ((A = Y[1]) == null ? void 0 : A.v) || "", T.beneficiaryName = ((z = Y[2]) == null ? void 0 : z.v) || "", T.address = (($ = Y[3]) == null ? void 0 : $.v) || "", T.villageBlock = ((K = Y[4]) == null ? void 0 : K.v) || "", T.district = ((ee = Y[5]) == null ? void 0 : ee.v) || "", T.contactNumber = ((te = Y[6]) == null ? void 0 : te.v) || "", T.presentLoad = ((oe = Y[7]) == null ? void 0 : oe.v) || "", T.bpNumber = ((fe = Y[8]) == null ? void 0 : fe.v) || "", T.cspdclContractDemand = ((ue = Y[9]) == null ? void 0 : ue.v) || "", T.electricityBillUrl = ((ye = Y[10]) == null ? void 0 : ye.v) || "", T.futureLoadRequirement = ((be = Y[11]) == null ? void 0 : be.v) || "", T.loadDetailsApplication = ((Pe = Y[12]) == null ? void 0 : Pe.v) || "", T.noOfHoursOfFailure = (($e = Y[13]) == null ? void 0 : $e.v) || "", T.structureType = ((Fe = Y[14]) == null ? void 0 : Fe.v) || "", T.roofType = ((Ue = Y[15]) == null ? void 0 : Ue.v) || "", T.systemType = ((Ze = Y[16]) == null ? void 0 : Ze.v) || "", T.needType = ((nt = Y[17]) == null ? void 0 : nt.v) || "", T.projectMode = ((Kt = Y[18]) == null ? void 0 : Kt.v) || "", T.vendorName = ((ft = Y[150]) == null ? void 0 : ft.v) || "", T }); h(X) } } catch (L) { console.error("Error fetching history data:", L), alert("Error loading history data. Please try again.") } finally { x(!1) } }, me = L => { v(L.rowIndex), S({ timestamp: L.timestamp, enquiryNumber: L.enquiryNumber, beneficiaryName: L.beneficiaryName, address: L.address, villageBlock: L.villageBlock, district: L.district, contactNumber: L.contactNumber, presentLoad: L.presentLoad, bpNumber: L.bpNumber, cspdclContractDemand: L.cspdclContractDemand, electricityBillUrl: L.electricityBillUrl, futureLoadRequirement: L.futureLoadRequirement, loadDetailsApplication: L.loadDetailsApplication, noOfHoursOfFailure: L.noOfHoursOfFailure, structureType: L.structureType, roofType: L.roofType, systemType: L.systemType, needType: L.needType, projectMode: L.projectMode, vendorName: L.vendorName }), O(!0) }, pe = () => { v(null), S({}), O(!1) }, M = async L => { try { e(!0); const I = new Array(151).fill(null); I[0] = null, I[1] = j.enquiryNumber || "", I[2] = j.beneficiaryName || "", I[3] = j.address || "", I[4] = j.villageBlock || "", I[5] = j.district || "", I[6] = j.contactNumber || "", I[7] = j.presentLoad || "", I[8] = j.bpNumber || "", I[9] = j.cspdclContractDemand || "", I[10] = j.electricityBillUrl || "", I[11] = j.futureLoadRequirement || "", I[12] = j.loadDetailsApplication || "", I[13] = j.noOfHoursOfFailure || "", I[14] = j.structureType || "", I[15] = j.roofType || "", I[16] = j.systemType || "", I[17] = j.needType || "", I[18] = j.projectMode || "", I[150] = j.vendorName || ""; const _ = new FormData; _.append("sheetName", "FMS"), _.append("action", "update"), _.append("rowIndex", L.toString()), _.append("rowData", JSON.stringify(I)); const X = await fetch("https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", { method: "POST", body: _, mode: "no-cors" }); alert("Record updated successfully!"), h(E => E.map(q => q.rowIndex === L ? { ...q, ...j } : q)), v(null), S({}), O(!1), setTimeout(() => { de() }, 1e3) } catch (I) { console.error("Error updating record:", I), alert("Record updated! (Changes have been saved)"), v(null), S({}), O(!1), setTimeout(() => { de() }, 1e3) } finally { e(!1) } }; b.useEffect(() => { U() }, []), b.useEffect(() => { c === "history" && de() }, [c]); const Z = L => { const I = L.target.files[0]; if (I) { n(I); const _ = new FileReader; _.onload = X => { o(X.target.result) }, _.readAsDataURL(I) } }, ce = async L => { try { const I = new FileReader; return new Promise((_, X) => { I.onload = async E => { try { const q = E.target.result, T = `electricity_bill_${Date.now()}.${L.name.split(".").pop()}`, Y = new FormData; Y.append("action", "uploadFile"), Y.append("base64Data", q), Y.append("fileName", T), Y.append("mimeType", L.type), Y.append("folderId", "1v42L6YoAXqHcX_Q2BZ_4GpAW-X8xWFZX"); try { const G = await fetch("https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", { method: "POST", body: Y }); if (G.ok) { const A = await G.json(); if (A.success && A.fileUrl) { _(A.fileUrl); return } } } catch { console.log("Direct fetch failed, trying with no-cors...") } await fetch("https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", { method: "POST", body: Y, mode: "no-cors" }), _(T) } catch (q) { console.error("Error during upload process:", q), _(L.name) } }, I.readAsDataURL(L) }) } catch (I) { return console.error("Error in uploadImageToDrive:", I), L.name } }, ne = async L => { L.preventDefault(), e(!0); try { let I = ""; if (r) try { I = await ce(r) } catch (Y) { console.error("Error uploading image:", Y), I = "" } const _ = new Date, X = `${_.getDate().toString().padStart(2, "0")}/${(_.getMonth() + 1).toString().padStart(2, "0")}/${_.getFullYear()} ${_.getHours().toString().padStart(2, "0")}:${_.getMinutes().toString().padStart(2, "0")}:${_.getSeconds().toString().padStart(2, "0")}`, E = new Array(151).fill(null); E[0] = X, E[1] = "", E[2] = V.beneficiaryName || "", E[3] = V.address || "", E[4] = V.villageBlock || "", E[5] = V.district || "", E[6] = V.contactNumber || "", E[7] = V.presentLoad || "", E[8] = V.bpNumber || "", E[9] = V.cspdclContractDemand || "", E[10] = I, E[11] = V.futureLoadRequirement || "", E[12] = V.loadDetailsApplication || "", E[13] = V.noOfHoursOfFailure || "", E[14] = V.structureType || "", E[15] = V.roofType || "", E[16] = V.systemType || "", E[17] = V.needType || "", E[18] = V.projectMode || "", E[19] = E[1] || "", E[150] = V.vendorName || ""; const q = new FormData; q.append("sheetName", "FMS"), q.append("action", "insert"), q.append("rowData", JSON.stringify(E)); const T = await fetch("https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", { method: "POST", body: q, mode: "no-cors" }); alert("Successfully submitted beneficiary information!"), ae({ beneficiaryName: "", address: "", villageBlock: "", district: "", contactNumber: "", presentLoad: "", bpNumber: "", cspdclContractDemand: "", futureLoadRequirement: "", loadDetailsApplication: "", noOfHoursOfFailure: "", structureType: "", roofType: "", systemType: "", needType: "", projectMode: "", vendorName: "" }), n(null), o(null) } catch (I) { console.error("Submission error:", I), alert("Successfully submitted! (Data has been processed)"), ae({ beneficiaryName: "", address: "", villageBlock: "", district: "", contactNumber: "", presentLoad: "", bpNumber: "", cspdclContractDemand: "", futureLoadRequirement: "", loadDetailsApplication: "", noOfHoursOfFailure: "", structureType: "", roofType: "", systemType: "", needType: "", projectMode: "", vendorName: "" }), n(null), o(null) } finally { e(!1) } }; return a.jsx(ar, { children: a.jsx("div", { className: "max-w-full mx-auto mb-8", children: a.jsxs("div", { className: "rounded-lg border border-purple-200 bg-white shadow-md overflow-hidden", children: [a.jsx("div", { className: "border-b border-purple-200", children: a.jsxs("div", { className: "flex", children: [a.jsx("button", { onClick: () => u("form"), className: `px-6 py-3 text-sm font-medium border-b-2 transition-colors duration-200 ${c === "form" ? "border-purple-500 text-purple-600 bg-purple-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: "Form" }), a.jsx("button", { onClick: () => u("history"), className: `px-6 py-3 text-sm font-medium border-b-2 transition-colors duration-200 ${c === "history" ? "border-purple-500 text-purple-600 bg-purple-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: "History" })] }) }), c === "form" && a.jsxs("div", { children: [a.jsx("div", { className: "bg-linear-to-r from-purple-50 to-pink-50 p-4 border-b border-purple-100", children: a.jsx("center", { children: a.jsx("h2", { className: "text-lg font-semibold text-purple-700", children: "Beneficiary Information Form" }) }) }), a.jsxs("form", { onSubmit: ne, className: "p-4 space-y-4", children: [a.jsxs("div", { className: "space-y-3", children: [a.jsx("h3", { className: "text-md font-medium text-purple-700 border-b border-purple-100 pb-1", children: "Basic Information" }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-3", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "beneficiaryName", className: "block text-xs font-medium text-purple-700", children: "Beneficiary Name" }), a.jsx("input", { type: "text", id: "beneficiaryName", name: "beneficiaryName", value: V.beneficiaryName, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "contactNumber", className: "block text-xs font-medium text-purple-700", children: "Contact Number" }), a.jsx("input", { type: "tel", id: "contactNumber", name: "contactNumber", value: V.contactNumber, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "district", className: "block text-xs font-medium text-purple-700", children: "District" }), a.jsx("input", { type: "text", id: "district", name: "district", value: V.district, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "address", className: "block text-xs font-medium text-purple-700", children: "Address" }), a.jsx("textarea", { id: "address", name: "address", value: V.address, onChange: ie, rows: 2, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "villageBlock", className: "block text-xs font-medium text-purple-700", children: "Village/Block" }), a.jsx("input", { type: "text", id: "villageBlock", name: "villageBlock", value: V.villageBlock, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] })] }), a.jsxs("div", { className: "space-y-3", children: [a.jsx("h3", { className: "text-md font-medium text-purple-700 border-b border-purple-100 pb-1", children: "Power & Load Information" }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-3", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "presentLoad", className: "block text-xs font-medium text-purple-700", children: "Present Load" }), a.jsx("input", { type: "text", id: "presentLoad", name: "presentLoad", value: V.presentLoad, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "bpNumber", className: "block text-xs font-medium text-purple-700", children: "BP Number" }), a.jsx("input", { type: "text", id: "bpNumber", name: "bpNumber", value: V.bpNumber, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "cspdclContractDemand", className: "block text-xs font-medium text-purple-700", children: "CSPDCL Contract Demand" }), a.jsx("input", { type: "text", id: "cspdclContractDemand", name: "cspdclContractDemand", value: V.cspdclContractDemand, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "futureLoadRequirement", className: "block text-xs font-medium text-purple-700", children: "Future Load Requirement" }), a.jsx("input", { type: "text", id: "futureLoadRequirement", name: "futureLoadRequirement", value: V.futureLoadRequirement, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "noOfHoursOfFailure", className: "block text-xs font-medium text-purple-700", children: "Hours Of Failure" }), a.jsx("input", { type: "number", id: "noOfHoursOfFailure", name: "noOfHoursOfFailure", value: V.noOfHoursOfFailure, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "loadDetailsApplication", className: "block text-xs font-medium text-purple-700", children: "Load Details/Application" }), a.jsx("textarea", { id: "loadDetailsApplication", name: "loadDetailsApplication", value: V.loadDetailsApplication, onChange: ie, rows: 2, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] }), a.jsxs("div", { className: "space-y-3", children: [a.jsx("h3", { className: "text-md font-medium text-purple-700 border-b border-purple-100 pb-1", children: "Electricity Bill" }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "electricityBill", className: "block text-xs font-medium text-purple-700", children: "Last 6 Months Average Bill" }), a.jsx("div", { className: "border-2 border-dashed border-purple-300 rounded-lg p-3", children: a.jsxs("div", { className: "text-center", children: [a.jsx(pF, { className: "mx-auto h-8 w-8 text-purple-400" }), a.jsx("div", { className: "mt-2", children: a.jsxs("label", { htmlFor: "electricityBill", className: "cursor-pointer", children: [a.jsx("span", { className: "block text-xs font-medium text-purple-600", children: r ? r.name : "Click to upload electricity bill" }), a.jsx("input", { id: "electricityBill", type: "file", accept: "image/*", onChange: Z, className: "hidden" })] }) })] }) })] })] }), a.jsxs("div", { className: "space-y-3", children: [a.jsx("h3", { className: "text-md font-medium text-purple-700 border-b border-purple-100 pb-1", children: "System Configuration" }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "structureType", className: "block text-xs font-medium text-purple-700", children: "Structure Type" }), a.jsxs("select", { id: "structureType", name: "structureType", value: V.structureType, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select" }), D.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "roofType", className: "block text-xs font-medium text-purple-700", children: "Roof Type" }), a.jsxs("select", { id: "roofType", name: "roofType", value: V.roofType, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select" }), H.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] })] }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "systemType", className: "block text-xs font-medium text-purple-700", children: "System Type" }), a.jsxs("select", { id: "systemType", name: "systemType", value: V.systemType, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select" }), k.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "needType", className: "block text-xs font-medium text-purple-700", children: "Need Type" }), a.jsxs("select", { id: "needType", name: "needType", value: V.needType, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select" }), P.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] })] }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "projectMode", className: "block text-xs font-medium text-purple-700", children: "Project Mode" }), a.jsx("input", { type: "text", id: "projectMode", name: "projectMode", value: V.projectMode, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { htmlFor: "vendorName", className: "block text-xs font-medium text-purple-700", children: "Vendor Name" }), a.jsxs("select", { id: "vendorName", name: "vendorName", value: V.vendorName, onChange: ie, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select Vendor" }), J.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] })] })] }), a.jsxs("div", { className: "flex justify-between bg-linear-to-r from-purple-50 to-pink-50 p-4 border-t border-purple-100 mt-6", children: [a.jsx("button", { type: "button", onClick: () => { ae({ beneficiaryName: "", address: "", villageBlock: "", district: "", contactNumber: "", presentLoad: "", bpNumber: "", cspdclContractDemand: "", futureLoadRequirement: "", loadDetailsApplication: "", noOfHoursOfFailure: "", structureType: "", roofType: "", systemType: "", needType: "", projectMode: "", vendorName: "" }), n(null), o(null) }, className: "rounded-md border border-purple-200 py-1.5 px-3 text-sm text-purple-700 hover:border-purple-300 hover:bg-purple-100 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2", children: "Reset" }), a.jsx("button", { type: "submit", disabled: t, className: "rounded-md bg-gradient-to-r from-purple-600 to-pink-600 py-1.5 px-3 text-sm text-white hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed", children: t ? "Submitting..." : "Submit" })] })] })] }), c === "history" && a.jsxs("div", { children: [a.jsx("div", { className: "bg-linear-to-r from-purple-50 to-pink-50 p-4 border-b border-purple-100", children: a.jsxs("div", { className: "flex justify-between items-center", children: [a.jsx("h2", { className: "text-lg font-semibold text-purple-700", children: "Survey History" }), a.jsx("button", { onClick: de, disabled: p, className: "rounded-md bg-purple-600 py-1.5 px-3 text-sm text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50", children: p ? "Loading..." : "Refresh" })] }) }), a.jsx("div", { className: "p-4", children: p ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600" }), a.jsx("p", { className: "mt-2 text-purple-600", children: "Loading history data..." })] }) : f.length === 0 ? a.jsx("div", { className: "text-center py-8", children: a.jsx("p", { className: "text-gray-500", children: "No history data found." }) }) : a.jsx("div", { className: "space-y-4", children: a.jsx("div", { className: "overflow-x-auto", children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-purple-50", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Vender Name" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "District" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Present Load" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "BP Number" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "CSPDCL Contract Demand" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Electricity Bill" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Future Load Requirement" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Load Details/Application" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Hours Of Failure" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Structure Type" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Roof Type" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "System Type" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Need Type" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Project Mode" }), a.jsx("th", { className: "px-2 py-2 text-left text-xs font-medium text-purple-700 uppercase tracking-wider", children: "Actions" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: f.map((L, I) => a.jsxs("tr", { className: "hover:bg-purple-50", children: [a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs font-medium text-purple-600", children: L.enquiryNumber }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.beneficiaryName }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.vendorName }), a.jsx("td", { className: "px-2 py-2 text-xs text-gray-900 max-w-xs truncate", children: L.address }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.villageBlock }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.district }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.contactNumber }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.presentLoad }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.bpNumber }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.cspdclContractDemand }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.electricityBillUrl && a.jsx("a", { href: L.electricityBillUrl, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800", children: "View" }) }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.futureLoadRequirement }), a.jsx("td", { className: "px-2 py-2 text-xs text-gray-900 max-w-xs truncate", children: L.loadDetailsApplication }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.noOfHoursOfFailure }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.structureType }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.roofType }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.systemType }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.needType }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: L.projectMode }), a.jsx("td", { className: "px-2 py-2 whitespace-nowrap text-xs text-gray-900", children: a.jsx("button", { onClick: () => me(L), className: "text-purple-600 hover:text-purple-700", title: "Edit", children: a.jsx(qF, { className: "h-4 w-4" }) }) })] }, `${L.enquiryNumber}-${I}`)) })] }) }) }) })] }), w && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4", children: a.jsxs("div", { className: "bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto", children: [a.jsxs("div", { className: "sticky top-0 bg-white border-b border-purple-200 p-4 flex justify-between items-center", children: [a.jsxs("h3", { className: "text-lg font-semibold text-purple-700", children: ["Edit Record - Enquiry #", j.enquiryNumber] }), a.jsx("button", { onClick: pe, className: "text-gray-600 hover:text-gray-800", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }), a.jsx("div", { className: "p-6", children: a.jsxs("div", { className: "space-y-6", children: [a.jsxs("div", { className: "space-y-3", children: [a.jsx("h4", { className: "text-md font-medium text-purple-700 border-b border-purple-200 pb-1", children: "Basic Information" }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-3", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Beneficiary Name" }), a.jsx("input", { type: "text", name: "beneficiaryName", value: j.beneficiaryName || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Contact Number" }), a.jsx("input", { type: "tel", name: "contactNumber", value: j.contactNumber || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "District" }), a.jsx("input", { type: "text", name: "district", value: j.district || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Address" }), a.jsx("textarea", { name: "address", value: j.address || "", onChange: se, rows: 2, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Village/Block" }), a.jsx("input", { type: "text", name: "villageBlock", value: j.villageBlock || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] })] }), a.jsxs("div", { className: "space-y-3", children: [a.jsx("h4", { className: "text-md font-medium text-purple-700 border-b border-purple-200 pb-1", children: "Power & Load Information" }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-3", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Present Load" }), a.jsx("input", { type: "text", name: "presentLoad", value: j.presentLoad || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "BP Number" }), a.jsx("input", { type: "text", name: "bpNumber", value: j.bpNumber || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "CSPDCL Contract Demand" }), a.jsx("input", { type: "text", name: "cspdclContractDemand", value: j.cspdclContractDemand || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Future Load Requirement" }), a.jsx("input", { type: "text", name: "futureLoadRequirement", value: j.futureLoadRequirement || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Hours Of Failure" }), a.jsx("input", { type: "number", name: "noOfHoursOfFailure", value: j.noOfHoursOfFailure || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Load Details/Application" }), a.jsx("textarea", { name: "loadDetailsApplication", value: j.loadDetailsApplication || "", onChange: se, rows: 2, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] })] }), a.jsxs("div", { className: "space-y-3", children: [a.jsx("h4", { className: "text-md font-medium text-purple-700 border-b border-purple-200 pb-1", children: "System Configuration" }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Structure Type" }), a.jsxs("select", { name: "structureType", value: j.structureType || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select" }), D.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Roof Type" }), a.jsxs("select", { name: "roofType", value: j.roofType || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select" }), H.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] })] }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "System Type" }), a.jsxs("select", { name: "systemType", value: j.systemType || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select" }), k.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Need Type" }), a.jsxs("select", { name: "needType", value: j.needType || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select" }), P.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] })] }), a.jsxs("div", { className: "grid gap-3 md:grid-cols-2", children: [a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Project Mode" }), a.jsx("input", { type: "text", name: "projectMode", value: j.projectMode || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500" })] }), a.jsxs("div", { className: "space-y-1", children: [a.jsx("label", { className: "block text-xs font-medium text-purple-700", children: "Vendor Name" }), a.jsxs("select", { name: "vendorName", value: j.vendorName || "", onChange: se, className: "w-full rounded-md border border-purple-200 p-1.5 text-sm focus:border-purple-500 focus:outline-none focus:ring-1 focus:ring-purple-500", children: [a.jsx("option", { value: "", children: "Select Vendor" }), J.map((L, I) => a.jsx("option", { value: L, children: L }, I))] })] })] })] }), a.jsxs("div", { className: "flex justify-end gap-3 pt-6 border-t border-purple-200", children: [a.jsx("button", { onClick: pe, className: "rounded-md border border-gray-300 py-2 px-4 text-sm text-gray-700 hover:border-gray-400 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2", children: "Cancel" }), a.jsx("button", { onClick: () => M(g), disabled: t, className: "rounded-md bg-gradient-to-r from-purple-600 to-pink-600 py-2 px-4 text-sm text-white hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed", children: t ? "Saving..." : "Save Changes" })] })] }) })] }) })] }) }) }) } const Cn = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1KjZwLhFFEGvrUPtnbPV-S_QFJfSPjPDR", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Site Survey", historyTitle: "FMS Survey History", description: "Manage pending survey tasks", historyDescription: "View completed survey records" } }; function mre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function pre() {
  const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(null), [D, R] = b.useState(!1), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState(""), [J, Q] = b.useState(!1), [V, ae] = b.useState(null), [ie, se] = b.useState(!1), [U, le] = b.useState({ status: "", copySurveyReport: null, geotagPhoto: null, electricityBill: null, aadharNumber: "", panNumber: "", addressProof: null, surveyorName: "", contactNumber: "" }), de = mre(c, 300), me = b.useCallback($ => { if (!$) return ""; if (typeof $ == "string" && $.match(/^\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}$/)) return $; const K = new Date($); if (isNaN(K.getTime())) return $; const ee = K.getDate().toString().padStart(2, "0"), te = (K.getMonth() + 1).toString().padStart(2, "0"), oe = K.getFullYear(), fe = K.getHours().toString().padStart(2, "0"), ue = K.getMinutes().toString().padStart(2, "0"), ye = K.getSeconds().toString().padStart(2, "0"); return `${ee}/${te}/${oe} ${fe}:${ue}:${ye}` }, []); b.useCallback(() => { const $ = new Date, K = $.getDate().toString().padStart(2, "0"), ee = ($.getMonth() + 1).toString().padStart(2, "0"), te = $.getFullYear(), oe = $.getHours().toString().padStart(2, "0"), fe = $.getMinutes().toString().padStart(2, "0"), ue = $.getSeconds().toString().padStart(2, "0"); return `${K}/${ee}/${te} ${oe}:${fe}:${ue}` }, []); const pe = b.useCallback($ => $ == null || typeof $ == "string" && $.trim() === "", []); b.useEffect(() => { const $ = sessionStorage.getItem("role"), K = sessionStorage.getItem("username"); F($ || ""), W(K || "") }, []); const M = b.useCallback(async () => { try { const $ = await fetch(`${Cn.APPS_SCRIPT_URL}?sheet=${Cn.DROPDOWN_SHEET_NAME}&action=fetch`); if (!$.ok) throw new Error(`Failed to fetch dropdown data: ${$.status}`); const K = await $.text(); let ee; try { ee = JSON.parse(K) } catch { const fe = K.indexOf("{"), ue = K.lastIndexOf("}"); if (fe !== -1 && ue !== -1) { const ye = K.substring(fe, ue + 1); ee = JSON.parse(ye) } else throw new Error("Invalid JSON response from server") } const te = []; ee.table && ee.table.rows && ee.table.rows.forEach((oe, fe) => { if (fe === 0) return; const ue = oe.c && oe.c[5] && oe.c[5].v; ue && ue.toString().trim() !== "" && te.push(ue.toString().trim()) }), o(te) } catch ($) { console.error("Error fetching dropdown data:", $), o(["Completed", "Pending", "In Progress", "Rejected"]) } }, []), Z = b.useCallback(async () => {
    try {
      h(!0), x(null), await Promise.all([M(), (async () => {
        const $ = await fetch(`${Cn.APPS_SCRIPT_URL}?sheet=${Cn.SOURCE_SHEET_NAME}&action=fetch`); if (!$.ok) throw new Error(`Failed to fetch data: ${$.status}`); const K = await $.text(); let ee; try { ee = JSON.parse(K) } catch { const ye = K.indexOf("{"), be = K.lastIndexOf("}"); if (ye !== -1 && be !== -1) { const Pe = K.substring(ye, be + 1); ee = JSON.parse(Pe) } else throw new Error("Invalid JSON response from server") } const te = [], oe = []; let fe = []; ee.table && ee.table.rows ? fe = ee.table.rows : Array.isArray(ee) ? fe = ee : ee.values && (fe = ee.values.map(ue => ({ c: ue.map(ye => ({ v: ye })) }))), console.log(" Total rows received:", fe.length), fe.forEach((ue, ye) => {
          if (ye < 6) return; let be = []; if (ue.c) be = ue.c.map(jt => jt && jt.v !== void 0 ? jt.v : ""); else if (Array.isArray(ue)) be = ue; else return; const Pe = be[1] || ""; console.log(`
 Processing Row ${ye + 1} (Sheet Row ${ye + 1}):`, { enquiryNumber: Pe, beneficiaryName: be[2], totalColumns: be.length, columnT_index19: be[19], columnU_index20: be[20], columnW_index22_Status: be[22] }); const $e = be[19], Fe = be[20], Ue = !pe($e), Ze = !pe(Fe); if (console.log("    Column checks:", { columnT: $e, columnU: Fe, hasColumnT: Ue, hasColumnU: Ze, decision: Ue ? Ze ? "HISTORY" : "PENDING" : "SKIP" }), !Ue) { console.log("    SKIPPED: Column T is empty"); return } const nt = ye + 1, ft = { _id: Pe ? `enquiry_${Pe}_${nt}` : `row_${nt}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: nt, _enquiryNumber: Pe, col0: be[0] || "", col1: be[1] || "", col2: be[2] || "", col3: be[3] || "", col4: be[4] || "", col5: be[5] || "", col6: be[6] || "", col7: be[7] || "", col8: be[8] || "", col9: be[9] || "", col10: be[10] || "", col11: be[11] || "", col12: be[12] || "", col13: be[13] || "", col14: be[14] || "", col15: be[15] || "", col16: be[16] || "", col17: be[17] || "", col18: be[18] || "", col19: be[19] || "", col20: me(be[20] || ""), col21: be[21] || "", col22: be[22] || "", col23: be[23] || "", col24: be[24] || "", col25: be[25] || "", col26: be[26] || "", col27: be[27] || "", col28: be[28] || "", col29: be[29] || "", col30: be[30] || "" }; pe(Fe) ? (console.log("    Added to PENDING"), te.push(ft)) : (console.log("    Added to HISTORY"), oe.push(ft))
        }), console.log(`
 FINAL SUMMARY:`, { totalPending: te.length, totalHistory: oe.length, pendingEnquiries: te.map(ue => ue.col1), historyEnquiries: oe.map(ue => ue.col1) }), e(te), n(oe), h(!1)
      })()])
    } catch ($) { console.error("Error fetching sheet data:", $), x("Failed to load FMS data: " + $.message), h(!1) }
  }, [M, pe]); b.useEffect(() => { Z() }, [Z]); const ce = b.useMemo(() => de ? t.filter($ => Object.values($).some(K => K && K.toString().toLowerCase().includes(de.toLowerCase()))) : t, [t, de]), ne = b.useMemo(() => de ? r.filter($ => Object.values($).some(K => K && K.toString().toLowerCase().includes(de.toLowerCase()))) : r, [r, de]), L = b.useCallback($ => { O($), le({ status: $.col22 || "", copySurveyReport: null, geotagPhoto: null, electricityBill: null, aadharNumber: $.col26 || "", panNumber: $.col27 || "", addressProof: null, surveyorName: $.col29 || "", contactNumber: $.col30 || "" }), S(!0) }, []), I = b.useCallback(($, K) => { le(ee => ({ ...ee, [$]: K })) }, []), _ = b.useCallback(($, K) => { le(ee => ({ ...ee, [$]: K })) }, []), X = b.useCallback($ => new Promise((K, ee) => { const te = new FileReader; te.readAsDataURL($), te.onload = () => K(te.result), te.onerror = oe => ee(oe) }), []), E = b.useCallback(async $ => { try { const K = await X($), ee = new FormData; ee.append("action", "uploadFile"), ee.append("base64Data", K), ee.append("fileName", `${w._enquiryNumber}_${Date.now()}.${$.name.split(".").pop()}`), ee.append("mimeType", $.type), ee.append("folderId", Cn.DRIVE_FOLDER_ID); const oe = await (await fetch(Cn.APPS_SCRIPT_URL, { method: "POST", body: ee })).json(); if (oe.success) return oe.fileUrl; throw new Error("Failed to upload image") } catch (K) { throw console.error("Error uploading image:", K), K } }, [w, X]), q = async () => { if (!U.status) { alert("Please select a status"); return } R(!0); try { let $ = w.col23 || "", K = w.col24 || "", ee = w.col25 || "", te = w.col28 || ""; U.copySurveyReport && ($ = await E(U.copySurveyReport)), U.geotagPhoto && (K = await E(U.geotagPhoto)), U.electricityBill && (ee = await E(U.electricityBill)), U.addressProof && (te = await E(U.addressProof)); const oe = !pe(w.col20), fe = Array(31).fill(null), ue = new Date, ye = `${ue.getDate().toString().padStart(2, "0")}/${(ue.getMonth() + 1).toString().padStart(2, "0")}/${ue.getFullYear()} ${ue.getHours().toString().padStart(2, "0")}:${ue.getMinutes().toString().padStart(2, "0")}:${ue.getSeconds().toString().padStart(2, "0")}`; fe[20] = oe ? null : ye, fe[22] = U.status, fe[23] = $, fe[24] = K, fe[25] = ee, fe[26] = U.aadharNumber, fe[27] = U.panNumber, fe[28] = te, fe[29] = U.surveyorName, fe[30] = U.contactNumber; const be = { action: "update", sheetName: Cn.SOURCE_SHEET_NAME, rowIndex: w._rowIndex, rowData: JSON.stringify(fe) }, $e = await (await fetch(Cn.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(be).toString() })).json(); if ($e.success) { C(`Survey completed successfully for Enquiry Number: ${w._enquiryNumber}`), S(!1); const Fe = { ...w, col20: oe ? w.col20 : `${new Date().getDate().toString().padStart(2, "0")}/${(new Date().getMonth() + 1).toString().padStart(2, "0")}/${new Date().getFullYear()} ${new Date().getHours().toString().padStart(2, "0")}:${new Date().getMinutes().toString().padStart(2, "0")}:${new Date().getSeconds().toString().padStart(2, "0")}`, col22: U.status, col23: $, col24: K, col25: ee, col26: U.aadharNumber, col27: U.panNumber, col28: te, col29: U.surveyorName, col30: U.contactNumber }; oe ? n(Ue => Ue.map(Ze => Ze._id === w._id ? Fe : Ze)) : (e(Ue => Ue.filter(Ze => Ze._id !== w._id)), n(Ue => [Fe, ...Ue])), setTimeout(() => { C("") }, 3e3) } else throw new Error($e.error || "Failed to submit survey") } catch ($) { console.error("Error submitting survey:", $), alert("Failed to submit survey: " + $.message) } finally { R(!1) } }, T = b.useCallback($ => { v($ === "history"), u("") }, []), Y = b.useCallback($ => { ae($), Q(!0) }, []), G = b.useCallback(() => { Q(!1), ae(null) }, []), A = async () => { if (V) { se(!0); try { const $ = { action: "deleteRow", sheetName: Cn.SOURCE_SHEET_NAME, rowIndex: V._rowIndex }, ee = await (await fetch(Cn.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams($).toString() })).json(); if (ee.success) C(`Record deleted successfully for Enquiry Number: ${V._enquiryNumber}`), Q(!1), ae(null), n(te => te.filter(oe => oe._id !== V._id)), setTimeout(() => { C("") }, 3e3); else throw new Error(ee.error || "Failed to delete record") } catch ($) { console.error("Error deleting record:", $), alert("Failed to delete record: " + $.message) } finally { se(!1) } } }, z = b.useCallback(() => { S(!1), O(null), le({ status: "", copySurveyReport: null, geotagPhoto: null, electricityBill: null, aadharNumber: "", panNumber: "", addressProof: null, surveyorName: "", contactNumber: "" }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: Cn.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending surveys...", value: c, onChange: $ => u($.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => T("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Pending Surveys (", ce.length, ")"] }) }), a.jsx("button", { onClick: () => T("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Survey History (", ne.length, ")"] }) })] }), H && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), H] }), a.jsx("button", { onClick: () => C(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed FMS Surveys"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Pending FMS Surveys"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? Cn.PAGE_CONFIG.historyDescription : Cn.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading FMS data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [g && a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dist." }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), g ? a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Survey Report" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Geotag Photo" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Electricity Bill" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "PAN" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact" })] }) : a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Present Load" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "BP Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "CSPDCL Contract Demand" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Last 6 Months Avg Bill" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Future Load Requirement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Load Details/Application" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "No Of Hours Of Failure" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Structure Type" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Roof Type" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "System Type" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Need Type" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Project Mode" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? ne.length > 0 ? ne.map($ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("button", { onClick: () => Y($), className: "inline-flex items-center justify-center p-1.5 border border-transparent rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors", title: "Delete", children: a.jsx(rC, { className: "h-4 w-4" }) }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => L($), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: $.col1 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col2 || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: $.col3, children: $.col3 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col4 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col5 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col6 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("span", { className: "inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800", children: $.col22 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: $.col23 ? a.jsxs("a", { href: $.col23, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: $.col24 ? a.jsxs("a", { href: $.col24, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: $.col25 ? a.jsxs("a", { href: $.col25, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col26 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col27 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: $.col28 ? a.jsxs("a", { href: $.col28, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col29 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col30 || "" }) })] }, $._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 17, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed surveys found" }) }) : ce.length > 0 ? ce.map($ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => L($), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(Pn, { className: "h-3 w-3 mr-1" }), "Survey"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: $.col1 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), $.col2 || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: $.col3, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), $.col3 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col4 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col5 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), $.col6 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx($s, { className: "h-3 w-3 mr-1 text-yellow-500" }), $.col7 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col8 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(JO, { className: "h-3 w-3 mr-1 text-gray-400" }), $.col9 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: $.col10 ? a.jsxs("a", { href: $.col10, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx($s, { className: "h-3 w-3 mr-1 text-blue-500" }), $.col11 || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: $.col12, children: $.col12 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(td, { className: "h-3 w-3 mr-1 text-red-500" }), $.col13 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(JO, { className: "h-3 w-3 mr-1 text-gray-400" }), $.col14 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(jF, { className: "h-3 w-3 mr-1 text-brown-500" }), $.col15 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(an, { className: "h-3 w-3 mr-1 text-purple-500" }), $.col16 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col17 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.col18 || "" }) })] }, $._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 19, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending surveys matching your search" : "No pending surveys found" }) }) })] }) })] }), j && w && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-2xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["Survey Form - Enquiry: ", w.col1] }), a.jsx("button", { onClick: z, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-4", children: [a.jsxs("div", { className: "mb-4 p-3 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-2 text-sm", children: "Beneficiary Details" }), a.jsxs("div", { className: "grid grid-cols-2 gap-3 text-xs", children: [a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Name:" }), " ", w.col2] }), a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Contact:" }), " ", w.col6] }), a.jsxs("div", { className: "col-span-2", children: [a.jsx("span", { className: "font-medium", children: "Address:" }), " ", w.col3] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsxs("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: ["Status ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsxs("select", { value: U.status, onChange: $ => _("status", $.target.value), className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs", children: [a.jsx("option", { value: "", children: "Select" }), s.map(($, K) => a.jsx("option", { value: $, children: $ }, K))] })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Copy Survey Report" }), a.jsx("input", { type: "file", accept: "image/*", onChange: $ => I("copySurveyReport", $.target.files[0]), className: "mt-1 block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), U.copySurveyReport && a.jsxs("p", { className: "text-xs text-green-600 mt-1", children: [" ", U.copySurveyReport.name] })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Geotag Photo Site" }), a.jsx("input", { type: "file", accept: "image/*", onChange: $ => I("geotagPhoto", $.target.files[0]), className: "mt-1 block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), U.geotagPhoto && a.jsxs("p", { className: "text-xs text-green-600 mt-1", children: [" ", U.geotagPhoto.name] })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Three Months Electricity Bill Copy" }), a.jsx("input", { type: "file", accept: "image/*", onChange: $ => I("electricityBill", $.target.files[0]), className: "mt-1 block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), U.electricityBill && a.jsxs("p", { className: "text-xs text-green-600 mt-1", children: [" ", U.electricityBill.name] })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Aadhar Card Number" }), a.jsx("input", { type: "text", value: U.aadharNumber, onChange: $ => _("aadharNumber", $.target.value), placeholder: "Enter Aadhar number", maxLength: "12", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "PAN Card Number" }), a.jsx("input", { type: "text", value: U.panNumber, onChange: $ => _("panNumber", $.target.value.toUpperCase()), placeholder: "Enter PAN number", maxLength: "10", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: ["Address Proof", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Aadhar/PAN image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: $ => I("addressProof", $.target.files[0]), className: "mt-1 block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), U.addressProof && a.jsxs("p", { className: "text-xs text-green-600 mt-1", children: [" ", U.addressProof.name] })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Surveyor Name" }), a.jsx("input", { type: "text", value: U.surveyorName, onChange: $ => _("surveyorName", $.target.value), placeholder: "Enter surveyor name", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Contact Number" }), a.jsx("input", { type: "tel", value: U.contactNumber, onChange: $ => _("contactNumber", $.target.value), placeholder: "Enter contact number", maxLength: "10", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] })] }), a.jsxs("div", { className: "flex justify-end space-x-3 mt-6 pt-3 border-t", children: [a.jsx("button", { onClick: z, disabled: D, className: "px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-xs", children: "Cancel" }), a.jsx("button", { onClick: q, disabled: D || !U.status, className: "px-3 py-1 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-xs", children: D ? "Submitting..." : "Submit Survey" })] })] })] }) }), J && V && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsx("div", { className: "relative bg-white border max-w-md w-full shadow-2xl rounded-lg", children: a.jsxs("div", { className: "p-6", children: [a.jsx("div", { className: "flex items-center justify-center w-12 h-12 mx-auto mb-4 rounded-full bg-red-100", children: a.jsx(rC, { className: "h-6 w-6 text-red-600" }) }), a.jsx("h3", { className: "text-lg font-medium text-gray-900 text-center mb-2", children: "Delete Record" }), a.jsx("p", { className: "text-sm text-gray-500 text-center mb-4", children: "Are you sure you want to delete this record? This action cannot be undone." }), a.jsxs("div", { className: "bg-gray-50 rounded-md p-3 mb-4", children: [a.jsxs("p", { className: "text-sm text-gray-700", children: [a.jsx("span", { className: "font-medium", children: "Enquiry Number:" }), " ", V._enquiryNumber || V.col1] }), a.jsxs("p", { className: "text-sm text-gray-700", children: [a.jsx("span", { className: "font-medium", children: "Beneficiary:" }), " ", V.col2 || ""] })] }), a.jsxs("div", { className: "flex justify-end space-x-3", children: [a.jsx("button", { onClick: G, disabled: ie, className: "px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-sm", children: "Cancel" }), a.jsx("button", { onClick: A, disabled: ie, className: "px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm", children: ie ? "Deleting..." : "Delete" })] })] }) }) })] }) })
} const ma = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1QNU59s_1KFG1C9Xq7ufmn6G9dLO8COYk", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Quotation", historyTitle: "Quotation History", description: "Manage pending quotation tasks", historyDescription: "View completed quotation records" } }; function xre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function gre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(null), [D, R] = b.useState(!1), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState(""), [J, Q] = b.useState({ quotationNumber: "", valueOfQuotation: "", quotationCopy: null }), V = xre(c, 300), ae = b.useCallback(() => { const _ = new Date, X = _.getDate().toString().padStart(2, "0"), E = (_.getMonth() + 1).toString().padStart(2, "0"), q = _.getFullYear(), T = _.getHours().toString().padStart(2, "0"), Y = _.getMinutes().toString().padStart(2, "0"), G = _.getSeconds().toString().padStart(2, "0"); return `${X}/${E}/${q} ${T}:${Y}:${G}` }, []), ie = b.useCallback(_ => _ == null || typeof _ == "string" && _.trim() === "", []); b.useEffect(() => { const _ = sessionStorage.getItem("role"), X = sessionStorage.getItem("username"); F(_ || ""), W(X || "") }, []); const se = b.useCallback(async () => { try { const _ = await fetch(`${ma.APPS_SCRIPT_URL}?sheet=${ma.DROPDOWN_SHEET_NAME}&action=fetch`); if (!_.ok) throw new Error(`Failed to fetch dropdown data: ${_.status}`); const X = await _.text(); let E; try { E = JSON.parse(X) } catch { const Y = X.indexOf("{"), G = X.lastIndexOf("}"); if (Y !== -1 && G !== -1) { const A = X.substring(Y, G + 1); E = JSON.parse(A) } else throw new Error("Invalid JSON response from server") } const q = []; E.table && E.table.rows && E.table.rows.forEach((T, Y) => { if (Y === 0) return; const G = T.c && T.c[5] && T.c[5].v; G && G.toString().trim() !== "" && q.push(G.toString().trim()) }), o(q) } catch (_) { console.error("Error fetching dropdown data:", _), o(["Completed", "Pending", "In Progress", "Rejected"]) } }, []), U = b.useCallback(async () => { try { h(!0), x(null), await Promise.all([se(), (async () => { const _ = await fetch(`${ma.APPS_SCRIPT_URL}?sheet=${ma.SOURCE_SHEET_NAME}&action=fetch`); if (!_.ok) throw new Error(`Failed to fetch data: ${_.status}`); const X = await _.text(); let E; try { E = JSON.parse(X) } catch { const A = X.indexOf("{"), z = X.lastIndexOf("}"); if (A !== -1 && z !== -1) { const $ = X.substring(A, z + 1); E = JSON.parse($) } else throw new Error("Invalid JSON response from server") } const q = [], T = []; let Y = []; E.table && E.table.rows ? Y = E.table.rows : Array.isArray(E) ? Y = E : E.values && (Y = E.values.map(G => ({ c: G.map(A => ({ v: A })) }))), Y.forEach((G, A) => { if (A < 6) return; let z = []; if (G.c) z = G.c.map(be => be && be.v !== void 0 ? be.v : ""); else if (Array.isArray(G)) z = G; else return; const $ = z[31], K = z[32]; if (!!ie($)) return; const te = A + 1, oe = z[1] || "", ue = { _id: oe ? `enquiry_${oe}_${te}` : `row_${te}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: te, _enquiryNumber: oe, col0: z[0] || "", col1: z[1] || "", col2: z[2] || "", col3: z[3] || "", col4: z[4] || "", col5: z[5] || "", col6: z[6] || "", col7: z[7] || "", col8: z[8] || "", col9: z[9] || "", col10: z[10] || "", col11: z[11] || "", col12: z[12] || "", col13: z[13] || "", col14: z[14] || "", col15: z[15] || "", col16: z[16] || "", col17: z[17] || "", col18: z[18] || "", col19: z[19] || "", col20: z[20] || "", col21: z[21] || "", col22: z[22] || "", col23: z[23] || "", col24: z[24] || "", col25: z[25] || "", col26: z[26] || "", col27: z[27] || "", col28: z[28] || "", col29: z[29] || "", col30: z[30] || "", col31: z[31] || "", col32: z[32] || "", col33: z[33] || "", col34: z[34] || "", col35: z[35] || "", col36: z[36] || "" }; ie(K) ? q.push(ue) : T.push(ue) }), e(q), n(T), h(!1) })()]) } catch (_) { console.error("Error fetching sheet data:", _), x("Failed to load FMS data: " + _.message), h(!1) } }, [se, ie]); b.useEffect(() => { U() }, [U]); const le = b.useMemo(() => V ? t.filter(_ => Object.values(_).some(X => X && X.toString().toLowerCase().includes(V.toLowerCase()))) : t, [t, V]), de = b.useMemo(() => V ? r.filter(_ => Object.values(_).some(X => X && X.toString().toLowerCase().includes(V.toLowerCase()))) : r, [r, V]), me = b.useCallback(_ => { O(_), Q({ quotationNumber: _.col34 || "", valueOfQuotation: _.col35 || "", quotationCopy: null }), S(!0) }, []), pe = b.useCallback((_, X) => { Q(E => ({ ...E, [_]: X })) }, []), M = b.useCallback((_, X) => { Q(E => ({ ...E, [_]: X })) }, []), Z = b.useCallback(_ => new Promise((X, E) => { const q = new FileReader; q.readAsDataURL(_), q.onload = () => X(q.result), q.onerror = T => E(T) }), []), ce = b.useCallback(async _ => { try { const X = await Z(_), E = new FormData; E.append("action", "uploadFile"), E.append("base64Data", X), E.append("fileName", `${w._enquiryNumber}_quotation_${Date.now()}.${_.name.split(".").pop()}`), E.append("mimeType", _.type), E.append("folderId", ma.DRIVE_FOLDER_ID); const T = await (await fetch(ma.APPS_SCRIPT_URL, { method: "POST", body: E })).json(); if (T.success) return T.fileUrl; throw new Error("Failed to upload quotation copy") } catch (X) { throw console.error("Error uploading quotation copy:", X), X } }, [w, Z]), ne = async () => { if (!J.quotationNumber || !J.valueOfQuotation) { alert("Please fill in Quotation Number and Value of Quotation"); return } R(!0); try { let _ = w.col36 || ""; J.quotationCopy && (_ = await ce(J.quotationCopy)); const X = Array(37).fill(null); X[32] = ae(), X[34] = J.quotationNumber, X[35] = J.valueOfQuotation, X[36] = _; const E = { action: "update", sheetName: ma.SOURCE_SHEET_NAME, rowIndex: w._rowIndex, rowData: JSON.stringify(X) }, T = await (await fetch(ma.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(E).toString() })).json(); if (T.success) { C(`Quotation submitted successfully for Enquiry Number: ${w._enquiryNumber}`), S(!1); const Y = !ie(w.col32), G = { ...w, col32: ae(), col34: J.quotationNumber, col35: J.valueOfQuotation, col36: _ }; Y ? n(A => A.map(z => z._id === w._id ? G : z)) : (e(A => A.filter(z => z._id !== w._id)), n(A => [G, ...A])), setTimeout(() => { C("") }, 3e3) } else throw new Error(T.error || "Failed to submit quotation") } catch (_) { console.error("Error submitting quotation:", _), alert("Failed to submit quotation: " + _.message) } finally { R(!1) } }, L = b.useCallback(_ => { v(_ === "history"), u("") }, []), I = b.useCallback(() => { S(!1), O(null), Q({ quotationNumber: "", valueOfQuotation: "", quotationCopy: null }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: ma.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending quotations...", value: c, onChange: _ => u(_.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => L("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Xh, { className: "h-4 w-4 mr-2" }), "Pending Quotations (", le.length, ")"] }) }), a.jsx("button", { onClick: () => L("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Quotation History (", de.length, ")"] }) })] }), H && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), H] }), a.jsx("button", { onClick: () => C(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed FMS Quotations"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Xh, { className: "h-4 w-4 mr-2" }), "Pending FMS Quotations"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? ma.PAGE_CONFIG.historyDescription : ma.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading FMS data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dist." }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), g ? a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Value Of Quotation" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" })] }) : a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Copy Survey Report" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Geotag Photo Site" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Three Months Electricity Bill Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Pan Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? de.length > 0 ? de.map(_ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => me(_), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: _.col1 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col2 || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: _.col3, children: _.col3 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col4 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col5 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col6 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col26 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.col28 ? a.jsxs("a", { href: _.col28, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col29 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col30 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: _.col34 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-green-700 font-medium", children: ["", _.col35 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.col36 ? a.jsxs("a", { href: _.col36, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, _._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 14, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed quotations found" }) }) : le.length > 0 ? le.map(_ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => me(_), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(Xh, { className: "h-3 w-3 mr-1" }), "Quotation"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: _.col1 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), _.col2 || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: _.col3, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), _.col3 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col4 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col5 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), _.col6 || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("span", { className: "inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800", children: _.col22 || "Pending" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.col23 ? a.jsxs("a", { href: _.col23, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.col24 ? a.jsxs("a", { href: _.col24, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.col25 ? a.jsxs("a", { href: _.col25, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col26 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col27 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.col28 ? a.jsxs("a", { href: _.col28, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col29 || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.col30 || "" }) })] }, _._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 16, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending quotations matching your search" : "No pending quotations found" }) }) })] }) })] }), j && w && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-2xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["Quotation Form - Enquiry: ", w.col1] }), a.jsx("button", { onClick: I, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-4", children: [a.jsxs("div", { className: "mb-4 p-3 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-2 text-sm", children: "Beneficiary Details" }), a.jsxs("div", { className: "grid grid-cols-2 gap-3 text-xs", children: [a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Enquiry Number:" }), " ", w.col1] }), a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Beneficiary Name:" }), " ", w.col2] }), a.jsxs("div", { className: "col-span-2", children: [a.jsx("span", { className: "font-medium", children: "Address:" }), " ", w.col3] }), a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Contact Number:" }), " ", w.col6] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsxs("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: ["Quotation Number ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "text", value: J.quotationNumber, onChange: _ => M("quotationNumber", _.target.value), placeholder: "Enter quotation number", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: ["Value Of Quotation ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "number", value: J.valueOfQuotation, onChange: _ => M("valueOfQuotation", _.target.value), placeholder: "Enter quotation value", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { className: "col-span-2", children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Quotation Copy" }), a.jsx("input", { type: "file", accept: "image/*", onChange: _ => pe("quotationCopy", _.target.files[0]), className: "mt-1 block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), J.quotationCopy ? a.jsxs("p", { className: "text-xs text-green-600 mt-1", children: [" ", J.quotationCopy.name] }) : w.col36 ? a.jsxs("div", { className: "flex items-center mt-1", children: [a.jsx("span", { className: "text-xs text-gray-500 mr-2", children: "Current file:" }), a.jsxs("a", { href: w.col36, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:underline text-xs flex items-center", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), " View"] })] }) : null] })] }), a.jsxs("div", { className: "flex justify-end space-x-3 mt-6 pt-3 border-t", children: [a.jsx("button", { onClick: I, disabled: D, className: "px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-xs", children: "Cancel" }), a.jsx("button", { onClick: ne, disabled: D || !J.quotationNumber || !J.valueOfQuotation, className: "px-3 py-1 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-xs", children: D ? "Submitting..." : "Submit Quotation" })] })] })] }) })] }) }) } const Ra = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1KjZwLhFFEGvrUPtnbPV-S_QFJfSPjPDR", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Follow-Up", historyTitle: "Follow-Up History", description: "Manage pending follow-up tasks", historyDescription: "View completed follow-up records" } }; function yre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function bre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(null), [D, R] = b.useState(!1), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState(""), [J, Q] = b.useState({ whatDidCustomerSay: "", stage: "", nextDateOfCall: "", valueOfOrder: "" }), V = yre(c, 300), ae = b.useCallback(() => { const I = new Date, _ = I.getDate().toString().padStart(2, "0"), X = (I.getMonth() + 1).toString().padStart(2, "0"), E = I.getFullYear(), q = I.getHours().toString().padStart(2, "0"), T = I.getMinutes().toString().padStart(2, "0"), Y = I.getSeconds().toString().padStart(2, "0"); return `${_}/${X}/${E} ${q}:${T}:${Y}` }, []), ie = b.useCallback(I => { if (!I) return ""; if (I.includes("/")) { const [T, Y, G] = I.split("/"); return `${G}-${Y}-${T}` } const _ = new Date(I); if (isNaN(_.getTime())) return ""; const X = _.getDate().toString().padStart(2, "0"), E = (_.getMonth() + 1).toString().padStart(2, "0"); return `${_.getFullYear()}-${E}-${X}` }, []), se = b.useCallback(I => { if (!I) return ""; const _ = new Date(I), X = _.getDate().toString().padStart(2, "0"), E = (_.getMonth() + 1).toString().padStart(2, "0"), q = _.getFullYear(); return `${X}/${E}/${q}` }, []), U = b.useCallback(I => I == null || typeof I == "string" && I.trim() === "", []); b.useEffect(() => { const I = sessionStorage.getItem("role"), _ = sessionStorage.getItem("username"); F(I || ""), W(_ || "") }, []); const le = b.useCallback(async () => { try { const I = await fetch(`${Ra.APPS_SCRIPT_URL}?sheet=${Ra.DROPDOWN_SHEET_NAME}&action=fetch`); if (!I.ok) throw new Error(`Failed to fetch dropdown data: ${I.status}`); const _ = await I.text(); let X; try { X = JSON.parse(_) } catch { const T = _.indexOf("{"), Y = _.lastIndexOf("}"); if (T !== -1 && Y !== -1) { const G = _.substring(T, Y + 1); X = JSON.parse(G) } else throw new Error("Invalid JSON response from server") } const E = []; X.table && X.table.rows && X.table.rows.forEach((q, T) => { if (T === 0) return; const Y = q.c && q.c[6] && q.c[6].v; Y && Y.toString().trim() !== "" && E.push(Y.toString().trim()) }), o(E) } catch (I) { console.error("Error fetching dropdown data:", I), o(["Order Received", "In Progress", "Completed", "Cancelled"]) } }, []), de = b.useCallback(async () => { try { h(!0), x(null), await Promise.all([le(), (async () => { const I = await fetch(`${Ra.APPS_SCRIPT_URL}?sheet=${Ra.SOURCE_SHEET_NAME}&action=fetch`); if (!I.ok) throw new Error(`Failed to fetch data: ${I.status}`); const _ = await I.text(); let X; try { X = JSON.parse(_) } catch { const G = _.indexOf("{"), A = _.lastIndexOf("}"); if (G !== -1 && A !== -1) { const z = _.substring(G, A + 1); X = JSON.parse(z) } else throw new Error("Invalid JSON response from server") } const E = [], q = []; let T = []; X.table && X.table.rows ? T = X.table.rows : Array.isArray(X) ? T = X : X.values && (T = X.values.map(Y => ({ c: Y.map(G => ({ v: G })) }))), T.forEach((Y, G) => { if (G < 6) return; let A = []; if (Y.c) A = Y.c.map(ue => ue && ue.v !== void 0 ? ue.v : ""); else if (Array.isArray(Y)) A = Y; else return; const z = A[1] || "", $ = A[38]; if (!!U(z)) return; const ee = G + 1, oe = { _id: z ? `enquiry_${z}_${ee}` : `row_${ee}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: ee, _enquiryNumber: z, enquiryNumber: A[1] || "", beneficiaryName: A[2] || "", address: A[3] || "", villageBlock: A[4] || "", district: A[5] || "", contactNumber: A[6] || "", aadharCard: A[26] || "", addressProof: A[28] || "", surveyorName: A[29] || "", surveyorContact: A[30] || "", quotationNumber: A[34] || "", valueOfQuotation: A[35] || "", quotationCopy: A[36] || "", actual: A[38] || "", whatDidCustomerSay: A[40] || "", stage: A[41] || "", nextDateOfCall: A[42] || "", valueOfOrder: A[43] || "" }; U($) ? E.push(oe) : q.push(oe) }), e(E), n(q), h(!1) })()]) } catch (I) { console.error("Error fetching sheet data:", I), x("Failed to load Follow-Up data: " + I.message), h(!1) } }, [le, U]); b.useEffect(() => { de() }, [de]); const me = b.useMemo(() => V ? t.filter(I => Object.values(I).some(_ => _ && _.toString().toLowerCase().includes(V.toLowerCase()))) : t, [t, V]), pe = b.useMemo(() => V ? r.filter(I => Object.values(I).some(_ => _ && _.toString().toLowerCase().includes(V.toLowerCase()))) : r, [r, V]), M = b.useCallback(I => { O(I), Q({ whatDidCustomerSay: I.whatDidCustomerSay || "", stage: I.stage || "", nextDateOfCall: ie(I.nextDateOfCall || ""), valueOfOrder: I.valueOfOrder || "" }), S(!0) }, [ie]), Z = b.useCallback((I, _) => { Q(X => ({ ...X, [I]: _ })) }, []), ce = async () => { if (!J.stage) { alert("Please select a stage"); return } R(!0); try { const I = !U(w.actual), _ = J.stage === "Order Received", X = J.stage === "Negotiation" || J.stage === "Negotian"; let E = I ? w.actual : _ ? ae() : ""; X && (E = ""); const q = new Array(44).fill(null); q[38] = E, q[40] = J.whatDidCustomerSay, q[41] = J.stage, q[42] = J.stage !== "Order Received" ? se(J.nextDateOfCall) : "", q[43] = J.valueOfOrder; const T = { action: "update", sheetName: Ra.SOURCE_SHEET_NAME, rowIndex: w._rowIndex, rowData: JSON.stringify(q) }, G = await (await fetch(Ra.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(T).toString() })).json(); if (G.success) { C(`Follow-up completed successfully for Enquiry Number: ${w.enquiryNumber}`), S(!1); const A = { ...w, actual: E, whatDidCustomerSay: J.whatDidCustomerSay, stage: J.stage, nextDateOfCall: se(J.nextDateOfCall), valueOfOrder: J.valueOfOrder }; I ? X ? (n(z => z.filter($ => $._id !== w._id)), e(z => [A, ...z])) : n(z => z.map($ => $._id === w._id ? A : $)) : _ ? (e(z => z.filter($ => $._id !== w._id)), n(z => [A, ...z])) : e(z => z.map($ => $._id === w._id ? A : $)), setTimeout(() => { C("") }, 3e3) } else throw new Error(G.error || "Failed to submit follow-up") } catch (I) { console.error("Error submitting follow-up:", I), alert("Failed to submit follow-up: " + I.message) } finally { R(!1) } }, ne = b.useCallback(I => { v(I === "history"), u("") }, []), L = b.useCallback(() => { S(!1), O(null), Q({ whatDidCustomerSay: "", stage: "", nextDateOfCall: "", valueOfOrder: "" }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: Ra.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending follow-ups...", value: c, onChange: I => u(I.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => ne("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Pending (", me.length, ")"] }) }), a.jsx("button", { onClick: () => ne("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "History (", pe.length, ")"] }) })] }), H && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), H] }), a.jsx("button", { onClick: () => C(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), Ra.PAGE_CONFIG.historyTitle] }) : a.jsxs(a.Fragment, { children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Pending Follow-Ups"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? Ra.PAGE_CONFIG.historyDescription : Ra.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading Follow-Up data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dist." }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Value Of Quotation" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), g && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "What Did Customer Say" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Stage" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Value Of Order" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? pe.length > 0 ? pe.map(I => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => M(I), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: I.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: I.address, children: I.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.aadharCard || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: I.addressProof ? a.jsxs("a", { href: I.addressProof, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.quotationNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.valueOfQuotation || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: I.quotationCopy ? a.jsxs("a", { href: I.quotationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: I.whatDidCustomerSay, children: I.whatDidCustomerSay || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("span", { className: "inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800", children: I.stage || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.valueOfOrder || "" }) })] }, I._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 17, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed follow-ups found" }) }) : me.length > 0 ? me.map(I => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => M(I), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(or, { className: "h-3 w-3 mr-1" }), "Follow-Up"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: I.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), I.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: I.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), I.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), I.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.aadharCard || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: I.addressProof ? a.jsxs("a", { href: I.addressProof, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: I.quotationNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(Sp, { className: "h-3 w-3 mr-1 text-green-500" }), I.valueOfQuotation || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: I.quotationCopy ? a.jsxs("a", { href: I.quotationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, I._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 14, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending follow-ups matching your search" : "No pending follow-ups found" }) }) })] }) })] }), j && w && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-2xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["Follow-Up Form - Enquiry: ", w.enquiryNumber] }), a.jsx("button", { onClick: L, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-4", children: [a.jsxs("div", { className: "mb-4 p-3 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-2 text-sm", children: "Beneficiary Details" }), a.jsxs("div", { className: "grid grid-cols-2 gap-3 text-xs", children: [a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Enquiry Number:" }), " ", w.enquiryNumber] }), a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Name:" }), " ", w.beneficiaryName] }), a.jsxs("div", { className: "col-span-2", children: [a.jsx("span", { className: "font-medium", children: "Address:" }), " ", w.address] }), a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Contact:" }), " ", w.contactNumber] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 gap-4", children: [a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: ["What Did The Customer Say ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("textarea", { value: J.whatDidCustomerSay, onChange: I => Z("whatDidCustomerSay", I.target.value), placeholder: "Enter customer feedback...", rows: 3, className: "mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: ["Stage ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsxs("select", { value: J.stage, onChange: I => Z("stage", I.target.value), className: "mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm", children: [a.jsx("option", { value: "", children: "Select" }), s.map((I, _) => a.jsx("option", { value: I, children: I }, _))] })] }), J.stage !== "Order Received" && a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Next Date Of Call" }), a.jsx("input", { type: "date", value: J.nextDateOfCall, onChange: I => Z("nextDateOfCall", I.target.value), className: "mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Value Of Order" }), a.jsx("input", { type: "number", value: J.valueOfOrder, onChange: I => Z("valueOfOrder", I.target.value), placeholder: "Enter order value", className: "mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] })] }), a.jsxs("div", { className: "flex justify-end space-x-3 mt-6 pt-3 border-t", children: [a.jsx("button", { onClick: L, disabled: D, className: "px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-sm", children: "Cancel" }), a.jsx("button", { onClick: ce, disabled: D || !J.stage || !J.whatDidCustomerSay, className: "px-4 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm", children: D ? "Submitting..." : "Submit" })] })] })] }) })] }) }) } const ps = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1O67xaSjucSi761g-WRA0D7i0ck344FtT", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Varya", historyTitle: "Varya History", description: "Manage pending orders", historyDescription: "View completed order records" } }; function vre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function wre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState(""), [c, u] = b.useState(!0), [f, h] = b.useState(null), [p, x] = b.useState(!1), [g, v] = b.useState(!1), [j, S] = b.useState(null), [w, O] = b.useState(!1), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState({ module: "", inverter: "", bos: "", acdb: "", dcdb: "", orderCopy: null }), J = vre(s, 300), Q = b.useCallback(() => { const L = new Date, I = L.getDate().toString().padStart(2, "0"), _ = (L.getMonth() + 1).toString().padStart(2, "0"), X = L.getFullYear(), E = L.getHours().toString().padStart(2, "0"), q = L.getMinutes().toString().padStart(2, "0"), T = L.getSeconds().toString().padStart(2, "0"); return `${I}/${_}/${X} ${E}:${q}:${T}` }, []), V = b.useCallback(L => { if (!L) return ""; if (L.match(/^\d{2}\/\d{2}\/\d{4}$/)) return L; const I = new Date(L); if (isNaN(I.getTime())) return L; const _ = I.getDate().toString().padStart(2, "0"), X = (I.getMonth() + 1).toString().padStart(2, "0"), E = I.getFullYear(); return `${_}/${X}/${E}` }, []), ae = b.useCallback(L => L == null || typeof L == "string" && L.trim() === "", []); b.useEffect(() => { const L = sessionStorage.getItem("role"), I = sessionStorage.getItem("username"); C(L || ""), F(I || "") }, []); const ie = b.useCallback(async () => { try { u(!0), h(null); const L = await fetch(`${ps.APPS_SCRIPT_URL}?sheet=${ps.SOURCE_SHEET_NAME}&action=fetch`); if (!L.ok) throw new Error(`Failed to fetch data: ${L.status}`); const I = await L.text(); let _; try { _ = JSON.parse(I) } catch { const Y = I.indexOf("{"), G = I.lastIndexOf("}"); if (Y !== -1 && G !== -1) { const A = I.substring(Y, G + 1); _ = JSON.parse(A) } else throw new Error("Invalid JSON response from server") } const X = [], E = []; let q = []; _.table && _.table.rows ? q = _.table.rows : Array.isArray(_) ? q = _ : _.values && (q = _.values.map(T => ({ c: T.map(Y => ({ v: Y })) }))), q.forEach((T, Y) => { if (Y < 6) return; let G = []; if (T.c) G = T.c.map(fe => fe && fe.v !== void 0 ? fe.v : ""); else if (Array.isArray(T)) G = T; else return; const A = G[1] || "", z = G[45]; if (!!ae(A)) return; const K = Y + 1, te = { _id: A ? `enquiry_${A}_${K}` : `row_${K}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: K, _enquiryNumber: A, enquiryNumber: G[1] || "", beneficiaryName: G[2] || "", address: G[3] || "", villageBlock: G[4] || "", district: G[5] || "", contactNumber: G[6] || "", aadharCard: G[26] || "", addressProof: G[28] || "", surveyorName: G[29] || "", surveyorContact: G[30] || "", quotationNumber: G[34] || "", quotationValue: G[35] || "", quotationCopy: G[36] || "", actualDate: V(G[45] || ""), module: G[47] || "", inverter: G[48] || "", bos: G[49] || "", acdb: G[50] || "", dcdb: G[51] || "", orderCopy: G[52] || "" }; ae(z) ? X.push(te) : E.push(te) }), e(X), n(E), u(!1) } catch (L) { console.error("Error fetching sheet data:", L), h("Failed to load order data: " + L.message), u(!1) } }, [ae, V]); b.useEffect(() => { ie() }, [ie]); const se = b.useMemo(() => J ? t.filter(L => Object.values(L).some(I => I && I.toString().toLowerCase().includes(J.toLowerCase()))) : t, [t, J]), U = b.useMemo(() => J ? r.filter(L => Object.values(L).some(I => I && I.toString().toLowerCase().includes(J.toLowerCase()))) : r, [r, J]), le = b.useCallback(L => { S(L), W({ module: L.module || "", inverter: L.inverter || "", bos: L.bos || "", acdb: L.acdb || "", dcdb: L.dcdb || "", orderCopy: null }), v(!0) }, []), de = b.useCallback((L, I) => { W(_ => ({ ..._, [L]: I })) }, []), me = b.useCallback((L, I) => { W(_ => ({ ..._, [L]: I })) }, []), pe = b.useCallback(L => new Promise((I, _) => { const X = new FileReader; X.readAsDataURL(L), X.onload = () => I(X.result), X.onerror = E => _(E) }), []), M = b.useCallback(async L => { try { const I = await pe(L), _ = new FormData; _.append("action", "uploadFile"), _.append("base64Data", I), _.append("fileName", `${j._enquiryNumber}_order_${Date.now()}.${L.name.split(".").pop()}`), _.append("mimeType", L.type), _.append("folderId", ps.DRIVE_FOLDER_ID); const E = await (await fetch(ps.APPS_SCRIPT_URL, { method: "POST", body: _ })).json(); if (E.success) return E.fileUrl; throw new Error("Failed to upload image") } catch (I) { throw console.error("Error uploading image:", I), I } }, [j, pe]), Z = async () => { if (!P.module || !P.inverter) { alert("Please fill in required fields (Module and Inverter)"); return } O(!0); try { const L = !ae(j.actualDate), I = L ? j.actualDate : Q(); let _ = ""; P.orderCopy ? _ = await M(P.orderCopy) : L && j.orderCopy && (_ = j.orderCopy); const X = Array(53).fill(null); X[45] = I, X[47] = P.module, X[48] = P.inverter, X[49] = P.bos, X[50] = P.acdb, X[51] = P.dcdb, X[52] = _; const q = await (await fetch(ps.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams({ action: "update", sheetName: ps.SOURCE_SHEET_NAME, rowIndex: j._rowIndex, rowData: JSON.stringify(X) }).toString() })).json(); if (q.success) { R(`Order processed successfully for Enquiry Number: ${j.enquiryNumber}`), v(!1); const T = { ...j, actualDate: I, module: P.module, inverter: P.inverter, bos: P.bos, acdb: P.acdb, dcdb: P.dcdb, orderCopy: _ }; L ? n(Y => Y.map(G => G._id === j._id ? T : G)) : (e(Y => Y.filter(G => G._id !== j._id)), n(Y => [T, ...Y])), setTimeout(() => { R("") }, 3e3) } else throw new Error(q.error || "Failed to submit order") } catch (L) { console.error("Error submitting order:", L), alert("Failed to submit order: " + L.message) } finally { O(!1) } }, ce = b.useCallback(L => { x(L === "history"), o("") }, []), ne = b.useCallback(() => { v(!1), S(null), W({ module: "", inverter: "", bos: "", acdb: "", dcdb: "", orderCopy: null }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: ps.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: p ? "Search history..." : "Search pending orders...", value: s, onChange: L => o(L.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => ce("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Orders (", se.length, ")"] }) }), a.jsx("button", { onClick: () => ce("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Order History (", U.length, ")"] }) })] }), D && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), D] }), a.jsx("button", { onClick: () => R(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: p ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Orders"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Orders"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: p ? ps.PAGE_CONFIG.historyDescription : ps.PAGE_CONFIG.description })] }), c ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading order data..." })] }) : f ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [f, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dist." }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Value Of Quotation" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Module" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inverter" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "BOS" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "ACDB" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "DCDB" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Order Copy" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: p ? U.length > 0 ? U.map(L => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => le(L), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: L.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: L.address, children: L.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.aadharCard || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.addressProof ? a.jsxs("a", { href: L.addressProof, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.quotationNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.quotationValue || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.quotationCopy ? a.jsxs("a", { href: L.quotationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.module || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.inverter || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.bos || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.acdb || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.dcdb || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.orderCopy ? a.jsxs("a", { href: L.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, L._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 20, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No history records matching your search" : "No completed orders found" }) }) : se.length > 0 ? se.map(L => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => le(L), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-linear-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(Kr, { className: "h-3 w-3 mr-1" }), "Order"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: L.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), L.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: L.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), L.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), L.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.aadharCard || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.addressProof ? a.jsxs("a", { href: L.addressProof, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.quotationNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(Sp, { className: "h-3 w-3 mr-1 text-green-500" }), L.quotationValue || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.quotationCopy ? a.jsxs("a", { href: L.quotationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, L._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 14, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No pending orders matching your search" : "No pending orders found" }) }) })] }) })] }), g && j && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-2xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["Order Form - Enquiry: ", j.enquiryNumber] }), a.jsx("button", { onClick: ne, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-4", children: [a.jsxs("div", { className: "mb-4 p-3 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-2 text-sm", children: "Beneficiary Details" }), a.jsxs("div", { className: "grid grid-cols-2 gap-3 text-xs", children: [a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Enquiry Number:" }), " ", j.enquiryNumber] }), a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Name:" }), " ", j.beneficiaryName] }), a.jsxs("div", { className: "col-span-2", children: [a.jsx("span", { className: "font-medium", children: "Address:" }), " ", j.address] }), a.jsxs("div", { children: [a.jsx("span", { className: "font-medium", children: "Contact:" }), " ", j.contactNumber] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsxs("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: ["Module ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "text", value: P.module, onChange: L => me("module", L.target.value), placeholder: "Enter module details", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: ["Inverter ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "text", value: P.inverter, onChange: L => me("inverter", L.target.value), placeholder: "Enter inverter details", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "BOS" }), a.jsx("input", { type: "text", value: P.bos, onChange: L => me("bos", L.target.value), placeholder: "Enter BOS details", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "ACDB" }), a.jsx("input", { type: "text", value: P.acdb, onChange: L => me("acdb", L.target.value), placeholder: "Enter ACDB details", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "DCDB" }), a.jsx("input", { type: "text", value: P.dcdb, onChange: L => me("dcdb", L.target.value), placeholder: "Enter DCDB details", className: "mt-1 block w-full border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Order Copy" }), a.jsx("input", { type: "file", accept: "image/*", onChange: L => de("orderCopy", L.target.files[0]), className: "mt-1 block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.orderCopy && a.jsxs("p", { className: "text-xs text-green-600 mt-1", children: [" ", P.orderCopy.name] })] })] }), a.jsxs("div", { className: "flex justify-end space-x-3 mt-6 pt-3 border-t", children: [a.jsx("button", { onClick: ne, disabled: w, className: "px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-xs", children: "Cancel" }), a.jsx("button", { onClick: Z, disabled: w || !P.module || !P.inverter, className: "px-3 py-1 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-xs", children: w ? "Submitting..." : "Submit" })] })] })] }) })] }) }) } const xs = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1SFoN0eZ8TS6qEruTlGj-WELKkm8Gw2iU", SOURCE_SHEET_NAME: "FMS", PAGE_CONFIG: { title: "IP Assignment", historyTitle: "IP Assignment History", description: "Manage pending IP assignments", historyDescription: "View completed IP assignment records" } }; function jre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Nre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState(""), [c, u] = b.useState(!0), [f, h] = b.useState(null), [p, x] = b.useState(!1), [g, v] = b.useState(!1), [j, S] = b.useState(null), [w, O] = b.useState(!1), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState({ ipName: "", contactNumberOfIP: "", gstNumber: "", gstCertificates: null, bankAccountDetails: null, aadharCard: null, panCard: null, workOrderNumber: "", workOrderCopy: null }), J = jre(s, 300), Q = b.useCallback(() => { const ne = new Date, L = ne.getDate().toString().padStart(2, "0"), I = (ne.getMonth() + 1).toString().padStart(2, "0"), _ = ne.getFullYear(), X = ne.getHours().toString().padStart(2, "0"), E = ne.getMinutes().toString().padStart(2, "0"), q = ne.getSeconds().toString().padStart(2, "0"); return `${L}/${I}/${_} ${X}:${E}:${q}` }, []), V = b.useCallback(ne => ne == null || typeof ne == "string" && ne.trim() === "", []); b.useEffect(() => { const ne = sessionStorage.getItem("role"), L = sessionStorage.getItem("username"); C(ne || ""), F(L || "") }, []); const ae = b.useCallback(async () => { try { u(!0), h(null); const ne = await fetch(`${xs.APPS_SCRIPT_URL}?sheet=${xs.SOURCE_SHEET_NAME}&action=fetch`); if (!ne.ok) throw new Error(`Failed to fetch data: ${ne.status}`); const L = await ne.text(); let I; try { I = JSON.parse(L) } catch { const T = L.indexOf("{"), Y = L.lastIndexOf("}"); if (T !== -1 && Y !== -1) { const G = L.substring(T, Y + 1); I = JSON.parse(G) } else throw new Error("Invalid JSON response from server") } const _ = [], X = []; let E = []; I.table && I.table.rows ? E = I.table.rows : Array.isArray(I) ? E = I : I.values && (E = I.values.map(q => ({ c: q.map(T => ({ v: T })) }))), E.forEach((q, T) => { if (T < 6) return; let Y = []; if (q.c) Y = q.c.map(oe => oe && oe.v !== void 0 ? oe.v : ""); else if (Array.isArray(q)) Y = q; else return; const G = Y[1] || "", A = Y[54]; if (!!V(G)) return; const $ = T + 1, ee = { _id: G ? `enquiry_${G}_${$}` : `row_${$}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: $, _enquiryNumber: G, enquiryNumber: Y[1] || "", beneficiaryName: Y[2] || "", address: Y[3] || "", villageBlock: Y[4] || "", district: Y[5] || "", contactNumber: Y[6] || "", addressProof: Y[28] || "", surveyorName: Y[29] || "", surveyorContact: Y[30] || "", quotationCopy: Y[36] || "", module: Y[47] || "", inverter: Y[48] || "", bos: Y[49] || "", acdb: Y[50] || "", dcdb: Y[51] || "", orderCopy: Y[52] || "", actual: Y[54] || "", ipName: Y[56] || "", ipContact: Y[57] || "", gstNumber: Y[58] || "", gstCertificates: Y[59] || "", bankAccountDetails: Y[60] || "", aadharCard: Y[61] || "", panCard: Y[62] || "", workOrderNumber: Y[63] || "", workOrderCopy: Y[64] || "" }; V(A) ? _.push(ee) : X.push(ee) }), e(_), n(X), u(!1) } catch (ne) { console.error("Error fetching sheet data:", ne), h("Failed to load IP Assignment data: " + ne.message), u(!1) } }, [V]); b.useEffect(() => { ae() }, [ae]); const ie = b.useMemo(() => J ? t.filter(ne => Object.values(ne).some(L => L && L.toString().toLowerCase().includes(J.toLowerCase()))) : t, [t, J]), se = b.useMemo(() => J ? r.filter(ne => Object.values(ne).some(L => L && L.toString().toLowerCase().includes(J.toLowerCase()))) : r, [r, J]), U = b.useCallback(ne => { S(ne), W({ ipName: ne.ipName || "", contactNumberOfIP: ne.ipContact || "", gstNumber: ne.gstNumber || "", gstCertificates: null, bankAccountDetails: null, aadharCard: null, panCard: null, workOrderNumber: ne.workOrderNumber || "", workOrderCopy: null }), v(!0) }, []), le = b.useCallback((ne, L) => { W(I => ({ ...I, [ne]: L })) }, []), de = b.useCallback((ne, L) => { W(I => ({ ...I, [ne]: L })) }, []), me = b.useCallback(ne => new Promise((L, I) => { const _ = new FileReader; _.readAsDataURL(ne), _.onload = () => L(_.result), _.onerror = X => I(X) }), []), pe = b.useCallback(async ne => { try { const L = await me(ne), I = new FormData; I.append("action", "uploadFile"), I.append("base64Data", L), I.append("fileName", `${j._enquiryNumber}_${Date.now()}.${ne.name.split(".").pop()}`), I.append("mimeType", ne.type), I.append("folderId", xs.DRIVE_FOLDER_ID); const X = await (await fetch(xs.APPS_SCRIPT_URL, { method: "POST", body: I })).json(); if (X.success) return X.fileUrl; throw new Error("Failed to upload image") } catch (L) { throw console.error("Error uploading image:", L), L } }, [j, me]), M = async () => { if (!P.ipName || !P.contactNumberOfIP) { alert("Please fill in required fields (IP Name and Contact Number)"); return } O(!0); try { const ne = !V(j.actual), L = ne ? j.actual : Q(); let I = ""; P.gstCertificates ? I = await pe(P.gstCertificates) : ne && j.gstCertificates && (I = j.gstCertificates); let _ = ""; P.bankAccountDetails ? _ = await pe(P.bankAccountDetails) : ne && j.bankAccountDetails && (_ = j.bankAccountDetails); let X = ""; P.aadharCard ? X = await pe(P.aadharCard) : ne && j.aadharCard && (X = j.aadharCard); let E = ""; P.panCard ? E = await pe(P.panCard) : ne && j.panCard && (E = j.panCard); let q = ""; P.workOrderCopy ? q = await pe(P.workOrderCopy) : ne && j.workOrderCopy && (q = j.workOrderCopy); const T = Array(65).fill(null); T[54] = L, T[56] = P.ipName, T[57] = P.contactNumberOfIP, T[58] = P.gstNumber, T[59] = I, T[60] = _, T[61] = X, T[62] = E, T[63] = P.workOrderNumber, T[64] = q; const Y = { action: "update", sheetName: xs.SOURCE_SHEET_NAME, rowIndex: j._rowIndex, rowData: JSON.stringify(T) }, A = await (await fetch(xs.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(Y).toString() })).json(); if (A.success) { R(`IP Assignment completed successfully for Enquiry Number: ${j._enquiryNumber}`), v(!1); const z = { ...j, actual: L, ipName: P.ipName, ipContact: P.contactNumberOfIP, gstNumber: P.gstNumber, gstCertificates: I, bankAccountDetails: _, aadharCard: X, panCard: E, workOrderNumber: P.workOrderNumber, workOrderCopy: q }; ne ? n($ => $.map(K => K._id === j._id ? z : K)) : (e($ => $.filter(K => K._id !== j._id)), n($ => [z, ...$])), setTimeout(() => { R("") }, 3e3) } else throw new Error(A.error || "Failed to submit IP assignment") } catch (ne) { console.error("Error submitting IP assignment:", ne), alert("Failed to submit IP assignment: " + ne.message) } finally { O(!1) } }, Z = b.useCallback(ne => { x(ne === "history"), o("") }, []), ce = b.useCallback(() => { v(!1), S(null), W({ ipName: "", contactNumberOfIP: "", gstNumber: "", gstCertificates: null, bankAccountDetails: null, aadharCard: null, panCard: null, workOrderNumber: "", workOrderCopy: null }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: xs.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: p ? "Search history..." : "Search pending IP assignments...", value: s, onChange: ne => o(ne.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => Z("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Jh, { className: "h-4 w-4 mr-2" }), "Pending IP Assignments (", ie.length, ")"] }) }), a.jsx("button", { onClick: () => Z("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "IP Assignment History (", se.length, ")"] }) })] }), D && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), D] }), a.jsx("button", { onClick: () => R(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: p ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed IP Assignments"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Jh, { className: "h-4 w-4 mr-2" }), "Pending IP Assignments"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: p ? xs.PAGE_CONFIG.historyDescription : xs.PAGE_CONFIG.description })] }), c ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading IP Assignment data..." })] }) : f ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [f, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dist." }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), !p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Module" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inverter" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "BOS" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "ACDB" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "DCDB" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Order Copy" })] }), p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Order Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "IP Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of IP" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Certificates" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Bank Account Details" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Pan Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Copy" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: p ? se.length > 0 ? se.map(ne => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => U(ne), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: ne.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: ne.address, children: ne.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.orderCopy ? a.jsxs("a", { href: ne.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-600", children: ne.ipName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.ipContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.gstNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.gstCertificates ? a.jsxs("a", { href: ne.gstCertificates, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.bankAccountDetails ? a.jsxs("a", { href: ne.bankAccountDetails, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.aadharCard ? a.jsxs("a", { href: ne.aadharCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.panCard ? a.jsxs("a", { href: ne.panCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.workOrderNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.workOrderCopy ? a.jsxs("a", { href: ne.workOrderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, ne._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 19, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No history records matching your search" : "No completed IP assignments found" }) }) : ie.length > 0 ? ie.map(ne => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => U(ne), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-linear-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(Jh, { className: "h-3 w-3 mr-1" }), "IP"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: ne.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), ne.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: ne.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), ne.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), ne.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.addressProof ? a.jsxs("a", { href: ne.addressProof, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.quotationCopy ? a.jsxs("a", { href: ne.quotationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.module || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.inverter || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.bos || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.acdb || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ne.dcdb || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: ne.orderCopy ? a.jsxs("a", { href: ne.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, ne._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 18, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No pending IP assignments matching your search" : "No pending IP assignments found" }) }) })] }) })] }), g && j && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-4xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["IP Assignment Form - Enquiry: ", j.enquiryNumber] }), a.jsx("button", { onClick: ce, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-6", children: [a.jsxs("div", { className: "mb-6 p-4 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-3 text-sm", children: "Beneficiary Details (Pre-filled)" }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Enquiry Number" }), a.jsx("input", { type: "text", value: j.enquiryNumber, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Beneficiary Name" }), a.jsx("input", { type: "text", value: j.beneficiaryName, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { className: "md:col-span-2", children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Address" }), a.jsx("input", { type: "text", value: j.address, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Contact Number Of Beneficiary" }), a.jsx("input", { type: "text", value: j.contactNumber, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["IP Name ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "text", value: P.ipName, onChange: ne => de("ipName", ne.target.value), placeholder: "Enter IP name", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Contact Number Of IP ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "tel", value: P.contactNumberOfIP, onChange: ne => de("contactNumberOfIP", ne.target.value), placeholder: "Enter IP contact number", maxLength: "10", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "GST Number" }), a.jsx("input", { type: "text", value: P.gstNumber, onChange: ne => de("gstNumber", ne.target.value.toUpperCase()), placeholder: "Enter GST number", maxLength: "15", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Work Order Number" }), a.jsx("input", { type: "text", value: P.workOrderNumber, onChange: ne => de("workOrderNumber", ne.target.value), placeholder: "Enter work order number", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["GST Certificates", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: ne => le("gstCertificates", ne.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.gstCertificates && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.gstCertificates.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Bank Account Details", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: ne => le("bankAccountDetails", ne.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.bankAccountDetails && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.bankAccountDetails.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Aadhar Card", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: ne => le("aadharCard", ne.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.aadharCard && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.aadharCard.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Pan Card", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: ne => le("panCard", ne.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.panCard && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.panCard.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Work Order Copy", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: ne => le("workOrderCopy", ne.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.workOrderCopy && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.workOrderCopy.name] })] })] }), a.jsxs("div", { className: "flex justify-end space-x-4 mt-8 pt-4 border-t", children: [a.jsx("button", { onClick: ce, disabled: w, className: "px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-sm", children: "Cancel" }), a.jsx("button", { onClick: M, disabled: w || !P.ipName || !P.contactNumberOfIP, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: w ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(pt, { className: "h-4 w-4 mr-2" }), "Submit"] }) })] })] })] }) })] }) }) } const gs = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Dispatch Materials", historyTitle: "Dispatch Materials History", description: "Manage pending material dispatch", historyDescription: "View completed material dispatch records" } }; function Sre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function _re() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(""), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState({}), [P, W] = b.useState({}), J = Sre(c, 300), Q = b.useCallback(() => { const M = new Date, Z = M.getDate().toString().padStart(2, "0"), ce = (M.getMonth() + 1).toString().padStart(2, "0"), ne = M.getFullYear(), L = M.getHours().toString().padStart(2, "0"), I = M.getMinutes().toString().padStart(2, "0"), _ = M.getSeconds().toString().padStart(2, "0"); return `${Z}/${ce}/${ne} ${L}:${I}:${_}` }, []), V = b.useCallback(M => M == null || typeof M == "string" && M.trim() === "", []); b.useEffect(() => { const M = sessionStorage.getItem("role"), Z = sessionStorage.getItem("username"); R(M || ""), C(Z || "") }, []); const ae = b.useCallback(async () => { try { const M = await fetch(`${gs.APPS_SCRIPT_URL}?sheet=${gs.DROPDOWN_SHEET_NAME}&action=fetch`); if (!M.ok) throw new Error(`Failed to fetch dropdown data: ${M.status}`); const Z = await M.text(); let ce; try { ce = JSON.parse(Z) } catch { const _ = Z.indexOf("{"), X = Z.lastIndexOf("}"); if (_ !== -1 && X !== -1) { const E = Z.substring(_, X + 1); ce = JSON.parse(E) } else throw new Error("Invalid JSON response from server") } let ne = []; ce.table && ce.table.rows ? ne = ce.table.rows : Array.isArray(ce) ? ne = ce : ce.values && (ne = ce.values.map(I => ({ c: I.map(_ => ({ v: _ })) }))); const L = []; ne.forEach((I, _) => { if (_ >= 1) { let X = []; I.c ? X = I.c.map(q => q && q.v !== void 0 ? q.v : "") : Array.isArray(I) && (X = I); const E = X[7]; V(E) || L.push(E.toString()) } }), o(L) } catch (M) { console.error("Error fetching dropdown options:", M), o([]) } }, [V]), ie = b.useCallback(async () => { try { h(!0), x(null), await ae(); const M = await fetch(`${gs.APPS_SCRIPT_URL}?sheet=${gs.SOURCE_SHEET_NAME}&action=fetch`); if (!M.ok) throw new Error(`Failed to fetch data: ${M.status}`); const Z = await M.text(); let ce; try { ce = JSON.parse(Z) } catch { const X = Z.indexOf("{"), E = Z.lastIndexOf("}"); if (X !== -1 && E !== -1) { const q = Z.substring(X, E + 1); ce = JSON.parse(q) } else throw new Error("Invalid JSON response from server") } const ne = [], L = []; let I = []; ce.table && ce.table.rows ? I = ce.table.rows : Array.isArray(ce) ? I = ce : ce.values && (I = ce.values.map(_ => ({ c: _.map(X => ({ v: X })) }))), I.forEach((_, X) => { if (X < 6) return; let E = []; if (_.c) E = _.c.map(K => K && K.v !== void 0 ? K.v : ""); else if (Array.isArray(_)) E = _; else return; const q = E[1] || "", T = E[66]; if (!!V(q)) return; const G = X + 1, z = { _id: q ? `enquiry_${q}_${G}` : `row_${G}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: G, _enquiryNumber: q, enquiryNumber: E[1] || "", beneficiaryName: E[2] || "", address: E[3] || "", villageBlock: E[4] || "", district: E[5] || "", contactNumber: E[6] || "", surveyorName: E[29] || "", surveyorContact: E[30] || "", orderCopy: E[52] || "", ipName: E[56] || "", ipContact: E[57] || "", gstNumber: E[58] || "", gstCertificates: E[59] || "", bankAccountDetails: E[60] || "", aadharCard: E[61] || "", panCard: E[62] || "", workOrderNumber: E[63] || "", workOrderCopy: E[64] || "", actual: E[66] || "", dispatchMaterial: E[68] || "" }; V(T) ? ne.push(z) : L.push(z) }), e(ne), n(L), h(!1) } catch (M) { console.error("Error fetching sheet data:", M), x("Failed to load Dispatch Materials data: " + M.message), h(!1) } }, [V, ae]); b.useEffect(() => { ie() }, [ie]), b.useEffect(() => { const M = {};[...t, ...r].forEach(ce => { ce.dispatchMaterial && ce.dispatchMaterial !== "" && (M[ce._id] = ce.dispatchMaterial) }), W(M) }, [t, r]); const se = b.useMemo(() => J ? t.filter(M => Object.values(M).some(Z => Z && Z.toString().toLowerCase().includes(J.toLowerCase()))) : t, [t, J]), U = b.useMemo(() => J ? r.filter(M => Object.values(M).some(Z => Z && Z.toString().toLowerCase().includes(J.toLowerCase()))) : r, [r, J]), le = b.useCallback((M, Z) => { F(ce => ({ ...ce, [M]: Z })) }, []), de = b.useCallback((M, Z) => { W(ce => ({ ...ce, [M]: Z })) }, []), me = async () => { const M = Object.keys(k).filter(ce => k[ce]); if (M.length === 0) { alert("Please select at least one record to submit"); return } if (M.filter(ce => !P[ce] || P[ce] === "Select").length > 0) { alert("Please select status for all selected records"); return } S(!0); try { const ce = M.map(async E => { const q = t.find(z => z._id === E) || r.find(z => z._id === E), T = P[E]; if (!q) return; const Y = Array(100).fill(null); Y[68] = T, T === "Done" ? Y[66] = Q() : Y[66] = ""; const G = { action: "update", sheetName: gs.SOURCE_SHEET_NAME, rowIndex: q._rowIndex, rowData: JSON.stringify(Y) }; return (await fetch(gs.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(G).toString() })).json() }); if ((await Promise.all(ce)).filter(E => !E.success).length > 0) throw new Error("Some updates failed"); O(`Successfully updated ${M.length} dispatch material record(s)`); const I = M.map(E => { const q = t.find(Y => Y._id === E) || r.find(Y => Y._id === E), T = P[E]; return { ...q, dispatchMaterial: T, actual: T === "Done" ? Q() : q.actual } }), _ = I.filter(E => E.dispatchMaterial === "Done"), X = I.filter(E => E.dispatchMaterial !== "Done"); e(E => [...E.filter(T => !M.includes(T._id)), ...X]), n(E => { const q = E.filter(T => !M.includes(T._id)); return [..._, ...q] }), F({}), W({}), setTimeout(() => { O("") }, 3e3) } catch (ce) { console.error("Error updating dispatch materials:", ce), alert("Failed to update dispatch materials: " + ce.message) } finally { S(!1) } }, pe = b.useCallback(M => { v(M === "history"), u(""), F({}), W({}) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: gs.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending dispatch materials...", value: c, onChange: M => u(M.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => pe("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Dispatch (", se.length, ")"] }) }), a.jsx("button", { onClick: () => pe("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Dispatch History (", U.length, ")"] }) })] }), w && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), w] }), a.jsx("button", { onClick: () => O(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), Object.values(k).some(Boolean) && a.jsx("div", { className: "bg-blue-50 border border-blue-200 p-4 rounded-md", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("span", { className: "text-blue-700 text-sm", children: [Object.values(k).filter(Boolean).length, " record(s) selected"] }), a.jsx("button", { onClick: me, disabled: j, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: j ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(MP, { className: "h-4 w-4 mr-2" }), "Submit Dispatch"] }) })] }) }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Material Dispatch"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Material Dispatch"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? gs.PAGE_CONFIG.historyDescription : gs.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading Dispatch Materials data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dist." }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Order Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "IP Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of IP" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Certificates" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Bank Account Details" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Pan Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Copy" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? U.length > 0 ? U.map(M => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[M._id] || !1, onChange: Z => le(M._id, Z.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[M._id] || M.dispatchMaterial || "Select", onChange: Z => de(M._id, Z.target.value), disabled: !k[M._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((Z, ce) => a.jsx("option", { value: Z, children: Z }, ce))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: M.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: M.address, children: M.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.orderCopy ? a.jsxs("a", { href: M.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900 font-medium text-blue-600", children: M.ipName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.ipContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.gstNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.gstCertificates ? a.jsxs("a", { href: M.gstCertificates, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.bankAccountDetails ? a.jsxs("a", { href: M.bankAccountDetails, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.aadharCard ? a.jsxs("a", { href: M.aadharCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.panCard ? a.jsxs("a", { href: M.panCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.workOrderNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.workOrderCopy ? a.jsxs("a", { href: M.workOrderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, M._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 21, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed dispatch materials found" }) }) : se.length > 0 ? se.map(M => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[M._id] || !1, onChange: Z => le(M._id, Z.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[M._id] || M.dispatchMaterial || "Select", onChange: Z => de(M._id, Z.target.value), disabled: !k[M._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((Z, ce) => a.jsx("option", { value: Z, children: Z }, ce))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: M.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), M.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: M.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), M.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), M.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.orderCopy ? a.jsxs("a", { href: M.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900 font-medium text-blue-600", children: M.ipName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.ipContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.gstNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.gstCertificates ? a.jsxs("a", { href: M.gstCertificates, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.bankAccountDetails ? a.jsxs("a", { href: M.bankAccountDetails, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.aadharCard ? a.jsxs("a", { href: M.aadharCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.panCard ? a.jsxs("a", { href: M.panCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.workOrderNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.workOrderCopy ? a.jsxs("a", { href: M.workOrderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, M._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 21, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending dispatch materials matching your search" : "No pending dispatch materials found" }) }) })] }) })] })] }) }) } const ys = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", SHEET_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Inform to Customer", historyTitle: "Inform to Customer History", description: "Manage pending customer notifications", historyDescription: "View completed customer notification records" } }; function Ore(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Cre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(""), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState({}), [P, W] = b.useState({}), J = Ore(c, 300), Q = b.useCallback(() => { const M = new Date, Z = M.getDate().toString().padStart(2, "0"), ce = (M.getMonth() + 1).toString().padStart(2, "0"), ne = M.getFullYear(), L = M.getHours().toString().padStart(2, "0"), I = M.getMinutes().toString().padStart(2, "0"), _ = M.getSeconds().toString().padStart(2, "0"); return `${Z}/${ce}/${ne} ${L}:${I}:${_}` }, []), V = b.useCallback(M => M == null || typeof M == "string" && M.trim() === "", []); b.useEffect(() => { const M = sessionStorage.getItem("role"), Z = sessionStorage.getItem("username"); R(M || ""), C(Z || "") }, []); const ae = b.useCallback(async () => { try { const M = await fetch(`${ys.APPS_SCRIPT_URL}?sheet=${ys.DROPDOWN_SHEET_NAME}&action=fetch`); if (!M.ok) throw new Error(`Failed to fetch dropdown data: ${M.status}`); const Z = await M.text(); let ce; try { ce = JSON.parse(Z) } catch { const _ = Z.indexOf("{"), X = Z.lastIndexOf("}"); if (_ !== -1 && X !== -1) { const E = Z.substring(_, X + 1); ce = JSON.parse(E) } else throw new Error("Invalid JSON response from server") } let ne = []; ce.table && ce.table.rows ? ne = ce.table.rows : Array.isArray(ce) ? ne = ce : ce.values && (ne = ce.values.map(I => ({ c: I.map(_ => ({ v: _ })) }))); const L = []; ne.forEach((I, _) => { if (_ >= 1) { let X = []; I.c ? X = I.c.map(q => q && q.v !== void 0 ? q.v : "") : Array.isArray(I) && (X = I); const E = X[7]; V(E) || L.push(E.toString()) } }), o(L) } catch (M) { console.error("Error fetching dropdown options:", M), o([]) } }, [V]), ie = b.useCallback(async () => { try { h(!0), x(null), await ae(); const M = await fetch(`${ys.APPS_SCRIPT_URL}?sheet=${ys.SOURCE_SHEET_NAME}&action=fetch`); if (!M.ok) throw new Error(`Failed to fetch data: ${M.status}`); const Z = await M.text(); let ce; try { ce = JSON.parse(Z) } catch { const X = Z.indexOf("{"), E = Z.lastIndexOf("}"); if (X !== -1 && E !== -1) { const q = Z.substring(X, E + 1); ce = JSON.parse(q) } else throw new Error("Invalid JSON response from server") } const ne = [], L = []; let I = []; ce.table && ce.table.rows ? I = ce.table.rows : Array.isArray(ce) ? I = ce : ce.values && (I = ce.values.map(_ => ({ c: _.map(X => ({ v: X })) }))), I.forEach((_, X) => { if (X < 6) return; let E = []; if (_.c) E = _.c.map(K => K && K.v !== void 0 ? K.v : ""); else if (Array.isArray(_)) E = _; else return; const q = E[1] || "", T = E[70]; if (!!V(q)) return; const G = X + 1, z = { _id: q ? `enquiry_${q}_${G}` : `row_${G}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: G, _enquiryNumber: q, enquiryNumber: E[1] || "", beneficiaryName: E[2] || "", address: E[3] || "", villageBlock: E[4] || "", district: E[5] || "", contactNumber: E[6] || "", surveyorName: E[29] || "", surveyorContact: E[30] || "", orderCopy: E[52] || "", ipName: E[56] || "", ipContact: E[57] || "", gstNumber: E[58] || "", gstCertificates: E[59] || "", bankAccountDetails: E[60] || "", aadharCard: E[61] || "", panCard: E[62] || "", workOrderNumber: E[63] || "", workOrderCopy: E[64] || "", dispatchMaterial: E[68] || "", actual: E[70] || "", informToCustomer: E[72] || "" }; V(T) ? ne.push(z) : L.push(z) }), e(ne), n(L), h(!1) } catch (M) { console.error("Error fetching sheet data:", M), x("Failed to load Inform to Customer data: " + M.message), h(!1) } }, [V, ae]); b.useEffect(() => { ie() }, [ie]), b.useEffect(() => { const M = {};[...t, ...r].forEach(ce => { ce.informToCustomer && ce.informToCustomer !== "" && (M[ce._id] = ce.informToCustomer) }), W(M) }, [t, r]); const se = b.useMemo(() => J ? t.filter(M => Object.values(M).some(Z => Z && Z.toString().toLowerCase().includes(J.toLowerCase()))) : t, [t, J]), U = b.useMemo(() => J ? r.filter(M => Object.values(M).some(Z => Z && Z.toString().toLowerCase().includes(J.toLowerCase()))) : r, [r, J]), le = b.useCallback((M, Z) => { F(ce => ({ ...ce, [M]: Z })) }, []), de = b.useCallback((M, Z) => { W(ce => ({ ...ce, [M]: Z })) }, []), me = async () => { const M = Object.keys(k).filter(ce => k[ce]); if (M.length === 0) { alert("Please select at least one record to submit"); return } if (M.filter(ce => !P[ce] || P[ce] === "Select").length > 0) { alert("Please select status for all selected records"); return } S(!0); try { const ce = M.map(async E => { const q = t.find(z => z._id === E) || r.find(z => z._id === E), T = P[E]; if (!q) return; const Y = Array(100).fill(null); Y[72] = T, T === "Done" ? Y[70] = Q() : Y[70] = ""; const G = { action: "update", sheetName: ys.SOURCE_SHEET_NAME, rowIndex: q._rowIndex, rowData: JSON.stringify(Y) }; return (await fetch(ys.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(G).toString() })).json() }); if ((await Promise.all(ce)).filter(E => !E.success).length > 0) throw new Error("Some updates failed"); O(`Successfully updated ${M.length} customer notification record(s)`); const I = M.map(E => { const q = t.find(Y => Y._id === E) || r.find(Y => Y._id === E), T = P[E]; return { ...q, informToCustomer: T, actual: T === "Done" ? Q() : q.actual } }), _ = I.filter(E => E.informToCustomer === "Done"), X = I.filter(E => E.informToCustomer !== "Done"); e(E => [...E.filter(T => !M.includes(T._id)), ...X]), n(E => { const q = E.filter(T => !M.includes(T._id)); return [..._, ...q] }), F({}), W({}), setTimeout(() => { O("") }, 3e3) } catch (ce) { console.error("Error updating customer notifications:", ce), alert("Failed to update customer notifications: " + ce.message) } finally { S(!1) } }, pe = b.useCallback(M => { v(M === "history"), u(""), F({}), W({}) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: ys.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending notifications...", value: c, onChange: M => u(M.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => pe("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Kh, { className: "h-4 w-4 mr-2" }), "Pending Notifications (", se.length, ")"] }) }), a.jsx("button", { onClick: () => pe("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Notification History (", U.length, ")"] }) })] }), w && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), w] }), a.jsx("button", { onClick: () => O(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), Object.values(k).some(Boolean) && a.jsx("div", { className: "bg-blue-50 border border-blue-200 p-4 rounded-md", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("span", { className: "text-blue-700 text-sm", children: [Object.values(k).filter(Boolean).length, " record(s) selected"] }), a.jsx("button", { onClick: me, disabled: j, className: "px-6 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: j ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kh, { className: "h-4 w-4 mr-2" }), "Submit Notifications"] }) })] }) }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Customer Notifications"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kh, { className: "h-4 w-4 mr-2" }), "Pending Customer Notifications"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? ys.PAGE_CONFIG.historyDescription : ys.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading customer notification data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dist." }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Order Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "IP Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of IP" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Certificates" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Bank Account Details" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Pan Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Copy" }), g && a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dispatch Material" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? U.length > 0 ? U.map(M => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[M._id] || !1, onChange: Z => le(M._id, Z.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[M._id] || M.informToCustomer || "Select", onChange: Z => de(M._id, Z.target.value), disabled: !k[M._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((Z, ce) => a.jsx("option", { value: Z, children: Z }, ce))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: M.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: M.address, children: M.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.orderCopy ? a.jsxs("a", { href: M.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900 font-medium text-blue-600", children: M.ipName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.ipContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.gstNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.gstCertificates ? a.jsxs("a", { href: M.gstCertificates, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.bankAccountDetails ? a.jsxs("a", { href: M.bankAccountDetails, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.aadharCard ? a.jsxs("a", { href: M.aadharCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.panCard ? a.jsxs("a", { href: M.panCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.workOrderNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.workOrderCopy ? a.jsxs("a", { href: M.workOrderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("span", { className: "inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800", children: M.dispatchMaterial || "" }) })] }, M._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 22, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed customer notifications found" }) }) : se.length > 0 ? se.map(M => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[M._id] || !1, onChange: Z => le(M._id, Z.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[M._id] || M.informToCustomer || "Select", onChange: Z => de(M._id, Z.target.value), disabled: !k[M._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((Z, ce) => a.jsx("option", { value: Z, children: Z }, ce))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: M.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), M.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: M.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), M.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), M.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.orderCopy ? a.jsxs("a", { href: M.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900 font-medium text-blue-600", children: M.ipName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.ipContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.gstNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.gstCertificates ? a.jsxs("a", { href: M.gstCertificates, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.bankAccountDetails ? a.jsxs("a", { href: M.bankAccountDetails, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.aadharCard ? a.jsxs("a", { href: M.aadharCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.panCard ? a.jsxs("a", { href: M.panCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: M.workOrderNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: M.workOrderCopy ? a.jsxs("a", { href: M.workOrderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, M._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 20, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending customer notifications matching your search" : "No pending customer notifications found" }) }) })] }) })] })] }) }) } const bs = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1A1-QDgKUGl8Chy5wPFXdFxM7-_OKYmg1", SHEET_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", PAGE_CONFIG: { title: "Material Received In Site", historyTitle: "Material Receipt History", description: "Manage pending material receipts at site", historyDescription: "View completed material receipt records" } }; function kre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Are() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState(""), [c, u] = b.useState(!0), [f, h] = b.useState(null), [p, x] = b.useState(!1), [g, v] = b.useState(!1), [j, S] = b.useState(null), [w, O] = b.useState(!1), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState({ copyOfReceipt: null, dateOfReceipt: "" }), J = kre(s, 300), Q = b.useCallback(() => { const _ = new Date, X = _.getDate().toString().padStart(2, "0"), E = (_.getMonth() + 1).toString().padStart(2, "0"), q = _.getFullYear(), T = _.getHours().toString().padStart(2, "0"), Y = _.getMinutes().toString().padStart(2, "0"), G = _.getSeconds().toString().padStart(2, "0"); return `${X}/${E}/${q} ${T}:${Y}:${G}` }, []), V = b.useCallback(_ => { if (!_) return ""; if (_.match(/^\d{2}\/\d{2}\/\d{4}$/)) return _; const X = new Date(_); if (isNaN(X.getTime())) return _; const E = X.getDate().toString().padStart(2, "0"), q = (X.getMonth() + 1).toString().padStart(2, "0"), T = X.getFullYear(); return `${E}/${q}/${T}` }, []), ae = b.useCallback(_ => { if (!_) return ""; if (_.match(/^\d{2}\/\d{2}\/\d{4}$/)) return _; const X = new Date(_); if (isNaN(X.getTime())) return _; const E = X.getDate().toString().padStart(2, "0"), q = (X.getMonth() + 1).toString().padStart(2, "0"), T = X.getFullYear(); return `${E}/${q}/${T}` }, []), ie = b.useCallback(_ => { if (!_) return ""; if (_.match(/^\d{4}-\d{2}-\d{2}$/)) return _; const X = _.split("/"); return X.length === 3 ? `${X[2]}-${X[1]}-${X[0]}` : "" }, []), se = b.useCallback(_ => _ == null || typeof _ == "string" && _.trim() === "", []); b.useEffect(() => { const _ = sessionStorage.getItem("role"), X = sessionStorage.getItem("username"); C(_ || ""), F(X || "") }, []); const U = b.useCallback(async () => { try { u(!0), h(null); const _ = await fetch(`${bs.APPS_SCRIPT_URL}?sheet=${bs.SOURCE_SHEET_NAME}&action=fetch`); if (!_.ok) throw new Error(`Failed to fetch data: ${_.status}`); const X = await _.text(); let E; try { E = JSON.parse(X) } catch { const A = X.indexOf("{"), z = X.lastIndexOf("}"); if (A !== -1 && z !== -1) { const $ = X.substring(A, z + 1); E = JSON.parse($) } else throw new Error("Invalid JSON response from server") } const q = [], T = []; let Y = []; E.table && E.table.rows ? Y = E.table.rows : Array.isArray(E) ? Y = E : E.values && (Y = E.values.map(G => ({ c: G.map(A => ({ v: A })) }))), Y.forEach((G, A) => { if (A < 6) return; let z = []; if (G.c) z = G.c.map(ye => ye && ye.v !== void 0 ? ye.v : ""); else if (Array.isArray(G)) z = G; else return; const $ = z[1] || "", K = z[74]; if (!!se($)) return; const te = A + 1, fe = { _id: $ ? `enquiry_${$}_${te}` : `row_${te}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: te, _enquiryNumber: $, enquiryNumber: z[1] || "", beneficiaryName: z[2] || "", address: z[3] || "", villageBlock: z[4] || "", district: z[5] || "", contactNumber: z[6] || "", surveyorName: z[29] || "", surveyorContact: z[30] || "", orderCopy: z[52] || "", ipName: z[56] || "", ipContact: z[57] || "", gstNumber: z[58] || "", gstCertificates: z[59] || "", bankAccountDetails: z[60] || "", aadharCard: z[61] || "", panCard: z[62] || "", workOrderNumber: z[63] || "", workOrderCopy: z[64] || "", dispatchMaterial: z[68] || "", informToCustomer: z[72] || "", actual: z[74] || "", copyOfReceipt: z[76] || "", dateOfReceipt: V(z[77] || "") }; se(K) ? q.push(fe) : T.push(fe) }), e(q), n(T), u(!1) } catch (_) { console.error("Error fetching sheet data:", _), h("Failed to load Material Receipt data: " + _.message), u(!1) } }, [se, V]); b.useEffect(() => { U() }, [U]); const le = b.useMemo(() => J ? t.filter(_ => Object.values(_).some(X => X && X.toString().toLowerCase().includes(J.toLowerCase()))) : t, [t, J]), de = b.useMemo(() => J ? r.filter(_ => Object.values(_).some(X => X && X.toString().toLowerCase().includes(J.toLowerCase()))) : r, [r, J]), me = b.useCallback(_ => { S(_), W({ copyOfReceipt: null, dateOfReceipt: ie(_.dateOfReceipt || "") }), v(!0) }, [ie]), pe = b.useCallback((_, X) => { W(E => ({ ...E, [_]: X })) }, []), M = b.useCallback((_, X) => { W(E => ({ ...E, [_]: X })) }, []), Z = b.useCallback(_ => new Promise((X, E) => { const q = new FileReader; q.readAsDataURL(_), q.onload = () => X(q.result), q.onerror = T => E(T) }), []), ce = b.useCallback(async _ => { try { const X = await Z(_), E = new FormData; E.append("action", "uploadFile"), E.append("base64Data", X), E.append("fileName", `${j._enquiryNumber}_receipt_${Date.now()}.${_.name.split(".").pop()}`), E.append("mimeType", _.type), E.append("folderId", bs.DRIVE_FOLDER_ID); const T = await (await fetch(bs.APPS_SCRIPT_URL, { method: "POST", body: E })).json(); if (T.success) return T.fileUrl; throw new Error("Failed to upload image") } catch (X) { throw console.error("Error uploading image:", X), X } }, [j, Z]), ne = async () => { if (!P.copyOfReceipt && !j.copyOfReceipt || !P.dateOfReceipt) { alert("Please fill in all required fields (Copy of Receipt and Date of Receipt)"); return } O(!0); try { const _ = !se(j.actual), X = _ ? j.actual : Q(); let E = ""; P.copyOfReceipt ? E = await ce(P.copyOfReceipt) : _ && j.copyOfReceipt && (E = j.copyOfReceipt); const q = ae(P.dateOfReceipt), T = Array(78).fill(null); T[74] = X, T[76] = E, T[77] = q; const Y = { action: "update", sheetName: bs.SOURCE_SHEET_NAME, rowIndex: j._rowIndex, rowData: JSON.stringify(T) }, A = await (await fetch(bs.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(Y).toString() })).json(); if (A.success) { R(`Material receipt recorded successfully for Enquiry Number: ${j._enquiryNumber}`), v(!1); const z = { ...j, actual: X, copyOfReceipt: E, dateOfReceipt: q }; _ ? n($ => $.map(K => K._id === j._id ? z : K)) : (e($ => $.filter(K => K._id !== j._id)), n($ => [z, ...$])), setTimeout(() => { R("") }, 3e3) } else throw new Error(A.error || "Failed to submit material receipt") } catch (_) { console.error("Error submitting material receipt:", _), alert("Failed to submit material receipt: " + _.message) } finally { O(!1) } }, L = b.useCallback(_ => { x(_ === "history"), o("") }, []), I = b.useCallback(() => { v(!1), S(null), W({ copyOfReceipt: null, dateOfReceipt: "" }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: bs.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: p ? "Search history..." : "Search pending material receipts...", value: s, onChange: _ => o(_.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => L("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Material Receipts (", le.length, ")"] }) }), a.jsx("button", { onClick: () => L("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Material Receipt History (", de.length, ")"] }) })] }), D && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), D] }), a.jsx("button", { onClick: () => R(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: p ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Material Receipts"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Material Receipts"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: p ? bs.PAGE_CONFIG.historyDescription : bs.PAGE_CONFIG.description })] }), c ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading Material Receipt data..." })] }) : f ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [f, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Village/Block" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dist." }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Order Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "IP Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of IP" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Certificates" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Bank Account Details" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Pan Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dispatch Material" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inform To Customer" }), p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Copy Of Receipt" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date Of Receipt" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: p ? de.length > 0 ? de.map(_ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => me(_), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: _.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: _.address, children: _.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.orderCopy ? a.jsxs("a", { href: _.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.ipName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.ipContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.gstNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.gstCertificates ? a.jsxs("a", { href: _.gstCertificates, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.bankAccountDetails ? a.jsxs("a", { href: _.bankAccountDetails, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.aadharCard ? a.jsxs("a", { href: _.aadharCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.panCard ? a.jsxs("a", { href: _.panCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.workOrderNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.workOrderCopy ? a.jsxs("a", { href: _.workOrderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dispatchMaterial || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.informToCustomer || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.copyOfReceipt ? a.jsxs("a", { href: _.copyOfReceipt, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dateOfReceipt || "" }) })] }, _._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 23, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No history records matching your search" : "No completed material receipts found" }) }) : le.length > 0 ? le.map(_ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => me(_), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-linear-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(Kr, { className: "h-3 w-3 mr-1" }), "At Site"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: _.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), _.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: _.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), _.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.villageBlock || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.district || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), _.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.orderCopy ? a.jsxs("a", { href: _.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.ipName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.ipContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.gstNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.gstCertificates ? a.jsxs("a", { href: _.gstCertificates, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.bankAccountDetails ? a.jsxs("a", { href: _.bankAccountDetails, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.aadharCard ? a.jsxs("a", { href: _.aadharCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.panCard ? a.jsxs("a", { href: _.panCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.workOrderNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.workOrderCopy ? a.jsxs("a", { href: _.workOrderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dispatchMaterial || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.informToCustomer || "" }) })] }, _._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 21, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No pending material receipts matching your search" : "No pending material receipts found" }) }) })] }) })] }), g && j && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-4xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["Material Receipt Form - Enquiry: ", j.enquiryNumber] }), a.jsx("button", { onClick: I, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-6", children: [a.jsxs("div", { className: "mb-6 p-4 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-3 text-sm", children: "Pre-filled Details" }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Enquiry Number" }), a.jsx("input", { type: "text", value: j.enquiryNumber, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Beneficiary Name" }), a.jsx("input", { type: "text", value: j.beneficiaryName, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { className: "md:col-span-2", children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Address" }), a.jsx("input", { type: "text", value: j.address, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Contact Number Of Beneficiary" }), a.jsx("input", { type: "text", value: j.contactNumber, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Surveyor Name" }), a.jsx("input", { type: "text", value: j.surveyorName, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Contact Number" }), a.jsx("input", { type: "text", value: j.surveyorContact, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Order Copy" }), j.orderCopy ? a.jsxs("a", { href: j.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-sm", children: [a.jsx(ke, { className: "h-4 w-4 mr-1" }), "View Order Copy"] }) : a.jsx("span", { className: "text-gray-400 text-sm", children: "No order copy available" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Dispatch Material" }), a.jsx("input", { type: "text", value: j.dispatchMaterial, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Inform To Customer" }), a.jsx("input", { type: "text", value: j.informToCustomer, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Copy Of Receipt ", a.jsx("span", { className: "text-red-500", children: "*" }), a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: _ => pe("copyOfReceipt", _.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.copyOfReceipt && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.copyOfReceipt.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Date Of Receipt ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "date", value: P.dateOfReceipt, onChange: _ => M("dateOfReceipt", _.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] })] }), a.jsxs("div", { className: "flex justify-end space-x-4 mt-8 pt-4 border-t", children: [a.jsx("button", { onClick: I, disabled: w, className: "px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-sm", children: "Cancel" }), a.jsx("button", { onClick: ne, disabled: w || !P.copyOfReceipt || !P.dateOfReceipt, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: w ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(pt, { className: "h-4 w-4 mr-2" }), "Submit"] }) })] })] })] }) })] }) }) } const pa = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1SUhoI00UZ8jkao8tXVCPAbyBZLoYp5ko", SHEET_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down value", PAGE_CONFIG: { title: "Installation", historyTitle: "Installation History", description: "Manage pending installations", historyDescription: "View completed installation records" } }; function Ere(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Dre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState(""), [c, u] = b.useState(!0), [f, h] = b.useState(null), [p, x] = b.useState(!1), [g, v] = b.useState(!1), [j, S] = b.useState(null), [w, O] = b.useState(!1), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState({ inverterMake: [], inverterCapacity: [], moduleMake: [], moduleCapacity: [], moduleType: [], structureMake: [] }), [J, Q] = b.useState(!1), [V, ae] = b.useState({ inverterMake: "", inverterCapacity: "", moduleMake: "", moduleCapacity: "", moduleType: "", structureMake: "", dateOfInstallation: "", routing: "", earthing: "", baseFoundation: "", wiring: "", foundationPhoto: null, afterInstallationPhoto: null, photoWithCustomer: null, completeInstallationPhoto: null, inverterId: "" }), ie = Ere(s, 300), se = b.useCallback(() => { const T = new Date, Y = T.getDate().toString().padStart(2, "0"), G = (T.getMonth() + 1).toString().padStart(2, "0"), A = T.getFullYear(), z = T.getHours().toString().padStart(2, "0"), $ = T.getMinutes().toString().padStart(2, "0"), K = T.getSeconds().toString().padStart(2, "0"); return `${Y}/${G}/${A} ${z}:${$}:${K}` }, []), U = b.useCallback(T => { if (!T) return ""; if (T.match(/^\d{2}\/\d{2}\/\d{4}$/)) return T; const Y = new Date(T); if (isNaN(Y.getTime())) return T; const G = Y.getDate().toString().padStart(2, "0"), A = (Y.getMonth() + 1).toString().padStart(2, "0"), z = Y.getFullYear(); return `${G}/${A}/${z}` }, []), le = b.useCallback(T => { if (!T) return ""; if (T.match(/^\d{4}-\d{2}-\d{2}$/)) return T; const Y = T.split("/"); return Y.length === 3 ? `${Y[2]}-${Y[1]}-${Y[0]}` : "" }, []), de = b.useCallback(T => T == null || typeof T == "string" && T.trim() === "", []); b.useEffect(() => { const T = sessionStorage.getItem("role"), Y = sessionStorage.getItem("username"); C(T || ""), F(Y || "") }, []); const me = b.useCallback(async () => { try { Q(!0); const T = await fetch(`${pa.APPS_SCRIPT_URL}?sheet=${pa.DROPDOWN_SHEET_NAME}&action=fetch`); if (!T.ok) throw new Error(`Failed to fetch dropdown data: ${T.status}`); const Y = await T.text(), G = JSON.parse(Y), A = { inverterMake: [], inverterCapacity: [], moduleMake: [], moduleCapacity: [], moduleType: [], structureMake: [] }; G.values ? G.values.slice(1).forEach(z => { z && z.length >= 14 && (A.inverterMake.push(String(z[8] || "")), A.inverterCapacity.push(String(z[9] || "")), A.moduleMake.push(String(z[10] || "")), A.moduleCapacity.push(String(z[11] || "")), A.moduleType.push(String(z[12] || "")), A.structureMake.push(String(z[13] || ""))) }) : G.table && G.table.rows && G.table.rows.slice(1).forEach(z => { var $, K, ee, te, oe, fe; z.c && z.c.length >= 14 && (A.inverterMake.push(String((($ = z.c[8]) == null ? void 0 : $.v) || "")), A.inverterCapacity.push(String(((K = z.c[9]) == null ? void 0 : K.v) || "")), A.moduleMake.push(String(((ee = z.c[10]) == null ? void 0 : ee.v) || "")), A.moduleCapacity.push(String(((te = z.c[11]) == null ? void 0 : te.v) || "")), A.moduleType.push(String(((oe = z.c[12]) == null ? void 0 : oe.v) || "")), A.structureMake.push(String(((fe = z.c[13]) == null ? void 0 : fe.v) || ""))) }), Object.keys(A).forEach(z => { A[z] = [...new Set(A[z])].filter($ => typeof $ == "string" && $.trim() !== "").sort() }), W(A) } catch (T) { console.error("Error fetching dropdown options:", T), h("Failed to load dropdown options: " + T.message) } finally { Q(!1) } }, []), pe = b.useCallback(async () => { try { u(!0), h(null); const T = await fetch(`${pa.APPS_SCRIPT_URL}?sheet=${pa.SOURCE_SHEET_NAME}&action=fetch`); if (!T.ok) throw new Error(`Failed to fetch data: ${T.status}`); const Y = await T.text(); let G; try { G = JSON.parse(Y) } catch { const ee = Y.indexOf("{"), te = Y.lastIndexOf("}"); if (ee !== -1 && te !== -1) { const oe = Y.substring(ee, te + 1); G = JSON.parse(oe) } else throw new Error("Invalid JSON response from server") } const A = [], z = []; let $ = []; G.table && G.table.rows ? $ = G.table.rows : Array.isArray(G) ? $ = G : G.values && ($ = G.values.map(K => ({ c: K.map(ee => ({ v: ee })) }))), $.forEach((K, ee) => { if (ee < 6) return; let te = []; if (K.c) te = K.c.map(Fe => Fe && Fe.v !== void 0 ? Fe.v : ""); else if (Array.isArray(K)) te = K; else return; const oe = te[1] || "", fe = te[79]; if (!!de(oe)) return; const ye = ee + 1, Pe = { _id: oe ? `enquiry_${oe}_${ye}` : `row_${ye}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: ye, _enquiryNumber: oe, enquiryNumber: te[1] || "", beneficiaryName: te[2] || "", address: te[3] || "", contactNumber: te[6] || "", surveyorName: te[29] || "", surveyorContact: te[30] || "", orderCopy: te[52] || "", ipName: te[56] || "", ipContact: te[57] || "", gstNumber: te[58] || "", aadharCard: te[61] || "", panCard: te[62] || "", workOrderNumber: te[63] || "", workOrderCopy: te[64] || "", dispatchMaterial: te[68] || "", informToCustomer: te[72] || "", copyOfReceipt: te[76] || "", dateOfReceipt: U(te[77] || ""), actual: te[79] || "", dateOfInstallation: U(te[81] || ""), routing: te[82] || "", earthing: te[83] || "", baseFoundation: te[84] || "", wiring: te[85] || "", foundationPhoto: te[86] || "", afterInstallationPhoto: te[87] || "", photoWithCustomer: te[88] || "", completeInstallationPhoto: te[89] || "", inverterMake: te[137] || "", inverterCapacity: te[138] || "", moduleMake: te[139] || "", moduleCapacity: te[140] || "", moduleType: te[141] || "", structureMake: te[142] || "", investorId: te[151] || "" }; de(fe) ? A.push(Pe) : z.push(Pe) }), e(A), n(z), u(!1) } catch (T) { console.error("Error fetching sheet data:", T), h("Failed to load Installation data: " + T.message), u(!1) } }, [de, U]); b.useEffect(() => { pe(), me() }, [pe, me]); const M = b.useMemo(() => ie ? t.filter(T => Object.values(T).some(Y => Y && Y.toString().toLowerCase().includes(ie.toLowerCase()))) : t, [t, ie]), Z = b.useMemo(() => ie ? r.filter(T => Object.values(T).some(Y => Y && Y.toString().toLowerCase().includes(ie.toLowerCase()))) : r, [r, ie]), ce = b.useCallback(T => { S(T), ae({ inverterMake: T.inverterMake || "", inverterCapacity: T.inverterCapacity || "", moduleMake: T.moduleMake || "", moduleCapacity: T.moduleCapacity || "", moduleType: T.moduleType || "", structureMake: T.structureMake || "", dateOfInstallation: le(T.dateOfInstallation || ""), routing: T.routing || "", earthing: T.earthing || "", baseFoundation: T.baseFoundation || "", wiring: T.wiring || "", foundationPhoto: null, afterInstallationPhoto: null, photoWithCustomer: null, completeInstallationPhoto: null, investorId: T.investorId || "" }), v(!0) }, [le]), ne = b.useCallback((T, Y) => { ae(G => ({ ...G, [T]: Y })) }, []), L = b.useCallback((T, Y) => { ae(G => ({ ...G, [T]: Y })) }, []), I = b.useCallback(T => new Promise((Y, G) => { const A = new FileReader; A.readAsDataURL(T), A.onload = () => Y(A.result), A.onerror = z => G(z) }), []), _ = b.useCallback(async T => { try { const Y = await I(T), G = new FormData; G.append("action", "uploadFile"), G.append("base64Data", Y), G.append("fileName", `${j._enquiryNumber}_${Date.now()}.${T.name.split(".").pop()}`), G.append("mimeType", T.type), G.append("folderId", pa.DRIVE_FOLDER_ID); const z = await (await fetch(pa.APPS_SCRIPT_URL, { method: "POST", body: G })).json(); if (z.success) return z.fileUrl; throw new Error("Failed to upload image") } catch (Y) { throw console.error("Error uploading image:", Y), Y } }, [j, I]), X = async () => { if (!V.dateOfInstallation) { alert("Please select the date of installation"); return } O(!0); try { const T = !de(j.actual), Y = T ? j.actual : se(); let G = ""; V.foundationPhoto ? G = await _(V.foundationPhoto) : T && j.foundationPhoto && (G = j.foundationPhoto); let A = ""; V.afterInstallationPhoto ? A = await _(V.afterInstallationPhoto) : T && j.afterInstallationPhoto && (A = j.afterInstallationPhoto); let z = ""; V.photoWithCustomer ? z = await _(V.photoWithCustomer) : T && j.photoWithCustomer && (z = j.photoWithCustomer); let $ = ""; V.completeInstallationPhoto ? $ = await _(V.completeInstallationPhoto) : T && j.completeInstallationPhoto && ($ = j.completeInstallationPhoto); const K = Array(152).fill(null); K[79] = Y, K[81] = U(V.dateOfInstallation), K[82] = V.routing, K[83] = V.earthing, K[84] = V.baseFoundation, K[85] = V.wiring, K[86] = G, K[87] = A, K[88] = z, K[89] = $, K[137] = V.inverterMake, K[138] = V.inverterCapacity, K[139] = V.moduleMake, K[140] = V.moduleCapacity, K[141] = V.moduleType, K[142] = V.structureMake, K[151] = V.investorId; const ee = { action: "update", sheetName: pa.SOURCE_SHEET_NAME, rowIndex: j._rowIndex, rowData: JSON.stringify(K) }, oe = await (await fetch(pa.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(ee).toString() })).json(); if (oe.success) { R(`Installation completed successfully for Enquiry Number: ${j._enquiryNumber}`), v(!1); const fe = { ...j, actual: Y, dateOfInstallation: U(V.dateOfInstallation), routing: V.routing, earthing: V.earthing, baseFoundation: V.baseFoundation, wiring: V.wiring, foundationPhoto: G, afterInstallationPhoto: A, photoWithCustomer: z, completeInstallationPhoto: $, inverterMake: V.inverterMake, inverterCapacity: V.inverterCapacity, moduleMake: V.moduleMake, moduleCapacity: V.moduleCapacity, moduleType: V.moduleType, structureMake: V.structureMake, investorId: V.investorId }; T ? n(ue => ue.map(ye => ye._id === j._id ? fe : ye)) : (e(ue => ue.filter(ye => ye._id !== j._id)), n(ue => [fe, ...ue])), setTimeout(() => { R("") }, 3e3) } else throw new Error(oe.error || "Failed to submit installation") } catch (T) { console.error("Error submitting installation:", T), alert("Failed to submit installation: " + T.message) } finally { O(!1) } }, E = b.useCallback(T => { x(T === "history"), o("") }, []), q = b.useCallback(() => { v(!1), S(null), ae({ inverterMake: "", inverterCapacity: "", moduleMake: "", moduleCapacity: "", moduleType: "", structureMake: "", dateOfInstallation: "", routing: "", earthing: "", baseFoundation: "", wiring: "", foundationPhoto: null, afterInstallationPhoto: null, photoWithCustomer: null, completeInstallationPhoto: null, investorId: "" }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: pa.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: p ? "Search history..." : "Search pending installations...", value: s, onChange: T => o(T.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => E("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(an, { className: "h-4 w-4 mr-2" }), "Pending Installations (", M.length, ")"] }) }), a.jsx("button", { onClick: () => E("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Installation History (", Z.length, ")"] }) })] }), D && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), D] }), a.jsx("button", { onClick: () => R(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: p ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Installations"] }) : a.jsxs(a.Fragment, { children: [a.jsx(an, { className: "h-4 w-4 mr-2" }), "Pending Installations"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: p ? pa.PAGE_CONFIG.historyDescription : pa.PAGE_CONFIG.description })] }), c ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading Installation data..." })] }) : f ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [f, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number" }), !p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Order Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "IP Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of IP" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "GST Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Pan Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Work Order Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dispatch Material" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inform To Customer" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Copy Of Receipt" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date Of Receipt" })] }), p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dispatch Material" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inform To Customer" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Copy Of Receipt" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date Of Receipt" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date Of Installation" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Routing" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Earthing" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Base Foundation" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Wiring" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Foundation Photo" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "After Installation Photo" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Photo With Customer" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Complete Installation Photo" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inverter Make" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inverter Capacity" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Module Make" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Module Capacity" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Module Type" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Structure Make" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inverter ID" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: p ? Z.length > 0 ? Z.map(T => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => ce(T), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: T.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: T.address, children: T.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.dispatchMaterial || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.informToCustomer || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.copyOfReceipt ? a.jsxs("a", { href: T.copyOfReceipt, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.dateOfReceipt || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900 font-medium text-green-600", children: T.dateOfInstallation || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.routing || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.earthing || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.baseFoundation || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.wiring || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.foundationPhoto ? a.jsxs("a", { href: T.foundationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.afterInstallationPhoto ? a.jsxs("a", { href: T.afterInstallationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.photoWithCustomer ? a.jsxs("a", { href: T.photoWithCustomer, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.completeInstallationPhoto ? a.jsxs("a", { href: T.completeInstallationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.inverterMake || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.inverterCapacity || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.moduleMake || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.moduleCapacity || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.moduleType || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.structureMake || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.investorId || "" }) })] }, T._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 25, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No history records matching your search" : "No completed installations found" }) }) : M.length > 0 ? M.map(T => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => ce(T), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Install"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: T.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), T.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: T.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), T.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), T.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.surveyorContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.orderCopy ? a.jsxs("a", { href: T.orderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.ipName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.ipContact || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.gstNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.aadharCard ? a.jsxs("a", { href: T.aadharCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.panCard ? a.jsxs("a", { href: T.panCard, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.workOrderNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.workOrderCopy ? a.jsxs("a", { href: T.workOrderCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.dispatchMaterial || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.informToCustomer || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: T.copyOfReceipt ? a.jsxs("a", { href: T.copyOfReceipt, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: T.dateOfReceipt || "" }) })] }, T._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 20, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No pending installations matching your search" : "No pending installations found" }) }) })] }) })] }), g && j && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-4xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["Installation Form - Enquiry: ", j.enquiryNumber] }), a.jsx("button", { onClick: q, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-6", children: [a.jsxs("div", { className: "mb-6 p-4 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-3 text-sm", children: "Beneficiary Details (Pre-filled)" }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Enquiry Number" }), a.jsx("input", { type: "text", value: j.enquiryNumber, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Beneficiary Name" }), a.jsx("input", { type: "text", value: j.beneficiaryName, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { className: "md:col-span-2", children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Address" }), a.jsx("input", { type: "text", value: j.address, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [a.jsxs("div", { className: "mb-4", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Inverter Make" }), a.jsx("select", { value: V.inverterMake, onChange: T => L("inverterMake", T.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm", disabled: J, children: J ? a.jsx("option", { children: "Loading options..." }) : a.jsxs(a.Fragment, { children: [a.jsx("option", { value: "", children: "-- Select Inverter Make --" }), P.inverterMake.map((T, Y) => a.jsx("option", { value: T, children: T }, `inverter-make-${Y}`))] }) })] }), a.jsxs("div", { className: "mb-4", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Inverter Capacity" }), J ? a.jsx("div", { className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-sm", children: "Loading options..." }) : a.jsx("input", { type: "text", value: V.inverterCapacity, onChange: T => { const Y = T.target.value; /^\d*\.?\d*$/.test(Y) && L("inverterCapacity", Y) }, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm", placeholder: "-- Enter Inverter Capacity --" })] }), a.jsxs("div", { className: "mb-4", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Module Make" }), a.jsx("select", { value: V.moduleMake, onChange: T => L("moduleMake", T.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm", disabled: J, children: J ? a.jsx("option", { children: "Loading options..." }) : a.jsxs(a.Fragment, { children: [a.jsx("option", { value: "", children: "-- Select Module Make --" }), P.moduleMake.map((T, Y) => a.jsx("option", { value: T, children: T }, `module-make-${Y}`))] }) })] }), a.jsxs("div", { className: "mb-4", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Module Capacity" }), J ? a.jsx("div", { className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-sm", children: "Loading options..." }) : a.jsx("input", { type: "text", value: V.moduleCapacity, onChange: T => L("moduleCapacity", T.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm", placeholder: "-- Enter Module Capacity --", disabled: J })] }), a.jsxs("div", { className: "mb-4", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Module Type (DCR/N-DCR)" }), a.jsx("select", { value: V.moduleType, onChange: T => L("moduleType", T.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm", disabled: J, children: J ? a.jsx("option", { children: "Loading options..." }) : a.jsxs(a.Fragment, { children: [a.jsx("option", { value: "", children: "-- Select Module Type --" }), P.moduleType.map((T, Y) => a.jsx("option", { value: T, children: T }, `module-type-${Y}`))] }) })] }), a.jsxs("div", { className: "mb-4", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Structure Make" }), a.jsx("select", { value: V.structureMake, onChange: T => L("structureMake", T.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm", disabled: J, children: J ? a.jsx("option", { children: "Loading options..." }) : a.jsxs(a.Fragment, { children: [a.jsx("option", { value: "", children: "-- Select Structure Make --" }), P.structureMake.map((T, Y) => a.jsx("option", { value: T, children: T }, `structure-make-${Y}`))] }) })] }), a.jsxs("div", { className: "mb-4", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Inverter ID" }), a.jsx("input", { type: "text", value: V.inverterId, onChange: T => L("inverterId", T.target.value), placeholder: "Enter Inverter ID", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Date Of Installation ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "date", value: V.dateOfInstallation, onChange: T => L("dateOfInstallation", T.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Routing" }), a.jsx("input", { type: "text", value: V.routing, onChange: T => L("routing", T.target.value), placeholder: "Enter routing details", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Earthing" }), a.jsx("input", { type: "text", value: V.earthing, onChange: T => L("earthing", T.target.value), placeholder: "Enter earthing details", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Base Foundation" }), a.jsx("input", { type: "text", value: V.baseFoundation, onChange: T => L("baseFoundation", T.target.value), placeholder: "Enter base foundation details", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { className: "md:col-span-2", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Wiring" }), a.jsx("input", { type: "text", value: V.wiring, onChange: T => L("wiring", T.target.value), placeholder: "Enter wiring details", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Foundation Photo", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: T => ne("foundationPhoto", T.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), V.foundationPhoto && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), V.foundationPhoto.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["After Installation Photo", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: T => ne("afterInstallationPhoto", T.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), V.afterInstallationPhoto && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), V.afterInstallationPhoto.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Photo With Customer", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: T => ne("photoWithCustomer", T.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), V.photoWithCustomer && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), V.photoWithCustomer.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Complete Installation Photo", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: T => ne("completeInstallationPhoto", T.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), V.completeInstallationPhoto && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), V.completeInstallationPhoto.name] })] })] }), a.jsxs("div", { className: "flex justify-end space-x-4 mt-8 pt-4 border-t", children: [a.jsx("button", { onClick: q, disabled: w, className: "px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-sm", children: "Cancel" }), a.jsx("button", { onClick: X, disabled: w || !V.dateOfInstallation, className: "px-6 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: w ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(pt, { className: "h-4 w-4 mr-2" }), "Submit"] }) })] })] })] }) })] }) }) } const vs = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1A1-QDgKUGl8Chy5wPFXdFxM7-_OKYmg1", SHEET_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", PAGE_CONFIG: { title: "Billings", historyTitle: "Billing History", description: "Manage pending billings", historyDescription: "View completed billing records" } }; function Tre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Pre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState(""), [c, u] = b.useState(!0), [f, h] = b.useState(null), [p, x] = b.useState(!1), [g, v] = b.useState(!1), [j, S] = b.useState(null), [w, O] = b.useState(!1), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState({ consumerBillNumber: "", consumerBillCopy: null, vendorBillNumber: "", vendorCopy: null, invoiceDate: "", ipDate: "" }), J = Tre(s, 300), Q = b.useCallback(() => { const _ = new Date, X = _.getDate().toString().padStart(2, "0"), E = (_.getMonth() + 1).toString().padStart(2, "0"), q = _.getFullYear(), T = _.getHours().toString().padStart(2, "0"), Y = _.getMinutes().toString().padStart(2, "0"), G = _.getSeconds().toString().padStart(2, "0"); return `${X}/${E}/${q} ${T}:${Y}:${G}` }, []), V = b.useCallback(_ => { if (!_) return ""; if (_.match(/^\d{2}\/\d{2}\/\d{4}$/)) return _; const X = new Date(_); if (isNaN(X.getTime())) return _; const E = X.getDate().toString().padStart(2, "0"), q = (X.getMonth() + 1).toString().padStart(2, "0"), T = X.getFullYear(); return `${E}/${q}/${T}` }, []), ae = b.useCallback(_ => { if (!_) return ""; if (_.match(/^\d{4}-\d{2}-\d{2}$/)) return _; const X = _.split("/"); return X.length === 3 ? `${X[2]}-${X[1]}-${X[0]}` : "" }, []), ie = b.useCallback(_ => V(_), [V]), se = b.useCallback(_ => _ == null || typeof _ == "string" && _.trim() === "", []); b.useEffect(() => { const _ = sessionStorage.getItem("role"), X = sessionStorage.getItem("username"); C(_ || ""), F(X || "") }, []); const U = b.useCallback(async () => { try { u(!0), h(null); const _ = await fetch(`${vs.APPS_SCRIPT_URL}?sheet=${vs.SOURCE_SHEET_NAME}&action=fetch`); if (!_.ok) throw new Error(`Failed to fetch data: ${_.status}`); const X = await _.text(); let E; try { E = JSON.parse(X) } catch { const A = X.indexOf("{"), z = X.lastIndexOf("}"); if (A !== -1 && z !== -1) { const $ = X.substring(A, z + 1); E = JSON.parse($) } else throw new Error("Invalid JSON response from server") } const q = [], T = []; let Y = []; E.table && E.table.rows ? Y = E.table.rows : Array.isArray(E) ? Y = E : E.values && (Y = E.values.map(G => ({ c: G.map(A => ({ v: A })) }))), Y.forEach((G, A) => { if (A < 6) return; let z = []; if (G.c) z = G.c.map(ye => ye && ye.v !== void 0 ? ye.v : ""); else if (Array.isArray(G)) z = G; else return; const $ = z[1] || "", K = z[91]; if (!!se($)) return; const te = A + 1, fe = { _id: $ ? `enquiry_${$}_${te}` : `row_${te}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: te, _enquiryNumber: $, _originalData: z, enquiryNumber: z[1] || "", beneficiaryName: z[2] || "", address: z[3] || "", contactNumber: z[6] || "", surveyorName: z[29] || "", dispatchMaterial: z[68] || "", informToCustomer: z[72] || "", copyOfReceipt: z[76] || "", dateOfReceipt: V(z[77] || ""), dateOfInstallation: V(z[81] || ""), routing: z[82] || "", earthing: z[83] || "", baseFoundation: z[84] || "", wiring: z[85] || "", foundationPhoto: z[86] || "", afterInstallationPhoto: z[87] || "", photoWithCustomer: z[88] || "", completeInstallationPhoto: z[89] || "", actual: V(z[91] || ""), consumerBillNumber: z[93] || "", consumerBillCopy: z[94] || "", vendorBillNumber: z[95] || "", vendorCopy: z[96] || "", invoiceDate: V(z[143] || ""), ipDate: V(z[144] || "") }; se(K) ? q.push(fe) : T.push(fe) }), e(q), n(T), u(!1) } catch (_) { console.error("Error fetching sheet data:", _), h("Failed to load Billing data: " + _.message), u(!1) } }, [se, V]); b.useEffect(() => { U() }, [U]); const le = b.useMemo(() => J ? t.filter(_ => Object.values(_).some(X => X && X.toString().toLowerCase().includes(J.toLowerCase()))) : t, [t, J]), de = b.useMemo(() => J ? r.filter(_ => Object.values(_).some(X => X && X.toString().toLowerCase().includes(J.toLowerCase()))) : r, [r, J]), me = b.useCallback(_ => { S(_), W({ consumerBillNumber: _.consumerBillNumber || "", consumerBillCopy: null, vendorBillNumber: _.vendorBillNumber || "", vendorCopy: null, invoiceDate: ae(_.invoiceDate || ""), ipDate: ae(_.ipDate || "") }), v(!0) }, [ae]), pe = b.useCallback((_, X) => { W(E => ({ ...E, [_]: X })) }, []), M = b.useCallback((_, X) => { W(E => ({ ...E, [_]: X })) }, []), Z = b.useCallback(_ => new Promise((X, E) => { const q = new FileReader; q.readAsDataURL(_), q.onload = () => X(q.result), q.onerror = T => E(T) }), []), ce = b.useCallback(async _ => { try { const X = await Z(_), E = new FormData; E.append("action", "uploadFile"), E.append("base64Data", X), E.append("fileName", `${j._enquiryNumber}_${Date.now()}.${_.name.split(".").pop()}`), E.append("mimeType", _.type), E.append("folderId", vs.DRIVE_FOLDER_ID); const T = await (await fetch(vs.APPS_SCRIPT_URL, { method: "POST", body: E })).json(); if (T.success) return T.fileUrl; throw new Error("Failed to upload image") } catch (X) { throw console.error("Error uploading image:", X), X } }, [j, Z]), ne = async () => { if (!P.consumerBillNumber || !P.vendorBillNumber || !P.invoiceDate || !P.ipDate) { alert("Please fill in all required fields: Invoice Bill Number, IP Bill Number, Invoice Date, and IP Date"); return } O(!0); try { const _ = !se(j.actual), X = _ ? j._originalData[91] : Q(); let E = "", q = ""; P.consumerBillCopy ? E = await ce(P.consumerBillCopy) : _ && j.consumerBillCopy && (E = j.consumerBillCopy), P.vendorCopy ? q = await ce(P.vendorCopy) : _ && j.vendorCopy && (q = j.vendorCopy); const T = Array(145).fill(null); T[91] = X, T[93] = P.consumerBillNumber, T[94] = E, T[95] = P.vendorBillNumber, T[96] = q, T[143] = ie(P.invoiceDate), T[144] = ie(P.ipDate); const Y = { action: "update", sheetName: vs.SOURCE_SHEET_NAME, rowIndex: j._rowIndex, rowData: JSON.stringify(T) }, A = await (await fetch(vs.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(Y).toString() })).json(); if (A.success) { R(`Billing completed successfully for Enquiry Number: ${j._enquiryNumber}`), v(!1); const z = { ...j, actual: X, consumerBillNumber: P.consumerBillNumber, consumerBillCopy: E, vendorBillNumber: P.vendorBillNumber, vendorCopy: q, invoiceDate: ie(P.invoiceDate), ipDate: ie(P.ipDate) }; _ ? n($ => $.map(K => K._id === j._id ? z : K)) : (e($ => $.filter(K => K._id !== j._id)), n($ => [z, ...$])), setTimeout(() => { R("") }, 3e3) } else throw new Error(A.error || "Failed to submit billing") } catch (_) { console.error("Error submitting billing:", _), alert("Failed to submit billing: " + _.message) } finally { O(!1) } }, L = b.useCallback(_ => { x(_ === "history"), o("") }, []), I = b.useCallback(() => { v(!1), S(null), W({ consumerBillNumber: "", consumerBillCopy: null, vendorBillNumber: "", vendorCopy: null, invoiceDate: "", ipDate: "" }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: vs.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: p ? "Search history..." : "Search pending billings...", value: s, onChange: _ => o(_.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => L("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Wh, { className: "h-4 w-4 mr-2" }), "Pending (", le.length, ")"] }) }), a.jsx("button", { onClick: () => L("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "History (", de.length, ")"] }) })] }), D && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), D] }), a.jsx("button", { onClick: () => R(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: p ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Billings"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Wh, { className: "h-4 w-4 mr-2" }), "Pending Billings"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: p ? vs.PAGE_CONFIG.historyDescription : vs.PAGE_CONFIG.description })] }), c ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading Billing data..." })] }) : f ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [f, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dispatch Material" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inform To Customer" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Copy Of Receipt" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date Of Receipt" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date Of Installation" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Routing" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Earthing" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Base Foundation" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Wiring" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Foundation Photo" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "After Installation Photo" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Photo With Customer" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Complete Installation Photo" }), p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Invoice Bill Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Invoice Bill Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "IP Bill Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "IP Bill Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Invoice Date" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "IP Date" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: p ? de.length > 0 ? de.map(_ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => me(_), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: _.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: _.address, children: _.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dispatchMaterial || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.informToCustomer || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.copyOfReceipt ? a.jsxs("a", { href: _.copyOfReceipt, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dateOfReceipt || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dateOfInstallation || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.routing || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.earthing || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.baseFoundation || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.wiring || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.foundationPhoto ? a.jsxs("a", { href: _.foundationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.afterInstallationPhoto ? a.jsxs("a", { href: _.afterInstallationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.photoWithCustomer ? a.jsxs("a", { href: _.photoWithCustomer, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.completeInstallationPhoto ? a.jsxs("a", { href: _.completeInstallationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-green-600", children: _.consumerBillNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.consumerBillCopy ? a.jsxs("a", { href: _.consumerBillCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-green-600", children: _.vendorBillNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.vendorCopy ? a.jsxs("a", { href: _.vendorCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs font-medium text-blue-600 flex items-center", children: [a.jsx(na, { className: "h-3 w-3 mr-1" }), _.invoiceDate ? V(_.invoiceDate) : ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs font-medium text-purple-600 flex items-center", children: [a.jsx(na, { className: "h-3 w-3 mr-1" }), _.ipDate ? V(_.ipDate) : ""] }) })] }, _._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 25, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No history records matching your search" : "No completed billings found" }) }) : le.length > 0 ? le.map(_ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => me(_), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-linear-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(Wh, { className: "h-3 w-3 mr-1" }), "Billing"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: _.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), _.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: _.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), _.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), _.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dispatchMaterial || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.informToCustomer || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.copyOfReceipt ? a.jsxs("a", { href: _.copyOfReceipt, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dateOfReceipt || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.dateOfInstallation || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.routing || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.earthing || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.baseFoundation || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: _.wiring || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.foundationPhoto ? a.jsxs("a", { href: _.foundationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.afterInstallationPhoto ? a.jsxs("a", { href: _.afterInstallationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.photoWithCustomer ? a.jsxs("a", { href: _.photoWithCustomer, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: _.completeInstallationPhoto ? a.jsxs("a", { href: _.completeInstallationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, _._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 19, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No pending billings matching your search" : "No pending billings found" }) }) })] }) })] }), g && j && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-3xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["Billing Form - Enquiry: ", j.enquiryNumber] }), a.jsx("button", { onClick: I, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-6", children: [a.jsxs("div", { className: "mb-6 p-4 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-3 text-sm", children: "Beneficiary Details (Pre-filled)" }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Enquiry Number" }), a.jsx("input", { type: "text", value: j.enquiryNumber, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Beneficiary Name" }), a.jsx("input", { type: "text", value: j.beneficiaryName, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { className: "md:col-span-2", children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Address" }), a.jsx("input", { type: "text", value: j.address, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Invoice Bill Number ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "text", value: P.consumerBillNumber, onChange: _ => M("consumerBillNumber", _.target.value), placeholder: "Enter invoice bill number", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Invoice Bill Copy", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: _ => pe("consumerBillCopy", _.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.consumerBillCopy && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.consumerBillCopy.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Invoice Date ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "date", value: P.invoiceDate, onChange: _ => M("invoiceDate", _.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["IP Bill Number ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "text", value: P.vendorBillNumber, onChange: _ => M("vendorBillNumber", _.target.value), placeholder: "Enter vendor bill number", className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["IP Bill Copy", a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: _ => pe("vendorCopy", _.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.vendorCopy && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.vendorCopy.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["IP Date ", a.jsx("span", { className: "text-red-500", children: "*" })] }), a.jsx("input", { type: "date", value: P.ipDate, onChange: _ => M("ipDate", _.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] })] }), a.jsxs("div", { className: "flex justify-end space-x-4 mt-8 pt-4 border-t", children: [a.jsx("button", { onClick: I, disabled: w, className: "px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-sm", children: "Cancel" }), a.jsx("button", { onClick: ne, disabled: w || !P.consumerBillNumber || !P.vendorBillNumber || !P.invoiceDate || !P.ipDate, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: w ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(pt, { className: "h-4 w-4 mr-2" }), "Submit"] }) })] })] })] }) })] }) }) } const ws = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", SHEET_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", DRIVE_FOLDER_ID: "1FOIqdjF8-B4A7FCEt9EWl7qKeN3qybj7", SOURCE_SHEET_NAME: "FMS", PAGE_CONFIG: { title: "CSPDCL Doc", historyTitle: "CSPDCL Doc History", description: "Manage pending document submissions", historyDescription: "View completed document records" } }; function Mre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Rre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState(""), [c, u] = b.useState(!0), [f, h] = b.useState(null), [p, x] = b.useState(!1), [g, v] = b.useState(!1), [j, S] = b.useState(null), [w, O] = b.useState(!1), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState(""), [P, W] = b.useState({ powerPurchaseAgreement: null, vendorConsumerAgreement: null, quotationCopy: !1, applicationCopy: !1, physibilityReport: !1, tokenForSubsidy: !1, panCard: !1, aadharCard: !1, cancellationCheque: !1, electricityBill: !1, witnessIdProof: !1 }), J = Mre(s, 300), Q = b.useCallback(() => { const L = new Date, I = L.getDate().toString().padStart(2, "0"), _ = (L.getMonth() + 1).toString().padStart(2, "0"), X = L.getFullYear(), E = L.getHours().toString().padStart(2, "0"), q = L.getMinutes().toString().padStart(2, "0"), T = L.getSeconds().toString().padStart(2, "0"); return `${I}/${_}/${X} ${E}:${q}:${T}` }, []), V = b.useCallback(L => { if (!L) return ""; if (L.match(/^\d{2}\/\d{2}\/\d{4}$/)) return L; const I = new Date(L); if (isNaN(I.getTime())) return L; const _ = I.getDate().toString().padStart(2, "0"), X = (I.getMonth() + 1).toString().padStart(2, "0"), E = I.getFullYear(); return `${_}/${X}/${E}` }, []), ae = b.useCallback(L => L == null || typeof L == "string" && L.trim() === "", []); b.useEffect(() => { const L = sessionStorage.getItem("role"), I = sessionStorage.getItem("username"); C(L || ""), F(I || "") }, []); const ie = b.useCallback(async () => { try { u(!0), h(null); const L = await fetch(`${ws.APPS_SCRIPT_URL}?sheet=${ws.SOURCE_SHEET_NAME}&action=fetch`); if (!L.ok) throw new Error(`Failed to fetch data: ${L.status}`); const I = await L.text(); let _; try { _ = JSON.parse(I) } catch { const Y = I.indexOf("{"), G = I.lastIndexOf("}"); if (Y !== -1 && G !== -1) { const A = I.substring(Y, G + 1); _ = JSON.parse(A) } else throw new Error("Invalid JSON response from server") } const X = [], E = []; let q = []; _.table && _.table.rows ? q = _.table.rows : Array.isArray(_) ? q = _ : _.values && (q = _.values.map(T => ({ c: T.map(Y => ({ v: Y })) }))), q.forEach((T, Y) => { if (Y < 6) return; let G = []; if (T.c) G = T.c.map(fe => fe && fe.v !== void 0 ? fe.v : ""); else if (Array.isArray(T)) G = T; else return; const A = G[1] || "", z = G[98]; if (!!ae(A)) return; const K = Y + 1, te = { _id: A ? `enquiry_${A}_${K}` : `row_${K}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: K, _enquiryNumber: A, enquiryNumber: G[1] || "", beneficiaryName: G[2] || "", address: G[3] || "", contactNumber: G[6] || "", surveyorName: G[29] || "", dispatchMaterial: V(G[69] || ""), informToCustomer: G[72] || "", copyOfReceipt: G[76] || "", dateOfReceipt: V(G[77] || ""), dateOfInstallation: V(G[81] || ""), completeInstallationPhoto: G[89] || "", consumerBillNumber: G[93] || "", vendorBillNumber: G[95] || "", actual: G[98] || "", powerPurchaseAgreement: G[100] || "", vendorConsumerAgreement: G[101] || "", quotationCopy: G[102] || "", applicationCopy: G[103] || "", physibilityReport: G[104] || "", tokenForSubsidy: G[105] || "", panCard: G[106] || "", aadharCard: G[107] || "", cancellationCheque: G[108] || "", electricityBill: G[109] || "", witnessIdProof: G[110] || "" }; ae(z) ? X.push(te) : E.push(te) }), e(X), n(E), u(!1) } catch (L) { console.error("Error fetching sheet data:", L), h("Failed to load CSPDCL Doc data: " + L.message), u(!1) } }, [ae, V]); b.useEffect(() => { ie() }, [ie]); const se = b.useMemo(() => J ? t.filter(L => Object.values(L).some(I => I && I.toString().toLowerCase().includes(J.toLowerCase()))) : t, [t, J]), U = b.useMemo(() => J ? r.filter(L => Object.values(L).some(I => I && I.toString().toLowerCase().includes(J.toLowerCase()))) : r, [r, J]), le = b.useCallback(L => { S(L), W({ powerPurchaseAgreement: null, vendorConsumerAgreement: null, quotationCopy: L.quotationCopy === "OK", applicationCopy: L.applicationCopy === "OK", physibilityReport: L.physibilityReport === "OK", tokenForSubsidy: L.tokenForSubsidy === "OK", panCard: L.panCard === "OK", aadharCard: L.aadharCard === "OK", cancellationCheque: L.cancellationCheque === "OK", electricityBill: L.electricityBill === "OK", witnessIdProof: L.witnessIdProof === "OK" }), v(!0) }, []), de = b.useCallback((L, I) => { W(_ => ({ ..._, [L]: I })) }, []), me = b.useCallback((L, I) => { W(_ => ({ ..._, [L]: I })) }, []), pe = b.useCallback(L => new Promise((I, _) => { const X = new FileReader; X.readAsDataURL(L), X.onload = () => I(X.result), X.onerror = E => _(E) }), []), M = b.useCallback(async L => { try { const I = await pe(L), _ = new FormData; _.append("action", "uploadFile"), _.append("base64Data", I), _.append("fileName", `${j._enquiryNumber}_${Date.now()}.${L.name.split(".").pop()}`), _.append("mimeType", L.type), _.append("folderId", ws.DRIVE_FOLDER_ID); const E = await (await fetch(ws.APPS_SCRIPT_URL, { method: "POST", body: _ })).json(); if (E.success) return E.fileUrl; throw new Error("Failed to upload image") } catch (I) { throw console.error("Error uploading image:", I), I } }, [j, pe]), Z = async () => { const L = !ae(j.actual); if (!L && (!P.powerPurchaseAgreement || !P.vendorConsumerAgreement)) { alert("Please upload required images (Power Purchase Agreement and Vendor Consumer Agreement)"); return } O(!0); try { const I = L ? j.actual : Q(); let _ = "", X = ""; P.powerPurchaseAgreement ? _ = await M(P.powerPurchaseAgreement) : j.powerPurchaseAgreement && (_ = j.powerPurchaseAgreement), P.vendorConsumerAgreement ? X = await M(P.vendorConsumerAgreement) : j.vendorConsumerAgreement && (X = j.vendorConsumerAgreement); const E = new Array(111).fill(null); E[98] = I, E[100] = _, E[101] = X, E[102] = P.quotationCopy ? "OK" : "", E[103] = P.applicationCopy ? "OK" : "", E[104] = P.physibilityReport ? "OK" : "", E[105] = P.tokenForSubsidy ? "OK" : "", E[106] = P.panCard ? "OK" : "", E[107] = P.aadharCard ? "OK" : "", E[108] = P.cancellationCheque ? "OK" : "", E[109] = P.electricityBill ? "OK" : "", E[110] = P.witnessIdProof ? "OK" : ""; const q = new FormData; q.append("action", "update"), q.append("sheetName", ws.SOURCE_SHEET_NAME), q.append("rowIndex", j._rowIndex.toString()), q.append("rowData", JSON.stringify(E)); const Y = await (await fetch(ws.APPS_SCRIPT_URL, { method: "POST", body: q })).json(); if (Y.success) { R(`Document submission completed successfully for Enquiry Number: ${j._enquiryNumber}`), v(!1); const G = { ...j, actual: I, powerPurchaseAgreement: _, vendorConsumerAgreement: X, quotationCopy: P.quotationCopy ? "OK" : "", applicationCopy: P.applicationCopy ? "OK" : "", physibilityReport: P.physibilityReport ? "OK" : "", tokenForSubsidy: P.tokenForSubsidy ? "OK" : "", panCard: P.panCard ? "OK" : "", aadharCard: P.aadharCard ? "OK" : "", cancellationCheque: P.cancellationCheque ? "OK" : "", electricityBill: P.electricityBill ? "OK" : "", witnessIdProof: P.witnessIdProof ? "OK" : "" }; L ? n(A => A.map(z => z._id === j._id ? G : z)) : (e(A => A.filter(z => z._id !== j._id)), n(A => [G, ...A])), setTimeout(() => { R("") }, 3e3) } else throw new Error(Y.error || "Failed to submit document") } catch (I) { console.error("Error submitting document:", I), alert("Failed to submit document: " + I.message) } finally { O(!1) } }, ce = b.useCallback(L => { x(L === "history"), o("") }, []), ne = b.useCallback(() => { v(!1), S(null), W({ powerPurchaseAgreement: null, vendorConsumerAgreement: null, quotationCopy: !1, applicationCopy: !1, physibilityReport: !1, tokenForSubsidy: !1, panCard: !1, aadharCard: !1, cancellationCheque: !1, electricityBill: !1, witnessIdProof: !1 }) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: ws.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: p ? "Search history..." : "Search pending documents...", value: s, onChange: L => o(L.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => ce("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Pending Documents (", se.length, ")"] }) }), a.jsx("button", { onClick: () => ce("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${p ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Document History (", U.length, ")"] }) })] }), D && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), D] }), a.jsx("button", { onClick: () => R(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: p ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Documents"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Pending Documents"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: p ? ws.PAGE_CONFIG.historyDescription : ws.PAGE_CONFIG.description })] }), c ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading CSPDCL Doc data..." })] }) : f ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [f, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), !p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Dispatch Material" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inform To Customer" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Copy Of Receipt" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date Of Receipt" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date Of Installation" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Complete Installation Photo" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Consumer Bill Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Vendor Bill Number" })] }), p && a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Power Purchase Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Vendor Consumer Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Application Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Physibility Report" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Token For Subsidy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Pan Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Aadhar Card" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Cancellation Cheque" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Electricity Bill" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Witness Id Proof" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: p ? U.length > 0 ? U.map(L => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => le(L), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-linear-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500", children: [a.jsx(an, { className: "h-3 w-3 mr-1" }), "Edit"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.powerPurchaseAgreement ? a.jsxs("a", { href: L.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.vendorConsumerAgreement ? a.jsxs("a", { href: L.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.physibilityReport || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.tokenForSubsidy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.panCard || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.aadharCard || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.cancellationCheque || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.witnessIdProof || "" }) })] }, L._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 17, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No history records matching your search" : "No completed documents found" }) }) : se.length > 0 ? se.map(L => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => le(L), className: "inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-linear-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500", children: [a.jsx(Pn, { className: "h-3 w-3 mr-1" }), "Doc"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: L.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), L.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: L.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), L.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), L.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: V(L.dispatchMaterial) || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.informToCustomer || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.copyOfReceipt ? a.jsxs("a", { href: L.copyOfReceipt, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.dateOfReceipt || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.dateOfInstallation || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: L.completeInstallationPhoto ? a.jsxs("a", { href: L.completeInstallationPhoto, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.consumerBillNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: L.vendorBillNumber || "" }) })] }, L._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 15, className: "px-4 py-8 text-center text-gray-500 text-sm", children: s ? "No pending documents matching your search" : "No pending documents found" }) }) })] }) })] }), g && j && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4", children: a.jsxs("div", { className: "relative bg-white border max-w-4xl w-full shadow-2xl rounded-lg max-h-[90vh] overflow-y-auto", children: [a.jsx("div", { className: "sticky top-0 bg-white border-b border-gray-200 p-4 rounded-t-lg", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("h3", { className: "text-lg font-medium text-gray-900", children: ["Document Submission Form - Enquiry: ", j.enquiryNumber] }), a.jsx("button", { onClick: ne, className: "text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "h-5 w-5" }) })] }) }), a.jsxs("div", { className: "p-6", children: [a.jsxs("div", { className: "mb-6 p-4 bg-blue-50 rounded-lg", children: [a.jsx("h4", { className: "font-medium text-blue-900 mb-3 text-sm", children: "Beneficiary Details (Pre-filled)" }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Enquiry Number" }), a.jsx("input", { type: "text", value: j.enquiryNumber, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Beneficiary Name" }), a.jsx("input", { type: "text", value: j.beneficiaryName, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] }), a.jsxs("div", { className: "md:col-span-2", children: [a.jsx("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Address" }), a.jsx("input", { type: "text", value: j.address, readOnly: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm" })] })] })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Power Purchase Agreement ", a.jsx("span", { className: "text-red-500", children: "*" }), a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: L => de("powerPurchaseAgreement", L.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.powerPurchaseAgreement && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.powerPurchaseAgreement.name] })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: ["Vendor Consumer Agreement ", a.jsx("span", { className: "text-red-500", children: "*" }), a.jsx("span", { className: "text-gray-500 text-xs ml-1", children: "(Image)" })] }), a.jsx("input", { type: "file", accept: "image/*", onChange: L => de("vendorConsumerAgreement", L.target.files[0]), className: "w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }), P.vendorConsumerAgreement && a.jsxs("p", { className: "text-sm text-green-600 mt-2 flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-1" }), P.vendorConsumerAgreement.name] })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "quotationCopy", checked: P.quotationCopy, onChange: L => me("quotationCopy", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "quotationCopy", className: "ml-2 block text-sm text-gray-900", children: "Quotation Copy" })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "applicationCopy", checked: P.applicationCopy, onChange: L => me("applicationCopy", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "applicationCopy", className: "ml-2 block text-sm text-gray-900", children: "Application Copy" })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "physibilityReport", checked: P.physibilityReport, onChange: L => me("physibilityReport", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "physibilityReport", className: "ml-2 block text-sm text-gray-900", children: "Physibility Report" })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "tokenForSubsidy", checked: P.tokenForSubsidy, onChange: L => me("tokenForSubsidy", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "tokenForSubsidy", className: "ml-2 block text-sm text-gray-900", children: "Token For Subsidy" })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "panCard", checked: P.panCard, onChange: L => me("panCard", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "panCard", className: "ml-2 block text-sm text-gray-900", children: "Pan Card" })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "aadharCard", checked: P.aadharCard, onChange: L => me("aadharCard", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "aadharCard", className: "ml-2 block text-sm text-gray-900", children: "Aadhar Card" })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "cancellationCheque", checked: P.cancellationCheque, onChange: L => me("cancellationCheque", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "cancellationCheque", className: "ml-2 block text-sm text-gray-900", children: "Cancellation Cheque" })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "electricityBill", checked: P.electricityBill, onChange: L => me("electricityBill", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "electricityBill", className: "ml-2 block text-sm text-gray-900", children: "Electricity Bill" })] }), a.jsxs("div", { className: "flex items-center", children: [a.jsx("input", { type: "checkbox", id: "witnessIdProof", checked: P.witnessIdProof, onChange: L => me("witnessIdProof", L.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }), a.jsx("label", { htmlFor: "witnessIdProof", className: "ml-2 block text-sm text-gray-900", children: "Witness Id Proof" })] })] }), a.jsxs("div", { className: "flex justify-end space-x-4 mt-8 pt-4 border-t", children: [a.jsx("button", { onClick: ne, disabled: w, className: "px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 text-sm", children: "Cancel" }), a.jsx("button", { onClick: Z, disabled: w || !P.powerPurchaseAgreement || !P.vendorConsumerAgreement, className: "px-6 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: w ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(pt, { className: "h-4 w-4 mr-2" }), "Submit"] }) })] })] })] }) })] }) }) } const xa = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", SHEET_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Inspection", historyTitle: "Inspection History", description: "Manage pending inspection records", historyDescription: "View completed inspection records" } }; function $re(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Ire() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(""), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState({}), [P, W] = b.useState({}), [J, Q] = b.useState({}), [V, ae] = b.useState(!1), [ie, se] = b.useState(null), [U, le] = b.useState({ inspection: "", date: "" }), de = $re(c, 300), me = b.useCallback(() => { const G = new Date, A = G.getDate().toString().padStart(2, "0"), z = (G.getMonth() + 1).toString().padStart(2, "0"), $ = G.getFullYear(), K = G.getHours().toString().padStart(2, "0"), ee = G.getMinutes().toString().padStart(2, "0"), te = G.getSeconds().toString().padStart(2, "0"); return `${A}/${z}/${$} ${K}:${ee}:${te}` }, []), pe = b.useCallback(G => { if (!G) return ""; if (typeof G == "string" && G.match(/^\d{2}\/\d{2}\/\d{4}$/)) return G; const A = new Date(G); if (isNaN(A.getTime()) || A.getFullYear() === 1970) return ""; const z = A.getDate().toString().padStart(2, "0"), $ = (A.getMonth() + 1).toString().padStart(2, "0"), K = A.getFullYear(); return `${z}/${$}/${K}` }, []), M = b.useCallback(G => { if (!G) return ""; const A = String(G); if (A.includes("/")) { const [z, $, K] = A.split("/"); return `${K}-${$.padStart(2, "0")}-${z.padStart(2, "0")}` } return A }, []), Z = b.useCallback(G => G == null || typeof G == "string" && G.trim() === "", []); b.useEffect(() => { const G = sessionStorage.getItem("role"), A = sessionStorage.getItem("username"); R(G || ""), C(A || "") }, []); const ce = b.useCallback(async () => { try { const G = await fetch(`${xa.APPS_SCRIPT_URL}?sheet=${xa.DROPDOWN_SHEET_NAME}&action=fetch`); if (!G.ok) throw new Error(`Failed to fetch dropdown data: ${G.status}`); const A = await G.text(); let z; try { z = JSON.parse(A) } catch { const te = A.indexOf("{"), oe = A.lastIndexOf("}"); if (te !== -1 && oe !== -1) { const fe = A.substring(te, oe + 1); z = JSON.parse(fe) } else throw new Error("Invalid JSON response from server") } let $ = []; z.table && z.table.rows ? $ = z.table.rows : Array.isArray(z) ? $ = z : z.values && ($ = z.values.map(ee => ({ c: ee.map(te => ({ v: te })) }))); const K = []; $.forEach((ee, te) => { if (te >= 1) { let oe = []; ee.c ? oe = ee.c.map(ue => ue && ue.v !== void 0 ? ue.v : "") : Array.isArray(ee) && (oe = ee); const fe = oe[7]; Z(fe) || K.push(fe.toString()) } }), o(K) } catch (G) { console.error("Error fetching dropdown options:", G), o([]) } }, [Z]), ne = b.useCallback(async () => { try { h(!0), x(null), await ce(); const G = await fetch(`${xa.APPS_SCRIPT_URL}?sheet=${xa.SOURCE_SHEET_NAME}&action=fetch`); if (!G.ok) throw new Error(`Failed to fetch data: ${G.status}`); const A = await G.text(); let z; try { z = JSON.parse(A) } catch { const oe = A.indexOf("{"), fe = A.lastIndexOf("}"); if (oe !== -1 && fe !== -1) { const ue = A.substring(oe, fe + 1); z = JSON.parse(ue) } else throw new Error("Invalid JSON response from server") } const $ = [], K = []; let ee = []; z.table && z.table.rows ? ee = z.table.rows : Array.isArray(z) ? ee = z : z.values && (ee = z.values.map(te => ({ c: te.map(oe => ({ v: oe })) }))), ee.forEach((te, oe) => { if (oe < 6) return; let fe = []; if (te.c) fe = te.c.map(Ze => Ze && Ze.v !== void 0 ? Ze.v : ""); else if (Array.isArray(te)) fe = te; else return; const ue = fe[1] || "", ye = fe[112]; if (!!Z(ue)) return; const Pe = oe + 1, Fe = { _id: ue ? `enquiry_${ue}_${Pe}` : `row_${Pe}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: Pe, _enquiryNumber: ue, enquiryNumber: fe[1] || "", beneficiaryName: fe[2] || "", address: fe[3] || "", contactNumber: fe[6] || "", surveyorName: fe[29] || "", powerPurchaseAgreement: fe[100] || "", vendorConsumerAgreement: fe[101] || "", quotationCopy: fe[102] || "", applicationCopy: fe[103] || "", electricityBill: fe[109] || "", witnessIdProof: fe[110] || "", inspection: fe[114] || "", date: pe(fe[115] || ""), actual: fe[112] || "" }; Z(ye) ? $.push(Fe) : K.push(Fe) }), e($), n(K), h(!1) } catch (G) { console.error("Error fetching sheet data:", G), x("Failed to load Inspection data: " + G.message), h(!1) } }, [Z, ce, pe]); b.useEffect(() => { ne() }, [ne]), b.useEffect(() => { const G = {}, A = {};[...t, ...r].forEach($ => { $.inspection && $.inspection !== "" && (G[$._id] = $.inspection), $.date && $.date !== "" && (A[$._id] = M($.date)) }), W(G), Q(A) }, [t, r, M]); const L = b.useMemo(() => de ? t.filter(G => Object.values(G).some(A => A && A.toString().toLowerCase().includes(de.toLowerCase()))) : t, [t, de]), I = b.useMemo(() => de ? r.filter(G => Object.values(G).some(A => A && A.toString().toLowerCase().includes(de.toLowerCase()))) : r, [r, de]), _ = b.useCallback((G, A) => { F(z => ({ ...z, [G]: A })) }, []), X = b.useCallback((G, A) => { W(z => ({ ...z, [G]: A })), A !== "Done" && Q(z => ({ ...z, [G]: "" })) }, []), E = b.useCallback((G, A) => { Q(z => ({ ...z, [G]: A })) }, []); b.useCallback(G => { se(G), le({ inspection: G.inspection || "", date: M(G.date || "") }), ae(!0) }, [M]); const q = async () => { if (!U.inspection) { alert("Please select Inspection Status"); return } if (U.inspection === "Done" && !U.date) { alert("Please select Inspection Date"); return } S(!0); try { const G = U.inspection, A = G === "Done" ? ie.actual || me() : "", z = Array(120).fill(null); z[114] = G, z[115] = G === "Done" && U.date ? pe(U.date) : "", z[112] = A; const $ = { action: "update", sheetName: xa.SOURCE_SHEET_NAME, rowIndex: ie._rowIndex, rowData: JSON.stringify(z) }; await fetch(xa.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams($).toString() }); const K = { ...ie, inspection: G, date: G === "Done" && U.date ? pe(U.date) : "", actual: A }; G === "Done" ? isEdit ? n(ee => ee.map(te => te._id === ie._id ? K : te)) : (e(ee => ee.filter(te => te._id !== ie._id)), n(ee => [K, ...ee])) : (n(ee => ee.filter(te => te._id !== ie._id)), e(ee => ee.some(oe => oe._id === ie._id) ? ee.map(oe => oe._id === ie._id ? K : oe) : [K, ...ee])), ae(!1), O("Inspection updated successfully"), setTimeout(() => { O("") }, 3e3) } catch (G) { console.error("Error updating inspection:", G), alert("Failed to update inspection: " + G.message) } finally { S(!1) } }, T = async () => { const G = Object.keys(k).filter($ => k[$]); if (G.length === 0) { alert("Please select at least one record to submit"); return } if (G.filter($ => !P[$] || P[$] === "Select").length > 0) { alert("Please select status for all selected records"); return } if (G.filter($ => P[$] === "Done" && (!J[$] || J[$] === "")).length > 0) { alert("Please select date for all records with 'Done' status"); return } S(!0); try { const $ = G.map(async ue => { const ye = t.find(Ze => Ze._id === ue) || r.find(Ze => Ze._id === ue), be = P[ue], Pe = J[ue]; if (!ye) return; const $e = Array(120).fill(null); $e[114] = be, $e[115] = Pe ? pe(Pe) : "", be === "Done" ? $e[112] = me() : $e[112] = ""; const Fe = { action: "update", sheetName: xa.SOURCE_SHEET_NAME, rowIndex: ye._rowIndex, rowData: JSON.stringify($e) }; return (await fetch(xa.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(Fe).toString() })).json() }); if ((await Promise.all($)).filter(ue => !ue.success).length > 0) throw new Error("Some updates failed"); O(`Successfully updated ${G.length} inspection record(s)`); const te = G.map(ue => { const ye = t.find($e => $e._id === ue) || r.find($e => $e._id === ue), be = P[ue], Pe = J[ue]; return { ...ye, inspection: be, date: Pe ? pe(Pe) : ye.date, actual: be === "Done" ? me() : ye.actual } }), oe = te.filter(ue => ue.inspection === "Done"), fe = te.filter(ue => ue.inspection !== "Done"); e(ue => [...ue.filter(be => !G.includes(be._id)), ...fe]), n(ue => { const ye = ue.filter(be => !G.includes(be._id)); return [...oe, ...ye] }), F({}), W({}), Q({}), setTimeout(() => { O("") }, 3e3) } catch ($) { console.error("Error updating inspection:", $), alert("Failed to update inspection: " + $.message) } finally { S(!1) } }, Y = b.useCallback(G => { v(G === "history"), u(""), F({}), W({}), Q({}) }, []); return a.jsxs(ar, { children: [a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: xa.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending records...", value: c, onChange: G => u(G.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => Y("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(vh, { className: "h-4 w-4 mr-2" }), "Pending Inspection (", L.length, ")"] }) }), a.jsx("button", { onClick: () => Y("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Inspection History (", I.length, ")"] }) })] }), w && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), w] }), a.jsx("button", { onClick: () => O(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), Object.values(k).some(Boolean) && a.jsx("div", { className: "bg-blue-50 border border-blue-200 p-4 rounded-md", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("span", { className: "text-blue-700 text-sm", children: [Object.values(k).filter(Boolean).length, " record(s) selected"] }), a.jsx("button", { onClick: T, disabled: j, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: j ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(vh, { className: "h-4 w-4 mr-2" }), "Submit Inspection"] }) })] }) }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Inspection"] }) : a.jsxs(a.Fragment, { children: [a.jsx(vh, { className: "h-4 w-4 mr-2" }), "Pending Inspection"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? xa.PAGE_CONFIG.historyDescription : xa.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading inspection data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Power Purchase Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Vendor Consumer Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Application Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Electricity Bill" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Witness Id Proof" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? I.length > 0 ? I.map(G => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[G._id] || !1, onChange: A => _(G._id, A.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[G._id] || G.inspection || "Select", onChange: A => X(G._id, A.target.value), disabled: !k[G._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((A, z) => a.jsx("option", { value: A, children: A }, z))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "relative", children: [a.jsx("input", { type: "date", value: J[G._id] || M(G.date) || "", onChange: A => E(G._id, A.target.value), disabled: !k[G._id] || P[G._id] !== "Done", className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed pl-8 w-32" }), a.jsx(na, { className: "absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" })] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: G.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), G.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: G.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), G.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), G.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: G.powerPurchaseAgreement ? a.jsxs("a", { href: G.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: G.vendorConsumerAgreement ? a.jsxs("a", { href: G.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.witnessIdProof || "" }) })] }, G._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 15, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed inspection found" }) }) : L.length > 0 ? L.map(G => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[G._id] || !1, onChange: A => _(G._id, A.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[G._id] || G.inspection || "Select", onChange: A => X(G._id, A.target.value), disabled: !k[G._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((A, z) => a.jsx("option", { value: A, children: A }, z))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "date", value: J[G._id] || "", onChange: A => E(G._id, A.target.value), disabled: !k[G._id] || P[G._id] !== "Done", className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: G.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), G.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: G.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), G.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), G.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: G.powerPurchaseAgreement ? a.jsxs("a", { href: G.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: G.vendorConsumerAgreement ? a.jsxs("a", { href: G.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: G.witnessIdProof || "" }) })] }, G._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 14, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending inspection matching your search" : "No pending inspection found" }) }) })] }) })] })] }), V && a.jsx("div", { className: "fixed inset-0 z-50 overflow-y-auto", "aria-labelledby": "modal-title", role: "dialog", "aria-modal": "true", children: a.jsxs("div", { className: "flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0", children: [a.jsx("div", { className: "fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity", "aria-hidden": "true" }), a.jsx("span", { className: "hidden sm:inline-block sm:align-middle sm:h-screen", "aria-hidden": "true", children: "" }), a.jsxs("div", { className: "inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full", children: [a.jsx("div", { className: "bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4", children: a.jsxs("div", { className: "sm:flex sm:items-start", children: [a.jsx("div", { className: "mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10", children: a.jsx(vh, { className: "h-6 w-6 text-blue-600" }) }), a.jsxs("div", { className: "mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full", children: [a.jsx("h3", { className: "text-lg leading-6 font-medium text-gray-900", id: "modal-title", children: "Edit Inspection" }), a.jsxs("div", { className: "mt-4 space-y-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Inspection Status" }), a.jsxs("select", { value: U.inspection, onChange: G => le({ ...U, inspection: G.target.value }), className: "mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md", children: [a.jsx("option", { value: "", children: "Select Status" }), s.map((G, A) => a.jsx("option", { value: G, children: G }, A))] })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Inspection Date" }), a.jsxs("div", { className: "mt-1 relative rounded-md shadow-sm", children: [a.jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: a.jsx(na, { className: "h-5 w-5 text-gray-400" }) }), a.jsx("input", { type: "date", value: U.date, onChange: G => le({ ...U, date: G.target.value }), className: "focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md" })] })] })] })] })] }) }), a.jsxs("div", { className: "bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse", children: [a.jsx("button", { type: "button", onClick: q, disabled: j, className: "w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50", children: j ? "Saving..." : "Save Changes" }), a.jsx("button", { type: "button", onClick: () => ae(!1), className: "mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm", children: "Cancel" })] })] })] }) })] }) } const ga = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Project Commission", historyTitle: "Project Commission History", description: "Manage pending project commission records", historyDescription: "View completed project commission records" } }; function Lre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Fre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(""), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState({}), [P, W] = b.useState({}), [J, Q] = b.useState({}), [V, ae] = b.useState(!1), [ie, se] = b.useState(null), [U, le] = b.useState({ projectCommission: "", date: "" }), de = Lre(c, 300), me = b.useCallback(() => { const A = new Date, z = A.getDate().toString().padStart(2, "0"), $ = (A.getMonth() + 1).toString().padStart(2, "0"), K = A.getFullYear(), ee = A.getHours().toString().padStart(2, "0"), te = A.getMinutes().toString().padStart(2, "0"), oe = A.getSeconds().toString().padStart(2, "0"); return `${z}/${$}/${K} ${ee}:${te}:${oe}` }, []), pe = b.useCallback(A => { if (!A) return ""; if (typeof A == "string" && A.match(/^\d{2}\/\d{2}\/\d{4}$/)) return A; const z = new Date(A); if (isNaN(z.getTime())) return A; const $ = z.getDate().toString().padStart(2, "0"), K = (z.getMonth() + 1).toString().padStart(2, "0"), ee = z.getFullYear(); return `${$}/${K}/${ee}` }, []), M = b.useCallback(A => { if (!A) return ""; if (typeof A == "string" && A.match(/^\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}$/)) return A; const z = new Date(A); if (isNaN(z.getTime())) return A; const $ = z.getDate().toString().padStart(2, "0"), K = (z.getMonth() + 1).toString().padStart(2, "0"), ee = z.getFullYear(), te = z.getHours().toString().padStart(2, "0"), oe = z.getMinutes().toString().padStart(2, "0"), fe = z.getSeconds().toString().padStart(2, "0"); return `${$}/${K}/${ee} ${te}:${oe}:${fe}` }, []), Z = b.useCallback(A => { if (!A) return ""; const z = String(A); if (z.includes("/")) { const K = z.split("/"); if (K.length === 3) { const [ee, te, oe] = K; return parseInt(oe) === 1970 || parseInt(oe) < 1971 ? "" : `${oe}-${te.padStart(2, "0")}-${ee.padStart(2, "0")}` } } const $ = new Date(z); if (!isNaN($.getTime())) { if ($.getFullYear() === 1970 || $.getFullYear() < 1971) return ""; const K = $.getDate().toString().padStart(2, "0"), ee = ($.getMonth() + 1).toString().padStart(2, "0"); return `${$.getFullYear()}-${ee}-${K}` } return "" }, []), ce = b.useCallback(A => A == null || typeof A == "string" && A.trim() === "", []); b.useEffect(() => { const A = sessionStorage.getItem("role"), z = sessionStorage.getItem("username"); R(A || ""), C(z || "") }, []); const ne = b.useCallback(async () => { try { const A = await fetch(`${ga.APPS_SCRIPT_URL}?sheet=${ga.DROPDOWN_SHEET_NAME}&action=fetch`); if (!A.ok) throw new Error(`Failed to fetch dropdown data: ${A.status}`); const z = await A.text(); let $; try { $ = JSON.parse(z) } catch { const oe = z.indexOf("{"), fe = z.lastIndexOf("}"); if (oe !== -1 && fe !== -1) { const ue = z.substring(oe, fe + 1); $ = JSON.parse(ue) } else throw new Error("Invalid JSON response from server") } let K = []; $.table && $.table.rows ? K = $.table.rows : Array.isArray($) ? K = $ : $.values && (K = $.values.map(te => ({ c: te.map(oe => ({ v: oe })) }))); const ee = []; K.forEach((te, oe) => { if (oe >= 1) { let fe = []; te.c ? fe = te.c.map(ye => ye && ye.v !== void 0 ? ye.v : "") : Array.isArray(te) && (fe = te); const ue = fe[7]; ce(ue) || ee.push(ue.toString()) } }), o(ee) } catch (A) { console.error("Error fetching dropdown options:", A), o([]) } }, [ce]), L = b.useCallback(async () => { try { h(!0), x(null), await ne(); const A = await fetch(`${ga.APPS_SCRIPT_URL}?sheet=${ga.SOURCE_SHEET_NAME}&action=fetch`); if (!A.ok) throw new Error(`Failed to fetch data: ${A.status}`); const z = await A.text(); let $; try { $ = JSON.parse(z) } catch { const fe = z.indexOf("{"), ue = z.lastIndexOf("}"); if (fe !== -1 && ue !== -1) { const ye = z.substring(fe, ue + 1); $ = JSON.parse(ye) } else throw new Error("Invalid JSON response from server") } const K = [], ee = []; let te = []; $.table && $.table.rows ? te = $.table.rows : Array.isArray($) ? te = $ : $.values && (te = $.values.map(oe => ({ c: oe.map(fe => ({ v: fe })) }))), te.forEach((oe, fe) => { if (fe < 6) return; let ue = []; if (oe.c) ue = oe.c.map(nt => nt && nt.v !== void 0 ? nt.v : ""); else if (Array.isArray(oe)) ue = oe; else return; const ye = ue[1] || "", be = ue[117]; if (!!ce(ye)) return; const $e = fe + 1, Ue = { _id: ye ? `enquiry_${ye}_${$e}` : `row_${$e}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: $e, _enquiryNumber: ye, enquiryNumber: ue[1] || "", beneficiaryName: ue[2] || "", address: ue[3] || "", contactNumber: ue[6] || "", surveyorName: ue[29] || "", powerPurchaseAgreement: ue[100] || "", vendorConsumerAgreement: ue[101] || "", quotationCopy: ue[102] || "", applicationCopy: ue[103] || "", electricityBill: ue[109] || "", witnessIdProof: ue[110] || "", inspection: pe(ue[114] || ""), date: pe(ue[115] || ""), projectCommission: ue[119] || "", actualDate: M(ue[117] || "") }; ce(be) ? K.push(Ue) : ee.push(Ue) }), e(K), n(ee), h(!1) } catch (A) { console.error("Error fetching sheet data:", A), x("Failed to load Project Commission data: " + A.message), h(!1) } }, [ce, ne, pe]); b.useEffect(() => { L() }, [L]), b.useEffect(() => { const A = {}, z = {};[...t, ...r].forEach(K => { K.projectCommission && K.projectCommission !== "" && (A[K._id] = K.projectCommission), K.date && K.date !== "" && (z[K._id] = Z(K.date)) }), W(A), Q(z) }, [t, r, Z]); const I = b.useMemo(() => de ? t.filter(A => Object.values(A).some(z => z && z.toString().toLowerCase().includes(de.toLowerCase()))) : t, [t, de]), _ = b.useMemo(() => de ? r.filter(A => Object.values(A).some(z => z && z.toString().toLowerCase().includes(de.toLowerCase()))) : r, [r, de]), X = b.useCallback((A, z) => { F($ => ({ ...$, [A]: z })) }, []), E = b.useCallback((A, z) => { W($ => ({ ...$, [A]: z })) }, []), q = b.useCallback((A, z) => { Q($ => ({ ...$, [A]: z })) }, []); b.useCallback(A => { se(A), le({ projectCommission: A.projectCommission || "", date: Z(A.date || "") }), ae(!0) }, [Z]); const T = async () => { if (!U.projectCommission || !U.date) { alert("Please fill in all required fields"); return } S(!0); try { const A = !ce(ie.actualDate), z = A ? ie.actualDate : me(), $ = ie._rowIndex, K = Array(123).fill(null); K[115] = pe(U.date), K[119] = U.projectCommission, K[120] = pe(U.date), K[117] = M(z); const ee = { action: "update", sheetName: ga.SOURCE_SHEET_NAME, rowIndex: $, rowData: JSON.stringify(K) }, oe = await (await fetch(ga.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(ee).toString() })).json(); if (oe.success) { O(`Project commission updated successfully for Enquiry Number: ${ie._enquiryNumber}`), ae(!1); const fe = { ...ie, projectCommission: U.projectCommission, date: pe(U.date), actualDate: z }; A ? n(ue => ue.map(ye => ye._id === ie._id ? fe : ye)) : (e(ue => ue.filter(ye => ye._id !== ie._id)), n(ue => [fe, ...ue])), setTimeout(() => { O("") }, 3e3) } else throw new Error(oe.error || "Failed to update project commission") } catch (A) { console.error("Error updating project commission:", A), alert("Failed to update project commission: " + A.message) } finally { S(!1) } }, Y = async () => { const A = Object.keys(k).filter(K => k[K]); if (A.length === 0) { alert("Please select at least one record to submit"); return } if (A.filter(K => !P[K] || P[K] === "Select").length > 0) { alert("Please select status for all selected records"); return } if (A.filter(K => P[K] === "Done" && (!J[K] || J[K] === "")).length > 0) { alert("Please select date for all records with 'Done' status"); return } S(!0); try { const K = A.map(async ye => { const be = t.find(nt => nt._id === ye) || r.find(nt => nt._id === ye), Pe = P[ye], $e = J[ye]; if (!be) return; const Fe = Array(123).fill(null); Fe[119] = Pe, $e && (Fe[115] = pe($e), Fe[120] = pe($e)), Pe === "Done" ? Fe[117] = me() : Fe[117] = ""; const Ue = { action: "update", sheetName: ga.SOURCE_SHEET_NAME, rowIndex: be._rowIndex, rowData: JSON.stringify(Fe) }; return (await fetch(ga.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(Ue).toString() })).json() }); if ((await Promise.all(K)).filter(ye => !ye.success).length > 0) throw new Error("Some updates failed"); O(`Successfully updated ${A.length} project commission record(s)`); const oe = A.map(ye => { const be = t.find(Fe => Fe._id === ye) || r.find(Fe => Fe._id === ye), Pe = P[ye], $e = J[ye]; return { ...be, projectCommission: Pe, date: $e ? pe($e) : be.date, actualDate: be.actualDate ? be.actualDate : Pe === "Done" ? me() : "" } }), fe = oe.filter(ye => ye.projectCommission === "Done"), ue = oe.filter(ye => ye.projectCommission !== "Done"); e(ye => [...ye.filter(Pe => !A.includes(Pe._id)), ...ue]), n(ye => [...ye.filter(Pe => !A.includes(Pe._id)), ...fe]), F({}), W({}), Q({}), setTimeout(() => { O("") }, 3e3) } catch (K) { console.error("Error updating project commission:", K), alert("Failed to update project commission: " + K.message) } finally { S(!1) } }, G = b.useCallback(A => { v(A === "history"), u(""), F({}), W({}), Q({}) }, []); return a.jsxs(ar, { children: [a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: ga.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending records...", value: c, onChange: A => u(A.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => G("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Commission (", I.length, ")"] }) }), a.jsx("button", { onClick: () => G("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Commission History (", _.length, ")"] }) })] }), w && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), w] }), a.jsx("button", { onClick: () => O(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), Object.values(k).some(Boolean) && a.jsx("div", { className: "bg-blue-50 border border-blue-200 p-4 rounded-md", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("span", { className: "text-blue-700 text-sm", children: [Object.values(k).filter(Boolean).length, " record(s) selected"] }), a.jsx("button", { onClick: Y, disabled: j, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: j ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Submit Commission"] }) })] }) }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Project Commission"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Project Commission"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? ga.PAGE_CONFIG.historyDescription : ga.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading project commission data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Power Purchase Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Vendor Consumer Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Application Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Electricity Bill" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Witness Id Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inspection" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? _.length > 0 ? _.map(A => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[A._id] || !1, onChange: z => X(A._id, z.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[A._id] || A.projectCommission || "Select", onChange: z => E(A._id, z.target.value), disabled: !k[A._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((z, $) => a.jsx("option", { value: z, children: z }, $))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "relative", children: [a.jsx("input", { type: "date", value: J[A._id] || Z(A.date) || "", onChange: z => q(A._id, z.target.value), disabled: !k[A._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed pl-8 w-32" }), a.jsx(na, { className: "absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" })] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: A.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), A.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: A.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), A.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), A.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: A.powerPurchaseAgreement ? a.jsxs("a", { href: A.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: A.vendorConsumerAgreement ? a.jsxs("a", { href: A.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.witnessIdProof || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.inspection || "" }) })] }, A._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 14, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed project commission found" }) }) : I.length > 0 ? I.map(A => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[A._id] || !1, onChange: z => X(A._id, z.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[A._id] || A.projectCommission || "Select", onChange: z => E(A._id, z.target.value), disabled: !k[A._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((z, $) => a.jsx("option", { value: z, children: z }, $))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "date", value: J[A._id] || A.date || "", onChange: z => q(A._id, z.target.value), disabled: !k[A._id] || P[A._id] !== "Done", className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: A.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), A.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: A.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), A.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), A.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: A.powerPurchaseAgreement ? a.jsxs("a", { href: A.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: A.vendorConsumerAgreement ? a.jsxs("a", { href: A.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.witnessIdProof || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.inspection || "" }) })] }, A._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 16, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending project commission matching your search" : "No pending project commission found" }) }) })] }) })] })] }), V && a.jsx("div", { className: "fixed inset-0 z-50 overflow-y-auto", "aria-labelledby": "modal-title", role: "dialog", "aria-modal": "true", children: a.jsxs("div", { className: "flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0", children: [a.jsx("div", { className: "fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity", "aria-hidden": "true" }), a.jsx("span", { className: "hidden sm:inline-block sm:align-middle sm:h-screen", "aria-hidden": "true", children: "" }), a.jsxs("div", { className: "inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full", children: [a.jsx("div", { className: "bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4", children: a.jsxs("div", { className: "sm:flex sm:items-start", children: [a.jsx("div", { className: "mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10", children: a.jsx(Kr, { className: "h-6 w-6 text-blue-600" }) }), a.jsxs("div", { className: "mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full", children: [a.jsx("h3", { className: "text-lg leading-6 font-medium text-gray-900", id: "modal-title", children: "Edit Project Commission" }), a.jsxs("div", { className: "mt-4 space-y-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Project Commission Status" }), a.jsxs("select", { value: U.projectCommission, onChange: A => le({ ...U, projectCommission: A.target.value }), className: "mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md", children: [a.jsx("option", { value: "", children: "Select Status" }), s.map((A, z) => a.jsx("option", { value: A, children: A }, z))] })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Commission Date" }), a.jsxs("div", { className: "mt-1 relative rounded-md shadow-sm", children: [a.jsx("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: a.jsx(na, { className: "h-5 w-5 text-gray-400" }) }), a.jsx("input", { type: "date", value: U.date, onChange: A => le({ ...U, date: A.target.value }), className: "focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md" })] })] })] })] })] }) }), a.jsxs("div", { className: "bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse", children: [a.jsx("button", { type: "button", onClick: T, disabled: j, className: "w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50", children: j ? "Saving..." : "Save Changes" }), a.jsx("button", { type: "button", onClick: () => ae(!1), className: "mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm", children: "Cancel" })] })] })] }) })] }) } const ya = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Subsidy Token", historyTitle: "Subsidy Token History", description: "Manage pending subsidy token records", historyDescription: "View completed subsidy token records" } }; function Bre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function qre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(""), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState({}), [P, W] = b.useState({}), [J, Q] = b.useState(!1), [V, ae] = b.useState(null), [ie, se] = b.useState({ subsidyToken: "" }), U = Bre(c, 300), le = b.useCallback(() => { const E = new Date, q = E.getDate().toString().padStart(2, "0"), T = (E.getMonth() + 1).toString().padStart(2, "0"), Y = E.getFullYear(), G = E.getHours().toString().padStart(2, "0"), A = E.getMinutes().toString().padStart(2, "0"), z = E.getSeconds().toString().padStart(2, "0"); return `${q}/${T}/${Y} ${G}:${A}:${z}` }, []); b.useCallback(E => { if (!E) return ""; if (typeof E == "string" && E.match(/^\d{2}\/\d{2}\/\d{4}$/)) return E; const q = new Date(E); if (isNaN(q.getTime())) return E; const T = q.getDate().toString().padStart(2, "0"), Y = (q.getMonth() + 1).toString().padStart(2, "0"), G = q.getFullYear(); return `${T}/${Y}/${G}` }, []); const de = b.useCallback(E => { if (!E) return ""; if (typeof E == "string" && E.match(/^\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}$/)) return E; const q = new Date(E); if (isNaN(q.getTime())) return E; const T = q.getDate().toString().padStart(2, "0"), Y = (q.getMonth() + 1).toString().padStart(2, "0"), G = q.getFullYear(), A = q.getHours().toString().padStart(2, "0"), z = q.getMinutes().toString().padStart(2, "0"), $ = q.getSeconds().toString().padStart(2, "0"); return `${T}/${Y}/${G} ${A}:${z}:${$}` }, []), me = b.useCallback(E => E == null || typeof E == "string" && E.trim() === "", []); b.useEffect(() => { const E = sessionStorage.getItem("role"), q = sessionStorage.getItem("username"); R(E || ""), C(q || "") }, []); const pe = b.useCallback(async () => { try { const E = await fetch(`${ya.APPS_SCRIPT_URL}?sheet=${ya.DROPDOWN_SHEET_NAME}&action=fetch`); if (!E.ok) throw new Error(`Failed to fetch dropdown data: ${E.status}`); const q = await E.text(); let T; try { T = JSON.parse(q) } catch { const z = q.indexOf("{"), $ = q.lastIndexOf("}"); if (z !== -1 && $ !== -1) { const K = q.substring(z, $ + 1); T = JSON.parse(K) } else throw new Error("Invalid JSON response from server") } let Y = []; T.table && T.table.rows ? Y = T.table.rows : Array.isArray(T) ? Y = T : T.values && (Y = T.values.map(A => ({ c: A.map(z => ({ v: z })) }))); const G = []; Y.forEach((A, z) => { if (z >= 1) { let $ = []; A.c ? $ = A.c.map(ee => ee && ee.v !== void 0 ? ee.v : "") : Array.isArray(A) && ($ = A); const K = $[7]; me(K) || G.push(K.toString()) } }), o(G) } catch (E) { console.error("Error fetching dropdown options:", E), o([]) } }, [me]), M = b.useCallback(async () => { try { h(!0), x(null), await pe(); const E = await fetch(`${ya.APPS_SCRIPT_URL}?sheet=${ya.SOURCE_SHEET_NAME}&action=fetch`); if (!E.ok) throw new Error(`Failed to fetch data: ${E.status}`); const q = await E.text(); let T; try { T = JSON.parse(q) } catch { const $ = q.indexOf("{"), K = q.lastIndexOf("}"); if ($ !== -1 && K !== -1) { const ee = q.substring($, K + 1); T = JSON.parse(ee) } else throw new Error("Invalid JSON response from server") } const Y = [], G = []; let A = []; T.table && T.table.rows ? A = T.table.rows : Array.isArray(T) ? A = T : T.values && (A = T.values.map(z => ({ c: z.map($ => ({ v: $ })) }))), A.forEach((z, $) => { if ($ < 6) return; let K = []; if (z.c) K = z.c.map(Pe => Pe && Pe.v !== void 0 ? Pe.v : ""); else if (Array.isArray(z)) K = z; else return; const ee = K[1] || "", te = K[122]; if (!!me(ee)) return; const fe = $ + 1, ye = { _id: ee ? `enquiry_${ee}_${fe}` : `row_${fe}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: fe, _enquiryNumber: ee, enquiryNumber: K[1] || "", beneficiaryName: K[2] || "", address: K[3] || "", contactNumber: K[6] || "", surveyorName: K[29] || "", powerPurchaseAgreement: K[100] || "", vendorConsumerAgreement: K[101] || "", quotationCopy: K[102] || "", applicationCopy: K[103] || "", electricityBill: K[109] || "", witnessIdProof: K[110] || "", inspection: K[113] || "", projectCommission: K[118] || "", actual: de(K[122] || ""), subsidyToken: K[124] || "" }; me(te) ? Y.push(ye) : G.push(ye) }), e(Y), n(G), h(!1) } catch (E) { console.error("Error fetching sheet data:", E), x("Failed to load Subsidy Token data: " + E.message), h(!1) } }, [me, pe]); b.useEffect(() => { M() }, [M]), b.useEffect(() => { const E = {};[...t, ...r].forEach(T => { T.subsidyToken && T.subsidyToken !== "" && (E[T._id] = T.subsidyToken) }), W(E) }, [t, r]); const Z = b.useMemo(() => U ? t.filter(E => Object.values(E).some(q => q && q.toString().toLowerCase().includes(U.toLowerCase()))) : t, [t, U]), ce = b.useMemo(() => U ? r.filter(E => Object.values(E).some(q => q && q.toString().toLowerCase().includes(U.toLowerCase()))) : r, [r, U]), ne = b.useCallback((E, q) => { F(T => ({ ...T, [E]: q })) }, []), L = b.useCallback((E, q) => { W(T => ({ ...T, [E]: q })) }, []); b.useCallback(E => { ae(E), se({ subsidyToken: E.subsidyToken || "" }), Q(!0) }, []); const I = async () => { if (!ie.subsidyToken) { alert("Please select a status"); return } S(!0); try { const E = !me(V.actual), q = E ? de(V.actual) : le(), T = V._rowIndex, Y = Array(150).fill(null); Y[124] = ie.subsidyToken, ie.subsidyToken === "Done" ? Y[122] = V.actual ? de(V.actual) : le() : Y[122] = ""; const G = { action: "update", sheetName: ya.SOURCE_SHEET_NAME, rowIndex: T, rowData: JSON.stringify(Y) }, z = await (await fetch(ya.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(G).toString() })).json(); if (z.success) { O(`Subsidy token updated successfully for Enquiry Number: ${V._enquiryNumber}`), Q(!1); const $ = { ...V, subsidyToken: ie.subsidyToken, actual: q }; E ? n(K => K.map(ee => ee._id === V._id ? $ : ee)) : (e(K => K.filter(ee => ee._id !== V._id)), n(K => [$, ...K])), setTimeout(() => { O("") }, 3e3) } else throw new Error(z.error || "Failed to update subsidy token") } catch (E) { console.error("Error updating subsidy token:", E), alert("Failed to update subsidy token: " + E.message) } finally { S(!1) } }, _ = async () => { const E = Object.keys(k).filter(T => k[T]); if (E.length === 0) { alert("Please select at least one record to submit"); return } if (E.filter(T => !P[T] || P[T] === "Select").length > 0) { alert("Please select status for all selected records"); return } S(!0); try { const T = E.map(async K => { const ee = t.find(ye => ye._id === K) || r.find(ye => ye._id === K), te = P[K]; if (!ee) return; const oe = Array(150).fill(null); oe[124] = te, te === "Done" ? oe[122] = ee.actual ? de(ee.actual) : le() : oe[122] = ""; const fe = { action: "update", sheetName: ya.SOURCE_SHEET_NAME, rowIndex: ee._rowIndex, rowData: JSON.stringify(oe) }; return (await fetch(ya.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(fe).toString() })).json() }); if ((await Promise.all(T)).filter(K => !K.success).length > 0) throw new Error("Some updates failed"); O(`Successfully updated ${E.length} subsidy token record(s)`); const A = E.map(K => { const ee = t.find(oe => oe._id === K) || r.find(oe => oe._id === K), te = P[K]; return ee ? { ...ee, subsidyToken: te, actual: te === "Done" ? ee.actual ? de(ee.actual) : le() : "" } : null }).filter(Boolean), z = A.filter(K => K.subsidyToken === "Done"), $ = A.filter(K => K.subsidyToken !== "Done"); e(K => [...K.filter(te => !E.includes(te._id)), ...$]), n(K => [...K.filter(te => !E.includes(te._id)), ...z]), F({}), W({}), setTimeout(() => { O("") }, 3e3) } catch (T) { console.error("Error updating subsidy tokens:", T), alert("Failed to update subsidy tokens: " + T.message) } finally { S(!1) } }, X = b.useCallback(E => { v(E === "history"), u(""), F({}), W({}) }, []); return a.jsxs(ar, { children: [a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: ya.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending records...", value: c, onChange: E => u(E.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => X("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Pending (", Z.length, ")"] }) }), a.jsx("button", { onClick: () => X("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "History (", ce.length, ")"] }) })] }), w && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), w] }), a.jsx("button", { onClick: () => O(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), Object.values(k).some(Boolean) && a.jsx("div", { className: "bg-blue-50 border border-blue-200 p-4 rounded-md", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("span", { className: "text-blue-700 text-sm", children: [Object.values(k).filter(Boolean).length, " record(s) selected"] }), a.jsx("button", { onClick: _, disabled: j, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: j ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Submit"] }) })] }) }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Subsidy Token History"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Pn, { className: "h-4 w-4 mr-2" }), "Pending Subsidy Token Records"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? ya.PAGE_CONFIG.historyDescription : ya.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading subsidy token data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Power Purchase Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Vendor Consumer Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Application Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Electricity Bill" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Witness Id Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inspection" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Project Commission" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? ce.length > 0 ? ce.map(E => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[E._id] || !1, onChange: q => ne(E._id, q.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[E._id] || E.subsidyToken || "Select", onChange: q => L(E._id, q.target.value), disabled: !k[E._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((q, T) => a.jsx("option", { value: q, children: q }, T))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: E.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: E.beneficiaryName || "" }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsx("div", { className: "text-xs text-gray-900 truncate", title: E.address, children: E.address || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: E.contactNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: E.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.powerPurchaseAgreement ? a.jsxs("a", { href: E.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.vendorConsumerAgreement ? a.jsxs("a", { href: E.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.quotationCopy ? a.jsxs("a", { href: E.quotationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.applicationCopy ? a.jsxs("a", { href: E.applicationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.electricityBill ? a.jsxs("a", { href: E.electricityBill, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.witnessIdProof ? a.jsxs("a", { href: E.witnessIdProof, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.inspection ? a.jsxs("a", { href: E.inspection, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.projectCommission ? a.jsxs("a", { href: E.projectCommission, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, E._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 16, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed subsidy token records found" }) }) : Z.length > 0 ? Z.map(E => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[E._id] || !1, onChange: q => ne(E._id, q.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[E._id] || E.subsidyToken || "Select", onChange: q => L(E._id, q.target.value), disabled: !k[E._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((q, T) => a.jsx("option", { value: q, children: q }, T))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: E.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), E.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: E.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), E.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), E.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: E.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.powerPurchaseAgreement ? a.jsxs("a", { href: E.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.vendorConsumerAgreement ? a.jsxs("a", { href: E.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.quotationCopy ? a.jsxs("a", { href: E.quotationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.applicationCopy ? a.jsxs("a", { href: E.applicationCopy, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.electricityBill ? a.jsxs("a", { href: E.electricityBill, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.witnessIdProof ? a.jsxs("a", { href: E.witnessIdProof, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.inspection ? a.jsxs("a", { href: E.inspection, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: E.projectCommission ? a.jsxs("a", { href: E.projectCommission, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) })] }, E._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 15, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending subsidy token records matching your search" : "No pending subsidy token records found" }) }) })] }) })] })] }), J && a.jsx("div", { className: "fixed inset-0 z-50 overflow-y-auto", "aria-labelledby": "modal-title", role: "dialog", "aria-modal": "true", children: a.jsxs("div", { className: "flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0", children: [a.jsx("div", { className: "fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity", "aria-hidden": "true" }), a.jsx("span", { className: "hidden sm:inline-block sm:align-middle sm:h-screen", "aria-hidden": "true", children: "" }), a.jsxs("div", { className: "inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full", children: [a.jsx("div", { className: "bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4", children: a.jsxs("div", { className: "sm:flex sm:items-start", children: [a.jsx("div", { className: "mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10", children: a.jsx(Pn, { className: "h-6 w-6 text-blue-600" }) }), a.jsxs("div", { className: "mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full", children: [a.jsx("h3", { className: "text-lg leading-6 font-medium text-gray-900", id: "modal-title", children: "Edit Subsidy Token" }), a.jsx("div", { className: "mt-4", children: a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Subsidy Token Status" }), a.jsxs("select", { value: ie.subsidyToken, onChange: E => se({ ...ie, subsidyToken: E.target.value }), className: "mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md", children: [a.jsx("option", { value: "", children: "Select Status" }), s.map((E, q) => a.jsx("option", { value: E, children: E }, q))] })] }) })] })] }) }), a.jsxs("div", { className: "bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse", children: [a.jsx("button", { type: "button", onClick: I, disabled: j, className: "w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50", children: j ? "Saving..." : "Save Changes" }), a.jsx("button", { type: "button", onClick: () => Q(!1), className: "mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm", children: "Cancel" })] })] })] }) })] }) } const ba = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", SHEET_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Subsidy Disbursal", historyTitle: "Subsidy Disbursal History", description: "Manage pending subsidy disbursal records", historyDescription: "View completed subsidy disbursal records" } }; function zre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Ure() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(""), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState({}), [P, W] = b.useState({}), [J, Q] = b.useState(!1), [V, ae] = b.useState(null), [ie, se] = b.useState({ subsidyDisbursal: "" }), U = zre(c, 300), le = b.useCallback(() => { const q = new Date, T = q.getDate().toString().padStart(2, "0"), Y = (q.getMonth() + 1).toString().padStart(2, "0"), G = q.getFullYear(), A = q.getHours().toString().padStart(2, "0"), z = q.getMinutes().toString().padStart(2, "0"), $ = q.getSeconds().toString().padStart(2, "0"); return `${T}/${Y}/${G} ${A}:${z}:${$}` }, []), de = b.useCallback(q => q == null || typeof q == "string" && q.trim() === "", []), me = b.useCallback(q => { if (!q) return ""; if (typeof q == "string" && q.match(/^\d{2}\/\d{2}\/\d{4}$/)) return q; try { const T = new Date(q); if (isNaN(T.getTime()) || T.getFullYear() === 1970) return ""; const Y = T.getDate().toString().padStart(2, "0"), G = (T.getMonth() + 1).toString().padStart(2, "0"), A = T.getFullYear(); return `${Y}/${G}/${A}` } catch { return q } }, []), pe = b.useCallback(q => { if (!q) return ""; if (typeof q == "string" && q.match(/^\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}$/)) return q; const T = new Date(q); if (isNaN(T.getTime())) return q; const Y = T.getDate().toString().padStart(2, "0"), G = (T.getMonth() + 1).toString().padStart(2, "0"), A = T.getFullYear(), z = T.getHours().toString().padStart(2, "0"), $ = T.getMinutes().toString().padStart(2, "0"), K = T.getSeconds().toString().padStart(2, "0"); return `${Y}/${G}/${A} ${z}:${$}:${K}` }, []); b.useEffect(() => { const q = sessionStorage.getItem("role"), T = sessionStorage.getItem("username"); R(q || ""), C(T || "") }, []); const M = b.useCallback(async () => { try { const q = await fetch(`${ba.APPS_SCRIPT_URL}?sheet=${ba.DROPDOWN_SHEET_NAME}&action=fetch`); if (!q.ok) throw new Error(`Failed to fetch dropdown data: ${q.status}`); const T = await q.text(); let Y; try { Y = JSON.parse(T) } catch { const $ = T.indexOf("{"), K = T.lastIndexOf("}"); if ($ !== -1 && K !== -1) { const ee = T.substring($, K + 1); Y = JSON.parse(ee) } else throw new Error("Invalid JSON response from server") } let G = []; Y.table && Y.table.rows ? G = Y.table.rows : Array.isArray(Y) ? G = Y : Y.values && (G = Y.values.map(z => ({ c: z.map($ => ({ v: $ })) }))); const A = []; G.forEach((z, $) => { if ($ >= 1) { let K = []; z.c ? K = z.c.map(te => te && te.v !== void 0 ? te.v : "") : Array.isArray(z) && (K = z); const ee = K[7]; de(ee) || A.push(ee.toString()) } }), o(A) } catch (q) { console.error("Error fetching dropdown options:", q), o([]) } }, [de]), Z = b.useCallback(async () => { try { h(!0), x(null), await M(); const q = await fetch(`${ba.APPS_SCRIPT_URL}?sheet=${ba.SOURCE_SHEET_NAME}&action=fetch`); if (!q.ok) throw new Error(`Failed to fetch data: ${q.status}`); const T = await q.text(); let Y; try { Y = JSON.parse(T) } catch { const K = T.indexOf("{"), ee = T.lastIndexOf("}"); if (K !== -1 && ee !== -1) { const te = T.substring(K, ee + 1); Y = JSON.parse(te) } else throw new Error("Invalid JSON response from server") } const G = [], A = []; let z = []; Y.table && Y.table.rows ? z = Y.table.rows : Array.isArray(Y) ? z = Y : Y.values && (z = Y.values.map($ => ({ c: $.map(K => ({ v: K })) }))), z.forEach(($, K) => { if (K < 6) return; let ee = []; if ($.c) ee = $.c.map($e => $e && $e.v !== void 0 ? $e.v : ""); else if (Array.isArray($)) ee = $; else return; const te = ee[1] || "", oe = ee[126]; if (!!de(te)) return; const ue = K + 1, be = { _id: te ? `enquiry_${te}_${ue}` : `row_${ue}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: ue, _enquiryNumber: te, enquiryNumber: ee[1] || "", beneficiaryName: ee[2] || "", address: ee[3] || "", contactNumber: ee[6] || "", surveyorName: ee[29] || "", powerPurchaseAgreement: ee[100] || "", vendorConsumerAgreement: ee[101] || "", quotationCopy: ee[102] || "", applicationCopy: ee[103] || "", electricityBill: ee[109] || "", witnessIdProof: ee[110] || "", inspection: ee[114] || "", projectCommission: ee[119] || "", subsidyDisbursal: ee[128] || "", actual: pe(ee[126] || "") }; de(oe) ? G.push(be) : A.push(be) }), e(G), n(A), h(!1) } catch (q) { console.error("Error fetching sheet data:", q), x("Failed to load Subsidy Disbursal data: " + q.message), h(!1) } }, [de, M]); b.useEffect(() => { Z() }, [Z]), b.useEffect(() => { const q = {};[...t, ...r].forEach(Y => { Y.subsidyDisbursal && Y.subsidyDisbursal !== "" && (q[Y._id] = Y.subsidyDisbursal) }), W(q) }, [t, r]); const ce = b.useMemo(() => U ? t.filter(q => Object.values(q).some(T => T && T.toString().toLowerCase().includes(U.toLowerCase()))) : t, [t, U]), ne = b.useMemo(() => U ? r.filter(q => Object.values(q).some(T => T && T.toString().toLowerCase().includes(U.toLowerCase()))) : r, [r, U]), L = b.useCallback((q, T) => { F(Y => ({ ...Y, [q]: T })) }, []), I = b.useCallback((q, T) => { W(Y => ({ ...Y, [q]: T })) }, []); b.useCallback(q => { ae(q), se({ subsidyDisbursal: q.subsidyDisbursal || "" }), Q(!0) }, []); const _ = async () => { if (!ie.subsidyDisbursal) { alert("Please select a status"); return } S(!0); try { const q = !de(V.actual), T = q ? V.actual : le(), Y = V._rowIndex, G = Array(130).fill(null); G[128] = ie.subsidyDisbursal, ie.subsidyDisbursal === "Done" ? G[126] = V.actual ? pe(V.actual) : le() : G[126] = ""; const A = { action: "update", sheetName: ba.SOURCE_SHEET_NAME, rowIndex: Y, rowData: JSON.stringify(G) }, $ = await (await fetch(ba.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(A).toString() })).json(); if ($.success) { O(`Subsidy disbursal updated successfully for Enquiry Number: ${V._enquiryNumber}`), Q(!1); const K = { ...V, subsidyDisbursal: ie.subsidyDisbursal, actual: T }; q ? n(ee => ee.map(te => te._id === V._id ? K : te)) : (e(ee => ee.filter(te => te._id !== V._id)), n(ee => [K, ...ee])), setTimeout(() => { O("") }, 3e3) } else throw new Error($.error || "Failed to update subsidy disbursal") } catch (q) { console.error("Error updating subsidy disbursal:", q), alert("Failed to update subsidy disbursal: " + q.message) } finally { S(!1) } }, X = async () => { const q = Object.keys(k).filter(Y => k[Y]); if (q.length === 0) { alert("Please select at least one record to submit"); return } if (q.filter(Y => !P[Y] || P[Y] === "Select").length > 0) { alert("Please select status for all selected records"); return } S(!0); try { const Y = q.map(async ee => { const te = t.find(be => be._id === ee) || r.find(be => be._id === ee), oe = P[ee]; if (!te) return; const fe = Array(130).fill(null); fe[128] = oe, oe === "Done" ? fe[126] = te.actual ? pe(te.actual) : le() : fe[126] = ""; const ue = { action: "update", sheetName: ba.SOURCE_SHEET_NAME, rowIndex: te._rowIndex, rowData: JSON.stringify(fe) }; return (await fetch(ba.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(ue).toString() })).json() }); if ((await Promise.all(Y)).filter(ee => !ee.success).length > 0) throw new Error("Some updates failed"); O(`Successfully updated ${q.length} subsidy disbursal record(s)`); const z = q.map(ee => { const te = t.find(fe => fe._id === ee) || r.find(fe => fe._id === ee), oe = P[ee]; return te ? { ...te, subsidyDisbursal: oe, actual: oe === "Done" ? te.actual ? pe(te.actual) : le() : "" } : null }).filter(Boolean), $ = z.filter(ee => ee.subsidyDisbursal === "Done"), K = z.filter(ee => ee.subsidyDisbursal !== "Done"); e(ee => [...ee.filter(oe => !q.includes(oe._id)), ...K]), n(ee => [...ee.filter(oe => !q.includes(oe._id)), ...$]), F({}), W({}), setTimeout(() => { O("") }, 3e3) } catch (Y) { console.error("Error updating subsidy disbursal:", Y), alert("Failed to update subsidy disbursal: " + Y.message) } finally { S(!1) } }, E = b.useCallback(q => { v(q === "history"), u(""), F({}), W({}) }, []); return a.jsxs(ar, { children: [a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: ba.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending records...", value: c, onChange: q => u(q.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => E("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending (", ce.length, ")"] }) }), a.jsx("button", { onClick: () => E("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "History (", ne.length, ")"] }) })] }), w && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), w] }), a.jsx("button", { onClick: () => O(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), Object.values(k).some(Boolean) && a.jsx("div", { className: "bg-blue-50 border border-blue-200 p-4 rounded-md", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("span", { className: "text-blue-700 text-sm", children: [Object.values(k).filter(Boolean).length, " record(s) selected"] }), a.jsx("button", { onClick: X, disabled: j, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: j ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Submit"] }) })] }) }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Subsidy Disbursal"] }) : a.jsxs(a.Fragment, { children: [a.jsx(Kr, { className: "h-4 w-4 mr-2" }), "Pending Subsidy Disbursal"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? ba.PAGE_CONFIG.historyDescription : ba.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading subsidy disbursal data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Power Purchase Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Vendor Consumer Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Application Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Electricity Bill" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Witness Id Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inspection" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Project Commission" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? ne.length > 0 ? ne.map(q => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[q._id] || !1, onChange: T => L(q._id, T.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[q._id] || q.subsidyDisbursal || "Select", onChange: T => I(q._id, T.target.value), disabled: !k[q._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((T, Y) => a.jsx("option", { value: T, children: T }, Y))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: q.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), q.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: q.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), q.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), q.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: q.powerPurchaseAgreement ? a.jsxs("a", { href: q.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: q.vendorConsumerAgreement ? a.jsxs("a", { href: q.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.witnessIdProof || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: me(q.inspection) }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.projectCommission || "" }) })] }, q._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 15, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No history records matching your search" : "No completed subsidy disbursal found" }) }) : ce.length > 0 ? ce.map(q => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[q._id] || !1, onChange: T => L(q._id, T.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[q._id] || q.subsidyDisbursal || "Select", onChange: T => I(q._id, T.target.value), disabled: !k[q._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((T, Y) => a.jsx("option", { value: T, children: T }, Y))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: q.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), q.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: q.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), q.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), q.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: q.powerPurchaseAgreement ? a.jsxs("a", { href: q.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: q.vendorConsumerAgreement ? a.jsxs("a", { href: q.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.witnessIdProof || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: me(q.inspection) }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: q.projectCommission || "" }) })] }, q._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 16, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending subsidy disbursal matching your search" : "No pending subsidy disbursal found" }) }) })] }) })] })] }), J && a.jsx("div", { className: "fixed inset-0 z-50 overflow-y-auto", "aria-labelledby": "modal-title", role: "dialog", "aria-modal": "true", children: a.jsxs("div", { className: "flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0", children: [a.jsx("div", { className: "fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity", "aria-hidden": "true" }), a.jsx("span", { className: "hidden sm:inline-block sm:align-middle sm:h-screen", "aria-hidden": "true", children: "" }), a.jsxs("div", { className: "inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full", children: [a.jsx("div", { className: "bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4", children: a.jsxs("div", { className: "sm:flex sm:items-start", children: [a.jsx("div", { className: "mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10", children: a.jsx(Kr, { className: "h-6 w-6 text-blue-600" }) }), a.jsxs("div", { className: "mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full", children: [a.jsx("h3", { className: "text-lg leading-6 font-medium text-gray-900", id: "modal-title", children: "Edit Subsidy Disbursal" }), a.jsx("div", { className: "mt-4", children: a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Subsidy Disbursal Status" }), a.jsxs("select", { value: ie.subsidyDisbursal, onChange: q => se({ ...ie, subsidyDisbursal: q.target.value }), className: "mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md", children: [a.jsx("option", { value: "", children: "Select Status" }), s.map((q, T) => a.jsx("option", { value: q, children: q }, T))] })] }) })] })] }) }), a.jsxs("div", { className: "bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse", children: [a.jsx("button", { type: "button", onClick: _, disabled: j, className: "w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50", children: j ? "Saving..." : "Save Changes" }), a.jsx("button", { type: "button", onClick: () => Q(!1), className: "mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm", children: "Cancel" })] })] })] }) })] }) } const va = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", PAGE_CONFIG: { title: "Payment", historyTitle: "Payment History", description: "Manage pending payment records", historyDescription: "View completed payment records" } }; function Hre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Vre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(""), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState({}), [P, W] = b.useState({}), [J, Q] = b.useState({}), [V, ae] = b.useState(!1), [ie, se] = b.useState(null), [U, le] = b.useState({ payment: "", checkNo: "", date: "", amount: "", deduction: "" }), de = Hre(c, 300), me = b.useCallback(() => { const A = new Date, z = A.getDate().toString().padStart(2, "0"), $ = (A.getMonth() + 1).toString().padStart(2, "0"), K = A.getFullYear(), ee = A.getHours().toString().padStart(2, "0"), te = A.getMinutes().toString().padStart(2, "0"), oe = A.getSeconds().toString().padStart(2, "0"); return `${z}/${$}/${K} ${ee}:${te}:${oe}` }, []), pe = b.useCallback(A => { if (!A) return ""; if (A.includes("/")) { const [z, $, K] = A.split("/"); return `${K}-${$.padStart(2, "0")}-${z.padStart(2, "0")}` } return A }, []), M = b.useCallback(A => A == null || typeof A == "string" && A.trim() === "", []), Z = b.useCallback(A => { if (!A) return ""; if (typeof A == "string" && A.match(/^\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}$/)) return A; const z = new Date(A); if (isNaN(z.getTime())) return A; const $ = z.getDate().toString().padStart(2, "0"), K = (z.getMonth() + 1).toString().padStart(2, "0"), ee = z.getFullYear(), te = z.getHours().toString().padStart(2, "0"), oe = z.getMinutes().toString().padStart(2, "0"), fe = z.getSeconds().toString().padStart(2, "0"); return `${$}/${K}/${ee} ${te}:${oe}:${fe}` }, []), ce = b.useCallback(A => { if (!A) return ""; if (typeof A == "string" && A.match(/^\d{2}\/\d{2}\/\d{4}$/)) return A; try { const z = new Date(A); if (isNaN(z.getTime()) || z.getFullYear() === 1970) return ""; const $ = z.getDate().toString().padStart(2, "0"), K = (z.getMonth() + 1).toString().padStart(2, "0"), ee = z.getFullYear(); return `${$}/${K}/${ee}` } catch { return A } }, []); b.useEffect(() => { const A = sessionStorage.getItem("role"), z = sessionStorage.getItem("username"); R(A || ""), C(z || "") }, []); const ne = b.useCallback(async () => { try { const A = await fetch(`${va.APPS_SCRIPT_URL}?sheet=${va.DROPDOWN_SHEET_NAME}&action=fetch`); if (!A.ok) throw new Error(`Failed to fetch dropdown data: ${A.status}`); const z = await A.text(); let $; try { $ = JSON.parse(z) } catch { const oe = z.indexOf("{"), fe = z.lastIndexOf("}"); if (oe !== -1 && fe !== -1) { const ue = z.substring(oe, fe + 1); $ = JSON.parse(ue) } else throw new Error("Invalid JSON response from server") } let K = []; $.table && $.table.rows ? K = $.table.rows : Array.isArray($) ? K = $ : $.values && (K = $.values.map(te => ({ c: te.map(oe => ({ v: oe })) }))); const ee = []; K.forEach((te, oe) => { if (oe >= 1) { let fe = []; te.c ? fe = te.c.map(ye => ye && ye.v !== void 0 ? ye.v : "") : Array.isArray(te) && (fe = te); const ue = fe[7]; M(ue) || ee.push(ue.toString()) } }), o(ee) } catch (A) { console.error("Error fetching dropdown options:", A), o([]) } }, [M]), L = b.useCallback(async () => { try { h(!0), x(null), await ne(); const A = await fetch(`${va.APPS_SCRIPT_URL}?sheet=${va.SOURCE_SHEET_NAME}&action=fetch`); if (!A.ok) throw new Error(`Failed to fetch data: ${A.status}`); const z = await A.text(); let $; try { $ = JSON.parse(z) } catch { const fe = z.indexOf("{"), ue = z.lastIndexOf("}"); if (fe !== -1 && ue !== -1) { const ye = z.substring(fe, ue + 1); $ = JSON.parse(ye) } else throw new Error("Invalid JSON response from server") } const K = [], ee = []; let te = []; $.table && $.table.rows ? te = $.table.rows : Array.isArray($) ? te = $ : $.values && (te = $.values.map(oe => ({ c: oe.map(fe => ({ v: fe })) }))), te.forEach((oe, fe) => { if (fe < 6) return; let ue = []; if (oe.c) ue = oe.c.map(nt => nt && nt.v !== void 0 ? nt.v : ""); else if (Array.isArray(oe)) ue = oe; else return; const ye = ue[1] || "", be = ue[130]; if (!!M(ye)) return; const $e = fe + 1, Ue = { _id: ye ? `enquiry_${ye}_${$e}` : `row_${$e}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: $e, _enquiryNumber: ye, enquiryNumber: ue[1] || "", beneficiaryName: ue[2] || "", address: ue[3] || "", contactNumber: ue[6] || "", surveyorName: ue[29] || "", powerPurchaseAgreement: ue[100] || "", vendorConsumerAgreement: ue[101] || "", quotationCopy: ue[102] || "", applicationCopy: ue[103] || "", cancellationCheque: ue[107] || "", electricityBill: ue[109] || "", witnessIdProof: ue[110] || "", inspection: ue[114] || "", projectCommission: ue[118] || "", subsidyToken: ue[121] || "", subsidyDisbursal: ue[128] || "", payment: ue[129] || "", checkNo: ue[133] || "", date: ue[134] || "", amount: ue[135] || "", deduction: ue[136] || "", actual: Z(ue[130] || "") }; M(be) ? K.push(Ue) : ee.push(Ue) }), e(K), n(ee), h(!1) } catch (A) { console.error("Error fetching sheet data:", A), x("Failed to load Payment data: " + A.message), h(!1) } }, [M, ne]); b.useEffect(() => { L() }, [L]), b.useEffect(() => { const A = {}, z = {};[...t, ...r].forEach(K => { K.payment && K.payment !== "" && (A[K._id] = K.payment), z[K._id] = { checkNo: K.checkNo || "", date: K.date ? pe(K.date) : "", amount: K.amount || "", deduction: K.deduction || "" } }), W(A), Q(z) }, [t, r, pe]); const I = b.useMemo(() => de ? t.filter(A => Object.values(A).some(z => z && z.toString().toLowerCase().includes(de.toLowerCase()))) : t, [t, de]), _ = b.useMemo(() => de ? r.filter(A => Object.values(A).some(z => z && z.toString().toLowerCase().includes(de.toLowerCase()))) : r, [r, de]), X = b.useCallback((A, z) => { F($ => ({ ...$, [A]: z })) }, []), E = b.useCallback((A, z) => { W($ => ({ ...$, [A]: z })) }, []), q = b.useCallback((A, z, $) => { Q(K => ({ ...K, [A]: { ...K[A], [z]: $ } })) }, []); b.useCallback(A => { se(A), le({ payment: A.payment || "", checkNo: A.checkNo || "", date: pe(A.date || ""), amount: A.amount || "", deduction: A.deduction || "" }), ae(!0) }, [pe]); const T = async () => { if (!U.payment) { alert("Please select Payment Status"); return } if (U.payment === "Done" && (!U.checkNo || !U.date || !U.amount)) { alert("Please fill in Check No, Date, and Amount"); return } S(!0); try { const A = ie.actual && ie.actual !== "", z = A && ie.actual ? ie.actual : me(), $ = Array(140).fill(null); if ($[132] = U.payment, U.payment === "Done") { $[130] = ie.actual ? Z(ie.actual) : me(), $[133] = U.checkNo; const te = new Date(U.date), oe = te.getDate().toString().padStart(2, "0"), fe = (te.getMonth() + 1).toString().padStart(2, "0"), ue = te.getFullYear(); $[134] = `${oe}/${fe}/${ue}`, $[135] = U.amount, $[136] = U.deduction } else $[130] = "", $[133] = "", $[134] = "", $[135] = "", $[136] = ""; const K = { action: "update", sheetName: va.SOURCE_SHEET_NAME, rowIndex: ie._rowIndex, rowData: JSON.stringify($) }; await fetch(va.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(K).toString() }); const ee = { ...ie, payment: U.payment, actual: U.payment === "Done" ? ie.actual ? Z(ie.actual) : me() : "", checkNo: U.payment === "Done" ? U.checkNo : "", date: U.payment === "Done" ? `${new Date(U.date).getDate().toString().padStart(2, "0")}/${(new Date(U.date).getMonth() + 1).toString().padStart(2, "0")}/${new Date(U.date).getFullYear()}` : "", amount: U.payment === "Done" ? U.amount : "", deduction: U.payment === "Done" ? U.deduction : "" }; A ? n(te => te.map(oe => oe._id === ie._id ? ee : oe)) : (e(te => te.filter(oe => oe._id !== ie._id)), n(te => [ee, ...te])), ae(!1), O("Payment updated successfully"), setTimeout(() => { O("") }, 3e3) } catch (A) { console.error("Error updating payment:", A), alert("Failed to update payment: " + A.message) } finally { S(!1) } }, Y = async () => { const A = Object.keys(k).filter(ee => k[ee]); if (A.length === 0) { alert("Please select at least one record to submit"); return } if (A.filter(ee => !P[ee] || P[ee] === "Select").length > 0) { alert("Please select status for all selected records"); return } if (A.filter(ee => P[ee] === "Done").filter(ee => { const te = J[ee] || {}; return !te.checkNo || !te.date || !te.amount }).length > 0) { alert("Please fill in Check No, Date, and Amount for all records with 'Done' status"); return } S(!0); try { const ee = A.map(async be => { const Pe = t.find(Kt => Kt._id === be) || r.find(Kt => Kt._id === be), $e = P[be], Fe = J[be] || {}; if (!Pe) return; const Ue = Array(140).fill(null); if (Ue[132] = $e, $e === "Done") { Ue[130] = Pe.actual ? Z(Pe.actual) : me(), Ue[133] = Fe.checkNo || ""; let Kt = ""; if (Fe.date) { const ft = new Date(Fe.date), Fr = ft.getDate().toString().padStart(2, "0"), jt = (ft.getMonth() + 1).toString().padStart(2, "0"), yr = ft.getFullYear(); Kt = `${Fr}/${jt}/${yr}` } Ue[134] = Kt, Ue[135] = Fe.amount || "", Ue[136] = Fe.deduction || "" } else Ue[130] = "", Ue[133] = "", Ue[134] = "", Ue[135] = "", Ue[136] = ""; const Ze = { action: "update", sheetName: va.SOURCE_SHEET_NAME, rowIndex: Pe._rowIndex, rowData: JSON.stringify(Ue) }; return (await fetch(va.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(Ze).toString() })).json() }); if ((await Promise.all(ee)).filter(be => !be.success).length > 0) throw new Error("Some updates failed"); O(`Successfully updated ${A.length} payment record(s)`); const fe = A.map(be => { const Pe = t.find(Ze => Ze._id === be) || r.find(Ze => Ze._id === be), $e = P[be], Fe = J[be] || {}; if (!Pe) return null; let Ue = ""; if ($e === "Done" && Fe.date) { const Ze = new Date(Fe.date), nt = Ze.getDate().toString().padStart(2, "0"), Kt = (Ze.getMonth() + 1).toString().padStart(2, "0"), ft = Ze.getFullYear(); Ue = `${nt}/${Kt}/${ft}` } return { ...Pe, payment: $e, actual: $e === "Done" ? Pe.actual ? Z(Pe.actual) : me() : "", checkNo: $e === "Done" ? Fe.checkNo : "", date: Ue, amount: $e === "Done" ? Fe.amount : "", deduction: $e === "Done" ? Fe.deduction : "" } }).filter(Boolean), ue = fe.filter(be => be.payment === "Done"), ye = fe.filter(be => be.payment !== "Done"); e(be => [...be.filter($e => !A.includes($e._id)), ...ye]), n(be => [...be.filter($e => !A.includes($e._id)), ...ue]), F({}), W({}), Q({}), setTimeout(() => { O("") }, 3e3) } catch (ee) { console.error("Error updating payment:", ee), alert("Failed to update payment: " + ee.message) } finally { S(!1) } }, G = b.useCallback(A => { v(A === "history"), u(""), F({}), W({}), Q({}) }, []); return a.jsxs(ar, { children: [a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: va.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending records...", value: c, onChange: A => u(A.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => G("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(_i, { className: "h-4 w-4 mr-2" }), "Pending Payment (", I.length, ")"] }) }), a.jsx("button", { onClick: () => G("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Payment History (", _.length, ")"] }) })] }), w && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), w] }), a.jsx("button", { onClick: () => O(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), Object.values(k).some(Boolean) && a.jsx("div", { className: "bg-blue-50 border border-blue-200 p-4 rounded-md", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("span", { className: "text-blue-700 text-sm", children: [Object.values(k).filter(Boolean).length, " record(s) selected"] }), a.jsx("button", { onClick: Y, disabled: j, className: "px-6 py-2 bg-linear-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: j ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Processing Payment..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(_i, { className: "h-4 w-4 mr-2" }), "Submit Payment"] }) })] }) }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-linear-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Payments"] }) : a.jsxs(a.Fragment, { children: [a.jsx(_i, { className: "h-4 w-4 mr-2" }), "Pending Payments"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? va.PAGE_CONFIG.historyDescription : va.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading payment data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Check No" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Date" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Amount" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Deduction" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Surveyor Name" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Power Purchase Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Vendor Consumer Agreement" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Quotation Copy" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Application Copy" }), g && a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Cancellation Cheque" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Electricity Bill" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Witness Id Proof" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Inspection" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Project Commission" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Subsidy Token" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Subsidy Disbursal" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? _.length > 0 ? _.map(A => { var z, $, K, ee; return a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: k[A._id] || !1, onChange: te => X(A._id, te.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: P[A._id] || A.payment || "Select", onChange: te => E(A._id, te.target.value), disabled: !k[A._id], className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((te, oe) => a.jsx("option", { value: te, children: te }, oe))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "text", value: ((z = J[A._id]) == null ? void 0 : z.checkNo) || "", onChange: te => q(A._id, "checkNo", te.target.value), disabled: !k[A._id] || P[A._id] !== "Done", placeholder: "Check No", className: "text-xs border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed w-20" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "date", value: (($ = J[A._id]) == null ? void 0 : $.date) || "", onChange: te => q(A._id, "date", te.target.value), disabled: !k[A._id] || P[A._id] !== "Done", className: "text-xs border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed w-28" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "number", value: ((K = J[A._id]) == null ? void 0 : K.amount) || "", onChange: te => q(A._id, "amount", te.target.value), disabled: !k[A._id] || P[A._id] !== "Done", placeholder: "Amount", className: "text-xs border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed w-20" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "number", value: ((ee = J[A._id]) == null ? void 0 : ee.deduction) || "", onChange: te => q(A._id, "deduction", te.target.value), disabled: !k[A._id] || P[A._id] !== "Done", placeholder: "Deduction", className: "text-xs border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed w-20" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: A.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), A.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: A.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), A.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), A.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: A.powerPurchaseAgreement ? a.jsxs("a", { href: A.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: A.vendorConsumerAgreement ? a.jsxs("a", { href: A.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.cancellationCheque || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.witnessIdProof || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ce(A.inspection) }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.projectCommission || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: Z(A.subsidyToken) }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: Z(A.subsidyDisbursal) }) })] }, A._id) }) : a.jsx("tr", { children: a.jsx("td", { colSpan: 22, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No payment history records matching your search" : "No completed payments found" }) }) : I.length > 0 ? I.map(A => { const z = k[A._id] || !1, $ = P[A._id] || A.payment || "Select", K = $ === "Done", ee = J[A._id] || {}; return a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "checkbox", checked: z, onChange: te => X(A._id, te.target.checked), className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("select", { value: $, onChange: te => E(A._id, te.target.value), disabled: !z, className: "text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed", children: [a.jsx("option", { value: "Select", children: "Select" }), s.map((te, oe) => a.jsx("option", { value: te, children: te }, oe))] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "text", value: ee.checkNo || "", onChange: te => q(A._id, "checkNo", te.target.value), disabled: !z || !K, placeholder: "Check No", className: "text-xs border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed w-20" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "date", value: ee.date || "", onChange: te => q(A._id, "date", te.target.value), disabled: !z || !K, className: "text-xs border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed w-28" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "number", value: ee.amount || "", onChange: te => q(A._id, "amount", te.target.value), disabled: !z || !K, placeholder: "Amount", className: "text-xs border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed w-20" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("input", { type: "number", value: ee.deduction || "", onChange: te => q(A._id, "deduction", te.target.value), disabled: !z || !K, placeholder: "Deduction", className: "text-xs border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed w-20" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: A.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), A.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: A.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), A.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), A.contactNumber || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.surveyorName || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: A.powerPurchaseAgreement ? a.jsxs("a", { href: A.powerPurchaseAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: A.vendorConsumerAgreement ? a.jsxs("a", { href: A.vendorConsumerAgreement, target: "_blank", rel: "noopener noreferrer", className: "text-blue-600 hover:text-blue-800 flex items-center text-xs", children: [a.jsx(ke, { className: "h-3 w-3 mr-1" }), "View"] }) : a.jsx("span", { className: "text-gray-400 text-xs", children: "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.quotationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.applicationCopy || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.electricityBill || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.witnessIdProof || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: ce(A.inspection) }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: A.projectCommission || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: Z(A.subsidyToken) }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: Z(A.subsidyDisbursal) }) })] }, A._id) }) : a.jsx("tr", { children: a.jsx("td", { colSpan: 21, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending payments matching your search" : "No pending payments found" }) }) })] }) })] })] }), V && a.jsx("div", { className: "fixed inset-0 z-50 overflow-y-auto", "aria-labelledby": "modal-title", role: "dialog", "aria-modal": "true", children: a.jsxs("div", { className: "flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0", children: [a.jsx("div", { className: "fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity", "aria-hidden": "true" }), a.jsx("span", { className: "hidden sm:inline-block sm:align-middle sm:h-screen", "aria-hidden": "true", children: "" }), a.jsxs("div", { className: "inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full", children: [a.jsx("div", { className: "bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4", children: a.jsxs("div", { className: "sm:flex sm:items-start", children: [a.jsx("div", { className: "mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10", children: a.jsx(_i, { className: "h-6 w-6 text-blue-600" }) }), a.jsxs("div", { className: "mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full", children: [a.jsx("h3", { className: "text-lg leading-6 font-medium text-gray-900", id: "modal-title", children: "Edit Payment" }), a.jsxs("div", { className: "mt-4 space-y-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Payment Status" }), a.jsxs("select", { value: U.payment, onChange: A => le({ ...U, payment: A.target.value }), className: "mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md", children: [a.jsx("option", { value: "", children: "Select Status" }), s.map((A, z) => a.jsx("option", { value: A, children: A }, z))] })] }), U.payment === "Done" && a.jsxs(a.Fragment, { children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Check No" }), a.jsx("input", { type: "text", value: U.checkNo, onChange: A => le({ ...U, checkNo: A.target.value }), className: "mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Date" }), a.jsx("input", { type: "date", value: U.date, onChange: A => le({ ...U, date: A.target.value }), className: "mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Amount" }), a.jsx("input", { type: "text", value: U.amount, onChange: A => le({ ...U, amount: A.target.value }), className: "mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Deduction" }), a.jsx("input", { type: "text", value: U.deduction, onChange: A => le({ ...U, deduction: A.target.value }), className: "mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" })] })] })] })] })] }) }), a.jsxs("div", { className: "bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse", children: [a.jsx("button", { type: "button", onClick: T, disabled: j, className: "w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50", children: j ? "Saving..." : "Save Changes" }), a.jsx("button", { type: "button", onClick: () => ae(!1), className: "mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm", children: "Cancel" })] })] })] }) })] }) } const kn = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", DRIVE_FOLDER_ID: "1Kp9eEqtQfesdie6l7XEuTZne6Md8_P8qzKfGFcHhpL4", SOURCE_SHEET_NAME: "FMS", DROPDOWN_SHEET_NAME: "Drop-Down Value", ENERGY_ANALYSIS_SHEET_NAME: "Energy analysis", PAGE_CONFIG: { title: "Energy Analysis", historyTitle: "Energy Analysis History", description: "Manage pending Energy Analysis records", historyDescription: "View completed Energy Analysis records" } }, Yre = t => { if (!t) return ""; try { const e = new Date(t); if (isNaN(e.getTime())) return t; const r = e.getDate().toString().padStart(2, "0"), n = (e.getMonth() + 1).toString().padStart(2, "0"), s = e.getFullYear(); return `${r}/${n}/${s}` } catch (e) { return console.error("Error formatting date:", e), t } }; function Gre(t, e) { const [r, n] = b.useState(t); return b.useEffect(() => { const s = setTimeout(() => { n(t) }, e); return () => { clearTimeout(s) } }, [t, e]), r } function Kre({ isOpen: t, onClose: e, record: r, onSubmit: n, isSubmitting: s }) { const [o, c] = b.useState({ energyDate: new Date().toISOString().split("T")[0], production: "" }); b.useEffect(() => { t && r && c({ energyDate: new Date().toISOString().split("T")[0], production: "" }) }, [t, r]); const u = h => { if (h.preventDefault(), !o.production.trim()) { alert("Please enter production value"); return } n(o) }, f = (h, p) => { c(x => ({ ...x, [h]: p })) }; return !t || !r ? null : a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: a.jsxs("div", { className: "bg-white rounded-lg p-6 w-full max-w-md mx-4", children: [a.jsxs("div", { className: "flex justify-between items-center mb-4", children: [a.jsx("h3", { className: "text-lg font-semibold text-gray-900", children: "Energy Analysis Entry" }), a.jsx("button", { onClick: e, className: "text-gray-400 hover:text-gray-600", disabled: s, children: a.jsx(Pt, { className: "h-5 w-5" }) })] }), a.jsxs("form", { onSubmit: u, className: "space-y-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Enquiry Number" }), a.jsx("input", { type: "text", value: r.enquiryNumber || "", disabled: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Beneficiary Name" }), a.jsx("input", { type: "text", value: r.beneficiaryName || "", disabled: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: [a.jsx(na, { className: "inline h-4 w-4 mr-1" }), "Energy Date"] }), a.jsx("input", { type: "date", value: o.energyDate, onChange: h => f("energyDate", h.target.value), required: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), a.jsxs("div", { children: [a.jsxs("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: [a.jsx($s, { className: "inline h-4 w-4 mr-1" }), "Production"] }), a.jsx("input", { type: "number", value: o.production, onChange: h => f("production", h.target.value), placeholder: "Enter production value", required: !0, className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), a.jsxs("div", { className: "flex space-x-3 pt-4", children: [a.jsx("button", { type: "button", onClick: e, disabled: s, className: "flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50", children: "Cancel" }), a.jsx("button", { type: "submit", disabled: s, className: "flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center", children: s ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Submitting..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(TP, { className: "h-4 w-4 mr-2" }), "Submit Entry"] }) })] })] })] }) }) } function Wre() { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState([]), [c, u] = b.useState(""), [f, h] = b.useState(!0), [p, x] = b.useState(null), [g, v] = b.useState(!1), [j, S] = b.useState(!1), [w, O] = b.useState(""), [D, R] = b.useState(""), [H, C] = b.useState(""), [k, F] = b.useState({}), [P, W] = b.useState({}), [J, Q] = b.useState({}), [V, ae] = b.useState(!1), [ie, se] = b.useState(null), [U, le] = b.useState(!1), [de, me] = b.useState(""), [pe, M] = b.useState(""), Z = Gre(c, 300), ce = b.useCallback(() => { const $ = new Date, K = $.getDate().toString().padStart(2, "0"), ee = ($.getMonth() + 1).toString().padStart(2, "0"), te = $.getFullYear(), oe = $.getHours().toString().padStart(2, "0"), fe = $.getMinutes().toString().padStart(2, "0"), ue = $.getSeconds().toString().padStart(2, "0"); return `${K}/${ee}/${te} ${oe}:${fe}:${ue}` }, []), ne = b.useCallback($ => $ == null || typeof $ == "string" && $.trim() === "", []); b.useEffect(() => { const $ = sessionStorage.getItem("role"), K = sessionStorage.getItem("username"); R($ || ""), C(K || "") }, []); const L = $ => { se($), ae(!0) }, I = () => { ae(!1), se(null) }, _ = async $ => { le(!0); try { const K = ce(), ee = $.energyDate ? new Date($.energyDate).toLocaleDateString("en-GB") : "", te = [K, ie.enquiryNumber || "", ie.beneficiaryName || "", ee, $.production ? `${$.production} KWh` : ""], oe = { action: "insert", sheetName: kn.ENERGY_ANALYSIS_SHEET_NAME, rowData: JSON.stringify(te) }, ue = await (await fetch(kn.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(oe).toString() })).json(); if (!ue.success) throw new Error(ue.error || "Failed to submit energy analysis"); O(`Energy analysis entry submitted successfully for ${ie.enquiryNumber}`), I(), setTimeout(() => { O("") }, 3e3) } catch (K) { console.error("Error submitting energy analysis:", K), alert("Failed to submit energy analysis: " + K.message) } finally { le(!1) } }, X = b.useCallback(async () => { try { const $ = await fetch(`${kn.APPS_SCRIPT_URL}?sheet=${kn.DROPDOWN_SHEET_NAME}&action=fetch`); if (!$.ok) throw new Error(`Failed to fetch dropdown data: ${$.status}`); const K = await $.text(); let ee; try { ee = JSON.parse(K) } catch { const ue = K.indexOf("{"), ye = K.lastIndexOf("}"); if (ue !== -1 && ye !== -1) { const be = K.substring(ue, ye + 1); ee = JSON.parse(be) } else throw new Error("Invalid JSON response from server") } let te = []; ee.table && ee.table.rows ? te = ee.table.rows : Array.isArray(ee) ? te = ee : ee.values && (te = ee.values.map(fe => ({ c: fe.map(ue => ({ v: ue })) }))); const oe = []; te.forEach((fe, ue) => { if (ue >= 1) { let ye = []; fe.c ? ye = fe.c.map(Pe => Pe && Pe.v !== void 0 ? Pe.v : "") : Array.isArray(fe) && (ye = fe); const be = ye[7]; ne(be) || oe.push(be.toString()) } }), o(oe) } catch ($) { console.error("Error fetching dropdown options:", $), o([]) } }, [ne]), E = b.useCallback(async () => { try { const $ = await fetch(`${kn.APPS_SCRIPT_URL}?sheet=${kn.ENERGY_ANALYSIS_SHEET_NAME}&action=fetch`); if (!$.ok) throw new Error(`Failed to fetch energy analysis data: ${$.status}`); const K = await $.text(); let ee; try { ee = JSON.parse(K) } catch { const ue = K.indexOf("{"), ye = K.lastIndexOf("}"); if (ue !== -1 && ye !== -1) { const be = K.substring(ue, ye + 1); ee = JSON.parse(be) } else throw new Error("Invalid JSON response from server") } const te = []; let oe = []; return ee.table && ee.table.rows ? oe = ee.table.rows : Array.isArray(ee) ? oe = ee : ee.values && (oe = ee.values.map(fe => ({ c: fe.map(ue => ({ v: ue })) }))), oe.forEach((fe, ue) => { if (ue === 0) return; let ye = []; if (fe.c) ye = fe.c.map(Pe => Pe && Pe.v !== void 0 ? Pe.v : ""); else if (Array.isArray(fe)) ye = fe; else return; const be = { timestamp: ye[0] || "", enquiryNumber: ye[1] || "", beneficiaryName: ye[2] || "", energyDate: ye[3] || "", production: ye[4] || "" }; te.push(be) }), te } catch ($) { throw console.error("Error fetching energy analysis data:", $), $ } }, []), q = b.useCallback(async () => { try { h(!0), x(null), await X(); const $ = await fetch(`${kn.APPS_SCRIPT_URL}?sheet=${kn.SOURCE_SHEET_NAME}&action=fetch`); if (!$.ok) throw new Error(`Failed to fetch data: ${$.status}`); const K = await $.text(); let ee; try { ee = JSON.parse(K) } catch { const ue = K.indexOf("{"), ye = K.lastIndexOf("}"); if (ue !== -1 && ye !== -1) { const be = K.substring(ue, ye + 1); ee = JSON.parse(be) } else throw new Error("Invalid JSON response from server") } const te = []; let oe = []; ee.table && ee.table.rows ? oe = ee.table.rows : Array.isArray(ee) ? oe = ee : ee.values && (oe = ee.values.map(fe => ({ c: fe.map(ue => ({ v: ue })) }))), oe.forEach((fe, ue) => { if (ue < 6) return; let ye = []; if (fe.c) ye = fe.c.map(ft => ft && ft.v !== void 0 ? ft.v : ""); else if (Array.isArray(fe)) ye = fe; else return; const be = ye[145], Pe = ye[146]; if (!!ne(be)) return; const Fe = ue + 1, Ue = ye[1] || "", nt = { _id: Ue ? `enquiry_${Ue}_${Fe}` : `row_${Fe}_${Math.random().toString(36).substring(2, 15)}`, _rowIndex: Fe, _enquiryNumber: Ue, enquiryNumber: ye[1] || "", beneficiaryName: ye[2] || "", address: ye[3] || "", contactNumber: ye[6] || "", surveyorName: ye[29] || "", powerPurchaseAgreement: ye[100] || "", vendorConsumerAgreement: ye[101] || "", quotationCopy: ye[102] || "", applicationCopy: ye[103] || "", cancellationCheque: ye[107] || "", electricityBill: ye[109] || "", witnessIdProof: ye[110] || "", inspection: ye[114] || "", projectCommission: ye[118] || "", subsidyToken: ye[121] || "", subsidyDisbursal: ye[128] || "", payment: ye[129] || "", checkNo: ye[133] || "", date: ye[134] || "", amount: ye[135] || "", deduction: ye[136] || "", actual: ye[130] || "" }; ne(Pe) && te.push(nt) }), e(te), h(!1) } catch ($) { console.error("Error fetching sheet data:", $), x("Failed to load Energy Analysis data: " + $.message), h(!1) } }, [ne, X]); b.useEffect(() => { q() }, [q]), b.useEffect(() => { const $ = {}, K = {}; t.forEach(ee => { ee.payment && ee.payment !== "" && ($[ee._id] = ee.payment), K[ee._id] = { checkNo: ee.checkNo || "", date: ee.date || "", amount: ee.amount || "", deduction: ee.deduction || "" } }), W($), Q(K) }, [t]), b.useEffect(() => { g ? (async () => { try { h(!0); const K = await E(); n(K), h(!1) } catch (K) { x("Failed to load Energy Analysis history data: " + K.message), h(!1) } })() : n([]) }, [g, E]), b.useEffect(() => { pe && r.length > 0 && (console.log("DEBUG: Date filter analysis"), console.log("Filter date:", pe), r.slice(0, 5).forEach(($, K) => { if ($.energyDate) { console.log(`Record ${K + 1}:`, { energyDate: $.energyDate, enquiryNumber: $.enquiryNumber, beneficiaryName: $.beneficiaryName }); try { const ee = $.energyDate.split("/"); let te; ee.length === 3 ? te = new Date(`${ee[2]}-${ee[1]}-${ee[0]}`) : te = new Date($.energyDate), console.log("  Converted date:", te.toDateString()) } catch (ee) { console.log("  Date conversion error:", ee.message) } } })) }, [pe, r]); const T = b.useMemo(() => Z ? t.filter($ => Object.values($).some(K => K && K.toString().toLowerCase().includes(Z.toLowerCase()))) : t, [t, Z]), Y = b.useMemo(() => { let $ = r; return de && ($ = $.filter(K => K.beneficiaryName && K.beneficiaryName.toLowerCase().includes(de.toLowerCase()))), pe && ($ = $.filter(K => { if (!K.energyDate) return !1; try { const ee = new Date(pe); if (isNaN(ee.getTime())) return !1; let te; const oe = K.energyDate.split("/"); return oe.length === 3 ? te = new Date(`${oe[2]}-${oe[1]}-${oe[0]}`) : te = new Date(K.energyDate), isNaN(te.getTime()) ? !1 : ee.toDateString() === te.toDateString() } catch (ee) { return console.error("Error filtering by date:", ee, K.energyDate), !1 } })), Z && ($ = $.filter(K => Object.values(K).some(ee => ee && ee.toString().toLowerCase().includes(Z.toLowerCase())))), $ }, [r, Z, de, pe]); b.useCallback(($, K) => { F(ee => ({ ...ee, [$]: K })) }, []), b.useCallback(($, K) => { W(ee => ({ ...ee, [$]: K })) }, []), b.useCallback(($, K, ee) => { Q(te => ({ ...te, [$]: { ...te[$], [K]: ee } })) }, []); const G = () => { me(""), M("") }, A = async () => { const $ = Object.keys(k).filter(oe => k[oe]); if ($.length === 0) { alert("Please select at least one record to submit"); return } if ($.filter(oe => !P[oe] || P[oe] === "Select").length > 0) { alert("Please select status for all selected records"); return } if ($.filter(oe => P[oe] === "Done").filter(oe => { const fe = J[oe] || {}; return !fe.checkNo || !fe.date || !fe.amount }).length > 0) { alert("Please fill in Check No, Date, and Amount for all records with 'Done' status"); return } S(!0); try { const oe = $.map(async Pe => { const $e = t.find(ft => ft._id === Pe), Fe = P[Pe], Ue = J[Pe] || {}; if (!$e) return; const Ze = Array(141).fill(null); Ze[132] = Fe, Fe === "Done" && (Ze[130] = ce(), Ze[133] = Ue.checkNo || "", Ze[134] = Ue.date || "", Ze[135] = Ue.amount || "", Ze[136] = Ue.deduction || ""); const nt = { action: "update", sheetName: kn.SOURCE_SHEET_NAME, rowIndex: $e._rowIndex, rowData: JSON.stringify(Ze) }; return (await fetch(kn.APPS_SCRIPT_URL, { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, body: new URLSearchParams(nt).toString() })).json() }); if ((await Promise.all(oe)).filter(Pe => !Pe.success).length > 0) throw new Error("Some updates failed"); O(`Successfully updated ${$.length} Energy Analysis record(s)`); const ye = $.map(Pe => { const $e = t.find(Ze => Ze._id === Pe), Fe = P[Pe], Ue = J[Pe] || {}; return { ...$e, payment: Fe, actual: Fe === "Done" ? ce() : $e.actual, checkNo: Fe === "Done" ? Ue.checkNo : $e.checkNo, date: Fe === "Done" ? Ue.date : $e.date, amount: Fe === "Done" ? Ue.amount : $e.amount, deduction: Fe === "Done" ? Ue.deduction : $e.deduction } }), be = ye.filter(Pe => Pe.payment === "Done"); e(Pe => Pe.map($e => { const Fe = ye.find(Ue => Ue._id === $e._id); return Fe ? Fe.payment !== "Done" ? Fe : null : $e }).filter($e => $e !== null)), be.length > 0 && n(Pe => [...be, ...Pe]), F({}), W({}), Q({}), setTimeout(() => { O("") }, 3e3) } catch (oe) { console.error("Error updating payment:", oe), alert("Failed to update payment: " + oe.message) } finally { S(!1) } }, z = b.useCallback($ => { v($ === "history"), u(""), F({}), W({}), Q({}) }, []); return a.jsx(ar, { children: a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "flex flex-col justify-between gap-4 sm:flex-row sm:items-center", children: [a.jsx("h1", { className: "text-xl font-bold tracking-tight text-blue-700", children: kn.PAGE_CONFIG.title }), a.jsx("div", { className: "flex space-x-4", children: a.jsxs("div", { className: "relative", children: [a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: g ? "Search history..." : "Search pending records...", value: c, onChange: $ => u($.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm" })] }) })] }), g && a.jsxs("div", { className: "flex space-x-2", children: [a.jsxs("div", { className: "relative", children: [a.jsx(ir, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "text", placeholder: "Filter by Beneficiary", value: de, onChange: $ => me($.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40" })] }), a.jsxs("div", { className: "relative", children: [a.jsx(na, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", size: 16 }), a.jsx("input", { type: "date", value: pe, onChange: $ => M($.target.value), className: "pl-9 pr-4 py-2 border border-blue-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40" })] })] }), g && (de || pe) && a.jsx("div", { className: "flex justify-end", children: a.jsxs("button", { onClick: G, className: "px-3 py-1 text-xs text-blue-600 hover:text-blue-800 flex items-center", children: [a.jsx(Pt, { className: "h-3 w-3 mr-1" }), "Clear Filters"] }) }), a.jsxs("div", { className: "flex space-x-2 border-b border-gray-200", children: [a.jsx("button", { onClick: () => z("pending"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" : "border-blue-500 text-blue-600 bg-blue-50"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(_i, { className: "h-4 w-4 mr-2" }), "Pending Energy Analysis (", T.length, ")"] }) }), a.jsx("button", { onClick: () => z("history"), className: `px-4 py-2 text-sm font-medium border-b-2 ${g ? "border-blue-500 text-blue-600 bg-blue-50" : "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`, children: a.jsxs("div", { className: "flex items-center", children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Energy Analysis History (", Y.length, ")"] }) })] }), w && a.jsxs("div", { className: "bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-md flex items-center justify-between", children: [a.jsxs("div", { className: "flex items-center", children: [a.jsx(pt, { className: "h-4 w-4 mr-2 text-green-500" }), w] }), a.jsx("button", { onClick: () => O(""), className: "text-green-500 hover:text-green-700", children: a.jsx(Pt, { className: "h-4 w-4" }) })] }), !g && Object.values(k).some(Boolean) && a.jsx("div", { className: "bg-blue-50 border border-blue-200 p-4 rounded-md", children: a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("span", { className: "text-blue-700 text-sm", children: [Object.values(k).filter(Boolean).length, " record(s) selected"] }), a.jsx("button", { onClick: A, disabled: j, className: "px-6 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-md hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center", children: j ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Processing Payment..."] }) : a.jsxs(a.Fragment, { children: [a.jsx(_i, { className: "h-4 w-4 mr-2" }), "Submit Payment"] }) })] }) }), a.jsx(Kre, { isOpen: V, onClose: I, record: ie, onSubmit: _, isSubmitting: U }), a.jsxs("div", { className: "rounded-lg border border-blue-200 shadow-md bg-white overflow-hidden", children: [a.jsxs("div", { className: "bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-3", children: [a.jsx("h2", { className: "text-blue-700 font-medium flex items-center text-sm", children: g ? a.jsxs(a.Fragment, { children: [a.jsx(wt, { className: "h-4 w-4 mr-2" }), "Completed Payments"] }) : a.jsxs(a.Fragment, { children: [a.jsx(_i, { className: "h-4 w-4 mr-2" }), "Pending Energy Analysis"] }) }), a.jsx("p", { className: "text-blue-600 text-xs", children: g ? kn.PAGE_CONFIG.historyDescription : kn.PAGE_CONFIG.description })] }), f ? a.jsxs("div", { className: "text-center py-8", children: [a.jsx("div", { className: "inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mb-4" }), a.jsx("p", { className: "text-blue-600 text-sm", children: "Loading Energy Analysis data..." })] }) : p ? a.jsxs("div", { className: "bg-red-50 p-4 rounded-md text-red-800 text-center text-sm", children: [p, " ", a.jsx("button", { className: "underline ml-2", onClick: () => window.location.reload(), children: "Try again" })] }) : a.jsx("div", { className: "overflow-auto", style: { maxHeight: "60vh" }, children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50 sticky top-0 z-10", children: a.jsxs("tr", { children: [!g && a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Action" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Enquiry Number" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Beneficiary Name" }), g ? a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Energy Date" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Production" })] }) : a.jsxs(a.Fragment, { children: [a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Address" }), a.jsx("th", { className: "px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Contact Number Of Beneficiary" })] })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: g ? Y.length > 0 ? Y.map($ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-gray-900", children: $.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), $.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: Yre($.energyDate) || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs text-gray-900", children: $.production || "" }) })] }, $.enquiryNumber || $._id || Math.random())) : a.jsx("tr", { children: a.jsx("td", { colSpan: 6, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No Energy Analysis history records matching your search" : "No energy analysis records found" }) }) : T.length > 0 ? T.map($ => a.jsxs("tr", { className: "hover:bg-gray-50", children: [a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("button", { onClick: () => L($), className: "px-3 py-1 bg-blue-600 text-white text-xs rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center", children: [a.jsx(TP, { className: "h-3 w-3 mr-1" }), "Add Entry"] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsx("div", { className: "text-xs font-medium text-blue-900", children: $.enquiryNumber || "" }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(ir, { className: "h-3 w-3 mr-1 text-gray-400" }), $.beneficiaryName || ""] }) }), a.jsx("td", { className: "px-2 py-3 max-w-xs", children: a.jsxs("div", { className: "text-xs text-gray-900 truncate flex items-center", title: $.address, children: [a.jsx(gr, { className: "h-3 w-3 mr-1 text-gray-400" }), $.address || ""] }) }), a.jsx("td", { className: "px-2 py-3 whitespace-nowrap", children: a.jsxs("div", { className: "text-xs text-gray-900 flex items-center", children: [a.jsx(or, { className: "h-3 w-3 mr-1 text-gray-400" }), $.contactNumber || ""] }) })] }, $._id)) : a.jsx("tr", { children: a.jsx("td", { colSpan: 5, className: "px-4 py-8 text-center text-gray-500 text-sm", children: c ? "No pending Energy Analysis matching your search" : "No Energy Analysis found" }) }) })] }) })] })] }) }) }/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Qd(t) { return t + .5 | 0 } const ki = (t, e, r) => Math.max(Math.min(t, r), e); function Bu(t) { return ki(Qd(t * 2.55), 0, 255) } function Pi(t) { return ki(Qd(t * 255), 0, 255) } function Os(t) { return ki(Qd(t / 2.55) / 100, 0, 1) } function ZT(t) { return ki(Qd(t * 100), 0, 100) } const Qn = { 0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15 }, pN = [..."0123456789ABCDEF"], Xre = t => pN[t & 15], Jre = t => pN[(t & 240) >> 4] + pN[t & 15], Mh = t => (t & 240) >> 4 === (t & 15), Qre = t => Mh(t.r) && Mh(t.g) && Mh(t.b) && Mh(t.a); function Zre(t) { var e = t.length, r; return t[0] === "#" && (e === 4 || e === 5 ? r = { r: 255 & Qn[t[1]] * 17, g: 255 & Qn[t[2]] * 17, b: 255 & Qn[t[3]] * 17, a: e === 5 ? Qn[t[4]] * 17 : 255 } : (e === 7 || e === 9) && (r = { r: Qn[t[1]] << 4 | Qn[t[2]], g: Qn[t[3]] << 4 | Qn[t[4]], b: Qn[t[5]] << 4 | Qn[t[6]], a: e === 9 ? Qn[t[7]] << 4 | Qn[t[8]] : 255 })), r } const ene = (t, e) => t < 255 ? e(t) : ""; function tne(t) { var e = Qre(t) ? Xre : Jre; return t ? "#" + e(t.r) + e(t.g) + e(t.b) + ene(t.a, e) : void 0 } const rne = /^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/; function l6(t, e, r) { const n = e * Math.min(r, 1 - r), s = (o, c = (o + t / 30) % 12) => r - n * Math.max(Math.min(c - 3, 9 - c, 1), -1); return [s(0), s(8), s(4)] } function nne(t, e, r) { const n = (s, o = (s + t / 60) % 6) => r - r * e * Math.max(Math.min(o, 4 - o, 1), 0); return [n(5), n(3), n(1)] } function ane(t, e, r) { const n = l6(t, 1, .5); let s; for (e + r > 1 && (s = 1 / (e + r), e *= s, r *= s), s = 0; s < 3; s++)n[s] *= 1 - e - r, n[s] += e; return n } function sne(t, e, r, n, s) { return t === s ? (e - r) / n + (e < r ? 6 : 0) : e === s ? (r - t) / n + 2 : (t - e) / n + 4 } function $1(t) { const r = t.r / 255, n = t.g / 255, s = t.b / 255, o = Math.max(r, n, s), c = Math.min(r, n, s), u = (o + c) / 2; let f, h, p; return o !== c && (p = o - c, h = u > .5 ? p / (2 - o - c) : p / (o + c), f = sne(r, n, s, p, o), f = f * 60 + .5), [f | 0, h || 0, u] } function I1(t, e, r, n) { return (Array.isArray(e) ? t(e[0], e[1], e[2]) : t(e, r, n)).map(Pi) } function L1(t, e, r) { return I1(l6, t, e, r) } function ine(t, e, r) { return I1(ane, t, e, r) } function one(t, e, r) { return I1(nne, t, e, r) } function c6(t) { return (t % 360 + 360) % 360 } function lne(t) { const e = rne.exec(t); let r = 255, n; if (!e) return; e[5] !== n && (r = e[6] ? Bu(+e[5]) : Pi(+e[5])); const s = c6(+e[2]), o = +e[3] / 100, c = +e[4] / 100; return e[1] === "hwb" ? n = ine(s, o, c) : e[1] === "hsv" ? n = one(s, o, c) : n = L1(s, o, c), { r: n[0], g: n[1], b: n[2], a: r } } function cne(t, e) { var r = $1(t); r[0] = c6(r[0] + e), r = L1(r), t.r = r[0], t.g = r[1], t.b = r[2] } function une(t) { if (!t) return; const e = $1(t), r = e[0], n = ZT(e[1]), s = ZT(e[2]); return t.a < 255 ? `hsla(${r}, ${n}%, ${s}%, ${Os(t.a)})` : `hsl(${r}, ${n}%, ${s}%)` } const e5 = { x: "dark", Z: "light", Y: "re", X: "blu", W: "gr", V: "medium", U: "slate", A: "ee", T: "ol", S: "or", B: "ra", C: "lateg", D: "ights", R: "in", Q: "turquois", E: "hi", P: "ro", O: "al", N: "le", M: "de", L: "yello", F: "en", K: "ch", G: "arks", H: "ea", I: "ightg", J: "wh" }, t5 = { OiceXe: "f0f8ff", antiquewEte: "faebd7", aqua: "ffff", aquamarRe: "7fffd4", azuY: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "0", blanKedOmond: "ffebcd", Xe: "ff", XeviTet: "8a2be2", bPwn: "a52a2a", burlywood: "deb887", caMtXe: "5f9ea0", KartYuse: "7fff00", KocTate: "d2691e", cSO: "ff7f50", cSnflowerXe: "6495ed", cSnsilk: "fff8dc", crimson: "dc143c", cyan: "ffff", xXe: "8b", xcyan: "8b8b", xgTMnPd: "b8860b", xWay: "a9a9a9", xgYF: "6400", xgYy: "a9a9a9", xkhaki: "bdb76b", xmagFta: "8b008b", xTivegYF: "556b2f", xSange: "ff8c00", xScEd: "9932cc", xYd: "8b0000", xsOmon: "e9967a", xsHgYF: "8fbc8f", xUXe: "483d8b", xUWay: "2f4f4f", xUgYy: "2f4f4f", xQe: "ced1", xviTet: "9400d3", dAppRk: "ff1493", dApskyXe: "bfff", dimWay: "696969", dimgYy: "696969", dodgerXe: "1e90ff", fiYbrick: "b22222", flSOwEte: "fffaf0", foYstWAn: "228b22", fuKsia: "ff00ff", gaRsbSo: "dcdcdc", ghostwEte: "f8f8ff", gTd: "ffd700", gTMnPd: "daa520", Way: "808080", gYF: "8000", gYFLw: "adff2f", gYy: "808080", honeyMw: "f0fff0", hotpRk: "ff69b4", RdianYd: "cd5c5c", Rdigo: "4b0082", ivSy: "fffff0", khaki: "f0e68c", lavFMr: "e6e6fa", lavFMrXsh: "fff0f5", lawngYF: "7cfc00", NmoncEffon: "fffacd", ZXe: "add8e6", ZcSO: "f08080", Zcyan: "e0ffff", ZgTMnPdLw: "fafad2", ZWay: "d3d3d3", ZgYF: "90ee90", ZgYy: "d3d3d3", ZpRk: "ffb6c1", ZsOmon: "ffa07a", ZsHgYF: "20b2aa", ZskyXe: "87cefa", ZUWay: "778899", ZUgYy: "778899", ZstAlXe: "b0c4de", ZLw: "ffffe0", lime: "ff00", limegYF: "32cd32", lRF: "faf0e6", magFta: "ff00ff", maPon: "800000", VaquamarRe: "66cdaa", VXe: "cd", VScEd: "ba55d3", VpurpN: "9370db", VsHgYF: "3cb371", VUXe: "7b68ee", VsprRggYF: "fa9a", VQe: "48d1cc", VviTetYd: "c71585", midnightXe: "191970", mRtcYam: "f5fffa", mistyPse: "ffe4e1", moccasR: "ffe4b5", navajowEte: "ffdead", navy: "80", Tdlace: "fdf5e6", Tive: "808000", TivedBb: "6b8e23", Sange: "ffa500", SangeYd: "ff4500", ScEd: "da70d6", pOegTMnPd: "eee8aa", pOegYF: "98fb98", pOeQe: "afeeee", pOeviTetYd: "db7093", papayawEp: "ffefd5", pHKpuff: "ffdab9", peru: "cd853f", pRk: "ffc0cb", plum: "dda0dd", powMrXe: "b0e0e6", purpN: "800080", YbeccapurpN: "663399", Yd: "ff0000", Psybrown: "bc8f8f", PyOXe: "4169e1", saddNbPwn: "8b4513", sOmon: "fa8072", sandybPwn: "f4a460", sHgYF: "2e8b57", sHshell: "fff5ee", siFna: "a0522d", silver: "c0c0c0", skyXe: "87ceeb", UXe: "6a5acd", UWay: "708090", UgYy: "708090", snow: "fffafa", sprRggYF: "ff7f", stAlXe: "4682b4", tan: "d2b48c", teO: "8080", tEstN: "d8bfd8", tomato: "ff6347", Qe: "40e0d0", viTet: "ee82ee", JHt: "f5deb3", wEte: "ffffff", wEtesmoke: "f5f5f5", Lw: "ffff00", LwgYF: "9acd32" }; function dne() { const t = {}, e = Object.keys(t5), r = Object.keys(e5); let n, s, o, c, u; for (n = 0; n < e.length; n++) { for (c = u = e[n], s = 0; s < r.length; s++)o = r[s], u = u.replace(o, e5[o]); o = parseInt(t5[c], 16), t[u] = [o >> 16 & 255, o >> 8 & 255, o & 255] } return t } let Rh; function fne(t) { Rh || (Rh = dne(), Rh.transparent = [0, 0, 0, 0]); const e = Rh[t.toLowerCase()]; return e && { r: e[0], g: e[1], b: e[2], a: e.length === 4 ? e[3] : 255 } } const hne = /^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/; function mne(t) { const e = hne.exec(t); let r = 255, n, s, o; if (e) { if (e[7] !== n) { const c = +e[7]; r = e[8] ? Bu(c) : ki(c * 255, 0, 255) } return n = +e[1], s = +e[3], o = +e[5], n = 255 & (e[2] ? Bu(n) : ki(n, 0, 255)), s = 255 & (e[4] ? Bu(s) : ki(s, 0, 255)), o = 255 & (e[6] ? Bu(o) : ki(o, 0, 255)), { r: n, g: s, b: o, a: r } } } function pne(t) { return t && (t.a < 255 ? `rgba(${t.r}, ${t.g}, ${t.b}, ${Os(t.a)})` : `rgb(${t.r}, ${t.g}, ${t.b})`) } const Cw = t => t <= .0031308 ? t * 12.92 : Math.pow(t, 1 / 2.4) * 1.055 - .055, El = t => t <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4); function xne(t, e, r) { const n = El(Os(t.r)), s = El(Os(t.g)), o = El(Os(t.b)); return { r: Pi(Cw(n + r * (El(Os(e.r)) - n))), g: Pi(Cw(s + r * (El(Os(e.g)) - s))), b: Pi(Cw(o + r * (El(Os(e.b)) - o))), a: t.a + r * (e.a - t.a) } } function $h(t, e, r) { if (t) { let n = $1(t); n[e] = Math.max(0, Math.min(n[e] + n[e] * r, e === 0 ? 360 : 1)), n = L1(n), t.r = n[0], t.g = n[1], t.b = n[2] } } function u6(t, e) { return t && Object.assign(e || {}, t) } function r5(t) { var e = { r: 0, g: 0, b: 0, a: 255 }; return Array.isArray(t) ? t.length >= 3 && (e = { r: t[0], g: t[1], b: t[2], a: 255 }, t.length > 3 && (e.a = Pi(t[3]))) : (e = u6(t, { r: 0, g: 0, b: 0, a: 1 }), e.a = Pi(e.a)), e } function gne(t) { return t.charAt(0) === "r" ? mne(t) : lne(t) } class Id { constructor(e) { if (e instanceof Id) return e; const r = typeof e; let n; r === "object" ? n = r5(e) : r === "string" && (n = Zre(e) || fne(e) || gne(e)), this._rgb = n, this._valid = !!n } get valid() { return this._valid } get rgb() { var e = u6(this._rgb); return e && (e.a = Os(e.a)), e } set rgb(e) { this._rgb = r5(e) } rgbString() { return this._valid ? pne(this._rgb) : void 0 } hexString() { return this._valid ? tne(this._rgb) : void 0 } hslString() { return this._valid ? une(this._rgb) : void 0 } mix(e, r) { if (e) { const n = this.rgb, s = e.rgb; let o; const c = r === o ? .5 : r, u = 2 * c - 1, f = n.a - s.a, h = ((u * f === -1 ? u : (u + f) / (1 + u * f)) + 1) / 2; o = 1 - h, n.r = 255 & h * n.r + o * s.r + .5, n.g = 255 & h * n.g + o * s.g + .5, n.b = 255 & h * n.b + o * s.b + .5, n.a = c * n.a + (1 - c) * s.a, this.rgb = n } return this } interpolate(e, r) { return e && (this._rgb = xne(this._rgb, e._rgb, r)), this } clone() { return new Id(this.rgb) } alpha(e) { return this._rgb.a = Pi(e), this } clearer(e) { const r = this._rgb; return r.a *= 1 - e, this } greyscale() { const e = this._rgb, r = Qd(e.r * .3 + e.g * .59 + e.b * .11); return e.r = e.g = e.b = r, this } opaquer(e) { const r = this._rgb; return r.a *= 1 + e, this } negate() { const e = this._rgb; return e.r = 255 - e.r, e.g = 255 - e.g, e.b = 255 - e.b, this } lighten(e) { return $h(this._rgb, 2, e), this } darken(e) { return $h(this._rgb, 2, -e), this } saturate(e) { return $h(this._rgb, 1, e), this } desaturate(e) { return $h(this._rgb, 1, -e), this } rotate(e) { return cne(this._rgb, e), this } }/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function js() { } const yne = (() => { let t = 0; return () => t++ })(); function sr(t) { return t == null } function Ir(t) { if (Array.isArray && Array.isArray(t)) return !0; const e = Object.prototype.toString.call(t); return e.slice(0, 7) === "[object" && e.slice(-6) === "Array]" } function _t(t) { return t !== null && Object.prototype.toString.call(t) === "[object Object]" } function sa(t) { return (typeof t == "number" || t instanceof Number) && isFinite(+t) } function $a(t, e) { return sa(t) ? t : e } function zt(t, e) { return typeof t > "u" ? e : t } const bne = (t, e) => typeof t == "string" && t.endsWith("%") ? parseFloat(t) / 100 * e : +t; function Qt(t, e, r) { if (t && typeof t.call == "function") return t.apply(r, e) } function $t(t, e, r, n) { let s, o, c; if (Ir(t)) for (o = t.length, s = 0; s < o; s++)e.call(r, t[s], s); else if (_t(t)) for (c = Object.keys(t), o = c.length, s = 0; s < o; s++)e.call(r, t[c[s]], c[s]) } function up(t, e) { let r, n, s, o; if (!t || !e || t.length !== e.length) return !1; for (r = 0, n = t.length; r < n; ++r)if (s = t[r], o = e[r], s.datasetIndex !== o.datasetIndex || s.index !== o.index) return !1; return !0 } function dp(t) { if (Ir(t)) return t.map(dp); if (_t(t)) { const e = Object.create(null), r = Object.keys(t), n = r.length; let s = 0; for (; s < n; ++s)e[r[s]] = dp(t[r[s]]); return e } return t } function d6(t) { return ["__proto__", "prototype", "constructor"].indexOf(t) === -1 } function vne(t, e, r, n) { if (!d6(t)) return; const s = e[t], o = r[t]; _t(s) && _t(o) ? Ld(s, o, n) : e[t] = dp(o) } function Ld(t, e, r) { const n = Ir(e) ? e : [e], s = n.length; if (!_t(t)) return t; r = r || {}; const o = r.merger || vne; let c; for (let u = 0; u < s; ++u) { if (c = n[u], !_t(c)) continue; const f = Object.keys(c); for (let h = 0, p = f.length; h < p; ++h)o(f[h], t, c, r) } return t } function Xu(t, e) { return Ld(t, e, { merger: wne }) } function wne(t, e, r) { if (!d6(t)) return; const n = e[t], s = r[t]; _t(n) && _t(s) ? Xu(n, s) : Object.prototype.hasOwnProperty.call(e, t) || (e[t] = dp(s)) } const n5 = { "": t => t, x: t => t.x, y: t => t.y }; function jne(t) { const e = t.split("."), r = []; let n = ""; for (const s of e) n += s, n.endsWith("\\") ? n = n.slice(0, -1) + "." : (r.push(n), n = ""); return r } function Nne(t) { const e = jne(t); return r => { for (const n of e) { if (n === "") break; r = r && r[n] } return r } } function fp(t, e) { return (n5[e] || (n5[e] = Nne(e)))(t) } function F1(t) { return t.charAt(0).toUpperCase() + t.slice(1) } const hp = t => typeof t < "u", Ri = t => typeof t == "function", a5 = (t, e) => { if (t.size !== e.size) return !1; for (const r of t) if (!e.has(r)) return !1; return !0 }; function Sne(t) { return t.type === "mouseup" || t.type === "click" || t.type === "contextmenu" } const tn = Math.PI, Mi = 2 * tn, mp = Number.POSITIVE_INFINITY, _ne = tn / 180, Sa = tn / 2, uo = tn / 4, s5 = tn * 2 / 3, f6 = Math.log10, pp = Math.sign; function Zh(t, e, r) { return Math.abs(t - e) < r } function i5(t) { const e = Math.round(t); t = Zh(t, e, t / 1e3) ? e : t; const r = Math.pow(10, Math.floor(f6(t))), n = t / r; return (n <= 1 ? 1 : n <= 2 ? 2 : n <= 5 ? 5 : 10) * r } function One(t) { const e = [], r = Math.sqrt(t); let n; for (n = 1; n < r; n++)t % n === 0 && (e.push(n), e.push(t / n)); return r === (r | 0) && e.push(r), e.sort((s, o) => s - o).pop(), e } function Cne(t) { return typeof t == "symbol" || typeof t == "object" && t !== null && !(Symbol.toPrimitive in t || "toString" in t || "valueOf" in t) } function xp(t) { return !Cne(t) && !isNaN(parseFloat(t)) && isFinite(t) } function kne(t, e) { const r = Math.round(t); return r - e <= t && r + e >= t } function Ane(t, e, r) { let n, s, o; for (n = 0, s = t.length; n < s; n++)o = t[n][r], isNaN(o) || (e.min = Math.min(e.min, o), e.max = Math.max(e.max, o)) } function So(t) { return t * (tn / 180) } function Ene(t) { return t * (180 / tn) } function o5(t) { if (!sa(t)) return; let e = 1, r = 0; for (; Math.round(t * e) / e !== t;)e *= 10, r++; return r } function Dne(t, e) { const r = e.x - t.x, n = e.y - t.y, s = Math.sqrt(r * r + n * n); let o = Math.atan2(n, r); return o < -.5 * tn && (o += Mi), { angle: o, distance: s } } function Tne(t, e) { return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) } function fo(t) { return (t % Mi + Mi) % Mi } function Pne(t, e, r, n) { const s = fo(t), o = fo(e), c = fo(r), u = fo(o - s), f = fo(c - s), h = fo(s - o), p = fo(s - c); return s === o || s === c || n || u > f && h < p } function _a(t, e, r) { return Math.max(e, Math.min(r, t)) } function Mne(t) { return _a(t, -32768, 32767) } function $l(t, e, r, n = 1e-6) { return t >= Math.min(e, r) - n && t <= Math.max(e, r) + n } function B1(t, e, r) { r = r || (c => t[c] < e); let n = t.length - 1, s = 0, o; for (; n - s > 1;)o = s + n >> 1, r(o) ? s = o : n = o; return { lo: s, hi: n } } const xN = (t, e, r, n) => B1(t, r, n ? s => { const o = t[s][e]; return o < r || o === r && t[s + 1][e] === r } : s => t[s][e] < r), Rne = (t, e, r) => B1(t, r, n => t[n][e] >= r); function $ne(t, e, r) { let n = 0, s = t.length; for (; n < s && t[n] < e;)n++; for (; s > n && t[s - 1] > r;)s--; return n > 0 || s < t.length ? t.slice(n, s) : t } const h6 = ["push", "pop", "shift", "splice", "unshift"]; function Ine(t, e) { if (t._chartjs) { t._chartjs.listeners.push(e); return } Object.defineProperty(t, "_chartjs", { configurable: !0, enumerable: !1, value: { listeners: [e] } }), h6.forEach(r => { const n = "_onData" + F1(r), s = t[r]; Object.defineProperty(t, r, { configurable: !0, enumerable: !1, value(...o) { const c = s.apply(this, o); return t._chartjs.listeners.forEach(u => { typeof u[n] == "function" && u[n](...o) }), c } }) }) } function l5(t, e) { const r = t._chartjs; if (!r) return; const n = r.listeners, s = n.indexOf(e); s !== -1 && n.splice(s, 1), !(n.length > 0) && (h6.forEach(o => { delete t[o] }), delete t._chartjs) } function Lne(t) { const e = new Set(t); return e.size === t.length ? t : Array.from(e) } const m6 = (function () { return typeof window > "u" ? function (t) { return t() } : window.requestAnimationFrame })(); function p6(t, e) { let r = [], n = !1; return function (...s) { r = s, n || (n = !0, m6.call(window, () => { n = !1, t.apply(e, r) })) } } function Fne(t, e) { let r; return function (...n) { return e ? (clearTimeout(r), r = setTimeout(t, e, n)) : t.apply(this, n), e } } const q1 = t => t === "start" ? "left" : t === "end" ? "right" : "center", Jr = (t, e, r) => t === "start" ? e : t === "end" ? r : (e + r) / 2, Bne = (t, e, r, n) => t === (n ? "left" : "right") ? r : t === "center" ? (e + r) / 2 : e, Ih = t => t === 0 || t === 1, c5 = (t, e, r) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * Mi / r)), u5 = (t, e, r) => Math.pow(2, -10 * t) * Math.sin((t - e) * Mi / r) + 1, Ju = { linear: t => t, easeInQuad: t => t * t, easeOutQuad: t => -t * (t - 2), easeInOutQuad: t => (t /= .5) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1), easeInCubic: t => t * t * t, easeOutCubic: t => (t -= 1) * t * t + 1, easeInOutCubic: t => (t /= .5) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2), easeInQuart: t => t * t * t * t, easeOutQuart: t => -((t -= 1) * t * t * t - 1), easeInOutQuart: t => (t /= .5) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2), easeInQuint: t => t * t * t * t * t, easeOutQuint: t => (t -= 1) * t * t * t * t + 1, easeInOutQuint: t => (t /= .5) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2), easeInSine: t => -Math.cos(t * Sa) + 1, easeOutSine: t => Math.sin(t * Sa), easeInOutSine: t => -.5 * (Math.cos(tn * t) - 1), easeInExpo: t => t === 0 ? 0 : Math.pow(2, 10 * (t - 1)), easeOutExpo: t => t === 1 ? 1 : -Math.pow(2, -10 * t) + 1, easeInOutExpo: t => Ih(t) ? t : t < .5 ? .5 * Math.pow(2, 10 * (t * 2 - 1)) : .5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2), easeInCirc: t => t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1), easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t), easeInOutCirc: t => (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1), easeInElastic: t => Ih(t) ? t : c5(t, .075, .3), easeOutElastic: t => Ih(t) ? t : u5(t, .075, .3), easeInOutElastic(t) { return Ih(t) ? t : t < .5 ? .5 * c5(t * 2, .1125, .45) : .5 + .5 * u5(t * 2 - 1, .1125, .45) }, easeInBack(t) { return t * t * ((1.70158 + 1) * t - 1.70158) }, easeOutBack(t) { return (t -= 1) * t * ((1.70158 + 1) * t + 1.70158) + 1 }, easeInOutBack(t) { let e = 1.70158; return (t /= .5) < 1 ? .5 * (t * t * (((e *= 1.525) + 1) * t - e)) : .5 * ((t -= 2) * t * (((e *= 1.525) + 1) * t + e) + 2) }, easeInBounce: t => 1 - Ju.easeOutBounce(1 - t), easeOutBounce(t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 }, easeInOutBounce: t => t < .5 ? Ju.easeInBounce(t * 2) * .5 : Ju.easeOutBounce(t * 2 - 1) * .5 + .5 }; function x6(t) { if (t && typeof t == "object") { const e = t.toString(); return e === "[object CanvasPattern]" || e === "[object CanvasGradient]" } return !1 } function d5(t) { return x6(t) ? t : new Id(t) } function kw(t) { return x6(t) ? t : new Id(t).saturate(.5).darken(.1).hexString() } const qne = ["x", "y", "borderWidth", "radius", "tension"], zne = ["color", "borderColor", "backgroundColor"]; function Une(t) { t.set("animation", { delay: void 0, duration: 1e3, easing: "easeOutQuart", fn: void 0, from: void 0, loop: void 0, to: void 0, type: void 0 }), t.describe("animation", { _fallback: !1, _indexable: !1, _scriptable: e => e !== "onProgress" && e !== "onComplete" && e !== "fn" }), t.set("animations", { colors: { type: "color", properties: zne }, numbers: { type: "number", properties: qne } }), t.describe("animations", { _fallback: "animation" }), t.set("transitions", { active: { animation: { duration: 400 } }, resize: { animation: { duration: 0 } }, show: { animations: { colors: { from: "transparent" }, visible: { type: "boolean", duration: 0 } } }, hide: { animations: { colors: { to: "transparent" }, visible: { type: "boolean", easing: "linear", fn: e => e | 0 } } } }) } function Hne(t) { t.set("layout", { autoPadding: !0, padding: { top: 0, right: 0, bottom: 0, left: 0 } }) } const f5 = new Map; function Vne(t, e) { e = e || {}; const r = t + JSON.stringify(e); let n = f5.get(r); return n || (n = new Intl.NumberFormat(t, e), f5.set(r, n)), n } function g6(t, e, r) { return Vne(e, r).format(t) } const Yne = { values(t) { return Ir(t) ? t : "" + t }, numeric(t, e, r) { if (t === 0) return "0"; const n = this.chart.options.locale; let s, o = t; if (r.length > 1) { const h = Math.max(Math.abs(r[0].value), Math.abs(r[r.length - 1].value)); (h < 1e-4 || h > 1e15) && (s = "scientific"), o = Gne(t, r) } const c = f6(Math.abs(o)), u = isNaN(c) ? 1 : Math.max(Math.min(-1 * Math.floor(c), 20), 0), f = { notation: s, minimumFractionDigits: u, maximumFractionDigits: u }; return Object.assign(f, this.options.ticks.format), g6(t, n, f) } }; function Gne(t, e) { let r = e.length > 3 ? e[2].value - e[1].value : e[1].value - e[0].value; return Math.abs(r) >= 1 && t !== Math.floor(t) && (r = t - Math.floor(t)), r } var y6 = { formatters: Yne }; function Kne(t) { t.set("scale", { display: !0, offset: !1, reverse: !1, beginAtZero: !1, bounds: "ticks", clip: !0, grace: 0, grid: { display: !0, lineWidth: 1, drawOnChartArea: !0, drawTicks: !0, tickLength: 8, tickWidth: (e, r) => r.lineWidth, tickColor: (e, r) => r.color, offset: !1 }, border: { display: !0, dash: [], dashOffset: 0, width: 1 }, title: { display: !1, text: "", padding: { top: 4, bottom: 4 } }, ticks: { minRotation: 0, maxRotation: 50, mirror: !1, textStrokeWidth: 0, textStrokeColor: "", padding: 3, display: !0, autoSkip: !0, autoSkipPadding: 3, labelOffset: 0, callback: y6.formatters.values, minor: {}, major: {}, align: "center", crossAlign: "near", showLabelBackdrop: !1, backdropColor: "rgba(255, 255, 255, 0.75)", backdropPadding: 2 } }), t.route("scale.ticks", "color", "", "color"), t.route("scale.grid", "color", "", "borderColor"), t.route("scale.border", "color", "", "borderColor"), t.route("scale.title", "color", "", "color"), t.describe("scale", { _fallback: !1, _scriptable: e => !e.startsWith("before") && !e.startsWith("after") && e !== "callback" && e !== "parser", _indexable: e => e !== "borderDash" && e !== "tickBorderDash" && e !== "dash" }), t.describe("scales", { _fallback: "scale" }), t.describe("scale.ticks", { _scriptable: e => e !== "backdropPadding" && e !== "callback", _indexable: e => e !== "backdropPadding" }) } const Io = Object.create(null), gN = Object.create(null); function Qu(t, e) { if (!e) return t; const r = e.split("."); for (let n = 0, s = r.length; n < s; ++n) { const o = r[n]; t = t[o] || (t[o] = Object.create(null)) } return t } function Aw(t, e, r) { return typeof e == "string" ? Ld(Qu(t, e), r) : Ld(Qu(t, ""), e) } class Wne { constructor(e, r) { this.animation = void 0, this.backgroundColor = "rgba(0,0,0,0.1)", this.borderColor = "rgba(0,0,0,0.1)", this.color = "#666", this.datasets = {}, this.devicePixelRatio = n => n.chart.platform.getDevicePixelRatio(), this.elements = {}, this.events = ["mousemove", "mouseout", "click", "touchstart", "touchmove"], this.font = { family: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif", size: 12, style: "normal", lineHeight: 1.2, weight: null }, this.hover = {}, this.hoverBackgroundColor = (n, s) => kw(s.backgroundColor), this.hoverBorderColor = (n, s) => kw(s.borderColor), this.hoverColor = (n, s) => kw(s.color), this.indexAxis = "x", this.interaction = { mode: "nearest", intersect: !0, includeInvisible: !1 }, this.maintainAspectRatio = !0, this.onHover = null, this.onClick = null, this.parsing = !0, this.plugins = {}, this.responsive = !0, this.scale = void 0, this.scales = {}, this.showLine = !0, this.drawActiveElementsOnTop = !0, this.describe(e), this.apply(r) } set(e, r) { return Aw(this, e, r) } get(e) { return Qu(this, e) } describe(e, r) { return Aw(gN, e, r) } override(e, r) { return Aw(Io, e, r) } route(e, r, n, s) { const o = Qu(this, e), c = Qu(this, n), u = "_" + r; Object.defineProperties(o, { [u]: { value: o[r], writable: !0 }, [r]: { enumerable: !0, get() { const f = this[u], h = c[s]; return _t(f) ? Object.assign({}, h, f) : zt(f, h) }, set(f) { this[u] = f } } }) } apply(e) { e.forEach(r => r(this)) } } var xr = new Wne({ _scriptable: t => !t.startsWith("on"), _indexable: t => t !== "events", hover: { _fallback: "interaction" }, interaction: { _scriptable: !1, _indexable: !1 } }, [Une, Hne, Kne]); function Xne(t) { return !t || sr(t.size) || sr(t.family) ? null : (t.style ? t.style + " " : "") + (t.weight ? t.weight + " " : "") + t.size + "px " + t.family } function h5(t, e, r, n, s) { let o = e[s]; return o || (o = e[s] = t.measureText(s).width, r.push(s)), o > n && (n = o), n } function ho(t, e, r) { const n = t.currentDevicePixelRatio, s = r !== 0 ? Math.max(r / 2, .5) : 0; return Math.round((e - s) * n) / n + s } function m5(t, e) { !e && !t || (e = e || t.getContext("2d"), e.save(), e.resetTransform(), e.clearRect(0, 0, t.width, t.height), e.restore()) } function p5(t, e, r, n) { b6(t, e, r, n, null) } function b6(t, e, r, n, s) { let o, c, u, f, h, p, x, g; const v = e.pointStyle, j = e.rotation, S = e.radius; let w = (j || 0) * _ne; if (v && typeof v == "object" && (o = v.toString(), o === "[object HTMLImageElement]" || o === "[object HTMLCanvasElement]")) { t.save(), t.translate(r, n), t.rotate(w), t.drawImage(v, -v.width / 2, -v.height / 2, v.width, v.height), t.restore(); return } if (!(isNaN(S) || S <= 0)) { switch (t.beginPath(), v) { default: s ? t.ellipse(r, n, s / 2, S, 0, 0, Mi) : t.arc(r, n, S, 0, Mi), t.closePath(); break; case "triangle": p = s ? s / 2 : S, t.moveTo(r + Math.sin(w) * p, n - Math.cos(w) * S), w += s5, t.lineTo(r + Math.sin(w) * p, n - Math.cos(w) * S), w += s5, t.lineTo(r + Math.sin(w) * p, n - Math.cos(w) * S), t.closePath(); break; case "rectRounded": h = S * .516, f = S - h, c = Math.cos(w + uo) * f, x = Math.cos(w + uo) * (s ? s / 2 - h : f), u = Math.sin(w + uo) * f, g = Math.sin(w + uo) * (s ? s / 2 - h : f), t.arc(r - x, n - u, h, w - tn, w - Sa), t.arc(r + g, n - c, h, w - Sa, w), t.arc(r + x, n + u, h, w, w + Sa), t.arc(r - g, n + c, h, w + Sa, w + tn), t.closePath(); break; case "rect": if (!j) { f = Math.SQRT1_2 * S, p = s ? s / 2 : f, t.rect(r - p, n - f, 2 * p, 2 * f); break } w += uo; case "rectRot": x = Math.cos(w) * (s ? s / 2 : S), c = Math.cos(w) * S, u = Math.sin(w) * S, g = Math.sin(w) * (s ? s / 2 : S), t.moveTo(r - x, n - u), t.lineTo(r + g, n - c), t.lineTo(r + x, n + u), t.lineTo(r - g, n + c), t.closePath(); break; case "crossRot": w += uo; case "cross": x = Math.cos(w) * (s ? s / 2 : S), c = Math.cos(w) * S, u = Math.sin(w) * S, g = Math.sin(w) * (s ? s / 2 : S), t.moveTo(r - x, n - u), t.lineTo(r + x, n + u), t.moveTo(r + g, n - c), t.lineTo(r - g, n + c); break; case "star": x = Math.cos(w) * (s ? s / 2 : S), c = Math.cos(w) * S, u = Math.sin(w) * S, g = Math.sin(w) * (s ? s / 2 : S), t.moveTo(r - x, n - u), t.lineTo(r + x, n + u), t.moveTo(r + g, n - c), t.lineTo(r - g, n + c), w += uo, x = Math.cos(w) * (s ? s / 2 : S), c = Math.cos(w) * S, u = Math.sin(w) * S, g = Math.sin(w) * (s ? s / 2 : S), t.moveTo(r - x, n - u), t.lineTo(r + x, n + u), t.moveTo(r + g, n - c), t.lineTo(r - g, n + c); break; case "line": c = s ? s / 2 : Math.cos(w) * S, u = Math.sin(w) * S, t.moveTo(r - c, n - u), t.lineTo(r + c, n + u); break; case "dash": t.moveTo(r, n), t.lineTo(r + Math.cos(w) * (s ? s / 2 : S), n + Math.sin(w) * S); break; case !1: t.closePath(); break }t.fill(), e.borderWidth > 0 && t.stroke() } } function v6(t, e, r) { return r = r || .5, !e || t && t.x > e.left - r && t.x < e.right + r && t.y > e.top - r && t.y < e.bottom + r } function z1(t, e) { t.save(), t.beginPath(), t.rect(e.left, e.top, e.right - e.left, e.bottom - e.top), t.clip() } function U1(t) { t.restore() } function Jne(t, e) { e.translation && t.translate(e.translation[0], e.translation[1]), sr(e.rotation) || t.rotate(e.rotation), e.color && (t.fillStyle = e.color), e.textAlign && (t.textAlign = e.textAlign), e.textBaseline && (t.textBaseline = e.textBaseline) } function Qne(t, e, r, n, s) { if (s.strikethrough || s.underline) { const o = t.measureText(n), c = e - o.actualBoundingBoxLeft, u = e + o.actualBoundingBoxRight, f = r - o.actualBoundingBoxAscent, h = r + o.actualBoundingBoxDescent, p = s.strikethrough ? (f + h) / 2 : h; t.strokeStyle = t.fillStyle, t.beginPath(), t.lineWidth = s.decorationWidth || 2, t.moveTo(c, p), t.lineTo(u, p), t.stroke() } } function Zne(t, e) { const r = t.fillStyle; t.fillStyle = e.color, t.fillRect(e.left, e.top, e.width, e.height), t.fillStyle = r } function Fd(t, e, r, n, s, o = {}) { const c = Ir(e) ? e : [e], u = o.strokeWidth > 0 && o.strokeColor !== ""; let f, h; for (t.save(), t.font = s.string, Jne(t, o), f = 0; f < c.length; ++f)h = c[f], o.backdrop && Zne(t, o.backdrop), u && (o.strokeColor && (t.strokeStyle = o.strokeColor), sr(o.strokeWidth) || (t.lineWidth = o.strokeWidth), t.strokeText(h, r, n, o.maxWidth)), t.fillText(h, r, n, o.maxWidth), Qne(t, r, n, h, o), n += Number(s.lineHeight); t.restore() } function gp(t, e) { const { x: r, y: n, w: s, h: o, radius: c } = e; t.arc(r + c.topLeft, n + c.topLeft, c.topLeft, 1.5 * tn, tn, !0), t.lineTo(r, n + o - c.bottomLeft), t.arc(r + c.bottomLeft, n + o - c.bottomLeft, c.bottomLeft, tn, Sa, !0), t.lineTo(r + s - c.bottomRight, n + o), t.arc(r + s - c.bottomRight, n + o - c.bottomRight, c.bottomRight, Sa, 0, !0), t.lineTo(r + s, n + c.topRight), t.arc(r + s - c.topRight, n + c.topRight, c.topRight, 0, -Sa, !0), t.lineTo(r + c.topLeft, n) } const eae = /^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/, tae = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/; function rae(t, e) { const r = ("" + t).match(eae); if (!r || r[1] === "normal") return e * 1.2; switch (t = +r[2], r[3]) { case "px": return t; case "%": t /= 100; break }return e * t } const nae = t => +t || 0; function w6(t, e) { const r = {}, n = _t(e), s = n ? Object.keys(e) : e, o = _t(t) ? n ? c => zt(t[c], t[e[c]]) : c => t[c] : () => t; for (const c of s) r[c] = nae(o(c)); return r } function j6(t) { return w6(t, { top: "y", right: "x", bottom: "y", left: "x" }) } function Bl(t) { return w6(t, ["topLeft", "topRight", "bottomLeft", "bottomRight"]) } function ia(t) { const e = j6(t); return e.width = e.left + e.right, e.height = e.top + e.bottom, e } function en(t, e) { t = t || {}, e = e || xr.font; let r = zt(t.size, e.size); typeof r == "string" && (r = parseInt(r, 10)); let n = zt(t.style, e.style); n && !("" + n).match(tae) && (console.warn('Invalid font style specified: "' + n + '"'), n = void 0); const s = { family: zt(t.family, e.family), lineHeight: rae(zt(t.lineHeight, e.lineHeight), r), size: r, style: n, weight: zt(t.weight, e.weight), string: "" }; return s.string = Xne(s), s } function Lh(t, e, r, n) { let s, o, c; for (s = 0, o = t.length; s < o; ++s)if (c = t[s], c !== void 0 && c !== void 0) return c } function aae(t, e, r) { const { min: n, max: s } = t, o = bne(e, (s - n) / 2), c = (u, f) => r && u === 0 ? 0 : u + f; return { min: c(n, -Math.abs(o)), max: c(s, o) } } function Cc(t, e) { return Object.assign(Object.create(t), e) } function H1(t, e = [""], r, n, s = () => t[0]) { const o = r || t; typeof n > "u" && (n = O6("_fallback", t)); const c = { [Symbol.toStringTag]: "Object", _cacheable: !0, _scopes: t, _rootScopes: o, _fallback: n, _getTarget: s, override: u => H1([u, ...t], e, o, n) }; return new Proxy(c, { deleteProperty(u, f) { return delete u[f], delete u._keys, delete t[0][f], !0 }, get(u, f) { return S6(u, f, () => fae(f, e, t, u)) }, getOwnPropertyDescriptor(u, f) { return Reflect.getOwnPropertyDescriptor(u._scopes[0], f) }, getPrototypeOf() { return Reflect.getPrototypeOf(t[0]) }, has(u, f) { return g5(u).includes(f) }, ownKeys(u) { return g5(u) }, set(u, f, h) { const p = u._storage || (u._storage = s()); return u[f] = p[f] = h, delete u._keys, !0 } }) } function mc(t, e, r, n) { const s = { _cacheable: !1, _proxy: t, _context: e, _subProxy: r, _stack: new Set, _descriptors: N6(t, n), setContext: o => mc(t, o, r, n), override: o => mc(t.override(o), e, r, n) }; return new Proxy(s, { deleteProperty(o, c) { return delete o[c], delete t[c], !0 }, get(o, c, u) { return S6(o, c, () => iae(o, c, u)) }, getOwnPropertyDescriptor(o, c) { return o._descriptors.allKeys ? Reflect.has(t, c) ? { enumerable: !0, configurable: !0 } : void 0 : Reflect.getOwnPropertyDescriptor(t, c) }, getPrototypeOf() { return Reflect.getPrototypeOf(t) }, has(o, c) { return Reflect.has(t, c) }, ownKeys() { return Reflect.ownKeys(t) }, set(o, c, u) { return t[c] = u, delete o[c], !0 } }) } function N6(t, e = { scriptable: !0, indexable: !0 }) { const { _scriptable: r = e.scriptable, _indexable: n = e.indexable, _allKeys: s = e.allKeys } = t; return { allKeys: s, scriptable: r, indexable: n, isScriptable: Ri(r) ? r : () => r, isIndexable: Ri(n) ? n : () => n } } const sae = (t, e) => t ? t + F1(e) : e, V1 = (t, e) => _t(e) && t !== "adapters" && (Object.getPrototypeOf(e) === null || e.constructor === Object); function S6(t, e, r) { if (Object.prototype.hasOwnProperty.call(t, e) || e === "constructor") return t[e]; const n = r(); return t[e] = n, n } function iae(t, e, r) { const { _proxy: n, _context: s, _subProxy: o, _descriptors: c } = t; let u = n[e]; return Ri(u) && c.isScriptable(e) && (u = oae(e, u, t, r)), Ir(u) && u.length && (u = lae(e, u, t, c.isIndexable)), V1(e, u) && (u = mc(u, s, o && o[e], c)), u } function oae(t, e, r, n) { const { _proxy: s, _context: o, _subProxy: c, _stack: u } = r; if (u.has(t)) throw new Error("Recursion detected: " + Array.from(u).join("->") + "->" + t); u.add(t); let f = e(o, c || n); return u.delete(t), V1(t, f) && (f = Y1(s._scopes, s, t, f)), f } function lae(t, e, r, n) { const { _proxy: s, _context: o, _subProxy: c, _descriptors: u } = r; if (typeof o.index < "u" && n(t)) return e[o.index % e.length]; if (_t(e[0])) { const f = e, h = s._scopes.filter(p => p !== f); e = []; for (const p of f) { const x = Y1(h, s, t, p); e.push(mc(x, o, c && c[t], u)) } } return e } function _6(t, e, r) { return Ri(t) ? t(e, r) : t } const cae = (t, e) => t === !0 ? e : typeof t == "string" ? fp(e, t) : void 0; function uae(t, e, r, n, s) { for (const o of e) { const c = cae(r, o); if (c) { t.add(c); const u = _6(c._fallback, r, s); if (typeof u < "u" && u !== r && u !== n) return u } else if (c === !1 && typeof n < "u" && r !== n) return null } return !1 } function Y1(t, e, r, n) { const s = e._rootScopes, o = _6(e._fallback, r, n), c = [...t, ...s], u = new Set; u.add(n); let f = x5(u, c, r, o || r, n); return f === null || typeof o < "u" && o !== r && (f = x5(u, c, o, f, n), f === null) ? !1 : H1(Array.from(u), [""], s, o, () => dae(e, r, n)) } function x5(t, e, r, n, s) { for (; r;)r = uae(t, e, r, n, s); return r } function dae(t, e, r) { const n = t._getTarget(); e in n || (n[e] = {}); const s = n[e]; return Ir(s) && _t(r) ? r : s || {} } function fae(t, e, r, n) { let s; for (const o of e) if (s = O6(sae(o, t), r), typeof s < "u") return V1(t, s) ? Y1(r, n, t, s) : s } function O6(t, e) { for (const r of e) { if (!r) continue; const n = r[t]; if (typeof n < "u") return n } } function g5(t) { let e = t._keys; return e || (e = t._keys = hae(t._scopes)), e } function hae(t) { const e = new Set; for (const r of t) for (const n of Object.keys(r).filter(s => !s.startsWith("_"))) e.add(n); return Array.from(e) } function G1() { return typeof window < "u" && typeof document < "u" } function K1(t) { let e = t.parentNode; return e && e.toString() === "[object ShadowRoot]" && (e = e.host), e } function yp(t, e, r) { let n; return typeof t == "string" ? (n = parseInt(t, 10), t.indexOf("%") !== -1 && (n = n / 100 * e.parentNode[r])) : n = t, n } const ox = t => t.ownerDocument.defaultView.getComputedStyle(t, null); function mae(t, e) { return ox(t).getPropertyValue(e) } const pae = ["top", "right", "bottom", "left"]; function ko(t, e, r) { const n = {}; r = r ? "-" + r : ""; for (let s = 0; s < 4; s++) { const o = pae[s]; n[o] = parseFloat(t[e + "-" + o + r]) || 0 } return n.width = n.left + n.right, n.height = n.top + n.bottom, n } const xae = (t, e, r) => (t > 0 || e > 0) && (!r || !r.shadowRoot); function gae(t, e) { const r = t.touches, n = r && r.length ? r[0] : t, { offsetX: s, offsetY: o } = n; let c = !1, u, f; if (xae(s, o, t.target)) u = s, f = o; else { const h = e.getBoundingClientRect(); u = n.clientX - h.left, f = n.clientY - h.top, c = !0 } return { x: u, y: f, box: c } } function go(t, e) { if ("native" in t) return t; const { canvas: r, currentDevicePixelRatio: n } = e, s = ox(r), o = s.boxSizing === "border-box", c = ko(s, "padding"), u = ko(s, "border", "width"), { x: f, y: h, box: p } = gae(t, r), x = c.left + (p && u.left), g = c.top + (p && u.top); let { width: v, height: j } = e; return o && (v -= c.width + u.width, j -= c.height + u.height), { x: Math.round((f - x) / v * r.width / n), y: Math.round((h - g) / j * r.height / n) } } function yae(t, e, r) { let n, s; if (e === void 0 || r === void 0) { const o = t && K1(t); if (!o) e = t.clientWidth, r = t.clientHeight; else { const c = o.getBoundingClientRect(), u = ox(o), f = ko(u, "border", "width"), h = ko(u, "padding"); e = c.width - h.width - f.width, r = c.height - h.height - f.height, n = yp(u.maxWidth, o, "clientWidth"), s = yp(u.maxHeight, o, "clientHeight") } } return { width: e, height: r, maxWidth: n || mp, maxHeight: s || mp } } const Ai = t => Math.round(t * 10) / 10; function bae(t, e, r, n) { const s = ox(t), o = ko(s, "margin"), c = yp(s.maxWidth, t, "clientWidth") || mp, u = yp(s.maxHeight, t, "clientHeight") || mp, f = yae(t, e, r); let { width: h, height: p } = f; if (s.boxSizing === "content-box") { const g = ko(s, "border", "width"), v = ko(s, "padding"); h -= v.width + g.width, p -= v.height + g.height } return h = Math.max(0, h - o.width), p = Math.max(0, n ? h / n : p - o.height), h = Ai(Math.min(h, c, f.maxWidth)), p = Ai(Math.min(p, u, f.maxHeight)), h && !p && (p = Ai(h / 2)), (e !== void 0 || r !== void 0) && n && f.height && p > f.height && (p = f.height, h = Ai(Math.floor(p * n))), { width: h, height: p } } function y5(t, e, r) { const n = e || 1, s = Ai(t.height * n), o = Ai(t.width * n); t.height = Ai(t.height), t.width = Ai(t.width); const c = t.canvas; return c.style && (r || !c.style.height && !c.style.width) && (c.style.height = `${t.height}px`, c.style.width = `${t.width}px`), t.currentDevicePixelRatio !== n || c.height !== s || c.width !== o ? (t.currentDevicePixelRatio = n, c.height = s, c.width = o, t.ctx.setTransform(n, 0, 0, n, 0, 0), !0) : !1 } const vae = (function () { let t = !1; try { const e = { get passive() { return t = !0, !1 } }; G1() && (window.addEventListener("test", null, e), window.removeEventListener("test", null, e)) } catch { } return t })(); function b5(t, e) { const r = mae(t, e), n = r && r.match(/^(\d+)(\.\d+)?px$/); return n ? +n[1] : void 0 } const wae = function (t, e) { return { x(r) { return t + t + e - r }, setWidth(r) { e = r }, textAlign(r) { return r === "center" ? r : r === "right" ? "left" : "right" }, xPlus(r, n) { return r - n }, leftForLtr(r, n) { return r - n } } }, jae = function () { return { x(t) { return t }, setWidth(t) { }, textAlign(t) { return t }, xPlus(t, e) { return t + e }, leftForLtr(t, e) { return t } } }; function ql(t, e, r) { return t ? wae(e, r) : jae() } function C6(t, e) { let r, n; (e === "ltr" || e === "rtl") && (r = t.canvas.style, n = [r.getPropertyValue("direction"), r.getPropertyPriority("direction")], r.setProperty("direction", e, "important"), t.prevTextDirection = n) } function k6(t, e) { e !== void 0 && (delete t.prevTextDirection, t.canvas.style.setProperty("direction", e[0], e[1])) } function Fh(t, e, r) { return t.options.clip ? t[r] : e[r] } function Nae(t, e) { const { xScale: r, yScale: n } = t; return r && n ? { left: Fh(r, e, "left"), right: Fh(r, e, "right"), top: Fh(n, e, "top"), bottom: Fh(n, e, "bottom") } : e } function Sae(t, e) { const r = e._clip; if (r.disabled) return !1; const n = Nae(e, t.chartArea); return { left: r.left === !1 ? 0 : n.left - (r.left === !0 ? 0 : r.left), right: r.right === !1 ? t.width : n.right + (r.right === !0 ? 0 : r.right), top: r.top === !1 ? 0 : n.top - (r.top === !0 ? 0 : r.top), bottom: r.bottom === !1 ? t.height : n.bottom + (r.bottom === !0 ? 0 : r.bottom) } }/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _ae { constructor() { this._request = null, this._charts = new Map, this._running = !1, this._lastDate = void 0 } _notify(e, r, n, s) { const o = r.listeners[s], c = r.duration; o.forEach(u => u({ chart: e, initial: r.initial, numSteps: c, currentStep: Math.min(n - r.start, c) })) } _refresh() { this._request || (this._running = !0, this._request = m6.call(window, () => { this._update(), this._request = null, this._running && this._refresh() })) } _update(e = Date.now()) { let r = 0; this._charts.forEach((n, s) => { if (!n.running || !n.items.length) return; const o = n.items; let c = o.length - 1, u = !1, f; for (; c >= 0; --c)f = o[c], f._active ? (f._total > n.duration && (n.duration = f._total), f.tick(e), u = !0) : (o[c] = o[o.length - 1], o.pop()); u && (s.draw(), this._notify(s, n, e, "progress")), o.length || (n.running = !1, this._notify(s, n, e, "complete"), n.initial = !1), r += o.length }), this._lastDate = e, r === 0 && (this._running = !1) } _getAnims(e) { const r = this._charts; let n = r.get(e); return n || (n = { running: !1, initial: !0, items: [], listeners: { complete: [], progress: [] } }, r.set(e, n)), n } listen(e, r, n) { this._getAnims(e).listeners[r].push(n) } add(e, r) { !r || !r.length || this._getAnims(e).items.push(...r) } has(e) { return this._getAnims(e).items.length > 0 } start(e) { const r = this._charts.get(e); r && (r.running = !0, r.start = Date.now(), r.duration = r.items.reduce((n, s) => Math.max(n, s._duration), 0), this._refresh()) } running(e) { if (!this._running) return !1; const r = this._charts.get(e); return !(!r || !r.running || !r.items.length) } stop(e) { const r = this._charts.get(e); if (!r || !r.items.length) return; const n = r.items; let s = n.length - 1; for (; s >= 0; --s)n[s].cancel(); r.items = [], this._notify(e, r, Date.now(), "complete") } remove(e) { return this._charts.delete(e) } } var Ns = new _ae; const v5 = "transparent", Oae = { boolean(t, e, r) { return r > .5 ? e : t }, color(t, e, r) { const n = d5(t || v5), s = n.valid && d5(e || v5); return s && s.valid ? s.mix(n, r).hexString() : e }, number(t, e, r) { return t + (e - t) * r } }; class Cae { constructor(e, r, n, s) { const o = r[n]; s = Lh([e.to, s, o, e.from]); const c = Lh([e.from, o, s]); this._active = !0, this._fn = e.fn || Oae[e.type || typeof c], this._easing = Ju[e.easing] || Ju.linear, this._start = Math.floor(Date.now() + (e.delay || 0)), this._duration = this._total = Math.floor(e.duration), this._loop = !!e.loop, this._target = r, this._prop = n, this._from = c, this._to = s, this._promises = void 0 } active() { return this._active } update(e, r, n) { if (this._active) { this._notify(!1); const s = this._target[this._prop], o = n - this._start, c = this._duration - o; this._start = n, this._duration = Math.floor(Math.max(c, e.duration)), this._total += o, this._loop = !!e.loop, this._to = Lh([e.to, r, s, e.from]), this._from = Lh([e.from, s, r]) } } cancel() { this._active && (this.tick(Date.now()), this._active = !1, this._notify(!1)) } tick(e) { const r = e - this._start, n = this._duration, s = this._prop, o = this._from, c = this._loop, u = this._to; let f; if (this._active = o !== u && (c || r < n), !this._active) { this._target[s] = u, this._notify(!0); return } if (r < 0) { this._target[s] = o; return } f = r / n % 2, f = c && f > 1 ? 2 - f : f, f = this._easing(Math.min(1, Math.max(0, f))), this._target[s] = this._fn(o, u, f) } wait() { const e = this._promises || (this._promises = []); return new Promise((r, n) => { e.push({ res: r, rej: n }) }) } _notify(e) { const r = e ? "res" : "rej", n = this._promises || []; for (let s = 0; s < n.length; s++)n[s][r]() } } class A6 { constructor(e, r) { this._chart = e, this._properties = new Map, this.configure(r) } configure(e) { if (!_t(e)) return; const r = Object.keys(xr.animation), n = this._properties; Object.getOwnPropertyNames(e).forEach(s => { const o = e[s]; if (!_t(o)) return; const c = {}; for (const u of r) c[u] = o[u]; (Ir(o.properties) && o.properties || [s]).forEach(u => { (u === s || !n.has(u)) && n.set(u, c) }) }) } _animateOptions(e, r) { const n = r.options, s = Aae(e, n); if (!s) return []; const o = this._createAnimations(s, n); return n.$shared && kae(e.options.$animations, n).then(() => { e.options = n }, () => { }), o } _createAnimations(e, r) { const n = this._properties, s = [], o = e.$animations || (e.$animations = {}), c = Object.keys(r), u = Date.now(); let f; for (f = c.length - 1; f >= 0; --f) { const h = c[f]; if (h.charAt(0) === "$") continue; if (h === "options") { s.push(...this._animateOptions(e, r)); continue } const p = r[h]; let x = o[h]; const g = n.get(h); if (x) if (g && x.active()) { x.update(g, p, u); continue } else x.cancel(); if (!g || !g.duration) { e[h] = p; continue } o[h] = x = new Cae(g, e, h, p), s.push(x) } return s } update(e, r) { if (this._properties.size === 0) { Object.assign(e, r); return } const n = this._createAnimations(e, r); if (n.length) return Ns.add(this._chart, n), !0 } } function kae(t, e) { const r = [], n = Object.keys(e); for (let s = 0; s < n.length; s++) { const o = t[n[s]]; o && o.active() && r.push(o.wait()) } return Promise.all(r) } function Aae(t, e) { if (!e) return; let r = t.options; if (!r) { t.options = e; return } return r.$shared && (t.options = r = Object.assign({}, r, { $shared: !1, $animations: {} })), r } function w5(t, e) { const r = t && t.options || {}, n = r.reverse, s = r.min === void 0 ? e : 0, o = r.max === void 0 ? e : 0; return { start: n ? o : s, end: n ? s : o } } function Eae(t, e, r) { if (r === !1) return !1; const n = w5(t, r), s = w5(e, r); return { top: s.end, right: n.end, bottom: s.start, left: n.start } } function Dae(t) { let e, r, n, s; return _t(t) ? (e = t.top, r = t.right, n = t.bottom, s = t.left) : e = r = n = s = t, { top: e, right: r, bottom: n, left: s, disabled: t === !1 } } function E6(t, e) { const r = [], n = t._getSortedDatasetMetas(e); let s, o; for (s = 0, o = n.length; s < o; ++s)r.push(n[s].index); return r } function j5(t, e, r, n = {}) { const s = t.keys, o = n.mode === "single"; let c, u, f, h; if (e === null) return; let p = !1; for (c = 0, u = s.length; c < u; ++c) { if (f = +s[c], f === r) { if (p = !0, n.all) continue; break } h = t.values[f], sa(h) && (o || e === 0 || pp(e) === pp(h)) && (e += h) } return !p && !n.all ? 0 : e } function Tae(t, e) { const { iScale: r, vScale: n } = e, s = r.axis === "x" ? "x" : "y", o = n.axis === "x" ? "x" : "y", c = Object.keys(t), u = new Array(c.length); let f, h, p; for (f = 0, h = c.length; f < h; ++f)p = c[f], u[f] = { [s]: p, [o]: t[p] }; return u } function Ew(t, e) { const r = t && t.options.stacked; return r || r === void 0 && e.stack !== void 0 } function Pae(t, e, r) { return `${t.id}.${e.id}.${r.stack || r.type}` } function Mae(t) { const { min: e, max: r, minDefined: n, maxDefined: s } = t.getUserBounds(); return { min: n ? e : Number.NEGATIVE_INFINITY, max: s ? r : Number.POSITIVE_INFINITY } } function Rae(t, e, r) { const n = t[e] || (t[e] = {}); return n[r] || (n[r] = {}) } function N5(t, e, r, n) { for (const s of e.getMatchingVisibleMetas(n).reverse()) { const o = t[s.index]; if (r && o > 0 || !r && o < 0) return s.index } return null } function S5(t, e) { const { chart: r, _cachedMeta: n } = t, s = r._stacks || (r._stacks = {}), { iScale: o, vScale: c, index: u } = n, f = o.axis, h = c.axis, p = Pae(o, c, n), x = e.length; let g; for (let v = 0; v < x; ++v) { const j = e[v], { [f]: S, [h]: w } = j, O = j._stacks || (j._stacks = {}); g = O[h] = Rae(s, p, S), g[u] = w, g._top = N5(g, c, !0, n.type), g._bottom = N5(g, c, !1, n.type); const D = g._visualValues || (g._visualValues = {}); D[u] = w } } function Dw(t, e) { const r = t.scales; return Object.keys(r).filter(n => r[n].axis === e).shift() } function $ae(t, e) { return Cc(t, { active: !1, dataset: void 0, datasetIndex: e, index: e, mode: "default", type: "dataset" }) } function Iae(t, e, r) { return Cc(t, { active: !1, dataIndex: e, parsed: void 0, raw: void 0, element: r, index: e, mode: "default", type: "data" }) } function Au(t, e) { const r = t.controller.index, n = t.vScale && t.vScale.axis; if (n) { e = e || t._parsed; for (const s of e) { const o = s._stacks; if (!o || o[n] === void 0 || o[n][r] === void 0) return; delete o[n][r], o[n]._visualValues !== void 0 && o[n]._visualValues[r] !== void 0 && delete o[n]._visualValues[r] } } } const Tw = t => t === "reset" || t === "none", _5 = (t, e) => e ? t : Object.assign({}, t), Lae = (t, e, r) => t && !e.hidden && e._stacked && { keys: E6(r, !0), values: null }; class em { constructor(e, r) { this.chart = e, this._ctx = e.ctx, this.index = r, this._cachedDataOpts = {}, this._cachedMeta = this.getMeta(), this._type = this._cachedMeta.type, this.options = void 0, this._parsing = !1, this._data = void 0, this._objectData = void 0, this._sharedOptions = void 0, this._drawStart = void 0, this._drawCount = void 0, this.enableOptionSharing = !1, this.supportsDecimation = !1, this.$context = void 0, this._syncList = [], this.datasetElementType = new.target.datasetElementType, this.dataElementType = new.target.dataElementType, this.initialize() } initialize() { const e = this._cachedMeta; this.configure(), this.linkScales(), e._stacked = Ew(e.vScale, e), this.addElements(), this.options.fill && !this.chart.isPluginEnabled("filler") && console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options") } updateIndex(e) { this.index !== e && Au(this._cachedMeta), this.index = e } linkScales() { const e = this.chart, r = this._cachedMeta, n = this.getDataset(), s = (x, g, v, j) => x === "x" ? g : x === "r" ? j : v, o = r.xAxisID = zt(n.xAxisID, Dw(e, "x")), c = r.yAxisID = zt(n.yAxisID, Dw(e, "y")), u = r.rAxisID = zt(n.rAxisID, Dw(e, "r")), f = r.indexAxis, h = r.iAxisID = s(f, o, c, u), p = r.vAxisID = s(f, c, o, u); r.xScale = this.getScaleForId(o), r.yScale = this.getScaleForId(c), r.rScale = this.getScaleForId(u), r.iScale = this.getScaleForId(h), r.vScale = this.getScaleForId(p) } getDataset() { return this.chart.data.datasets[this.index] } getMeta() { return this.chart.getDatasetMeta(this.index) } getScaleForId(e) { return this.chart.scales[e] } _getOtherScale(e) { const r = this._cachedMeta; return e === r.iScale ? r.vScale : r.iScale } reset() { this._update("reset") } _destroy() { const e = this._cachedMeta; this._data && l5(this._data, this), e._stacked && Au(e) } _dataCheck() { const e = this.getDataset(), r = e.data || (e.data = []), n = this._data; if (_t(r)) { const s = this._cachedMeta; this._data = Tae(r, s) } else if (n !== r) { if (n) { l5(n, this); const s = this._cachedMeta; Au(s), s._parsed = [] } r && Object.isExtensible(r) && Ine(r, this), this._syncList = [], this._data = r } } addElements() { const e = this._cachedMeta; this._dataCheck(), this.datasetElementType && (e.dataset = new this.datasetElementType) } buildOrUpdateElements(e) { const r = this._cachedMeta, n = this.getDataset(); let s = !1; this._dataCheck(); const o = r._stacked; r._stacked = Ew(r.vScale, r), r.stack !== n.stack && (s = !0, Au(r), r.stack = n.stack), this._resyncElements(e), (s || o !== r._stacked) && (S5(this, r._parsed), r._stacked = Ew(r.vScale, r)) } configure() { const e = this.chart.config, r = e.datasetScopeKeys(this._type), n = e.getOptionScopes(this.getDataset(), r, !0); this.options = e.createResolver(n, this.getContext()), this._parsing = this.options.parsing, this._cachedDataOpts = {} } parse(e, r) { const { _cachedMeta: n, _data: s } = this, { iScale: o, _stacked: c } = n, u = o.axis; let f = e === 0 && r === s.length ? !0 : n._sorted, h = e > 0 && n._parsed[e - 1], p, x, g; if (this._parsing === !1) n._parsed = s, n._sorted = !0, g = s; else { Ir(s[e]) ? g = this.parseArrayData(n, s, e, r) : _t(s[e]) ? g = this.parseObjectData(n, s, e, r) : g = this.parsePrimitiveData(n, s, e, r); const v = () => x[u] === null || h && x[u] < h[u]; for (p = 0; p < r; ++p)n._parsed[p + e] = x = g[p], f && (v() && (f = !1), h = x); n._sorted = f } c && S5(this, g) } parsePrimitiveData(e, r, n, s) { const { iScale: o, vScale: c } = e, u = o.axis, f = c.axis, h = o.getLabels(), p = o === c, x = new Array(s); let g, v, j; for (g = 0, v = s; g < v; ++g)j = g + n, x[g] = { [u]: p || o.parse(h[j], j), [f]: c.parse(r[j], j) }; return x } parseArrayData(e, r, n, s) { const { xScale: o, yScale: c } = e, u = new Array(s); let f, h, p, x; for (f = 0, h = s; f < h; ++f)p = f + n, x = r[p], u[f] = { x: o.parse(x[0], p), y: c.parse(x[1], p) }; return u } parseObjectData(e, r, n, s) { const { xScale: o, yScale: c } = e, { xAxisKey: u = "x", yAxisKey: f = "y" } = this._parsing, h = new Array(s); let p, x, g, v; for (p = 0, x = s; p < x; ++p)g = p + n, v = r[g], h[p] = { x: o.parse(fp(v, u), g), y: c.parse(fp(v, f), g) }; return h } getParsed(e) { return this._cachedMeta._parsed[e] } getDataElement(e) { return this._cachedMeta.data[e] } applyStack(e, r, n) { const s = this.chart, o = this._cachedMeta, c = r[e.axis], u = { keys: E6(s, !0), values: r._stacks[e.axis]._visualValues }; return j5(u, c, o.index, { mode: n }) } updateRangeFromParsed(e, r, n, s) { const o = n[r.axis]; let c = o === null ? NaN : o; const u = s && n._stacks[r.axis]; s && u && (s.values = u, c = j5(s, o, this._cachedMeta.index)), e.min = Math.min(e.min, c), e.max = Math.max(e.max, c) } getMinMax(e, r) { const n = this._cachedMeta, s = n._parsed, o = n._sorted && e === n.iScale, c = s.length, u = this._getOtherScale(e), f = Lae(r, n, this.chart), h = { min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY }, { min: p, max: x } = Mae(u); let g, v; function j() { v = s[g]; const S = v[u.axis]; return !sa(v[e.axis]) || p > S || x < S } for (g = 0; g < c && !(!j() && (this.updateRangeFromParsed(h, e, v, f), o)); ++g); if (o) { for (g = c - 1; g >= 0; --g)if (!j()) { this.updateRangeFromParsed(h, e, v, f); break } } return h } getAllParsedValues(e) { const r = this._cachedMeta._parsed, n = []; let s, o, c; for (s = 0, o = r.length; s < o; ++s)c = r[s][e.axis], sa(c) && n.push(c); return n } getMaxOverflow() { return !1 } getLabelAndValue(e) { const r = this._cachedMeta, n = r.iScale, s = r.vScale, o = this.getParsed(e); return { label: n ? "" + n.getLabelForValue(o[n.axis]) : "", value: s ? "" + s.getLabelForValue(o[s.axis]) : "" } } _update(e) { const r = this._cachedMeta; this.update(e || "default"), r._clip = Dae(zt(this.options.clip, Eae(r.xScale, r.yScale, this.getMaxOverflow()))) } update(e) { } draw() { const e = this._ctx, r = this.chart, n = this._cachedMeta, s = n.data || [], o = r.chartArea, c = [], u = this._drawStart || 0, f = this._drawCount || s.length - u, h = this.options.drawActiveElementsOnTop; let p; for (n.dataset && n.dataset.draw(e, o, u, f), p = u; p < u + f; ++p) { const x = s[p]; x.hidden || (x.active && h ? c.push(x) : x.draw(e, o)) } for (p = 0; p < c.length; ++p)c[p].draw(e, o) } getStyle(e, r) { const n = r ? "active" : "default"; return e === void 0 && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(n) : this.resolveDataElementOptions(e || 0, n) } getContext(e, r, n) { const s = this.getDataset(); let o; if (e >= 0 && e < this._cachedMeta.data.length) { const c = this._cachedMeta.data[e]; o = c.$context || (c.$context = Iae(this.getContext(), e, c)), o.parsed = this.getParsed(e), o.raw = s.data[e], o.index = o.dataIndex = e } else o = this.$context || (this.$context = $ae(this.chart.getContext(), this.index)), o.dataset = s, o.index = o.datasetIndex = this.index; return o.active = !!r, o.mode = n, o } resolveDatasetElementOptions(e) { return this._resolveElementOptions(this.datasetElementType.id, e) } resolveDataElementOptions(e, r) { return this._resolveElementOptions(this.dataElementType.id, r, e) } _resolveElementOptions(e, r = "default", n) { const s = r === "active", o = this._cachedDataOpts, c = e + "-" + r, u = o[c], f = this.enableOptionSharing && hp(n); if (u) return _5(u, f); const h = this.chart.config, p = h.datasetElementScopeKeys(this._type, e), x = s ? [`${e}Hover`, "hover", e, ""] : [e, ""], g = h.getOptionScopes(this.getDataset(), p), v = Object.keys(xr.elements[e]), j = () => this.getContext(n, s, r), S = h.resolveNamedOptions(g, v, j, x); return S.$shared && (S.$shared = f, o[c] = Object.freeze(_5(S, f))), S } _resolveAnimations(e, r, n) { const s = this.chart, o = this._cachedDataOpts, c = `animation-${r}`, u = o[c]; if (u) return u; let f; if (s.options.animation !== !1) { const p = this.chart.config, x = p.datasetAnimationScopeKeys(this._type, r), g = p.getOptionScopes(this.getDataset(), x); f = p.createResolver(g, this.getContext(e, n, r)) } const h = new A6(s, f && f.animations); return f && f._cacheable && (o[c] = Object.freeze(h)), h } getSharedOptions(e) { if (e.$shared) return this._sharedOptions || (this._sharedOptions = Object.assign({}, e)) } includeOptions(e, r) { return !r || Tw(e) || this.chart._animationsDisabled } _getSharedOptions(e, r) { const n = this.resolveDataElementOptions(e, r), s = this._sharedOptions, o = this.getSharedOptions(n), c = this.includeOptions(r, o) || o !== s; return this.updateSharedOptions(o, r, n), { sharedOptions: o, includeOptions: c } } updateElement(e, r, n, s) { Tw(s) ? Object.assign(e, n) : this._resolveAnimations(r, s).update(e, n) } updateSharedOptions(e, r, n) { e && !Tw(r) && this._resolveAnimations(void 0, r).update(e, n) } _setStyle(e, r, n, s) { e.active = s; const o = this.getStyle(r, s); this._resolveAnimations(r, n, s).update(e, { options: !s && this.getSharedOptions(o) || o }) } removeHoverStyle(e, r, n) { this._setStyle(e, n, "active", !1) } setHoverStyle(e, r, n) { this._setStyle(e, n, "active", !0) } _removeDatasetHoverStyle() { const e = this._cachedMeta.dataset; e && this._setStyle(e, void 0, "active", !1) } _setDatasetHoverStyle() { const e = this._cachedMeta.dataset; e && this._setStyle(e, void 0, "active", !0) } _resyncElements(e) { const r = this._data, n = this._cachedMeta.data; for (const [u, f, h] of this._syncList) this[u](f, h); this._syncList = []; const s = n.length, o = r.length, c = Math.min(o, s); c && this.parse(0, c), o > s ? this._insertElements(s, o - s, e) : o < s && this._removeElements(o, s - o) } _insertElements(e, r, n = !0) { const s = this._cachedMeta, o = s.data, c = e + r; let u; const f = h => { for (h.length += r, u = h.length - 1; u >= c; u--)h[u] = h[u - r] }; for (f(o), u = e; u < c; ++u)o[u] = new this.dataElementType; this._parsing && f(s._parsed), this.parse(e, r), n && this.updateElements(o, e, r, "reset") } updateElements(e, r, n, s) { } _removeElements(e, r) { const n = this._cachedMeta; if (this._parsing) { const s = n._parsed.splice(e, r); n._stacked && Au(n, s) } n.data.splice(e, r) } _sync(e) { if (this._parsing) this._syncList.push(e); else { const [r, n, s] = e; this[r](n, s) } this.chart._dataChanges.push([this.index, ...e]) } _onDataPush() { const e = arguments.length; this._sync(["_insertElements", this.getDataset().data.length - e, e]) } _onDataPop() { this._sync(["_removeElements", this._cachedMeta.data.length - 1, 1]) } _onDataShift() { this._sync(["_removeElements", 0, 1]) } _onDataSplice(e, r) { r && this._sync(["_removeElements", e, r]); const n = arguments.length - 2; n && this._sync(["_insertElements", e, n]) } _onDataUnshift() { this._sync(["_insertElements", 0, arguments.length]) } } At(em, "defaults", {}), At(em, "datasetElementType", null), At(em, "dataElementType", null); function mo() { throw new Error("This method is not implemented: Check that a complete date adapter is provided.") } class W1 { constructor(e) { At(this, "options"); this.options = e || {} } static override(e) { Object.assign(W1.prototype, e) } init() { } formats() { return mo() } parse() { return mo() } format() { return mo() } add() { return mo() } diff() { return mo() } startOf() { return mo() } endOf() { return mo() } } var Fae = { _date: W1 }; function Bae(t, e, r, n) { const { controller: s, data: o, _sorted: c } = t, u = s._cachedMeta.iScale, f = t.dataset && t.dataset.options ? t.dataset.options.spanGaps : null; if (u && e === u.axis && e !== "r" && c && o.length) { const h = u._reversePixels ? Rne : xN; if (n) { if (s._sharedOptions) { const p = o[0], x = typeof p.getRange == "function" && p.getRange(e); if (x) { const g = h(o, e, r - x), v = h(o, e, r + x); return { lo: g.lo, hi: v.hi } } } } else { const p = h(o, e, r); if (f) { const { vScale: x } = s._cachedMeta, { _parsed: g } = t, v = g.slice(0, p.lo + 1).reverse().findIndex(S => !sr(S[x.axis])); p.lo -= Math.max(0, v); const j = g.slice(p.hi).findIndex(S => !sr(S[x.axis])); p.hi += Math.max(0, j) } return p } } return { lo: 0, hi: o.length - 1 } } function lx(t, e, r, n, s) { const o = t.getSortedVisibleDatasetMetas(), c = r[e]; for (let u = 0, f = o.length; u < f; ++u) { const { index: h, data: p } = o[u], { lo: x, hi: g } = Bae(o[u], e, c, s); for (let v = x; v <= g; ++v) { const j = p[v]; j.skip || n(j, h, v) } } } function qae(t) { const e = t.indexOf("x") !== -1, r = t.indexOf("y") !== -1; return function (n, s) { const o = e ? Math.abs(n.x - s.x) : 0, c = r ? Math.abs(n.y - s.y) : 0; return Math.sqrt(Math.pow(o, 2) + Math.pow(c, 2)) } } function Pw(t, e, r, n, s) { const o = []; return !s && !t.isPointInArea(e) || lx(t, r, e, function (u, f, h) { !s && !v6(u, t.chartArea, 0) || u.inRange(e.x, e.y, n) && o.push({ element: u, datasetIndex: f, index: h }) }, !0), o } function zae(t, e, r, n) { let s = []; function o(c, u, f) { const { startAngle: h, endAngle: p } = c.getProps(["startAngle", "endAngle"], n), { angle: x } = Dne(c, { x: e.x, y: e.y }); Pne(x, h, p) && s.push({ element: c, datasetIndex: u, index: f }) } return lx(t, r, e, o), s } function Uae(t, e, r, n, s, o) { let c = []; const u = qae(r); let f = Number.POSITIVE_INFINITY; function h(p, x, g) { const v = p.inRange(e.x, e.y, s); if (n && !v) return; const j = p.getCenterPoint(s); if (!(!!o || t.isPointInArea(j)) && !v) return; const w = u(e, j); w < f ? (c = [{ element: p, datasetIndex: x, index: g }], f = w) : w === f && c.push({ element: p, datasetIndex: x, index: g }) } return lx(t, r, e, h), c } function Mw(t, e, r, n, s, o) { return !o && !t.isPointInArea(e) ? [] : r === "r" && !n ? zae(t, e, r, s) : Uae(t, e, r, n, s, o) } function O5(t, e, r, n, s) { const o = [], c = r === "x" ? "inXRange" : "inYRange"; let u = !1; return lx(t, r, e, (f, h, p) => { f[c] && f[c](e[r], s) && (o.push({ element: f, datasetIndex: h, index: p }), u = u || f.inRange(e.x, e.y, s)) }), n && !u ? [] : o } var Hae = { modes: { index(t, e, r, n) { const s = go(e, t), o = r.axis || "x", c = r.includeInvisible || !1, u = r.intersect ? Pw(t, s, o, n, c) : Mw(t, s, o, !1, n, c), f = []; return u.length ? (t.getSortedVisibleDatasetMetas().forEach(h => { const p = u[0].index, x = h.data[p]; x && !x.skip && f.push({ element: x, datasetIndex: h.index, index: p }) }), f) : [] }, dataset(t, e, r, n) { const s = go(e, t), o = r.axis || "xy", c = r.includeInvisible || !1; let u = r.intersect ? Pw(t, s, o, n, c) : Mw(t, s, o, !1, n, c); if (u.length > 0) { const f = u[0].datasetIndex, h = t.getDatasetMeta(f).data; u = []; for (let p = 0; p < h.length; ++p)u.push({ element: h[p], datasetIndex: f, index: p }) } return u }, point(t, e, r, n) { const s = go(e, t), o = r.axis || "xy", c = r.includeInvisible || !1; return Pw(t, s, o, n, c) }, nearest(t, e, r, n) { const s = go(e, t), o = r.axis || "xy", c = r.includeInvisible || !1; return Mw(t, s, o, r.intersect, n, c) }, x(t, e, r, n) { const s = go(e, t); return O5(t, s, "x", r.intersect, n) }, y(t, e, r, n) { const s = go(e, t); return O5(t, s, "y", r.intersect, n) } } }; const D6 = ["left", "top", "right", "bottom"]; function Eu(t, e) { return t.filter(r => r.pos === e) } function C5(t, e) { return t.filter(r => D6.indexOf(r.pos) === -1 && r.box.axis === e) } function Du(t, e) { return t.sort((r, n) => { const s = e ? n : r, o = e ? r : n; return s.weight === o.weight ? s.index - o.index : s.weight - o.weight }) } function Vae(t) { const e = []; let r, n, s, o, c, u; for (r = 0, n = (t || []).length; r < n; ++r)s = t[r], { position: o, options: { stack: c, stackWeight: u = 1 } } = s, e.push({ index: r, box: s, pos: o, horizontal: s.isHorizontal(), weight: s.weight, stack: c && o + c, stackWeight: u }); return e } function Yae(t) { const e = {}; for (const r of t) { const { stack: n, pos: s, stackWeight: o } = r; if (!n || !D6.includes(s)) continue; const c = e[n] || (e[n] = { count: 0, placed: 0, weight: 0, size: 0 }); c.count++, c.weight += o } return e } function Gae(t, e) { const r = Yae(t), { vBoxMaxWidth: n, hBoxMaxHeight: s } = e; let o, c, u; for (o = 0, c = t.length; o < c; ++o) { u = t[o]; const { fullSize: f } = u.box, h = r[u.stack], p = h && u.stackWeight / h.weight; u.horizontal ? (u.width = p ? p * n : f && e.availableWidth, u.height = s) : (u.width = n, u.height = p ? p * s : f && e.availableHeight) } return r } function Kae(t) { const e = Vae(t), r = Du(e.filter(h => h.box.fullSize), !0), n = Du(Eu(e, "left"), !0), s = Du(Eu(e, "right")), o = Du(Eu(e, "top"), !0), c = Du(Eu(e, "bottom")), u = C5(e, "x"), f = C5(e, "y"); return { fullSize: r, leftAndTop: n.concat(o), rightAndBottom: s.concat(f).concat(c).concat(u), chartArea: Eu(e, "chartArea"), vertical: n.concat(s).concat(f), horizontal: o.concat(c).concat(u) } } function k5(t, e, r, n) { return Math.max(t[r], e[r]) + Math.max(t[n], e[n]) } function T6(t, e) { t.top = Math.max(t.top, e.top), t.left = Math.max(t.left, e.left), t.bottom = Math.max(t.bottom, e.bottom), t.right = Math.max(t.right, e.right) } function Wae(t, e, r, n) { const { pos: s, box: o } = r, c = t.maxPadding; if (!_t(s)) { r.size && (t[s] -= r.size); const x = n[r.stack] || { size: 0, count: 1 }; x.size = Math.max(x.size, r.horizontal ? o.height : o.width), r.size = x.size / x.count, t[s] += r.size } o.getPadding && T6(c, o.getPadding()); const u = Math.max(0, e.outerWidth - k5(c, t, "left", "right")), f = Math.max(0, e.outerHeight - k5(c, t, "top", "bottom")), h = u !== t.w, p = f !== t.h; return t.w = u, t.h = f, r.horizontal ? { same: h, other: p } : { same: p, other: h } } function Xae(t) { const e = t.maxPadding; function r(n) { const s = Math.max(e[n] - t[n], 0); return t[n] += s, s } t.y += r("top"), t.x += r("left"), r("right"), r("bottom") } function Jae(t, e) { const r = e.maxPadding; function n(s) { const o = { left: 0, top: 0, right: 0, bottom: 0 }; return s.forEach(c => { o[c] = Math.max(e[c], r[c]) }), o } return n(t ? ["left", "right"] : ["top", "bottom"]) } function qu(t, e, r, n) { const s = []; let o, c, u, f, h, p; for (o = 0, c = t.length, h = 0; o < c; ++o) { u = t[o], f = u.box, f.update(u.width || e.w, u.height || e.h, Jae(u.horizontal, e)); const { same: x, other: g } = Wae(e, r, u, n); h |= x && s.length, p = p || g, f.fullSize || s.push(u) } return h && qu(s, e, r, n) || p } function Bh(t, e, r, n, s) { t.top = r, t.left = e, t.right = e + n, t.bottom = r + s, t.width = n, t.height = s } function A5(t, e, r, n) { const s = r.padding; let { x: o, y: c } = e; for (const u of t) { const f = u.box, h = n[u.stack] || { placed: 0, weight: 1 }, p = u.stackWeight / h.weight || 1; if (u.horizontal) { const x = e.w * p, g = h.size || f.height; hp(h.start) && (c = h.start), f.fullSize ? Bh(f, s.left, c, r.outerWidth - s.right - s.left, g) : Bh(f, e.left + h.placed, c, x, g), h.start = c, h.placed += x, c = f.bottom } else { const x = e.h * p, g = h.size || f.width; hp(h.start) && (o = h.start), f.fullSize ? Bh(f, o, s.top, g, r.outerHeight - s.bottom - s.top) : Bh(f, o, e.top + h.placed, g, x), h.start = o, h.placed += x, o = f.right } } e.x = o, e.y = c } var ta = { addBox(t, e) { t.boxes || (t.boxes = []), e.fullSize = e.fullSize || !1, e.position = e.position || "top", e.weight = e.weight || 0, e._layers = e._layers || function () { return [{ z: 0, draw(r) { e.draw(r) } }] }, t.boxes.push(e) }, removeBox(t, e) { const r = t.boxes ? t.boxes.indexOf(e) : -1; r !== -1 && t.boxes.splice(r, 1) }, configure(t, e, r) { e.fullSize = r.fullSize, e.position = r.position, e.weight = r.weight }, update(t, e, r, n) { if (!t) return; const s = ia(t.options.layout.padding), o = Math.max(e - s.width, 0), c = Math.max(r - s.height, 0), u = Kae(t.boxes), f = u.vertical, h = u.horizontal; $t(t.boxes, S => { typeof S.beforeLayout == "function" && S.beforeLayout() }); const p = f.reduce((S, w) => w.box.options && w.box.options.display === !1 ? S : S + 1, 0) || 1, x = Object.freeze({ outerWidth: e, outerHeight: r, padding: s, availableWidth: o, availableHeight: c, vBoxMaxWidth: o / 2 / p, hBoxMaxHeight: c / 2 }), g = Object.assign({}, s); T6(g, ia(n)); const v = Object.assign({ maxPadding: g, w: o, h: c, x: s.left, y: s.top }, s), j = Gae(f.concat(h), x); qu(u.fullSize, v, x, j), qu(f, v, x, j), qu(h, v, x, j) && qu(f, v, x, j), Xae(v), A5(u.leftAndTop, v, x, j), v.x += v.w, v.y += v.h, A5(u.rightAndBottom, v, x, j), t.chartArea = { left: v.left, top: v.top, right: v.left + v.w, bottom: v.top + v.h, height: v.h, width: v.w }, $t(u.chartArea, S => { const w = S.box; Object.assign(w, t.chartArea), w.update(v.w, v.h, { left: 0, top: 0, right: 0, bottom: 0 }) }) } }; class P6 { acquireContext(e, r) { } releaseContext(e) { return !1 } addEventListener(e, r, n) { } removeEventListener(e, r, n) { } getDevicePixelRatio() { return 1 } getMaximumSize(e, r, n, s) { return r = Math.max(0, r || e.width), n = n || e.height, { width: r, height: Math.max(0, s ? Math.floor(r / s) : n) } } isAttached(e) { return !0 } updateConfig(e) { } } class Qae extends P6 { acquireContext(e) { return e && e.getContext && e.getContext("2d") || null } updateConfig(e) { e.options.animation = !1 } } const tm = "$chartjs", Zae = { touchstart: "mousedown", touchmove: "mousemove", touchend: "mouseup", pointerenter: "mouseenter", pointerdown: "mousedown", pointermove: "mousemove", pointerup: "mouseup", pointerleave: "mouseout", pointerout: "mouseout" }, E5 = t => t === null || t === ""; function ese(t, e) { const r = t.style, n = t.getAttribute("height"), s = t.getAttribute("width"); if (t[tm] = { initial: { height: n, width: s, style: { display: r.display, height: r.height, width: r.width } } }, r.display = r.display || "block", r.boxSizing = r.boxSizing || "border-box", E5(s)) { const o = b5(t, "width"); o !== void 0 && (t.width = o) } if (E5(n)) if (t.style.height === "") t.height = t.width / (e || 2); else { const o = b5(t, "height"); o !== void 0 && (t.height = o) } return t } const M6 = vae ? { passive: !0 } : !1; function tse(t, e, r) { t && t.addEventListener(e, r, M6) } function rse(t, e, r) { t && t.canvas && t.canvas.removeEventListener(e, r, M6) } function nse(t, e) { const r = Zae[t.type] || t.type, { x: n, y: s } = go(t, e); return { type: r, chart: e, native: t, x: n !== void 0 ? n : null, y: s !== void 0 ? s : null } } function bp(t, e) { for (const r of t) if (r === e || r.contains(e)) return !0 } function ase(t, e, r) { const n = t.canvas, s = new MutationObserver(o => { let c = !1; for (const u of o) c = c || bp(u.addedNodes, n), c = c && !bp(u.removedNodes, n); c && r() }); return s.observe(document, { childList: !0, subtree: !0 }), s } function sse(t, e, r) { const n = t.canvas, s = new MutationObserver(o => { let c = !1; for (const u of o) c = c || bp(u.removedNodes, n), c = c && !bp(u.addedNodes, n); c && r() }); return s.observe(document, { childList: !0, subtree: !0 }), s } const Bd = new Map; let D5 = 0; function R6() { const t = window.devicePixelRatio; t !== D5 && (D5 = t, Bd.forEach((e, r) => { r.currentDevicePixelRatio !== t && e() })) } function ise(t, e) { Bd.size || window.addEventListener("resize", R6), Bd.set(t, e) } function ose(t) { Bd.delete(t), Bd.size || window.removeEventListener("resize", R6) } function lse(t, e, r) { const n = t.canvas, s = n && K1(n); if (!s) return; const o = p6((u, f) => { const h = s.clientWidth; r(u, f), h < s.clientWidth && r() }, window), c = new ResizeObserver(u => { const f = u[0], h = f.contentRect.width, p = f.contentRect.height; h === 0 && p === 0 || o(h, p) }); return c.observe(s), ise(t, o), c } function Rw(t, e, r) { r && r.disconnect(), e === "resize" && ose(t) } function cse(t, e, r) { const n = t.canvas, s = p6(o => { t.ctx !== null && r(nse(o, t)) }, t); return tse(n, e, s), s } class use extends P6 { acquireContext(e, r) { const n = e && e.getContext && e.getContext("2d"); return n && n.canvas === e ? (ese(e, r), n) : null } releaseContext(e) { const r = e.canvas; if (!r[tm]) return !1; const n = r[tm].initial;["height", "width"].forEach(o => { const c = n[o]; sr(c) ? r.removeAttribute(o) : r.setAttribute(o, c) }); const s = n.style || {}; return Object.keys(s).forEach(o => { r.style[o] = s[o] }), r.width = r.width, delete r[tm], !0 } addEventListener(e, r, n) { this.removeEventListener(e, r); const s = e.$proxies || (e.$proxies = {}), c = { attach: ase, detach: sse, resize: lse }[r] || cse; s[r] = c(e, r, n) } removeEventListener(e, r) { const n = e.$proxies || (e.$proxies = {}), s = n[r]; if (!s) return; ({ attach: Rw, detach: Rw, resize: Rw }[r] || rse)(e, r, s), n[r] = void 0 } getDevicePixelRatio() { return window.devicePixelRatio } getMaximumSize(e, r, n, s) { return bae(e, r, n, s) } isAttached(e) { const r = e && K1(e); return !!(r && r.isConnected) } } function dse(t) { return !G1() || typeof OffscreenCanvas < "u" && t instanceof OffscreenCanvas ? Qae : use } class $i { constructor() { At(this, "x"); At(this, "y"); At(this, "active", !1); At(this, "options"); At(this, "$animations") } tooltipPosition(e) { const { x: r, y: n } = this.getProps(["x", "y"], e); return { x: r, y: n } } hasValue() { return xp(this.x) && xp(this.y) } getProps(e, r) { const n = this.$animations; if (!r || !n) return this; const s = {}; return e.forEach(o => { s[o] = n[o] && n[o].active() ? n[o]._to : this[o] }), s } } At($i, "defaults", {}), At($i, "defaultRoutes"); function fse(t, e) { const r = t.options.ticks, n = hse(t), s = Math.min(r.maxTicksLimit || n, n), o = r.major.enabled ? pse(e) : [], c = o.length, u = o[0], f = o[c - 1], h = []; if (c > s) return xse(e, h, o, c / s), h; const p = mse(o, e, s); if (c > 0) { let x, g; const v = c > 1 ? Math.round((f - u) / (c - 1)) : null; for (qh(e, h, p, sr(v) ? 0 : u - v, u), x = 0, g = c - 1; x < g; x++)qh(e, h, p, o[x], o[x + 1]); return qh(e, h, p, f, sr(v) ? e.length : f + v), h } return qh(e, h, p), h } function hse(t) { const e = t.options.offset, r = t._tickSize(), n = t._length / r + (e ? 0 : 1), s = t._maxLength / r; return Math.floor(Math.min(n, s)) } function mse(t, e, r) { const n = gse(t), s = e.length / r; if (!n) return Math.max(s, 1); const o = One(n); for (let c = 0, u = o.length - 1; c < u; c++) { const f = o[c]; if (f > s) return f } return Math.max(s, 1) } function pse(t) { const e = []; let r, n; for (r = 0, n = t.length; r < n; r++)t[r].major && e.push(r); return e } function xse(t, e, r, n) { let s = 0, o = r[0], c; for (n = Math.ceil(n), c = 0; c < t.length; c++)c === o && (e.push(t[c]), s++, o = r[s * n]) } function qh(t, e, r, n, s) { const o = zt(n, 0), c = Math.min(zt(s, t.length), t.length); let u = 0, f, h, p; for (r = Math.ceil(r), s && (f = s - n, r = f / Math.floor(f / r)), p = o; p < 0;)u++, p = Math.round(o + u * r); for (h = Math.max(o, 0); h < c; h++)h === p && (e.push(t[h]), u++, p = Math.round(o + u * r)) } function gse(t) { const e = t.length; let r, n; if (e < 2) return !1; for (n = t[0], r = 1; r < e; ++r)if (t[r] - t[r - 1] !== n) return !1; return n } const yse = t => t === "left" ? "right" : t === "right" ? "left" : t, T5 = (t, e, r) => e === "top" || e === "left" ? t[e] + r : t[e] - r, P5 = (t, e) => Math.min(e || t, t); function M5(t, e) { const r = [], n = t.length / e, s = t.length; let o = 0; for (; o < s; o += n)r.push(t[Math.floor(o)]); return r } function bse(t, e, r) { const n = t.ticks.length, s = Math.min(e, n - 1), o = t._startPixel, c = t._endPixel, u = 1e-6; let f = t.getPixelForTick(s), h; if (!(r && (n === 1 ? h = Math.max(f - o, c - f) : e === 0 ? h = (t.getPixelForTick(1) - f) / 2 : h = (f - t.getPixelForTick(s - 1)) / 2, f += s < e ? h : -h, f < o - u || f > c + u))) return f } function vse(t, e) { $t(t, r => { const n = r.gc, s = n.length / 2; let o; if (s > e) { for (o = 0; o < s; ++o)delete r.data[n[o]]; n.splice(0, s) } }) } function Tu(t) { return t.drawTicks ? t.tickLength : 0 } function R5(t, e) { if (!t.display) return 0; const r = en(t.font, e), n = ia(t.padding); return (Ir(t.text) ? t.text.length : 1) * r.lineHeight + n.height } function wse(t, e) { return Cc(t, { scale: e, type: "scale" }) } function jse(t, e, r) { return Cc(t, { tick: r, index: e, type: "tick" }) } function Nse(t, e, r) { let n = q1(t); return (r && e !== "right" || !r && e === "right") && (n = yse(n)), n } function Sse(t, e, r, n) { const { top: s, left: o, bottom: c, right: u, chart: f } = t, { chartArea: h, scales: p } = f; let x = 0, g, v, j; const S = c - s, w = u - o; if (t.isHorizontal()) { if (v = Jr(n, o, u), _t(r)) { const O = Object.keys(r)[0], D = r[O]; j = p[O].getPixelForValue(D) + S - e } else r === "center" ? j = (h.bottom + h.top) / 2 + S - e : j = T5(t, r, e); g = u - o } else { if (_t(r)) { const O = Object.keys(r)[0], D = r[O]; v = p[O].getPixelForValue(D) - w + e } else r === "center" ? v = (h.left + h.right) / 2 - w + e : v = T5(t, r, e); j = Jr(n, c, s), x = r === "left" ? -Sa : Sa } return { titleX: v, titleY: j, maxWidth: g, rotation: x } } class kc extends $i { constructor(e) { super(), this.id = e.id, this.type = e.type, this.options = void 0, this.ctx = e.ctx, this.chart = e.chart, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.width = void 0, this.height = void 0, this._margins = { left: 0, right: 0, top: 0, bottom: 0 }, this.maxWidth = void 0, this.maxHeight = void 0, this.paddingTop = void 0, this.paddingBottom = void 0, this.paddingLeft = void 0, this.paddingRight = void 0, this.axis = void 0, this.labelRotation = void 0, this.min = void 0, this.max = void 0, this._range = void 0, this.ticks = [], this._gridLineItems = null, this._labelItems = null, this._labelSizes = null, this._length = 0, this._maxLength = 0, this._longestTextCache = {}, this._startPixel = void 0, this._endPixel = void 0, this._reversePixels = !1, this._userMax = void 0, this._userMin = void 0, this._suggestedMax = void 0, this._suggestedMin = void 0, this._ticksLength = 0, this._borderValue = 0, this._cache = {}, this._dataLimitsCached = !1, this.$context = void 0 } init(e) { this.options = e.setContext(this.getContext()), this.axis = e.axis, this._userMin = this.parse(e.min), this._userMax = this.parse(e.max), this._suggestedMin = this.parse(e.suggestedMin), this._suggestedMax = this.parse(e.suggestedMax) } parse(e, r) { return e } getUserBounds() { let { _userMin: e, _userMax: r, _suggestedMin: n, _suggestedMax: s } = this; return e = $a(e, Number.POSITIVE_INFINITY), r = $a(r, Number.NEGATIVE_INFINITY), n = $a(n, Number.POSITIVE_INFINITY), s = $a(s, Number.NEGATIVE_INFINITY), { min: $a(e, n), max: $a(r, s), minDefined: sa(e), maxDefined: sa(r) } } getMinMax(e) { let { min: r, max: n, minDefined: s, maxDefined: o } = this.getUserBounds(), c; if (s && o) return { min: r, max: n }; const u = this.getMatchingVisibleMetas(); for (let f = 0, h = u.length; f < h; ++f)c = u[f].controller.getMinMax(this, e), s || (r = Math.min(r, c.min)), o || (n = Math.max(n, c.max)); return r = o && r > n ? n : r, n = s && r > n ? r : n, { min: $a(r, $a(n, r)), max: $a(n, $a(r, n)) } } getPadding() { return { left: this.paddingLeft || 0, top: this.paddingTop || 0, right: this.paddingRight || 0, bottom: this.paddingBottom || 0 } } getTicks() { return this.ticks } getLabels() { const e = this.chart.data; return this.options.labels || (this.isHorizontal() ? e.xLabels : e.yLabels) || e.labels || [] } getLabelItems(e = this.chart.chartArea) { return this._labelItems || (this._labelItems = this._computeLabelItems(e)) } beforeLayout() { this._cache = {}, this._dataLimitsCached = !1 } beforeUpdate() { Qt(this.options.beforeUpdate, [this]) } update(e, r, n) { const { beginAtZero: s, grace: o, ticks: c } = this.options, u = c.sampleSize; this.beforeUpdate(), this.maxWidth = e, this.maxHeight = r, this._margins = n = Object.assign({ left: 0, right: 0, top: 0, bottom: 0 }, n), this.ticks = null, this._labelSizes = null, this._gridLineItems = null, this._labelItems = null, this.beforeSetDimensions(), this.setDimensions(), this.afterSetDimensions(), this._maxLength = this.isHorizontal() ? this.width + n.left + n.right : this.height + n.top + n.bottom, this._dataLimitsCached || (this.beforeDataLimits(), this.determineDataLimits(), this.afterDataLimits(), this._range = aae(this, o, s), this._dataLimitsCached = !0), this.beforeBuildTicks(), this.ticks = this.buildTicks() || [], this.afterBuildTicks(); const f = u < this.ticks.length; this._convertTicksToLabels(f ? M5(this.ticks, u) : this.ticks), this.configure(), this.beforeCalculateLabelRotation(), this.calculateLabelRotation(), this.afterCalculateLabelRotation(), c.display && (c.autoSkip || c.source === "auto") && (this.ticks = fse(this, this.ticks), this._labelSizes = null, this.afterAutoSkip()), f && this._convertTicksToLabels(this.ticks), this.beforeFit(), this.fit(), this.afterFit(), this.afterUpdate() } configure() { let e = this.options.reverse, r, n; this.isHorizontal() ? (r = this.left, n = this.right) : (r = this.top, n = this.bottom, e = !e), this._startPixel = r, this._endPixel = n, this._reversePixels = e, this._length = n - r, this._alignToPixels = this.options.alignToPixels } afterUpdate() { Qt(this.options.afterUpdate, [this]) } beforeSetDimensions() { Qt(this.options.beforeSetDimensions, [this]) } setDimensions() { this.isHorizontal() ? (this.width = this.maxWidth, this.left = 0, this.right = this.width) : (this.height = this.maxHeight, this.top = 0, this.bottom = this.height), this.paddingLeft = 0, this.paddingTop = 0, this.paddingRight = 0, this.paddingBottom = 0 } afterSetDimensions() { Qt(this.options.afterSetDimensions, [this]) } _callHooks(e) { this.chart.notifyPlugins(e, this.getContext()), Qt(this.options[e], [this]) } beforeDataLimits() { this._callHooks("beforeDataLimits") } determineDataLimits() { } afterDataLimits() { this._callHooks("afterDataLimits") } beforeBuildTicks() { this._callHooks("beforeBuildTicks") } buildTicks() { return [] } afterBuildTicks() { this._callHooks("afterBuildTicks") } beforeTickToLabelConversion() { Qt(this.options.beforeTickToLabelConversion, [this]) } generateTickLabels(e) { const r = this.options.ticks; let n, s, o; for (n = 0, s = e.length; n < s; n++)o = e[n], o.label = Qt(r.callback, [o.value, n, e], this) } afterTickToLabelConversion() { Qt(this.options.afterTickToLabelConversion, [this]) } beforeCalculateLabelRotation() { Qt(this.options.beforeCalculateLabelRotation, [this]) } calculateLabelRotation() { const e = this.options, r = e.ticks, n = P5(this.ticks.length, e.ticks.maxTicksLimit), s = r.minRotation || 0, o = r.maxRotation; let c = s, u, f, h; if (!this._isVisible() || !r.display || s >= o || n <= 1 || !this.isHorizontal()) { this.labelRotation = s; return } const p = this._getLabelSizes(), x = p.widest.width, g = p.highest.height, v = _a(this.chart.width - x, 0, this.maxWidth); u = e.offset ? this.maxWidth / n : v / (n - 1), x + 6 > u && (u = v / (n - (e.offset ? .5 : 1)), f = this.maxHeight - Tu(e.grid) - r.padding - R5(e.title, this.chart.options.font), h = Math.sqrt(x * x + g * g), c = Ene(Math.min(Math.asin(_a((p.highest.height + 6) / u, -1, 1)), Math.asin(_a(f / h, -1, 1)) - Math.asin(_a(g / h, -1, 1)))), c = Math.max(s, Math.min(o, c))), this.labelRotation = c } afterCalculateLabelRotation() { Qt(this.options.afterCalculateLabelRotation, [this]) } afterAutoSkip() { } beforeFit() { Qt(this.options.beforeFit, [this]) } fit() { const e = { width: 0, height: 0 }, { chart: r, options: { ticks: n, title: s, grid: o } } = this, c = this._isVisible(), u = this.isHorizontal(); if (c) { const f = R5(s, r.options.font); if (u ? (e.width = this.maxWidth, e.height = Tu(o) + f) : (e.height = this.maxHeight, e.width = Tu(o) + f), n.display && this.ticks.length) { const { first: h, last: p, widest: x, highest: g } = this._getLabelSizes(), v = n.padding * 2, j = So(this.labelRotation), S = Math.cos(j), w = Math.sin(j); if (u) { const O = n.mirror ? 0 : w * x.width + S * g.height; e.height = Math.min(this.maxHeight, e.height + O + v) } else { const O = n.mirror ? 0 : S * x.width + w * g.height; e.width = Math.min(this.maxWidth, e.width + O + v) } this._calculatePadding(h, p, w, S) } } this._handleMargins(), u ? (this.width = this._length = r.width - this._margins.left - this._margins.right, this.height = e.height) : (this.width = e.width, this.height = this._length = r.height - this._margins.top - this._margins.bottom) } _calculatePadding(e, r, n, s) { const { ticks: { align: o, padding: c }, position: u } = this.options, f = this.labelRotation !== 0, h = u !== "top" && this.axis === "x"; if (this.isHorizontal()) { const p = this.getPixelForTick(0) - this.left, x = this.right - this.getPixelForTick(this.ticks.length - 1); let g = 0, v = 0; f ? h ? (g = s * e.width, v = n * r.height) : (g = n * e.height, v = s * r.width) : o === "start" ? v = r.width : o === "end" ? g = e.width : o !== "inner" && (g = e.width / 2, v = r.width / 2), this.paddingLeft = Math.max((g - p + c) * this.width / (this.width - p), 0), this.paddingRight = Math.max((v - x + c) * this.width / (this.width - x), 0) } else { let p = r.height / 2, x = e.height / 2; o === "start" ? (p = 0, x = e.height) : o === "end" && (p = r.height, x = 0), this.paddingTop = p + c, this.paddingBottom = x + c } } _handleMargins() { this._margins && (this._margins.left = Math.max(this.paddingLeft, this._margins.left), this._margins.top = Math.max(this.paddingTop, this._margins.top), this._margins.right = Math.max(this.paddingRight, this._margins.right), this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom)) } afterFit() { Qt(this.options.afterFit, [this]) } isHorizontal() { const { axis: e, position: r } = this.options; return r === "top" || r === "bottom" || e === "x" } isFullSize() { return this.options.fullSize } _convertTicksToLabels(e) { this.beforeTickToLabelConversion(), this.generateTickLabels(e); let r, n; for (r = 0, n = e.length; r < n; r++)sr(e[r].label) && (e.splice(r, 1), n--, r--); this.afterTickToLabelConversion() } _getLabelSizes() { let e = this._labelSizes; if (!e) { const r = this.options.ticks.sampleSize; let n = this.ticks; r < n.length && (n = M5(n, r)), this._labelSizes = e = this._computeLabelSizes(n, n.length, this.options.ticks.maxTicksLimit) } return e } _computeLabelSizes(e, r, n) { const { ctx: s, _longestTextCache: o } = this, c = [], u = [], f = Math.floor(r / P5(r, n)); let h = 0, p = 0, x, g, v, j, S, w, O, D, R, H, C; for (x = 0; x < r; x += f) { if (j = e[x].label, S = this._resolveTickFontOptions(x), s.font = w = S.string, O = o[w] = o[w] || { data: {}, gc: [] }, D = S.lineHeight, R = H = 0, !sr(j) && !Ir(j)) R = h5(s, O.data, O.gc, R, j), H = D; else if (Ir(j)) for (g = 0, v = j.length; g < v; ++g)C = j[g], !sr(C) && !Ir(C) && (R = h5(s, O.data, O.gc, R, C), H += D); c.push(R), u.push(H), h = Math.max(R, h), p = Math.max(H, p) } vse(o, r); const k = c.indexOf(h), F = u.indexOf(p), P = W => ({ width: c[W] || 0, height: u[W] || 0 }); return { first: P(0), last: P(r - 1), widest: P(k), highest: P(F), widths: c, heights: u } } getLabelForValue(e) { return e } getPixelForValue(e, r) { return NaN } getValueForPixel(e) { } getPixelForTick(e) { const r = this.ticks; return e < 0 || e > r.length - 1 ? null : this.getPixelForValue(r[e].value) } getPixelForDecimal(e) { this._reversePixels && (e = 1 - e); const r = this._startPixel + e * this._length; return Mne(this._alignToPixels ? ho(this.chart, r, 0) : r) } getDecimalForPixel(e) { const r = (e - this._startPixel) / this._length; return this._reversePixels ? 1 - r : r } getBasePixel() { return this.getPixelForValue(this.getBaseValue()) } getBaseValue() { const { min: e, max: r } = this; return e < 0 && r < 0 ? r : e > 0 && r > 0 ? e : 0 } getContext(e) { const r = this.ticks || []; if (e >= 0 && e < r.length) { const n = r[e]; return n.$context || (n.$context = jse(this.getContext(), e, n)) } return this.$context || (this.$context = wse(this.chart.getContext(), this)) } _tickSize() { const e = this.options.ticks, r = So(this.labelRotation), n = Math.abs(Math.cos(r)), s = Math.abs(Math.sin(r)), o = this._getLabelSizes(), c = e.autoSkipPadding || 0, u = o ? o.widest.width + c : 0, f = o ? o.highest.height + c : 0; return this.isHorizontal() ? f * n > u * s ? u / n : f / s : f * s < u * n ? f / n : u / s } _isVisible() { const e = this.options.display; return e !== "auto" ? !!e : this.getMatchingVisibleMetas().length > 0 } _computeGridLineItems(e) { const r = this.axis, n = this.chart, s = this.options, { grid: o, position: c, border: u } = s, f = o.offset, h = this.isHorizontal(), x = this.ticks.length + (f ? 1 : 0), g = Tu(o), v = [], j = u.setContext(this.getContext()), S = j.display ? j.width : 0, w = S / 2, O = function (U) { return ho(n, U, S) }; let D, R, H, C, k, F, P, W, J, Q, V, ae; if (c === "top") D = O(this.bottom), F = this.bottom - g, W = D - w, Q = O(e.top) + w, ae = e.bottom; else if (c === "bottom") D = O(this.top), Q = e.top, ae = O(e.bottom) - w, F = D + w, W = this.top + g; else if (c === "left") D = O(this.right), k = this.right - g, P = D - w, J = O(e.left) + w, V = e.right; else if (c === "right") D = O(this.left), J = e.left, V = O(e.right) - w, k = D + w, P = this.left + g; else if (r === "x") { if (c === "center") D = O((e.top + e.bottom) / 2 + .5); else if (_t(c)) { const U = Object.keys(c)[0], le = c[U]; D = O(this.chart.scales[U].getPixelForValue(le)) } Q = e.top, ae = e.bottom, F = D + w, W = F + g } else if (r === "y") { if (c === "center") D = O((e.left + e.right) / 2); else if (_t(c)) { const U = Object.keys(c)[0], le = c[U]; D = O(this.chart.scales[U].getPixelForValue(le)) } k = D - w, P = k - g, J = e.left, V = e.right } const ie = zt(s.ticks.maxTicksLimit, x), se = Math.max(1, Math.ceil(x / ie)); for (R = 0; R < x; R += se) { const U = this.getContext(R), le = o.setContext(U), de = u.setContext(U), me = le.lineWidth, pe = le.color, M = de.dash || [], Z = de.dashOffset, ce = le.tickWidth, ne = le.tickColor, L = le.tickBorderDash || [], I = le.tickBorderDashOffset; H = bse(this, R, f), H !== void 0 && (C = ho(n, H, me), h ? k = P = J = V = C : F = W = Q = ae = C, v.push({ tx1: k, ty1: F, tx2: P, ty2: W, x1: J, y1: Q, x2: V, y2: ae, width: me, color: pe, borderDash: M, borderDashOffset: Z, tickWidth: ce, tickColor: ne, tickBorderDash: L, tickBorderDashOffset: I })) } return this._ticksLength = x, this._borderValue = D, v } _computeLabelItems(e) { const r = this.axis, n = this.options, { position: s, ticks: o } = n, c = this.isHorizontal(), u = this.ticks, { align: f, crossAlign: h, padding: p, mirror: x } = o, g = Tu(n.grid), v = g + p, j = x ? -p : v, S = -So(this.labelRotation), w = []; let O, D, R, H, C, k, F, P, W, J, Q, V, ae = "middle"; if (s === "top") k = this.bottom - j, F = this._getXAxisLabelAlignment(); else if (s === "bottom") k = this.top + j, F = this._getXAxisLabelAlignment(); else if (s === "left") { const se = this._getYAxisLabelAlignment(g); F = se.textAlign, C = se.x } else if (s === "right") { const se = this._getYAxisLabelAlignment(g); F = se.textAlign, C = se.x } else if (r === "x") { if (s === "center") k = (e.top + e.bottom) / 2 + v; else if (_t(s)) { const se = Object.keys(s)[0], U = s[se]; k = this.chart.scales[se].getPixelForValue(U) + v } F = this._getXAxisLabelAlignment() } else if (r === "y") { if (s === "center") C = (e.left + e.right) / 2 - v; else if (_t(s)) { const se = Object.keys(s)[0], U = s[se]; C = this.chart.scales[se].getPixelForValue(U) } F = this._getYAxisLabelAlignment(g).textAlign } r === "y" && (f === "start" ? ae = "top" : f === "end" && (ae = "bottom")); const ie = this._getLabelSizes(); for (O = 0, D = u.length; O < D; ++O) { R = u[O], H = R.label; const se = o.setContext(this.getContext(O)); P = this.getPixelForTick(O) + o.labelOffset, W = this._resolveTickFontOptions(O), J = W.lineHeight, Q = Ir(H) ? H.length : 1; const U = Q / 2, le = se.color, de = se.textStrokeColor, me = se.textStrokeWidth; let pe = F; c ? (C = P, F === "inner" && (O === D - 1 ? pe = this.options.reverse ? "left" : "right" : O === 0 ? pe = this.options.reverse ? "right" : "left" : pe = "center"), s === "top" ? h === "near" || S !== 0 ? V = -Q * J + J / 2 : h === "center" ? V = -ie.highest.height / 2 - U * J + J : V = -ie.highest.height + J / 2 : h === "near" || S !== 0 ? V = J / 2 : h === "center" ? V = ie.highest.height / 2 - U * J : V = ie.highest.height - Q * J, x && (V *= -1), S !== 0 && !se.showLabelBackdrop && (C += J / 2 * Math.sin(S))) : (k = P, V = (1 - Q) * J / 2); let M; if (se.showLabelBackdrop) { const Z = ia(se.backdropPadding), ce = ie.heights[O], ne = ie.widths[O]; let L = V - Z.top, I = 0 - Z.left; switch (ae) { case "middle": L -= ce / 2; break; case "bottom": L -= ce; break }switch (F) { case "center": I -= ne / 2; break; case "right": I -= ne; break; case "inner": O === D - 1 ? I -= ne : O > 0 && (I -= ne / 2); break }M = { left: I, top: L, width: ne + Z.width, height: ce + Z.height, color: se.backdropColor } } w.push({ label: H, font: W, textOffset: V, options: { rotation: S, color: le, strokeColor: de, strokeWidth: me, textAlign: pe, textBaseline: ae, translation: [C, k], backdrop: M } }) } return w } _getXAxisLabelAlignment() { const { position: e, ticks: r } = this.options; if (-So(this.labelRotation)) return e === "top" ? "left" : "right"; let s = "center"; return r.align === "start" ? s = "left" : r.align === "end" ? s = "right" : r.align === "inner" && (s = "inner"), s } _getYAxisLabelAlignment(e) { const { position: r, ticks: { crossAlign: n, mirror: s, padding: o } } = this.options, c = this._getLabelSizes(), u = e + o, f = c.widest.width; let h, p; return r === "left" ? s ? (p = this.right + o, n === "near" ? h = "left" : n === "center" ? (h = "center", p += f / 2) : (h = "right", p += f)) : (p = this.right - u, n === "near" ? h = "right" : n === "center" ? (h = "center", p -= f / 2) : (h = "left", p = this.left)) : r === "right" ? s ? (p = this.left + o, n === "near" ? h = "right" : n === "center" ? (h = "center", p -= f / 2) : (h = "left", p -= f)) : (p = this.left + u, n === "near" ? h = "left" : n === "center" ? (h = "center", p += f / 2) : (h = "right", p = this.right)) : h = "right", { textAlign: h, x: p } } _computeLabelArea() { if (this.options.ticks.mirror) return; const e = this.chart, r = this.options.position; if (r === "left" || r === "right") return { top: 0, left: this.left, bottom: e.height, right: this.right }; if (r === "top" || r === "bottom") return { top: this.top, left: 0, bottom: this.bottom, right: e.width } } drawBackground() { const { ctx: e, options: { backgroundColor: r }, left: n, top: s, width: o, height: c } = this; r && (e.save(), e.fillStyle = r, e.fillRect(n, s, o, c), e.restore()) } getLineWidthForValue(e) { const r = this.options.grid; if (!this._isVisible() || !r.display) return 0; const s = this.ticks.findIndex(o => o.value === e); return s >= 0 ? r.setContext(this.getContext(s)).lineWidth : 0 } drawGrid(e) { const r = this.options.grid, n = this.ctx, s = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(e)); let o, c; const u = (f, h, p) => { !p.width || !p.color || (n.save(), n.lineWidth = p.width, n.strokeStyle = p.color, n.setLineDash(p.borderDash || []), n.lineDashOffset = p.borderDashOffset, n.beginPath(), n.moveTo(f.x, f.y), n.lineTo(h.x, h.y), n.stroke(), n.restore()) }; if (r.display) for (o = 0, c = s.length; o < c; ++o) { const f = s[o]; r.drawOnChartArea && u({ x: f.x1, y: f.y1 }, { x: f.x2, y: f.y2 }, f), r.drawTicks && u({ x: f.tx1, y: f.ty1 }, { x: f.tx2, y: f.ty2 }, { color: f.tickColor, width: f.tickWidth, borderDash: f.tickBorderDash, borderDashOffset: f.tickBorderDashOffset }) } } drawBorder() { const { chart: e, ctx: r, options: { border: n, grid: s } } = this, o = n.setContext(this.getContext()), c = n.display ? o.width : 0; if (!c) return; const u = s.setContext(this.getContext(0)).lineWidth, f = this._borderValue; let h, p, x, g; this.isHorizontal() ? (h = ho(e, this.left, c) - c / 2, p = ho(e, this.right, u) + u / 2, x = g = f) : (x = ho(e, this.top, c) - c / 2, g = ho(e, this.bottom, u) + u / 2, h = p = f), r.save(), r.lineWidth = o.width, r.strokeStyle = o.color, r.beginPath(), r.moveTo(h, x), r.lineTo(p, g), r.stroke(), r.restore() } drawLabels(e) { if (!this.options.ticks.display) return; const n = this.ctx, s = this._computeLabelArea(); s && z1(n, s); const o = this.getLabelItems(e); for (const c of o) { const u = c.options, f = c.font, h = c.label, p = c.textOffset; Fd(n, h, 0, p, f, u) } s && U1(n) } drawTitle() { const { ctx: e, options: { position: r, title: n, reverse: s } } = this; if (!n.display) return; const o = en(n.font), c = ia(n.padding), u = n.align; let f = o.lineHeight / 2; r === "bottom" || r === "center" || _t(r) ? (f += c.bottom, Ir(n.text) && (f += o.lineHeight * (n.text.length - 1))) : f += c.top; const { titleX: h, titleY: p, maxWidth: x, rotation: g } = Sse(this, f, r, u); Fd(e, n.text, 0, 0, o, { color: n.color, maxWidth: x, rotation: g, textAlign: Nse(u, r, s), textBaseline: "middle", translation: [h, p] }) } draw(e) { this._isVisible() && (this.drawBackground(), this.drawGrid(e), this.drawBorder(), this.drawTitle(), this.drawLabels(e)) } _layers() { const e = this.options, r = e.ticks && e.ticks.z || 0, n = zt(e.grid && e.grid.z, -1), s = zt(e.border && e.border.z, 0); return !this._isVisible() || this.draw !== kc.prototype.draw ? [{ z: r, draw: o => { this.draw(o) } }] : [{ z: n, draw: o => { this.drawBackground(), this.drawGrid(o), this.drawTitle() } }, { z: s, draw: () => { this.drawBorder() } }, { z: r, draw: o => { this.drawLabels(o) } }] } getMatchingVisibleMetas(e) { const r = this.chart.getSortedVisibleDatasetMetas(), n = this.axis + "AxisID", s = []; let o, c; for (o = 0, c = r.length; o < c; ++o) { const u = r[o]; u[n] === this.id && (!e || u.type === e) && s.push(u) } return s } _resolveTickFontOptions(e) { const r = this.options.ticks.setContext(this.getContext(e)); return en(r.font) } _maxDigits() { const e = this._resolveTickFontOptions(0).lineHeight; return (this.isHorizontal() ? this.width : this.height) / e } } class zh { constructor(e, r, n) { this.type = e, this.scope = r, this.override = n, this.items = Object.create(null) } isForType(e) { return Object.prototype.isPrototypeOf.call(this.type.prototype, e.prototype) } register(e) { const r = Object.getPrototypeOf(e); let n; Cse(r) && (n = this.register(r)); const s = this.items, o = e.id, c = this.scope + "." + o; if (!o) throw new Error("class does not have id: " + e); return o in s || (s[o] = e, _se(e, c, n), this.override && xr.override(e.id, e.overrides)), c } get(e) { return this.items[e] } unregister(e) { const r = this.items, n = e.id, s = this.scope; n in r && delete r[n], s && n in xr[s] && (delete xr[s][n], this.override && delete Io[n]) } } function _se(t, e, r) { const n = Ld(Object.create(null), [r ? xr.get(r) : {}, xr.get(e), t.defaults]); xr.set(e, n), t.defaultRoutes && Ose(e, t.defaultRoutes), t.descriptors && xr.describe(e, t.descriptors) } function Ose(t, e) { Object.keys(e).forEach(r => { const n = r.split("."), s = n.pop(), o = [t].concat(n).join("."), c = e[r].split("."), u = c.pop(), f = c.join("."); xr.route(o, s, f, u) }) } function Cse(t) { return "id" in t && "defaults" in t } class kse { constructor() { this.controllers = new zh(em, "datasets", !0), this.elements = new zh($i, "elements"), this.plugins = new zh(Object, "plugins"), this.scales = new zh(kc, "scales"), this._typedRegistries = [this.controllers, this.scales, this.elements] } add(...e) { this._each("register", e) } remove(...e) { this._each("unregister", e) } addControllers(...e) { this._each("register", e, this.controllers) } addElements(...e) { this._each("register", e, this.elements) } addPlugins(...e) { this._each("register", e, this.plugins) } addScales(...e) { this._each("register", e, this.scales) } getController(e) { return this._get(e, this.controllers, "controller") } getElement(e) { return this._get(e, this.elements, "element") } getPlugin(e) { return this._get(e, this.plugins, "plugin") } getScale(e) { return this._get(e, this.scales, "scale") } removeControllers(...e) { this._each("unregister", e, this.controllers) } removeElements(...e) { this._each("unregister", e, this.elements) } removePlugins(...e) { this._each("unregister", e, this.plugins) } removeScales(...e) { this._each("unregister", e, this.scales) } _each(e, r, n) { [...r].forEach(s => { const o = n || this._getRegistryForType(s); n || o.isForType(s) || o === this.plugins && s.id ? this._exec(e, o, s) : $t(s, c => { const u = n || this._getRegistryForType(c); this._exec(e, u, c) }) }) } _exec(e, r, n) { const s = F1(e); Qt(n["before" + s], [], n), r[e](n), Qt(n["after" + s], [], n) } _getRegistryForType(e) { for (let r = 0; r < this._typedRegistries.length; r++) { const n = this._typedRegistries[r]; if (n.isForType(e)) return n } return this.plugins } _get(e, r, n) { const s = r.get(e); if (s === void 0) throw new Error('"' + e + '" is not a registered ' + n + "."); return s } } var La = new kse; class Ase { constructor() { this._init = void 0 } notify(e, r, n, s) { if (r === "beforeInit" && (this._init = this._createDescriptors(e, !0), this._notify(this._init, e, "install")), this._init === void 0) return; const o = s ? this._descriptors(e).filter(s) : this._descriptors(e), c = this._notify(o, e, r, n); return r === "afterDestroy" && (this._notify(o, e, "stop"), this._notify(this._init, e, "uninstall"), this._init = void 0), c } _notify(e, r, n, s) { s = s || {}; for (const o of e) { const c = o.plugin, u = c[n], f = [r, s, o.options]; if (Qt(u, f, c) === !1 && s.cancelable) return !1 } return !0 } invalidate() { sr(this._cache) || (this._oldCache = this._cache, this._cache = void 0) } _descriptors(e) { if (this._cache) return this._cache; const r = this._cache = this._createDescriptors(e); return this._notifyStateChanges(e), r } _createDescriptors(e, r) { const n = e && e.config, s = zt(n.options && n.options.plugins, {}), o = Ese(n); return s === !1 && !r ? [] : Tse(e, o, s, r) } _notifyStateChanges(e) { const r = this._oldCache || [], n = this._cache, s = (o, c) => o.filter(u => !c.some(f => u.plugin.id === f.plugin.id)); this._notify(s(r, n), e, "stop"), this._notify(s(n, r), e, "start") } } function Ese(t) { const e = {}, r = [], n = Object.keys(La.plugins.items); for (let o = 0; o < n.length; o++)r.push(La.getPlugin(n[o])); const s = t.plugins || []; for (let o = 0; o < s.length; o++) { const c = s[o]; r.indexOf(c) === -1 && (r.push(c), e[c.id] = !0) } return { plugins: r, localIds: e } } function Dse(t, e) { return !e && t === !1 ? null : t === !0 ? {} : t } function Tse(t, { plugins: e, localIds: r }, n, s) { const o = [], c = t.getContext(); for (const u of e) { const f = u.id, h = Dse(n[f], s); h !== null && o.push({ plugin: u, options: Pse(t.config, { plugin: u, local: r[f] }, h, c) }) } return o } function Pse(t, { plugin: e, local: r }, n, s) { const o = t.pluginScopeKeys(e), c = t.getOptionScopes(n, o); return r && e.defaults && c.push(e.defaults), t.createResolver(c, s, [""], { scriptable: !1, indexable: !1, allKeys: !0 }) } function yN(t, e) { const r = xr.datasets[t] || {}; return ((e.datasets || {})[t] || {}).indexAxis || e.indexAxis || r.indexAxis || "x" } function Mse(t, e) { let r = t; return t === "_index_" ? r = e : t === "_value_" && (r = e === "x" ? "y" : "x"), r } function Rse(t, e) { return t === e ? "_index_" : "_value_" } function $5(t) { if (t === "x" || t === "y" || t === "r") return t } function $se(t) { if (t === "top" || t === "bottom") return "x"; if (t === "left" || t === "right") return "y" } function bN(t, ...e) { if ($5(t)) return t; for (const r of e) { const n = r.axis || $se(r.position) || t.length > 1 && $5(t[0].toLowerCase()); if (n) return n } throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`) } function I5(t, e, r) { if (r[e + "AxisID"] === t) return { axis: e } } function Ise(t, e) { if (e.data && e.data.datasets) { const r = e.data.datasets.filter(n => n.xAxisID === t || n.yAxisID === t); if (r.length) return I5(t, "x", r[0]) || I5(t, "y", r[0]) } return {} } function Lse(t, e) { const r = Io[t.type] || { scales: {} }, n = e.scales || {}, s = yN(t.type, e), o = Object.create(null); return Object.keys(n).forEach(c => { const u = n[c]; if (!_t(u)) return console.error(`Invalid scale configuration for scale: ${c}`); if (u._proxy) return console.warn(`Ignoring resolver passed as options for scale: ${c}`); const f = bN(c, u, Ise(c, t), xr.scales[u.type]), h = Rse(f, s), p = r.scales || {}; o[c] = Xu(Object.create(null), [{ axis: f }, u, p[f], p[h]]) }), t.data.datasets.forEach(c => { const u = c.type || t.type, f = c.indexAxis || yN(u, e), p = (Io[u] || {}).scales || {}; Object.keys(p).forEach(x => { const g = Mse(x, f), v = c[g + "AxisID"] || g; o[v] = o[v] || Object.create(null), Xu(o[v], [{ axis: g }, n[v], p[x]]) }) }), Object.keys(o).forEach(c => { const u = o[c]; Xu(u, [xr.scales[u.type], xr.scale]) }), o } function $6(t) { const e = t.options || (t.options = {}); e.plugins = zt(e.plugins, {}), e.scales = Lse(t, e) } function I6(t) { return t = t || {}, t.datasets = t.datasets || [], t.labels = t.labels || [], t } function Fse(t) { return t = t || {}, t.data = I6(t.data), $6(t), t } const L5 = new Map, L6 = new Set; function Uh(t, e) { let r = L5.get(t); return r || (r = e(), L5.set(t, r), L6.add(r)), r } const Pu = (t, e, r) => { const n = fp(e, r); n !== void 0 && t.add(n) }; class Bse { constructor(e) { this._config = Fse(e), this._scopeCache = new Map, this._resolverCache = new Map } get platform() { return this._config.platform } get type() { return this._config.type } set type(e) { this._config.type = e } get data() { return this._config.data } set data(e) { this._config.data = I6(e) } get options() { return this._config.options } set options(e) { this._config.options = e } get plugins() { return this._config.plugins } update() { const e = this._config; this.clearCache(), $6(e) } clearCache() { this._scopeCache.clear(), this._resolverCache.clear() } datasetScopeKeys(e) { return Uh(e, () => [[`datasets.${e}`, ""]]) } datasetAnimationScopeKeys(e, r) { return Uh(`${e}.transition.${r}`, () => [[`datasets.${e}.transitions.${r}`, `transitions.${r}`], [`datasets.${e}`, ""]]) } datasetElementScopeKeys(e, r) { return Uh(`${e}-${r}`, () => [[`datasets.${e}.elements.${r}`, `datasets.${e}`, `elements.${r}`, ""]]) } pluginScopeKeys(e) { const r = e.id, n = this.type; return Uh(`${n}-plugin-${r}`, () => [[`plugins.${r}`, ...e.additionalOptionScopes || []]]) } _cachedScopes(e, r) { const n = this._scopeCache; let s = n.get(e); return (!s || r) && (s = new Map, n.set(e, s)), s } getOptionScopes(e, r, n) { const { options: s, type: o } = this, c = this._cachedScopes(e, n), u = c.get(r); if (u) return u; const f = new Set; r.forEach(p => { e && (f.add(e), p.forEach(x => Pu(f, e, x))), p.forEach(x => Pu(f, s, x)), p.forEach(x => Pu(f, Io[o] || {}, x)), p.forEach(x => Pu(f, xr, x)), p.forEach(x => Pu(f, gN, x)) }); const h = Array.from(f); return h.length === 0 && h.push(Object.create(null)), L6.has(r) && c.set(r, h), h } chartOptionScopes() { const { options: e, type: r } = this; return [e, Io[r] || {}, xr.datasets[r] || {}, { type: r }, xr, gN] } resolveNamedOptions(e, r, n, s = [""]) { const o = { $shared: !0 }, { resolver: c, subPrefixes: u } = F5(this._resolverCache, e, s); let f = c; if (zse(c, r)) { o.$shared = !1, n = Ri(n) ? n() : n; const h = this.createResolver(e, n, u); f = mc(c, n, h) } for (const h of r) o[h] = f[h]; return o } createResolver(e, r, n = [""], s) { const { resolver: o } = F5(this._resolverCache, e, n); return _t(r) ? mc(o, r, void 0, s) : o } } function F5(t, e, r) { let n = t.get(e); n || (n = new Map, t.set(e, n)); const s = r.join(); let o = n.get(s); return o || (o = { resolver: H1(e, r), subPrefixes: r.filter(u => !u.toLowerCase().includes("hover")) }, n.set(s, o)), o } const qse = t => _t(t) && Object.getOwnPropertyNames(t).some(e => Ri(t[e])); function zse(t, e) { const { isScriptable: r, isIndexable: n } = N6(t); for (const s of e) { const o = r(s), c = n(s), u = (c || o) && t[s]; if (o && (Ri(u) || qse(u)) || c && Ir(u)) return !0 } return !1 } var Use = "4.5.1"; const Hse = ["top", "bottom", "left", "right", "chartArea"]; function B5(t, e) { return t === "top" || t === "bottom" || Hse.indexOf(t) === -1 && e === "x" } function q5(t, e) { return function (r, n) { return r[t] === n[t] ? r[e] - n[e] : r[t] - n[t] } } function z5(t) { const e = t.chart, r = e.options.animation; e.notifyPlugins("afterRender"), Qt(r && r.onComplete, [t], e) } function Vse(t) { const e = t.chart, r = e.options.animation; Qt(r && r.onProgress, [t], e) } function F6(t) { return G1() && typeof t == "string" ? t = document.getElementById(t) : t && t.length && (t = t[0]), t && t.canvas && (t = t.canvas), t } const rm = {}, U5 = t => { const e = F6(t); return Object.values(rm).filter(r => r.canvas === e).pop() }; function Yse(t, e, r) { const n = Object.keys(t); for (const s of n) { const o = +s; if (o >= e) { const c = t[s]; delete t[s], (r > 0 || o > e) && (t[o + r] = c) } } } function Gse(t, e, r, n) { return !r || t.type === "mouseout" ? null : n ? e : t } class Ni { static register(...e) { La.add(...e), H5() } static unregister(...e) { La.remove(...e), H5() } constructor(e, r) { const n = this.config = new Bse(r), s = F6(e), o = U5(s); if (o) throw new Error("Canvas is already in use. Chart with ID '" + o.id + "' must be destroyed before the canvas with ID '" + o.canvas.id + "' can be reused."); const c = n.createResolver(n.chartOptionScopes(), this.getContext()); this.platform = new (n.platform || dse(s)), this.platform.updateConfig(n); const u = this.platform.acquireContext(s, c.aspectRatio), f = u && u.canvas, h = f && f.height, p = f && f.width; if (this.id = yne(), this.ctx = u, this.canvas = f, this.width = p, this.height = h, this._options = c, this._aspectRatio = this.aspectRatio, this._layers = [], this._metasets = [], this._stacks = void 0, this.boxes = [], this.currentDevicePixelRatio = void 0, this.chartArea = void 0, this._active = [], this._lastEvent = void 0, this._listeners = {}, this._responsiveListeners = void 0, this._sortedMetasets = [], this.scales = {}, this._plugins = new Ase, this.$proxies = {}, this._hiddenIndices = {}, this.attached = !1, this._animationsDisabled = void 0, this.$context = void 0, this._doResize = Fne(x => this.update(x), c.resizeDelay || 0), this._dataChanges = [], rm[this.id] = this, !u || !f) { console.error("Failed to create chart: can't acquire context from the given item"); return } Ns.listen(this, "complete", z5), Ns.listen(this, "progress", Vse), this._initialize(), this.attached && this.update() } get aspectRatio() { const { options: { aspectRatio: e, maintainAspectRatio: r }, width: n, height: s, _aspectRatio: o } = this; return sr(e) ? r && o ? o : s ? n / s : null : e } get data() { return this.config.data } set data(e) { this.config.data = e } get options() { return this._options } set options(e) { this.config.options = e } get registry() { return La } _initialize() { return this.notifyPlugins("beforeInit"), this.options.responsive ? this.resize() : y5(this, this.options.devicePixelRatio), this.bindEvents(), this.notifyPlugins("afterInit"), this } clear() { return m5(this.canvas, this.ctx), this } stop() { return Ns.stop(this), this } resize(e, r) { Ns.running(this) ? this._resizeBeforeDraw = { width: e, height: r } : this._resize(e, r) } _resize(e, r) { const n = this.options, s = this.canvas, o = n.maintainAspectRatio && this.aspectRatio, c = this.platform.getMaximumSize(s, e, r, o), u = n.devicePixelRatio || this.platform.getDevicePixelRatio(), f = this.width ? "resize" : "attach"; this.width = c.width, this.height = c.height, this._aspectRatio = this.aspectRatio, y5(this, u, !0) && (this.notifyPlugins("resize", { size: c }), Qt(n.onResize, [this, c], this), this.attached && this._doResize(f) && this.render()) } ensureScalesHaveIDs() { const r = this.options.scales || {}; $t(r, (n, s) => { n.id = s }) } buildOrUpdateScales() { const e = this.options, r = e.scales, n = this.scales, s = Object.keys(n).reduce((c, u) => (c[u] = !1, c), {}); let o = []; r && (o = o.concat(Object.keys(r).map(c => { const u = r[c], f = bN(c, u), h = f === "r", p = f === "x"; return { options: u, dposition: h ? "chartArea" : p ? "bottom" : "left", dtype: h ? "radialLinear" : p ? "category" : "linear" } }))), $t(o, c => { const u = c.options, f = u.id, h = bN(f, u), p = zt(u.type, c.dtype); (u.position === void 0 || B5(u.position, h) !== B5(c.dposition)) && (u.position = c.dposition), s[f] = !0; let x = null; if (f in n && n[f].type === p) x = n[f]; else { const g = La.getScale(p); x = new g({ id: f, type: p, ctx: this.ctx, chart: this }), n[x.id] = x } x.init(u, e) }), $t(s, (c, u) => { c || delete n[u] }), $t(n, c => { ta.configure(this, c, c.options), ta.addBox(this, c) }) } _updateMetasets() { const e = this._metasets, r = this.data.datasets.length, n = e.length; if (e.sort((s, o) => s.index - o.index), n > r) { for (let s = r; s < n; ++s)this._destroyDatasetMeta(s); e.splice(r, n - r) } this._sortedMetasets = e.slice(0).sort(q5("order", "index")) } _removeUnreferencedMetasets() { const { _metasets: e, data: { datasets: r } } = this; e.length > r.length && delete this._stacks, e.forEach((n, s) => { r.filter(o => o === n._dataset).length === 0 && this._destroyDatasetMeta(s) }) } buildOrUpdateControllers() { const e = [], r = this.data.datasets; let n, s; for (this._removeUnreferencedMetasets(), n = 0, s = r.length; n < s; n++) { const o = r[n]; let c = this.getDatasetMeta(n); const u = o.type || this.config.type; if (c.type && c.type !== u && (this._destroyDatasetMeta(n), c = this.getDatasetMeta(n)), c.type = u, c.indexAxis = o.indexAxis || yN(u, this.options), c.order = o.order || 0, c.index = n, c.label = "" + o.label, c.visible = this.isDatasetVisible(n), c.controller) c.controller.updateIndex(n), c.controller.linkScales(); else { const f = La.getController(u), { datasetElementType: h, dataElementType: p } = xr.datasets[u]; Object.assign(f, { dataElementType: La.getElement(p), datasetElementType: h && La.getElement(h) }), c.controller = new f(this, n), e.push(c.controller) } } return this._updateMetasets(), e } _resetElements() { $t(this.data.datasets, (e, r) => { this.getDatasetMeta(r).controller.reset() }, this) } reset() { this._resetElements(), this.notifyPlugins("reset") } update(e) { const r = this.config; r.update(); const n = this._options = r.createResolver(r.chartOptionScopes(), this.getContext()), s = this._animationsDisabled = !n.animation; if (this._updateScales(), this._checkEventBindings(), this._updateHiddenIndices(), this._plugins.invalidate(), this.notifyPlugins("beforeUpdate", { mode: e, cancelable: !0 }) === !1) return; const o = this.buildOrUpdateControllers(); this.notifyPlugins("beforeElementsUpdate"); let c = 0; for (let h = 0, p = this.data.datasets.length; h < p; h++) { const { controller: x } = this.getDatasetMeta(h), g = !s && o.indexOf(x) === -1; x.buildOrUpdateElements(g), c = Math.max(+x.getMaxOverflow(), c) } c = this._minPadding = n.layout.autoPadding ? c : 0, this._updateLayout(c), s || $t(o, h => { h.reset() }), this._updateDatasets(e), this.notifyPlugins("afterUpdate", { mode: e }), this._layers.sort(q5("z", "_idx")); const { _active: u, _lastEvent: f } = this; f ? this._eventHandler(f, !0) : u.length && this._updateHoverStyles(u, u, !0), this.render() } _updateScales() { $t(this.scales, e => { ta.removeBox(this, e) }), this.ensureScalesHaveIDs(), this.buildOrUpdateScales() } _checkEventBindings() { const e = this.options, r = new Set(Object.keys(this._listeners)), n = new Set(e.events); (!a5(r, n) || !!this._responsiveListeners !== e.responsive) && (this.unbindEvents(), this.bindEvents()) } _updateHiddenIndices() { const { _hiddenIndices: e } = this, r = this._getUniformDataChanges() || []; for (const { method: n, start: s, count: o } of r) { const c = n === "_removeElements" ? -o : o; Yse(e, s, c) } } _getUniformDataChanges() { const e = this._dataChanges; if (!e || !e.length) return; this._dataChanges = []; const r = this.data.datasets.length, n = o => new Set(e.filter(c => c[0] === o).map((c, u) => u + "," + c.splice(1).join(","))), s = n(0); for (let o = 1; o < r; o++)if (!a5(s, n(o))) return; return Array.from(s).map(o => o.split(",")).map(o => ({ method: o[1], start: +o[2], count: +o[3] })) } _updateLayout(e) { if (this.notifyPlugins("beforeLayout", { cancelable: !0 }) === !1) return; ta.update(this, this.width, this.height, e); const r = this.chartArea, n = r.width <= 0 || r.height <= 0; this._layers = [], $t(this.boxes, s => { n && s.position === "chartArea" || (s.configure && s.configure(), this._layers.push(...s._layers())) }, this), this._layers.forEach((s, o) => { s._idx = o }), this.notifyPlugins("afterLayout") } _updateDatasets(e) { if (this.notifyPlugins("beforeDatasetsUpdate", { mode: e, cancelable: !0 }) !== !1) { for (let r = 0, n = this.data.datasets.length; r < n; ++r)this.getDatasetMeta(r).controller.configure(); for (let r = 0, n = this.data.datasets.length; r < n; ++r)this._updateDataset(r, Ri(e) ? e({ datasetIndex: r }) : e); this.notifyPlugins("afterDatasetsUpdate", { mode: e }) } } _updateDataset(e, r) { const n = this.getDatasetMeta(e), s = { meta: n, index: e, mode: r, cancelable: !0 }; this.notifyPlugins("beforeDatasetUpdate", s) !== !1 && (n.controller._update(r), s.cancelable = !1, this.notifyPlugins("afterDatasetUpdate", s)) } render() { this.notifyPlugins("beforeRender", { cancelable: !0 }) !== !1 && (Ns.has(this) ? this.attached && !Ns.running(this) && Ns.start(this) : (this.draw(), z5({ chart: this }))) } draw() { let e; if (this._resizeBeforeDraw) { const { width: n, height: s } = this._resizeBeforeDraw; this._resizeBeforeDraw = null, this._resize(n, s) } if (this.clear(), this.width <= 0 || this.height <= 0 || this.notifyPlugins("beforeDraw", { cancelable: !0 }) === !1) return; const r = this._layers; for (e = 0; e < r.length && r[e].z <= 0; ++e)r[e].draw(this.chartArea); for (this._drawDatasets(); e < r.length; ++e)r[e].draw(this.chartArea); this.notifyPlugins("afterDraw") } _getSortedDatasetMetas(e) { const r = this._sortedMetasets, n = []; let s, o; for (s = 0, o = r.length; s < o; ++s) { const c = r[s]; (!e || c.visible) && n.push(c) } return n } getSortedVisibleDatasetMetas() { return this._getSortedDatasetMetas(!0) } _drawDatasets() { if (this.notifyPlugins("beforeDatasetsDraw", { cancelable: !0 }) === !1) return; const e = this.getSortedVisibleDatasetMetas(); for (let r = e.length - 1; r >= 0; --r)this._drawDataset(e[r]); this.notifyPlugins("afterDatasetsDraw") } _drawDataset(e) { const r = this.ctx, n = { meta: e, index: e.index, cancelable: !0 }, s = Sae(this, e); this.notifyPlugins("beforeDatasetDraw", n) !== !1 && (s && z1(r, s), e.controller.draw(), s && U1(r), n.cancelable = !1, this.notifyPlugins("afterDatasetDraw", n)) } isPointInArea(e) { return v6(e, this.chartArea, this._minPadding) } getElementsAtEventForMode(e, r, n, s) { const o = Hae.modes[r]; return typeof o == "function" ? o(this, e, n, s) : [] } getDatasetMeta(e) { const r = this.data.datasets[e], n = this._metasets; let s = n.filter(o => o && o._dataset === r).pop(); return s || (s = { type: null, data: [], dataset: null, controller: null, hidden: null, xAxisID: null, yAxisID: null, order: r && r.order || 0, index: e, _dataset: r, _parsed: [], _sorted: !1 }, n.push(s)), s } getContext() { return this.$context || (this.$context = Cc(null, { chart: this, type: "chart" })) } getVisibleDatasetCount() { return this.getSortedVisibleDatasetMetas().length } isDatasetVisible(e) { const r = this.data.datasets[e]; if (!r) return !1; const n = this.getDatasetMeta(e); return typeof n.hidden == "boolean" ? !n.hidden : !r.hidden } setDatasetVisibility(e, r) { const n = this.getDatasetMeta(e); n.hidden = !r } toggleDataVisibility(e) { this._hiddenIndices[e] = !this._hiddenIndices[e] } getDataVisibility(e) { return !this._hiddenIndices[e] } _updateVisibility(e, r, n) { const s = n ? "show" : "hide", o = this.getDatasetMeta(e), c = o.controller._resolveAnimations(void 0, s); hp(r) ? (o.data[r].hidden = !n, this.update()) : (this.setDatasetVisibility(e, n), c.update(o, { visible: n }), this.update(u => u.datasetIndex === e ? s : void 0)) } hide(e, r) { this._updateVisibility(e, r, !1) } show(e, r) { this._updateVisibility(e, r, !0) } _destroyDatasetMeta(e) { const r = this._metasets[e]; r && r.controller && r.controller._destroy(), delete this._metasets[e] } _stop() { let e, r; for (this.stop(), Ns.remove(this), e = 0, r = this.data.datasets.length; e < r; ++e)this._destroyDatasetMeta(e) } destroy() { this.notifyPlugins("beforeDestroy"); const { canvas: e, ctx: r } = this; this._stop(), this.config.clearCache(), e && (this.unbindEvents(), m5(e, r), this.platform.releaseContext(r), this.canvas = null, this.ctx = null), delete rm[this.id], this.notifyPlugins("afterDestroy") } toBase64Image(...e) { return this.canvas.toDataURL(...e) } bindEvents() { this.bindUserEvents(), this.options.responsive ? this.bindResponsiveEvents() : this.attached = !0 } bindUserEvents() { const e = this._listeners, r = this.platform, n = (o, c) => { r.addEventListener(this, o, c), e[o] = c }, s = (o, c, u) => { o.offsetX = c, o.offsetY = u, this._eventHandler(o) }; $t(this.options.events, o => n(o, s)) } bindResponsiveEvents() { this._responsiveListeners || (this._responsiveListeners = {}); const e = this._responsiveListeners, r = this.platform, n = (f, h) => { r.addEventListener(this, f, h), e[f] = h }, s = (f, h) => { e[f] && (r.removeEventListener(this, f, h), delete e[f]) }, o = (f, h) => { this.canvas && this.resize(f, h) }; let c; const u = () => { s("attach", u), this.attached = !0, this.resize(), n("resize", o), n("detach", c) }; c = () => { this.attached = !1, s("resize", o), this._stop(), this._resize(0, 0), n("attach", u) }, r.isAttached(this.canvas) ? u() : c() } unbindEvents() { $t(this._listeners, (e, r) => { this.platform.removeEventListener(this, r, e) }), this._listeners = {}, $t(this._responsiveListeners, (e, r) => { this.platform.removeEventListener(this, r, e) }), this._responsiveListeners = void 0 } updateHoverStyle(e, r, n) { const s = n ? "set" : "remove"; let o, c, u, f; for (r === "dataset" && (o = this.getDatasetMeta(e[0].datasetIndex), o.controller["_" + s + "DatasetHoverStyle"]()), u = 0, f = e.length; u < f; ++u) { c = e[u]; const h = c && this.getDatasetMeta(c.datasetIndex).controller; h && h[s + "HoverStyle"](c.element, c.datasetIndex, c.index) } } getActiveElements() { return this._active || [] } setActiveElements(e) { const r = this._active || [], n = e.map(({ datasetIndex: o, index: c }) => { const u = this.getDatasetMeta(o); if (!u) throw new Error("No dataset found at index " + o); return { datasetIndex: o, element: u.data[c], index: c } }); !up(n, r) && (this._active = n, this._lastEvent = null, this._updateHoverStyles(n, r)) } notifyPlugins(e, r, n) { return this._plugins.notify(this, e, r, n) } isPluginEnabled(e) { return this._plugins._cache.filter(r => r.plugin.id === e).length === 1 } _updateHoverStyles(e, r, n) { const s = this.options.hover, o = (f, h) => f.filter(p => !h.some(x => p.datasetIndex === x.datasetIndex && p.index === x.index)), c = o(r, e), u = n ? e : o(e, r); c.length && this.updateHoverStyle(c, s.mode, !1), u.length && s.mode && this.updateHoverStyle(u, s.mode, !0) } _eventHandler(e, r) { const n = { event: e, replay: r, cancelable: !0, inChartArea: this.isPointInArea(e) }, s = c => (c.options.events || this.options.events).includes(e.native.type); if (this.notifyPlugins("beforeEvent", n, s) === !1) return; const o = this._handleEvent(e, r, n.inChartArea); return n.cancelable = !1, this.notifyPlugins("afterEvent", n, s), (o || n.changed) && this.render(), this } _handleEvent(e, r, n) { const { _active: s = [], options: o } = this, c = r, u = this._getActiveElements(e, s, n, c), f = Sne(e), h = Gse(e, this._lastEvent, n, f); n && (this._lastEvent = null, Qt(o.onHover, [e, u, this], this), f && Qt(o.onClick, [e, u, this], this)); const p = !up(u, s); return (p || r) && (this._active = u, this._updateHoverStyles(u, s, r)), this._lastEvent = h, p } _getActiveElements(e, r, n, s) { if (e.type === "mouseout") return []; if (!n) return r; const o = this.options.hover; return this.getElementsAtEventForMode(e, o.mode, o, s) } } At(Ni, "defaults", xr), At(Ni, "instances", rm), At(Ni, "overrides", Io), At(Ni, "registry", La), At(Ni, "version", Use), At(Ni, "getChart", U5); function H5() { return $t(Ni.instances, t => t._plugins.invalidate()) } function B6(t, e) { const { x: r, y: n, base: s, width: o, height: c } = t.getProps(["x", "y", "base", "width", "height"], e); let u, f, h, p, x; return t.horizontal ? (x = c / 2, u = Math.min(r, s), f = Math.max(r, s), h = n - x, p = n + x) : (x = o / 2, u = r - x, f = r + x, h = Math.min(n, s), p = Math.max(n, s)), { left: u, top: h, right: f, bottom: p } } function Ei(t, e, r, n) { return t ? 0 : _a(e, r, n) } function Kse(t, e, r) { const n = t.options.borderWidth, s = t.borderSkipped, o = j6(n); return { t: Ei(s.top, o.top, 0, r), r: Ei(s.right, o.right, 0, e), b: Ei(s.bottom, o.bottom, 0, r), l: Ei(s.left, o.left, 0, e) } } function Wse(t, e, r) { const { enableBorderRadius: n } = t.getProps(["enableBorderRadius"]), s = t.options.borderRadius, o = Bl(s), c = Math.min(e, r), u = t.borderSkipped, f = n || _t(s); return { topLeft: Ei(!f || u.top || u.left, o.topLeft, 0, c), topRight: Ei(!f || u.top || u.right, o.topRight, 0, c), bottomLeft: Ei(!f || u.bottom || u.left, o.bottomLeft, 0, c), bottomRight: Ei(!f || u.bottom || u.right, o.bottomRight, 0, c) } } function Xse(t) { const e = B6(t), r = e.right - e.left, n = e.bottom - e.top, s = Kse(t, r / 2, n / 2), o = Wse(t, r / 2, n / 2); return { outer: { x: e.left, y: e.top, w: r, h: n, radius: o }, inner: { x: e.left + s.l, y: e.top + s.t, w: r - s.l - s.r, h: n - s.t - s.b, radius: { topLeft: Math.max(0, o.topLeft - Math.max(s.t, s.l)), topRight: Math.max(0, o.topRight - Math.max(s.t, s.r)), bottomLeft: Math.max(0, o.bottomLeft - Math.max(s.b, s.l)), bottomRight: Math.max(0, o.bottomRight - Math.max(s.b, s.r)) } } } } function $w(t, e, r, n) { const s = e === null, o = r === null, u = t && !(s && o) && B6(t, n); return u && (s || $l(e, u.left, u.right)) && (o || $l(r, u.top, u.bottom)) } function Jse(t) { return t.topLeft || t.topRight || t.bottomLeft || t.bottomRight } function Qse(t, e) { t.rect(e.x, e.y, e.w, e.h) } function Iw(t, e, r = {}) { const n = t.x !== r.x ? -e : 0, s = t.y !== r.y ? -e : 0, o = (t.x + t.w !== r.x + r.w ? e : 0) - n, c = (t.y + t.h !== r.y + r.h ? e : 0) - s; return { x: t.x + n, y: t.y + s, w: t.w + o, h: t.h + c, radius: t.radius } } class nm extends $i { constructor(e) { super(), this.options = void 0, this.horizontal = void 0, this.base = void 0, this.width = void 0, this.height = void 0, this.inflateAmount = void 0, e && Object.assign(this, e) } draw(e) { const { inflateAmount: r, options: { borderColor: n, backgroundColor: s } } = this, { inner: o, outer: c } = Xse(this), u = Jse(c.radius) ? gp : Qse; e.save(), (c.w !== o.w || c.h !== o.h) && (e.beginPath(), u(e, Iw(c, r, o)), e.clip(), u(e, Iw(o, -r, c)), e.fillStyle = n, e.fill("evenodd")), e.beginPath(), u(e, Iw(o, r)), e.fillStyle = s, e.fill(), e.restore() } inRange(e, r, n) { return $w(this, e, r, n) } inXRange(e, r) { return $w(this, e, null, r) } inYRange(e, r) { return $w(this, null, e, r) } getCenterPoint(e) { const { x: r, y: n, base: s, horizontal: o } = this.getProps(["x", "y", "base", "horizontal"], e); return { x: o ? (r + s) / 2 : r, y: o ? n : (n + s) / 2 } } getRange(e) { return e === "x" ? this.width / 2 : this.height / 2 } } At(nm, "id", "bar"), At(nm, "defaults", { borderSkipped: "start", borderWidth: 0, borderRadius: 0, inflateAmount: "auto", pointStyle: void 0 }), At(nm, "defaultRoutes", { backgroundColor: "backgroundColor", borderColor: "borderColor" }); const V5 = (t, e) => { let { boxHeight: r = e, boxWidth: n = e } = t; return t.usePointStyle && (r = Math.min(r, e), n = t.pointStyleWidth || Math.min(n, e)), { boxWidth: n, boxHeight: r, itemHeight: Math.max(e, r) } }, Zse = (t, e) => t !== null && e !== null && t.datasetIndex === e.datasetIndex && t.index === e.index; class Y5 extends $i { constructor(e) { super(), this._added = !1, this.legendHitBoxes = [], this._hoveredItem = null, this.doughnutMode = !1, this.chart = e.chart, this.options = e.options, this.ctx = e.ctx, this.legendItems = void 0, this.columnSizes = void 0, this.lineWidths = void 0, this.maxHeight = void 0, this.maxWidth = void 0, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.height = void 0, this.width = void 0, this._margins = void 0, this.position = void 0, this.weight = void 0, this.fullSize = void 0 } update(e, r, n) { this.maxWidth = e, this.maxHeight = r, this._margins = n, this.setDimensions(), this.buildLabels(), this.fit() } setDimensions() { this.isHorizontal() ? (this.width = this.maxWidth, this.left = this._margins.left, this.right = this.width) : (this.height = this.maxHeight, this.top = this._margins.top, this.bottom = this.height) } buildLabels() { const e = this.options.labels || {}; let r = Qt(e.generateLabels, [this.chart], this) || []; e.filter && (r = r.filter(n => e.filter(n, this.chart.data))), e.sort && (r = r.sort((n, s) => e.sort(n, s, this.chart.data))), this.options.reverse && r.reverse(), this.legendItems = r } fit() { const { options: e, ctx: r } = this; if (!e.display) { this.width = this.height = 0; return } const n = e.labels, s = en(n.font), o = s.size, c = this._computeTitleHeight(), { boxWidth: u, itemHeight: f } = V5(n, o); let h, p; r.font = s.string, this.isHorizontal() ? (h = this.maxWidth, p = this._fitRows(c, o, u, f) + 10) : (p = this.maxHeight, h = this._fitCols(c, s, u, f) + 10), this.width = Math.min(h, e.maxWidth || this.maxWidth), this.height = Math.min(p, e.maxHeight || this.maxHeight) } _fitRows(e, r, n, s) { const { ctx: o, maxWidth: c, options: { labels: { padding: u } } } = this, f = this.legendHitBoxes = [], h = this.lineWidths = [0], p = s + u; let x = e; o.textAlign = "left", o.textBaseline = "middle"; let g = -1, v = -p; return this.legendItems.forEach((j, S) => { const w = n + r / 2 + o.measureText(j.text).width; (S === 0 || h[h.length - 1] + w + 2 * u > c) && (x += p, h[h.length - (S > 0 ? 0 : 1)] = 0, v += p, g++), f[S] = { left: 0, top: v, row: g, width: w, height: s }, h[h.length - 1] += w + u }), x } _fitCols(e, r, n, s) { const { ctx: o, maxHeight: c, options: { labels: { padding: u } } } = this, f = this.legendHitBoxes = [], h = this.columnSizes = [], p = c - e; let x = u, g = 0, v = 0, j = 0, S = 0; return this.legendItems.forEach((w, O) => { const { itemWidth: D, itemHeight: R } = eie(n, r, o, w, s); O > 0 && v + R + 2 * u > p && (x += g + u, h.push({ width: g, height: v }), j += g + u, S++, g = v = 0), f[O] = { left: j, top: v, col: S, width: D, height: R }, g = Math.max(g, D), v += R + u }), x += g, h.push({ width: g, height: v }), x } adjustHitBoxes() { if (!this.options.display) return; const e = this._computeTitleHeight(), { legendHitBoxes: r, options: { align: n, labels: { padding: s }, rtl: o } } = this, c = ql(o, this.left, this.width); if (this.isHorizontal()) { let u = 0, f = Jr(n, this.left + s, this.right - this.lineWidths[u]); for (const h of r) u !== h.row && (u = h.row, f = Jr(n, this.left + s, this.right - this.lineWidths[u])), h.top += this.top + e + s, h.left = c.leftForLtr(c.x(f), h.width), f += h.width + s } else { let u = 0, f = Jr(n, this.top + e + s, this.bottom - this.columnSizes[u].height); for (const h of r) h.col !== u && (u = h.col, f = Jr(n, this.top + e + s, this.bottom - this.columnSizes[u].height)), h.top = f, h.left += this.left + s, h.left = c.leftForLtr(c.x(h.left), h.width), f += h.height + s } } isHorizontal() { return this.options.position === "top" || this.options.position === "bottom" } draw() { if (this.options.display) { const e = this.ctx; z1(e, this), this._draw(), U1(e) } } _draw() { const { options: e, columnSizes: r, lineWidths: n, ctx: s } = this, { align: o, labels: c } = e, u = xr.color, f = ql(e.rtl, this.left, this.width), h = en(c.font), { padding: p } = c, x = h.size, g = x / 2; let v; this.drawTitle(), s.textAlign = f.textAlign("left"), s.textBaseline = "middle", s.lineWidth = .5, s.font = h.string; const { boxWidth: j, boxHeight: S, itemHeight: w } = V5(c, x), O = function (k, F, P) { if (isNaN(j) || j <= 0 || isNaN(S) || S < 0) return; s.save(); const W = zt(P.lineWidth, 1); if (s.fillStyle = zt(P.fillStyle, u), s.lineCap = zt(P.lineCap, "butt"), s.lineDashOffset = zt(P.lineDashOffset, 0), s.lineJoin = zt(P.lineJoin, "miter"), s.lineWidth = W, s.strokeStyle = zt(P.strokeStyle, u), s.setLineDash(zt(P.lineDash, [])), c.usePointStyle) { const J = { radius: S * Math.SQRT2 / 2, pointStyle: P.pointStyle, rotation: P.rotation, borderWidth: W }, Q = f.xPlus(k, j / 2), V = F + g; b6(s, J, Q, V, c.pointStyleWidth && j) } else { const J = F + Math.max((x - S) / 2, 0), Q = f.leftForLtr(k, j), V = Bl(P.borderRadius); s.beginPath(), Object.values(V).some(ae => ae !== 0) ? gp(s, { x: Q, y: J, w: j, h: S, radius: V }) : s.rect(Q, J, j, S), s.fill(), W !== 0 && s.stroke() } s.restore() }, D = function (k, F, P) { Fd(s, P.text, k, F + w / 2, h, { strikethrough: P.hidden, textAlign: f.textAlign(P.textAlign) }) }, R = this.isHorizontal(), H = this._computeTitleHeight(); R ? v = { x: Jr(o, this.left + p, this.right - n[0]), y: this.top + p + H, line: 0 } : v = { x: this.left + p, y: Jr(o, this.top + H + p, this.bottom - r[0].height), line: 0 }, C6(this.ctx, e.textDirection); const C = w + p; this.legendItems.forEach((k, F) => { s.strokeStyle = k.fontColor, s.fillStyle = k.fontColor; const P = s.measureText(k.text).width, W = f.textAlign(k.textAlign || (k.textAlign = c.textAlign)), J = j + g + P; let Q = v.x, V = v.y; f.setWidth(this.width), R ? F > 0 && Q + J + p > this.right && (V = v.y += C, v.line++, Q = v.x = Jr(o, this.left + p, this.right - n[v.line])) : F > 0 && V + C > this.bottom && (Q = v.x = Q + r[v.line].width + p, v.line++, V = v.y = Jr(o, this.top + H + p, this.bottom - r[v.line].height)); const ae = f.x(Q); if (O(ae, V, k), Q = Bne(W, Q + j + g, R ? Q + J : this.right, e.rtl), D(f.x(Q), V, k), R) v.x += J + p; else if (typeof k.text != "string") { const ie = h.lineHeight; v.y += q6(k, ie) + p } else v.y += C }), k6(this.ctx, e.textDirection) } drawTitle() { const e = this.options, r = e.title, n = en(r.font), s = ia(r.padding); if (!r.display) return; const o = ql(e.rtl, this.left, this.width), c = this.ctx, u = r.position, f = n.size / 2, h = s.top + f; let p, x = this.left, g = this.width; if (this.isHorizontal()) g = Math.max(...this.lineWidths), p = this.top + h, x = Jr(e.align, x, this.right - g); else { const j = this.columnSizes.reduce((S, w) => Math.max(S, w.height), 0); p = h + Jr(e.align, this.top, this.bottom - j - e.labels.padding - this._computeTitleHeight()) } const v = Jr(u, x, x + g); c.textAlign = o.textAlign(q1(u)), c.textBaseline = "middle", c.strokeStyle = r.color, c.fillStyle = r.color, c.font = n.string, Fd(c, r.text, v, p, n) } _computeTitleHeight() { const e = this.options.title, r = en(e.font), n = ia(e.padding); return e.display ? r.lineHeight + n.height : 0 } _getLegendItemAt(e, r) { let n, s, o; if ($l(e, this.left, this.right) && $l(r, this.top, this.bottom)) { for (o = this.legendHitBoxes, n = 0; n < o.length; ++n)if (s = o[n], $l(e, s.left, s.left + s.width) && $l(r, s.top, s.top + s.height)) return this.legendItems[n] } return null } handleEvent(e) { const r = this.options; if (!nie(e.type, r)) return; const n = this._getLegendItemAt(e.x, e.y); if (e.type === "mousemove" || e.type === "mouseout") { const s = this._hoveredItem, o = Zse(s, n); s && !o && Qt(r.onLeave, [e, s, this], this), this._hoveredItem = n, n && !o && Qt(r.onHover, [e, n, this], this) } else n && Qt(r.onClick, [e, n, this], this) } } function eie(t, e, r, n, s) { const o = tie(n, t, e, r), c = rie(s, n, e.lineHeight); return { itemWidth: o, itemHeight: c } } function tie(t, e, r, n) { let s = t.text; return s && typeof s != "string" && (s = s.reduce((o, c) => o.length > c.length ? o : c)), e + r.size / 2 + n.measureText(s).width } function rie(t, e, r) { let n = t; return typeof e.text != "string" && (n = q6(e, r)), n } function q6(t, e) { const r = t.text ? t.text.length : 0; return e * r } function nie(t, e) { return !!((t === "mousemove" || t === "mouseout") && (e.onHover || e.onLeave) || e.onClick && (t === "click" || t === "mouseup")) } var aie = { id: "legend", _element: Y5, start(t, e, r) { const n = t.legend = new Y5({ ctx: t.ctx, options: r, chart: t }); ta.configure(t, n, r), ta.addBox(t, n) }, stop(t) { ta.removeBox(t, t.legend), delete t.legend }, beforeUpdate(t, e, r) { const n = t.legend; ta.configure(t, n, r), n.options = r }, afterUpdate(t) { const e = t.legend; e.buildLabels(), e.adjustHitBoxes() }, afterEvent(t, e) { e.replay || t.legend.handleEvent(e.event) }, defaults: { display: !0, position: "top", align: "center", fullSize: !0, reverse: !1, weight: 1e3, onClick(t, e, r) { const n = e.datasetIndex, s = r.chart; s.isDatasetVisible(n) ? (s.hide(n), e.hidden = !0) : (s.show(n), e.hidden = !1) }, onHover: null, onLeave: null, labels: { color: t => t.chart.options.color, boxWidth: 40, padding: 10, generateLabels(t) { const e = t.data.datasets, { labels: { usePointStyle: r, pointStyle: n, textAlign: s, color: o, useBorderRadius: c, borderRadius: u } } = t.legend.options; return t._getSortedDatasetMetas().map(f => { const h = f.controller.getStyle(r ? 0 : void 0), p = ia(h.borderWidth); return { text: e[f.index].label, fillStyle: h.backgroundColor, fontColor: o, hidden: !f.visible, lineCap: h.borderCapStyle, lineDash: h.borderDash, lineDashOffset: h.borderDashOffset, lineJoin: h.borderJoinStyle, lineWidth: (p.width + p.height) / 4, strokeStyle: h.borderColor, pointStyle: n || h.pointStyle, rotation: h.rotation, textAlign: s || h.textAlign, borderRadius: c && (u || h.borderRadius), datasetIndex: f.index } }, this) } }, title: { color: t => t.chart.options.color, display: !1, position: "center", text: "" } }, descriptors: { _scriptable: t => !t.startsWith("on"), labels: { _scriptable: t => !["generateLabels", "filter", "sort"].includes(t) } } }; class z6 extends $i { constructor(e) { super(), this.chart = e.chart, this.options = e.options, this.ctx = e.ctx, this._padding = void 0, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.width = void 0, this.height = void 0, this.position = void 0, this.weight = void 0, this.fullSize = void 0 } update(e, r) { const n = this.options; if (this.left = 0, this.top = 0, !n.display) { this.width = this.height = this.right = this.bottom = 0; return } this.width = this.right = e, this.height = this.bottom = r; const s = Ir(n.text) ? n.text.length : 1; this._padding = ia(n.padding); const o = s * en(n.font).lineHeight + this._padding.height; this.isHorizontal() ? this.height = o : this.width = o } isHorizontal() { const e = this.options.position; return e === "top" || e === "bottom" } _drawArgs(e) { const { top: r, left: n, bottom: s, right: o, options: c } = this, u = c.align; let f = 0, h, p, x; return this.isHorizontal() ? (p = Jr(u, n, o), x = r + e, h = o - n) : (c.position === "left" ? (p = n + e, x = Jr(u, s, r), f = tn * -.5) : (p = o - e, x = Jr(u, r, s), f = tn * .5), h = s - r), { titleX: p, titleY: x, maxWidth: h, rotation: f } } draw() { const e = this.ctx, r = this.options; if (!r.display) return; const n = en(r.font), o = n.lineHeight / 2 + this._padding.top, { titleX: c, titleY: u, maxWidth: f, rotation: h } = this._drawArgs(o); Fd(e, r.text, 0, 0, n, { color: r.color, maxWidth: f, rotation: h, textAlign: q1(r.align), textBaseline: "middle", translation: [c, u] }) } } function sie(t, e) { const r = new z6({ ctx: t.ctx, options: e, chart: t }); ta.configure(t, r, e), ta.addBox(t, r), t.titleBlock = r } var iie = { id: "title", _element: z6, start(t, e, r) { sie(t, r) }, stop(t) { const e = t.titleBlock; ta.removeBox(t, e), delete t.titleBlock }, beforeUpdate(t, e, r) { const n = t.titleBlock; ta.configure(t, n, r), n.options = r }, defaults: { align: "center", display: !1, font: { weight: "bold" }, fullSize: !0, padding: 10, position: "top", text: "", weight: 2e3 }, defaultRoutes: { color: "color" }, descriptors: { _scriptable: !0, _indexable: !1 } }; const zu = { average(t) { if (!t.length) return !1; let e, r, n = new Set, s = 0, o = 0; for (e = 0, r = t.length; e < r; ++e) { const u = t[e].element; if (u && u.hasValue()) { const f = u.tooltipPosition(); n.add(f.x), s += f.y, ++o } } return o === 0 || n.size === 0 ? !1 : { x: [...n].reduce((u, f) => u + f) / n.size, y: s / o } }, nearest(t, e) { if (!t.length) return !1; let r = e.x, n = e.y, s = Number.POSITIVE_INFINITY, o, c, u; for (o = 0, c = t.length; o < c; ++o) { const f = t[o].element; if (f && f.hasValue()) { const h = f.getCenterPoint(), p = Tne(e, h); p < s && (s = p, u = f) } } if (u) { const f = u.tooltipPosition(); r = f.x, n = f.y } return { x: r, y: n } } }; function Ia(t, e) { return e && (Ir(e) ? Array.prototype.push.apply(t, e) : t.push(e)), t } function Ss(t) {
  return (typeof t == "string" || t instanceof String) && t.indexOf(`
`) > -1 ? t.split(`
`) : t
} function oie(t, e) { const { element: r, datasetIndex: n, index: s } = e, o = t.getDatasetMeta(n).controller, { label: c, value: u } = o.getLabelAndValue(s); return { chart: t, label: c, parsed: o.getParsed(s), raw: t.data.datasets[n].data[s], formattedValue: u, dataset: o.getDataset(), dataIndex: s, datasetIndex: n, element: r } } function G5(t, e) { const r = t.chart.ctx, { body: n, footer: s, title: o } = t, { boxWidth: c, boxHeight: u } = e, f = en(e.bodyFont), h = en(e.titleFont), p = en(e.footerFont), x = o.length, g = s.length, v = n.length, j = ia(e.padding); let S = j.height, w = 0, O = n.reduce((H, C) => H + C.before.length + C.lines.length + C.after.length, 0); if (O += t.beforeBody.length + t.afterBody.length, x && (S += x * h.lineHeight + (x - 1) * e.titleSpacing + e.titleMarginBottom), O) { const H = e.displayColors ? Math.max(u, f.lineHeight) : f.lineHeight; S += v * H + (O - v) * f.lineHeight + (O - 1) * e.bodySpacing } g && (S += e.footerMarginTop + g * p.lineHeight + (g - 1) * e.footerSpacing); let D = 0; const R = function (H) { w = Math.max(w, r.measureText(H).width + D) }; return r.save(), r.font = h.string, $t(t.title, R), r.font = f.string, $t(t.beforeBody.concat(t.afterBody), R), D = e.displayColors ? c + 2 + e.boxPadding : 0, $t(n, H => { $t(H.before, R), $t(H.lines, R), $t(H.after, R) }), D = 0, r.font = p.string, $t(t.footer, R), r.restore(), w += j.width, { width: w, height: S } } function lie(t, e) { const { y: r, height: n } = e; return r < n / 2 ? "top" : r > t.height - n / 2 ? "bottom" : "center" } function cie(t, e, r, n) { const { x: s, width: o } = n, c = r.caretSize + r.caretPadding; if (t === "left" && s + o + c > e.width || t === "right" && s - o - c < 0) return !0 } function uie(t, e, r, n) { const { x: s, width: o } = r, { width: c, chartArea: { left: u, right: f } } = t; let h = "center"; return n === "center" ? h = s <= (u + f) / 2 ? "left" : "right" : s <= o / 2 ? h = "left" : s >= c - o / 2 && (h = "right"), cie(h, t, e, r) && (h = "center"), h } function K5(t, e, r) { const n = r.yAlign || e.yAlign || lie(t, r); return { xAlign: r.xAlign || e.xAlign || uie(t, e, r, n), yAlign: n } } function die(t, e) { let { x: r, width: n } = t; return e === "right" ? r -= n : e === "center" && (r -= n / 2), r } function fie(t, e, r) { let { y: n, height: s } = t; return e === "top" ? n += r : e === "bottom" ? n -= s + r : n -= s / 2, n } function W5(t, e, r, n) { const { caretSize: s, caretPadding: o, cornerRadius: c } = t, { xAlign: u, yAlign: f } = r, h = s + o, { topLeft: p, topRight: x, bottomLeft: g, bottomRight: v } = Bl(c); let j = die(e, u); const S = fie(e, f, h); return f === "center" ? u === "left" ? j += h : u === "right" && (j -= h) : u === "left" ? j -= Math.max(p, g) + s : u === "right" && (j += Math.max(x, v) + s), { x: _a(j, 0, n.width - e.width), y: _a(S, 0, n.height - e.height) } } function Hh(t, e, r) { const n = ia(r.padding); return e === "center" ? t.x + t.width / 2 : e === "right" ? t.x + t.width - n.right : t.x + n.left } function X5(t) { return Ia([], Ss(t)) } function hie(t, e, r) { return Cc(t, { tooltip: e, tooltipItems: r, type: "tooltip" }) } function J5(t, e) { const r = e && e.dataset && e.dataset.tooltip && e.dataset.tooltip.callbacks; return r ? t.override(r) : t } const U6 = { beforeTitle: js, title(t) { if (t.length > 0) { const e = t[0], r = e.chart.data.labels, n = r ? r.length : 0; if (this && this.options && this.options.mode === "dataset") return e.dataset.label || ""; if (e.label) return e.label; if (n > 0 && e.dataIndex < n) return r[e.dataIndex] } return "" }, afterTitle: js, beforeBody: js, beforeLabel: js, label(t) { if (this && this.options && this.options.mode === "dataset") return t.label + ": " + t.formattedValue || t.formattedValue; let e = t.dataset.label || ""; e && (e += ": "); const r = t.formattedValue; return sr(r) || (e += r), e }, labelColor(t) { const r = t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex); return { borderColor: r.borderColor, backgroundColor: r.backgroundColor, borderWidth: r.borderWidth, borderDash: r.borderDash, borderDashOffset: r.borderDashOffset, borderRadius: 0 } }, labelTextColor() { return this.options.bodyColor }, labelPointStyle(t) { const r = t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex); return { pointStyle: r.pointStyle, rotation: r.rotation } }, afterLabel: js, afterBody: js, beforeFooter: js, footer: js, afterFooter: js }; function pn(t, e, r, n) { const s = t[e].call(r, n); return typeof s > "u" ? U6[e].call(r, n) : s } class vN extends $i { constructor(e) { super(), this.opacity = 0, this._active = [], this._eventPosition = void 0, this._size = void 0, this._cachedAnimations = void 0, this._tooltipItems = [], this.$animations = void 0, this.$context = void 0, this.chart = e.chart, this.options = e.options, this.dataPoints = void 0, this.title = void 0, this.beforeBody = void 0, this.body = void 0, this.afterBody = void 0, this.footer = void 0, this.xAlign = void 0, this.yAlign = void 0, this.x = void 0, this.y = void 0, this.height = void 0, this.width = void 0, this.caretX = void 0, this.caretY = void 0, this.labelColors = void 0, this.labelPointStyles = void 0, this.labelTextColors = void 0 } initialize(e) { this.options = e, this._cachedAnimations = void 0, this.$context = void 0 } _resolveAnimations() { const e = this._cachedAnimations; if (e) return e; const r = this.chart, n = this.options.setContext(this.getContext()), s = n.enabled && r.options.animation && n.animations, o = new A6(this.chart, s); return s._cacheable && (this._cachedAnimations = Object.freeze(o)), o } getContext() { return this.$context || (this.$context = hie(this.chart.getContext(), this, this._tooltipItems)) } getTitle(e, r) { const { callbacks: n } = r, s = pn(n, "beforeTitle", this, e), o = pn(n, "title", this, e), c = pn(n, "afterTitle", this, e); let u = []; return u = Ia(u, Ss(s)), u = Ia(u, Ss(o)), u = Ia(u, Ss(c)), u } getBeforeBody(e, r) { return X5(pn(r.callbacks, "beforeBody", this, e)) } getBody(e, r) { const { callbacks: n } = r, s = []; return $t(e, o => { const c = { before: [], lines: [], after: [] }, u = J5(n, o); Ia(c.before, Ss(pn(u, "beforeLabel", this, o))), Ia(c.lines, pn(u, "label", this, o)), Ia(c.after, Ss(pn(u, "afterLabel", this, o))), s.push(c) }), s } getAfterBody(e, r) { return X5(pn(r.callbacks, "afterBody", this, e)) } getFooter(e, r) { const { callbacks: n } = r, s = pn(n, "beforeFooter", this, e), o = pn(n, "footer", this, e), c = pn(n, "afterFooter", this, e); let u = []; return u = Ia(u, Ss(s)), u = Ia(u, Ss(o)), u = Ia(u, Ss(c)), u } _createItems(e) { const r = this._active, n = this.chart.data, s = [], o = [], c = []; let u = [], f, h; for (f = 0, h = r.length; f < h; ++f)u.push(oie(this.chart, r[f])); return e.filter && (u = u.filter((p, x, g) => e.filter(p, x, g, n))), e.itemSort && (u = u.sort((p, x) => e.itemSort(p, x, n))), $t(u, p => { const x = J5(e.callbacks, p); s.push(pn(x, "labelColor", this, p)), o.push(pn(x, "labelPointStyle", this, p)), c.push(pn(x, "labelTextColor", this, p)) }), this.labelColors = s, this.labelPointStyles = o, this.labelTextColors = c, this.dataPoints = u, u } update(e, r) { const n = this.options.setContext(this.getContext()), s = this._active; let o, c = []; if (!s.length) this.opacity !== 0 && (o = { opacity: 0 }); else { const u = zu[n.position].call(this, s, this._eventPosition); c = this._createItems(n), this.title = this.getTitle(c, n), this.beforeBody = this.getBeforeBody(c, n), this.body = this.getBody(c, n), this.afterBody = this.getAfterBody(c, n), this.footer = this.getFooter(c, n); const f = this._size = G5(this, n), h = Object.assign({}, u, f), p = K5(this.chart, n, h), x = W5(n, h, p, this.chart); this.xAlign = p.xAlign, this.yAlign = p.yAlign, o = { opacity: 1, x: x.x, y: x.y, width: f.width, height: f.height, caretX: u.x, caretY: u.y } } this._tooltipItems = c, this.$context = void 0, o && this._resolveAnimations().update(this, o), e && n.external && n.external.call(this, { chart: this.chart, tooltip: this, replay: r }) } drawCaret(e, r, n, s) { const o = this.getCaretPosition(e, n, s); r.lineTo(o.x1, o.y1), r.lineTo(o.x2, o.y2), r.lineTo(o.x3, o.y3) } getCaretPosition(e, r, n) { const { xAlign: s, yAlign: o } = this, { caretSize: c, cornerRadius: u } = n, { topLeft: f, topRight: h, bottomLeft: p, bottomRight: x } = Bl(u), { x: g, y: v } = e, { width: j, height: S } = r; let w, O, D, R, H, C; return o === "center" ? (H = v + S / 2, s === "left" ? (w = g, O = w - c, R = H + c, C = H - c) : (w = g + j, O = w + c, R = H - c, C = H + c), D = w) : (s === "left" ? O = g + Math.max(f, p) + c : s === "right" ? O = g + j - Math.max(h, x) - c : O = this.caretX, o === "top" ? (R = v, H = R - c, w = O - c, D = O + c) : (R = v + S, H = R + c, w = O + c, D = O - c), C = R), { x1: w, x2: O, x3: D, y1: R, y2: H, y3: C } } drawTitle(e, r, n) { const s = this.title, o = s.length; let c, u, f; if (o) { const h = ql(n.rtl, this.x, this.width); for (e.x = Hh(this, n.titleAlign, n), r.textAlign = h.textAlign(n.titleAlign), r.textBaseline = "middle", c = en(n.titleFont), u = n.titleSpacing, r.fillStyle = n.titleColor, r.font = c.string, f = 0; f < o; ++f)r.fillText(s[f], h.x(e.x), e.y + c.lineHeight / 2), e.y += c.lineHeight + u, f + 1 === o && (e.y += n.titleMarginBottom - u) } } _drawColorBox(e, r, n, s, o) { const c = this.labelColors[n], u = this.labelPointStyles[n], { boxHeight: f, boxWidth: h } = o, p = en(o.bodyFont), x = Hh(this, "left", o), g = s.x(x), v = f < p.lineHeight ? (p.lineHeight - f) / 2 : 0, j = r.y + v; if (o.usePointStyle) { const S = { radius: Math.min(h, f) / 2, pointStyle: u.pointStyle, rotation: u.rotation, borderWidth: 1 }, w = s.leftForLtr(g, h) + h / 2, O = j + f / 2; e.strokeStyle = o.multiKeyBackground, e.fillStyle = o.multiKeyBackground, p5(e, S, w, O), e.strokeStyle = c.borderColor, e.fillStyle = c.backgroundColor, p5(e, S, w, O) } else { e.lineWidth = _t(c.borderWidth) ? Math.max(...Object.values(c.borderWidth)) : c.borderWidth || 1, e.strokeStyle = c.borderColor, e.setLineDash(c.borderDash || []), e.lineDashOffset = c.borderDashOffset || 0; const S = s.leftForLtr(g, h), w = s.leftForLtr(s.xPlus(g, 1), h - 2), O = Bl(c.borderRadius); Object.values(O).some(D => D !== 0) ? (e.beginPath(), e.fillStyle = o.multiKeyBackground, gp(e, { x: S, y: j, w: h, h: f, radius: O }), e.fill(), e.stroke(), e.fillStyle = c.backgroundColor, e.beginPath(), gp(e, { x: w, y: j + 1, w: h - 2, h: f - 2, radius: O }), e.fill()) : (e.fillStyle = o.multiKeyBackground, e.fillRect(S, j, h, f), e.strokeRect(S, j, h, f), e.fillStyle = c.backgroundColor, e.fillRect(w, j + 1, h - 2, f - 2)) } e.fillStyle = this.labelTextColors[n] } drawBody(e, r, n) { const { body: s } = this, { bodySpacing: o, bodyAlign: c, displayColors: u, boxHeight: f, boxWidth: h, boxPadding: p } = n, x = en(n.bodyFont); let g = x.lineHeight, v = 0; const j = ql(n.rtl, this.x, this.width), S = function (P) { r.fillText(P, j.x(e.x + v), e.y + g / 2), e.y += g + o }, w = j.textAlign(c); let O, D, R, H, C, k, F; for (r.textAlign = c, r.textBaseline = "middle", r.font = x.string, e.x = Hh(this, w, n), r.fillStyle = n.bodyColor, $t(this.beforeBody, S), v = u && w !== "right" ? c === "center" ? h / 2 + p : h + 2 + p : 0, H = 0, k = s.length; H < k; ++H) { for (O = s[H], D = this.labelTextColors[H], r.fillStyle = D, $t(O.before, S), R = O.lines, u && R.length && (this._drawColorBox(r, e, H, j, n), g = Math.max(x.lineHeight, f)), C = 0, F = R.length; C < F; ++C)S(R[C]), g = x.lineHeight; $t(O.after, S) } v = 0, g = x.lineHeight, $t(this.afterBody, S), e.y -= o } drawFooter(e, r, n) { const s = this.footer, o = s.length; let c, u; if (o) { const f = ql(n.rtl, this.x, this.width); for (e.x = Hh(this, n.footerAlign, n), e.y += n.footerMarginTop, r.textAlign = f.textAlign(n.footerAlign), r.textBaseline = "middle", c = en(n.footerFont), r.fillStyle = n.footerColor, r.font = c.string, u = 0; u < o; ++u)r.fillText(s[u], f.x(e.x), e.y + c.lineHeight / 2), e.y += c.lineHeight + n.footerSpacing } } drawBackground(e, r, n, s) { const { xAlign: o, yAlign: c } = this, { x: u, y: f } = e, { width: h, height: p } = n, { topLeft: x, topRight: g, bottomLeft: v, bottomRight: j } = Bl(s.cornerRadius); r.fillStyle = s.backgroundColor, r.strokeStyle = s.borderColor, r.lineWidth = s.borderWidth, r.beginPath(), r.moveTo(u + x, f), c === "top" && this.drawCaret(e, r, n, s), r.lineTo(u + h - g, f), r.quadraticCurveTo(u + h, f, u + h, f + g), c === "center" && o === "right" && this.drawCaret(e, r, n, s), r.lineTo(u + h, f + p - j), r.quadraticCurveTo(u + h, f + p, u + h - j, f + p), c === "bottom" && this.drawCaret(e, r, n, s), r.lineTo(u + v, f + p), r.quadraticCurveTo(u, f + p, u, f + p - v), c === "center" && o === "left" && this.drawCaret(e, r, n, s), r.lineTo(u, f + x), r.quadraticCurveTo(u, f, u + x, f), r.closePath(), r.fill(), s.borderWidth > 0 && r.stroke() } _updateAnimationTarget(e) { const r = this.chart, n = this.$animations, s = n && n.x, o = n && n.y; if (s || o) { const c = zu[e.position].call(this, this._active, this._eventPosition); if (!c) return; const u = this._size = G5(this, e), f = Object.assign({}, c, this._size), h = K5(r, e, f), p = W5(e, f, h, r); (s._to !== p.x || o._to !== p.y) && (this.xAlign = h.xAlign, this.yAlign = h.yAlign, this.width = u.width, this.height = u.height, this.caretX = c.x, this.caretY = c.y, this._resolveAnimations().update(this, p)) } } _willRender() { return !!this.opacity } draw(e) { const r = this.options.setContext(this.getContext()); let n = this.opacity; if (!n) return; this._updateAnimationTarget(r); const s = { width: this.width, height: this.height }, o = { x: this.x, y: this.y }; n = Math.abs(n) < .001 ? 0 : n; const c = ia(r.padding), u = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length; r.enabled && u && (e.save(), e.globalAlpha = n, this.drawBackground(o, e, s, r), C6(e, r.textDirection), o.y += c.top, this.drawTitle(o, e, r), this.drawBody(o, e, r), this.drawFooter(o, e, r), k6(e, r.textDirection), e.restore()) } getActiveElements() { return this._active || [] } setActiveElements(e, r) { const n = this._active, s = e.map(({ datasetIndex: u, index: f }) => { const h = this.chart.getDatasetMeta(u); if (!h) throw new Error("Cannot find a dataset at index " + u); return { datasetIndex: u, element: h.data[f], index: f } }), o = !up(n, s), c = this._positionChanged(s, r); (o || c) && (this._active = s, this._eventPosition = r, this._ignoreReplayEvents = !0, this.update(!0)) } handleEvent(e, r, n = !0) { if (r && this._ignoreReplayEvents) return !1; this._ignoreReplayEvents = !1; const s = this.options, o = this._active || [], c = this._getActiveElements(e, o, r, n), u = this._positionChanged(c, e), f = r || !up(c, o) || u; return f && (this._active = c, (s.enabled || s.external) && (this._eventPosition = { x: e.x, y: e.y }, this.update(!0, r))), f } _getActiveElements(e, r, n, s) { const o = this.options; if (e.type === "mouseout") return []; if (!s) return r.filter(u => this.chart.data.datasets[u.datasetIndex] && this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index) !== void 0); const c = this.chart.getElementsAtEventForMode(e, o.mode, o, n); return o.reverse && c.reverse(), c } _positionChanged(e, r) { const { caretX: n, caretY: s, options: o } = this, c = zu[o.position].call(this, e, r); return c !== !1 && (n !== c.x || s !== c.y) } } At(vN, "positioners", zu); var mie = { id: "tooltip", _element: vN, positioners: zu, afterInit(t, e, r) { r && (t.tooltip = new vN({ chart: t, options: r })) }, beforeUpdate(t, e, r) { t.tooltip && t.tooltip.initialize(r) }, reset(t, e, r) { t.tooltip && t.tooltip.initialize(r) }, afterDraw(t) { const e = t.tooltip; if (e && e._willRender()) { const r = { tooltip: e }; if (t.notifyPlugins("beforeTooltipDraw", { ...r, cancelable: !0 }) === !1) return; e.draw(t.ctx), t.notifyPlugins("afterTooltipDraw", r) } }, afterEvent(t, e) { if (t.tooltip) { const r = e.replay; t.tooltip.handleEvent(e.event, r, e.inChartArea) && (e.changed = !0) } }, defaults: { enabled: !0, external: null, position: "average", backgroundColor: "rgba(0,0,0,0.8)", titleColor: "#fff", titleFont: { weight: "bold" }, titleSpacing: 2, titleMarginBottom: 6, titleAlign: "left", bodyColor: "#fff", bodySpacing: 2, bodyFont: {}, bodyAlign: "left", footerColor: "#fff", footerSpacing: 2, footerMarginTop: 6, footerFont: { weight: "bold" }, footerAlign: "left", padding: 6, caretPadding: 2, caretSize: 5, cornerRadius: 6, boxHeight: (t, e) => e.bodyFont.size, boxWidth: (t, e) => e.bodyFont.size, multiKeyBackground: "#fff", displayColors: !0, boxPadding: 0, borderColor: "rgba(0,0,0,0)", borderWidth: 0, animation: { duration: 400, easing: "easeOutQuart" }, animations: { numbers: { type: "number", properties: ["x", "y", "width", "height", "caretX", "caretY"] }, opacity: { easing: "linear", duration: 200 } }, callbacks: U6 }, defaultRoutes: { bodyFont: "font", footerFont: "font", titleFont: "font" }, descriptors: { _scriptable: t => t !== "filter" && t !== "itemSort" && t !== "external", _indexable: !1, callbacks: { _scriptable: !1, _indexable: !1 }, animation: { _fallback: !1 }, animations: { _fallback: "animation" } }, additionalOptionScopes: ["interaction"] }; const pie = (t, e, r, n) => (typeof e == "string" ? (r = t.push(e) - 1, n.unshift({ index: r, label: e })) : isNaN(e) && (r = null), r); function xie(t, e, r, n) { const s = t.indexOf(e); if (s === -1) return pie(t, e, r, n); const o = t.lastIndexOf(e); return s !== o ? r : s } const gie = (t, e) => t === null ? null : _a(Math.round(t), 0, e); function Q5(t) { const e = this.getLabels(); return t >= 0 && t < e.length ? e[t] : t } class wN extends kc { constructor(e) { super(e), this._startValue = void 0, this._valueRange = 0, this._addedLabels = [] } init(e) { const r = this._addedLabels; if (r.length) { const n = this.getLabels(); for (const { index: s, label: o } of r) n[s] === o && n.splice(s, 1); this._addedLabels = [] } super.init(e) } parse(e, r) { if (sr(e)) return null; const n = this.getLabels(); return r = isFinite(r) && n[r] === e ? r : xie(n, e, zt(r, e), this._addedLabels), gie(r, n.length - 1) } determineDataLimits() { const { minDefined: e, maxDefined: r } = this.getUserBounds(); let { min: n, max: s } = this.getMinMax(!0); this.options.bounds === "ticks" && (e || (n = 0), r || (s = this.getLabels().length - 1)), this.min = n, this.max = s } buildTicks() { const e = this.min, r = this.max, n = this.options.offset, s = []; let o = this.getLabels(); o = e === 0 && r === o.length - 1 ? o : o.slice(e, r + 1), this._valueRange = Math.max(o.length - (n ? 0 : 1), 1), this._startValue = this.min - (n ? .5 : 0); for (let c = e; c <= r; c++)s.push({ value: c }); return s } getLabelForValue(e) { return Q5.call(this, e) } configure() { super.configure(), this.isHorizontal() || (this._reversePixels = !this._reversePixels) } getPixelForValue(e) { return typeof e != "number" && (e = this.parse(e)), e === null ? NaN : this.getPixelForDecimal((e - this._startValue) / this._valueRange) } getPixelForTick(e) { const r = this.ticks; return e < 0 || e > r.length - 1 ? null : this.getPixelForValue(r[e].value) } getValueForPixel(e) { return Math.round(this._startValue + this.getDecimalForPixel(e) * this._valueRange) } getBasePixel() { return this.bottom } } At(wN, "id", "category"), At(wN, "defaults", { ticks: { callback: Q5 } }); function yie(t, e) { const r = [], { bounds: s, step: o, min: c, max: u, precision: f, count: h, maxTicks: p, maxDigits: x, includeBounds: g } = t, v = o || 1, j = p - 1, { min: S, max: w } = e, O = !sr(c), D = !sr(u), R = !sr(h), H = (w - S) / (x + 1); let C = i5((w - S) / j / v) * v, k, F, P, W; if (C < 1e-14 && !O && !D) return [{ value: S }, { value: w }]; W = Math.ceil(w / C) - Math.floor(S / C), W > j && (C = i5(W * C / j / v) * v), sr(f) || (k = Math.pow(10, f), C = Math.ceil(C * k) / k), s === "ticks" ? (F = Math.floor(S / C) * C, P = Math.ceil(w / C) * C) : (F = S, P = w), O && D && o && kne((u - c) / o, C / 1e3) ? (W = Math.round(Math.min((u - c) / C, p)), C = (u - c) / W, F = c, P = u) : R ? (F = O ? c : F, P = D ? u : P, W = h - 1, C = (P - F) / W) : (W = (P - F) / C, Zh(W, Math.round(W), C / 1e3) ? W = Math.round(W) : W = Math.ceil(W)); const J = Math.max(o5(C), o5(F)); k = Math.pow(10, sr(f) ? J : f), F = Math.round(F * k) / k, P = Math.round(P * k) / k; let Q = 0; for (O && (g && F !== c ? (r.push({ value: c }), F < c && Q++, Zh(Math.round((F + Q * C) * k) / k, c, Z5(c, H, t)) && Q++) : F < c && Q++); Q < W; ++Q) { const V = Math.round((F + Q * C) * k) / k; if (D && V > u) break; r.push({ value: V }) } return D && g && P !== u ? r.length && Zh(r[r.length - 1].value, u, Z5(u, H, t)) ? r[r.length - 1].value = u : r.push({ value: u }) : (!D || P === u) && r.push({ value: P }), r } function Z5(t, e, { horizontal: r, minRotation: n }) { const s = So(n), o = (r ? Math.sin(s) : Math.cos(s)) || .001, c = .75 * e * ("" + t).length; return Math.min(e / o, c) } class bie extends kc { constructor(e) { super(e), this.start = void 0, this.end = void 0, this._startValue = void 0, this._endValue = void 0, this._valueRange = 0 } parse(e, r) { return sr(e) || (typeof e == "number" || e instanceof Number) && !isFinite(+e) ? null : +e } handleTickRangeOptions() { const { beginAtZero: e } = this.options, { minDefined: r, maxDefined: n } = this.getUserBounds(); let { min: s, max: o } = this; const c = f => s = r ? s : f, u = f => o = n ? o : f; if (e) { const f = pp(s), h = pp(o); f < 0 && h < 0 ? u(0) : f > 0 && h > 0 && c(0) } if (s === o) { let f = o === 0 ? 1 : Math.abs(o * .05); u(o + f), e || c(s - f) } this.min = s, this.max = o } getTickLimit() { const e = this.options.ticks; let { maxTicksLimit: r, stepSize: n } = e, s; return n ? (s = Math.ceil(this.max / n) - Math.floor(this.min / n) + 1, s > 1e3 && (console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`), s = 1e3)) : (s = this.computeTickLimit(), r = r || 11), r && (s = Math.min(r, s)), s } computeTickLimit() { return Number.POSITIVE_INFINITY } buildTicks() { const e = this.options, r = e.ticks; let n = this.getTickLimit(); n = Math.max(2, n); const s = { maxTicks: n, bounds: e.bounds, min: e.min, max: e.max, precision: r.precision, step: r.stepSize, count: r.count, maxDigits: this._maxDigits(), horizontal: this.isHorizontal(), minRotation: r.minRotation || 0, includeBounds: r.includeBounds !== !1 }, o = this._range || this, c = yie(s, o); return e.bounds === "ticks" && Ane(c, this, "value"), e.reverse ? (c.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), c } configure() { const e = this.ticks; let r = this.min, n = this.max; if (super.configure(), this.options.offset && e.length) { const s = (n - r) / Math.max(e.length - 1, 1) / 2; r -= s, n += s } this._startValue = r, this._endValue = n, this._valueRange = n - r } getLabelForValue(e) { return g6(e, this.chart.options.locale, this.options.ticks.format) } } class jN extends bie { determineDataLimits() { const { min: e, max: r } = this.getMinMax(!0); this.min = sa(e) ? e : 0, this.max = sa(r) ? r : 1, this.handleTickRangeOptions() } computeTickLimit() { const e = this.isHorizontal(), r = e ? this.width : this.height, n = So(this.options.ticks.minRotation), s = (e ? Math.sin(n) : Math.cos(n)) || .001, o = this._resolveTickFontOptions(0); return Math.ceil(r / Math.min(40, o.lineHeight / s)) } getPixelForValue(e) { return e === null ? NaN : this.getPixelForDecimal((e - this._startValue) / this._valueRange) } getValueForPixel(e) { return this._startValue + this.getDecimalForPixel(e) * this._valueRange } } At(jN, "id", "linear"), At(jN, "defaults", { ticks: { callback: y6.formatters.numeric } }); const cx = { millisecond: { common: !0, size: 1, steps: 1e3 }, second: { common: !0, size: 1e3, steps: 60 }, minute: { common: !0, size: 6e4, steps: 60 }, hour: { common: !0, size: 36e5, steps: 24 }, day: { common: !0, size: 864e5, steps: 30 }, week: { common: !1, size: 6048e5, steps: 4 }, month: { common: !0, size: 2628e6, steps: 12 }, quarter: { common: !1, size: 7884e6, steps: 4 }, year: { common: !0, size: 3154e7 } }, xn = Object.keys(cx); function eP(t, e) { return t - e } function tP(t, e) { if (sr(e)) return null; const r = t._adapter, { parser: n, round: s, isoWeekday: o } = t._parseOpts; let c = e; return typeof n == "function" && (c = n(c)), sa(c) || (c = typeof n == "string" ? r.parse(c, n) : r.parse(c)), c === null ? null : (s && (c = s === "week" && (xp(o) || o === !0) ? r.startOf(c, "isoWeek", o) : r.startOf(c, s)), +c) } function rP(t, e, r, n) { const s = xn.length; for (let o = xn.indexOf(t); o < s - 1; ++o) { const c = cx[xn[o]], u = c.steps ? c.steps : Number.MAX_SAFE_INTEGER; if (c.common && Math.ceil((r - e) / (u * c.size)) <= n) return xn[o] } return xn[s - 1] } function vie(t, e, r, n, s) { for (let o = xn.length - 1; o >= xn.indexOf(r); o--) { const c = xn[o]; if (cx[c].common && t._adapter.diff(s, n, c) >= e - 1) return c } return xn[r ? xn.indexOf(r) : 0] } function wie(t) { for (let e = xn.indexOf(t) + 1, r = xn.length; e < r; ++e)if (cx[xn[e]].common) return xn[e] } function nP(t, e, r) { if (!r) t[e] = !0; else if (r.length) { const { lo: n, hi: s } = B1(r, e), o = r[n] >= e ? r[n] : r[s]; t[o] = !0 } } function jie(t, e, r, n) { const s = t._adapter, o = +s.startOf(e[0].value, n), c = e[e.length - 1].value; let u, f; for (u = o; u <= c; u = +s.add(u, 1, n))f = r[u], f >= 0 && (e[f].major = !0); return e } function aP(t, e, r) { const n = [], s = {}, o = e.length; let c, u; for (c = 0; c < o; ++c)u = e[c], s[u] = c, n.push({ value: u, major: !1 }); return o === 0 || !r ? n : jie(t, n, s, r) } class vp extends kc { constructor(e) { super(e), this._cache = { data: [], labels: [], all: [] }, this._unit = "day", this._majorUnit = void 0, this._offsets = {}, this._normalized = !1, this._parseOpts = void 0 } init(e, r = {}) { const n = e.time || (e.time = {}), s = this._adapter = new Fae._date(e.adapters.date); s.init(r), Xu(n.displayFormats, s.formats()), this._parseOpts = { parser: n.parser, round: n.round, isoWeekday: n.isoWeekday }, super.init(e), this._normalized = r.normalized } parse(e, r) { return e === void 0 ? null : tP(this, e) } beforeLayout() { super.beforeLayout(), this._cache = { data: [], labels: [], all: [] } } determineDataLimits() { const e = this.options, r = this._adapter, n = e.time.unit || "day"; let { min: s, max: o, minDefined: c, maxDefined: u } = this.getUserBounds(); function f(h) { !c && !isNaN(h.min) && (s = Math.min(s, h.min)), !u && !isNaN(h.max) && (o = Math.max(o, h.max)) } (!c || !u) && (f(this._getLabelBounds()), (e.bounds !== "ticks" || e.ticks.source !== "labels") && f(this.getMinMax(!1))), s = sa(s) && !isNaN(s) ? s : +r.startOf(Date.now(), n), o = sa(o) && !isNaN(o) ? o : +r.endOf(Date.now(), n) + 1, this.min = Math.min(s, o - 1), this.max = Math.max(s + 1, o) } _getLabelBounds() { const e = this.getLabelTimestamps(); let r = Number.POSITIVE_INFINITY, n = Number.NEGATIVE_INFINITY; return e.length && (r = e[0], n = e[e.length - 1]), { min: r, max: n } } buildTicks() { const e = this.options, r = e.time, n = e.ticks, s = n.source === "labels" ? this.getLabelTimestamps() : this._generate(); e.bounds === "ticks" && s.length && (this.min = this._userMin || s[0], this.max = this._userMax || s[s.length - 1]); const o = this.min, c = this.max, u = $ne(s, o, c); return this._unit = r.unit || (n.autoSkip ? rP(r.minUnit, this.min, this.max, this._getLabelCapacity(o)) : vie(this, u.length, r.minUnit, this.min, this.max)), this._majorUnit = !n.major.enabled || this._unit === "year" ? void 0 : wie(this._unit), this.initOffsets(s), e.reverse && u.reverse(), aP(this, u, this._majorUnit) } afterAutoSkip() { this.options.offsetAfterAutoskip && this.initOffsets(this.ticks.map(e => +e.value)) } initOffsets(e = []) { let r = 0, n = 0, s, o; this.options.offset && e.length && (s = this.getDecimalForValue(e[0]), e.length === 1 ? r = 1 - s : r = (this.getDecimalForValue(e[1]) - s) / 2, o = this.getDecimalForValue(e[e.length - 1]), e.length === 1 ? n = o : n = (o - this.getDecimalForValue(e[e.length - 2])) / 2); const c = e.length < 3 ? .5 : .25; r = _a(r, 0, c), n = _a(n, 0, c), this._offsets = { start: r, end: n, factor: 1 / (r + 1 + n) } } _generate() { const e = this._adapter, r = this.min, n = this.max, s = this.options, o = s.time, c = o.unit || rP(o.minUnit, r, n, this._getLabelCapacity(r)), u = zt(s.ticks.stepSize, 1), f = c === "week" ? o.isoWeekday : !1, h = xp(f) || f === !0, p = {}; let x = r, g, v; if (h && (x = +e.startOf(x, "isoWeek", f)), x = +e.startOf(x, h ? "day" : c), e.diff(n, r, c) > 1e5 * u) throw new Error(r + " and " + n + " are too far apart with stepSize of " + u + " " + c); const j = s.ticks.source === "data" && this.getDataTimestamps(); for (g = x, v = 0; g < n; g = +e.add(g, u, c), v++)nP(p, g, j); return (g === n || s.bounds === "ticks" || v === 1) && nP(p, g, j), Object.keys(p).sort(eP).map(S => +S) } getLabelForValue(e) { const r = this._adapter, n = this.options.time; return n.tooltipFormat ? r.format(e, n.tooltipFormat) : r.format(e, n.displayFormats.datetime) } format(e, r) { const s = this.options.time.displayFormats, o = this._unit, c = r || s[o]; return this._adapter.format(e, c) } _tickFormatFunction(e, r, n, s) { const o = this.options, c = o.ticks.callback; if (c) return Qt(c, [e, r, n], this); const u = o.time.displayFormats, f = this._unit, h = this._majorUnit, p = f && u[f], x = h && u[h], g = n[r], v = h && x && g && g.major; return this._adapter.format(e, s || (v ? x : p)) } generateTickLabels(e) { let r, n, s; for (r = 0, n = e.length; r < n; ++r)s = e[r], s.label = this._tickFormatFunction(s.value, r, e) } getDecimalForValue(e) { return e === null ? NaN : (e - this.min) / (this.max - this.min) } getPixelForValue(e) { const r = this._offsets, n = this.getDecimalForValue(e); return this.getPixelForDecimal((r.start + n) * r.factor) } getValueForPixel(e) { const r = this._offsets, n = this.getDecimalForPixel(e) / r.factor - r.end; return this.min + n * (this.max - this.min) } _getLabelSize(e) { const r = this.options.ticks, n = this.ctx.measureText(e).width, s = So(this.isHorizontal() ? r.maxRotation : r.minRotation), o = Math.cos(s), c = Math.sin(s), u = this._resolveTickFontOptions(0).size; return { w: n * o + u * c, h: n * c + u * o } } _getLabelCapacity(e) { const r = this.options.time, n = r.displayFormats, s = n[r.unit] || n.millisecond, o = this._tickFormatFunction(e, 0, aP(this, [e], this._majorUnit), s), c = this._getLabelSize(o), u = Math.floor(this.isHorizontal() ? this.width / c.w : this.height / c.h) - 1; return u > 0 ? u : 1 } getDataTimestamps() { let e = this._cache.data || [], r, n; if (e.length) return e; const s = this.getMatchingVisibleMetas(); if (this._normalized && s.length) return this._cache.data = s[0].controller.getAllParsedValues(this); for (r = 0, n = s.length; r < n; ++r)e = e.concat(s[r].controller.getAllParsedValues(this)); return this._cache.data = this.normalize(e) } getLabelTimestamps() { const e = this._cache.labels || []; let r, n; if (e.length) return e; const s = this.getLabels(); for (r = 0, n = s.length; r < n; ++r)e.push(tP(this, s[r])); return this._cache.labels = this._normalized ? e : this.normalize(e) } normalize(e) { return Lne(e.sort(eP)) } } At(vp, "id", "time"), At(vp, "defaults", { bounds: "data", adapters: {}, time: { parser: !1, unit: !1, round: !1, isoWeekday: !1, minUnit: "millisecond", displayFormats: {} }, ticks: { source: "auto", callback: !1, major: { enabled: !1 } } }); function Vh(t, e, r) { let n = 0, s = t.length - 1, o, c, u, f; r ? (e >= t[n].pos && e <= t[s].pos && ({ lo: n, hi: s } = xN(t, "pos", e)), { pos: o, time: u } = t[n], { pos: c, time: f } = t[s]) : (e >= t[n].time && e <= t[s].time && ({ lo: n, hi: s } = xN(t, "time", e)), { time: o, pos: u } = t[n], { time: c, pos: f } = t[s]); const h = c - o; return h ? u + (f - u) * (e - o) / h : u } class sP extends vp { constructor(e) { super(e), this._table = [], this._minPos = void 0, this._tableRange = void 0 } initOffsets() { const e = this._getTimestampsForTable(), r = this._table = this.buildLookupTable(e); this._minPos = Vh(r, this.min), this._tableRange = Vh(r, this.max) - this._minPos, super.initOffsets(e) } buildLookupTable(e) { const { min: r, max: n } = this, s = [], o = []; let c, u, f, h, p; for (c = 0, u = e.length; c < u; ++c)h = e[c], h >= r && h <= n && s.push(h); if (s.length < 2) return [{ time: r, pos: 0 }, { time: n, pos: 1 }]; for (c = 0, u = s.length; c < u; ++c)p = s[c + 1], f = s[c - 1], h = s[c], Math.round((p + f) / 2) !== h && o.push({ time: h, pos: c / (u - 1) }); return o } _generate() { const e = this.min, r = this.max; let n = super.getDataTimestamps(); return (!n.includes(e) || !n.length) && n.splice(0, 0, e), (!n.includes(r) || n.length === 1) && n.push(r), n.sort((s, o) => s - o) } _getTimestampsForTable() { let e = this._cache.all || []; if (e.length) return e; const r = this.getDataTimestamps(), n = this.getLabelTimestamps(); return r.length && n.length ? e = this.normalize(r.concat(n)) : e = r.length ? r : n, e = this._cache.all = e, e } getDecimalForValue(e) { return (Vh(this._table, e) - this._minPos) / this._tableRange } getValueForPixel(e) { const r = this._offsets, n = this.getDecimalForPixel(e) / r.factor - r.end; return Vh(this._table, n * this._tableRange + this._minPos, !0) } } At(sP, "id", "timeseries"), At(sP, "defaults", vp.defaults); const H6 = b.createContext(), X1 = () => { const t = b.useContext(H6); if (!t) throw new Error("useDeviceContext must be used within DeviceProvider"); return t }, Nie = ({ children: t }) => { const [e, r] = b.useState(() => localStorage.getItem("psKey") || ""), [n, s] = b.useState(() => { const p = localStorage.getItem("selectedDevice"); return p ? JSON.parse(p) : null }), [o, c] = b.useState(() => localStorage.getItem("solarToken") || ""); b.useEffect(() => { e && localStorage.setItem("psKey", e) }, [e]), b.useEffect(() => { n && localStorage.setItem("selectedDevice", JSON.stringify(n)) }, [n]), b.useEffect(() => { o ? localStorage.setItem("solarToken", o) : localStorage.removeItem("solarToken") }, [o]); const h = { psKey: e, setPsKey: r, selectedDevice: n, setSelectedDevice: s, token: o, setToken: c, clearDeviceData: () => { r(""), s(null), localStorage.removeItem("psKey"), localStorage.removeItem("selectedDevice") }, updateDeviceData: p => { if (p) { const x = p.ps_key; r(x), s(p) } } }; return a.jsx(H6.Provider, { value: h, children: t }) }, Lw = "7FD3CECA7507BDB20A80E72982E7DCDF", Fw = "smu1jqi8wg712d2uuujfgwexgdvrsvj2", iP = "207", oP = "sahoo@rbpindia.com", lP = "rbpindia@2025", Sie = "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", _ie = "Inverter_id", Oie = ({ onTokenChange: t, onDeviceDataChange: e, onBeneficiarySelect: r }) => { const { psKey: n, setPsKey: s, setSelectedDevice: o } = X1(), [c, u] = b.useState(() => { const K = localStorage.getItem("autoLoginEnabled"); return K ? JSON.parse(K) : !0 }), [f, h] = b.useState(() => localStorage.getItem("serialNumber") || ""), [p, x] = b.useState(""), [g, v] = b.useState({ login: !1, device: !1, googleSheets: !1 }), [j, S] = b.useState(""), [w, O] = b.useState(null), [D, R] = b.useState([]), [H, C] = b.useState([]), [k, F] = b.useState(""), [P, W] = b.useState(!1), [J, Q] = b.useState([]), [V, ae] = b.useState(""), [ie, se] = b.useState(!1), U = b.useRef(null), le = b.useRef(null), de = b.useRef(null), me = b.useRef(null), pe = b.useRef(!0), M = b.useRef(!1); b.useEffect(() => { localStorage.setItem("autoLoginEnabled", JSON.stringify(c)) }, [c]), b.useEffect(() => { localStorage.setItem("serialNumber", f) }, [f]), b.useEffect(() => { c && G(), Z() }, []); const Z = async () => { var K; v(ee => ({ ...ee, googleSheets: !0 })), S(""); try { const ee = `${Sie}?sheet=${encodeURIComponent(_ie)}&action=fetch`, te = await fetch(ee); if (!te.ok) throw new Error("Failed to fetch Google Sheets data"); const oe = await te.text(); let fe; try { fe = JSON.parse(oe) } catch { const $e = oe.indexOf("{"), Fe = oe.lastIndexOf("}"); if ($e !== -1 && Fe !== -1) fe = JSON.parse(oe.substring($e, Fe + 1)); else throw new Error("Invalid JSON response") } let ue = []; (K = fe.table) != null && K.rows ? ue = fe.table.rows : Array.isArray(fe) ? ue = fe : fe.values && (ue = fe.values.map($e => ({ c: $e.map(Fe => ({ v: Fe })) }))); const ye = [], be = new Set; ue.forEach(($e, Fe) => { if (Fe === 0) return; let Ue = []; $e.c ? Ue = $e.c.map(ft => (ft == null ? void 0 : ft.v) || "") : Array.isArray($e) && (Ue = $e); const Ze = String(Ue[2] || "").trim(), nt = String(Ue[1] || "").trim(), Kt = String(Ue[3] || "").trim(); Ze && nt && (be.add(Ze), ye.push({ id: Fe, beneficiaryName: Ze, inverterId: nt, capacity: Kt, serialNo: Ue[0] || "" })) }), R(ye); const Pe = [...be].sort(); C(Pe), Q(Pe) } catch (ee) { console.error("Error fetching Google Sheets:", ee), S(`Failed to load beneficiary data: ${ee.message}`) } finally { v(ee => ({ ...ee, googleSheets: !1 })) } }, ce = K => { if (F(K), !K.trim()) { Q(H); return } const ee = H.filter(te => te.toLowerCase().includes(K.toLowerCase())); Q(ee) }, ne = K => { ae(K), F(K), W(!1); const ee = D.filter(ue => ue.beneficiaryName === K).map(ue => ue.inverterId).filter((ue, ye, be) => be.indexOf(ue) === ye); let te = ""; ee.length === 1 ? (te = ee[0], M.current = !1, h(te), p && setTimeout(() => { A(p, te) }, 100)) : ee.length > 0 && (te = ee[0], M.current = !1, h(te), p && setTimeout(() => { A(p, te) }, 100)); const oe = D.find(ue => ue.beneficiaryName === K && ue.inverterId === te), fe = oe != null && oe.capacity ? parseFloat(oe.capacity) : 1; r && r({ beneficiary: K, inverterId: te, capacity: fe }), le.current && le.current.focus() }, L = K => { const ee = K.target.value; M.current = !0, h(ee), ee && V && (ae(""), F("")) }, I = () => { me.current && (clearTimeout(me.current), me.current = null), J.length > 0 && W(!0) }, _ = () => { ie || (me.current = setTimeout(() => { W(!1) }, 150)) }, X = () => { se(!0), me.current && (clearTimeout(me.current), me.current = null) }, E = () => { se(!1), me.current = setTimeout(() => { W(!1) }, 150) }, q = () => { F(""), ae(""), Q(H), le.current && le.current.focus() }, T = () => { J.length > 0 && W(!0) }, Y = K => { U.current && U.current.contains(K.relatedTarget) || setTimeout(() => { ie || W(!1) }, 150) }, G = async (K = 0) => { var ee; v(te => ({ ...te, login: !0 })), S(""); try { const oe = await fetch("https://gateway.isolarcloud.com.hk/openapi/login", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": Fw, sys_code: iP }, body: JSON.stringify({ appkey: Lw, user_account: oP, user_password: lP }) }), fe = await oe.text(); let ue; try { ue = JSON.parse(fe) } catch { throw new Error(`Invalid JSON response: ${fe.substring(0, 100)}`) } if (!oe.ok) throw new Error(`HTTP ${oe.status}: ${ue.result_msg || "Login failed"}`); if (ue.result_code === "1") { const ye = ((ee = ue.result_data) == null ? void 0 : ee.token) || ""; x(ye), t(ye), localStorage.setItem("solarToken", ye), localStorage.setItem("solarTokenTimestamp", Date.now().toString()), console.log("Login successful, token:", ye.substring(0, 20) + "..."), f && A(ye) } else { if (ue.result_msg.includes("busy") && K < 2) { setTimeout(() => G(K + 1), 2e3); return } S(`Login failed: ${ue.result_msg}`) } } catch (te) { if (console.error("Login error:", te), K < 2) { setTimeout(() => G(K + 1), 2e3); return } S(te.message || "Unknown login error") } finally { v(te => ({ ...te, login: !1 })) } }, A = async (K, ee = null) => { var fe, ue, ye; const te = K || p, oe = ee || f; if (!te) { S("No login token available. Please login first."); return } if (!oe || !oe.trim()) { S("Please enter a serial number"); return } v(be => ({ ...be, device: !0 })), S(""); try { console.log("Fetching device data for serial:", oe), console.log("Using token:", te.substring(0, 20) + "..."); const be = { appkey: Lw, sn_list: [oe.trim()], lang: "_en_US", sys_code: 207 }, $e = await (await fetch("https://gateway.isolarcloud.com.hk/openapi/getPVInverterRealTimeData", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": Fw, sys_code: iP, token: te }, body: JSON.stringify(be) })).json(); if (console.log("Device API Response:", $e), $e.result_code === "1") { const Fe = (ye = (ue = (fe = $e.result_data) == null ? void 0 : fe.device_point_list) == null ? void 0 : ue[0]) == null ? void 0 : ye.device_point; if (Fe) { const Ue = Fe.ps_key; console.log("Device data fetched successfully. PS Key:", Ue), O(Fe), s(Ue), o(Fe), e && e(Fe) } else S("No device data found for the serial number") } else S(`Device fetch failed: ${$e.result_msg}`) } catch (be) { console.error("Device fetch error:", be), S(`Device fetch error: ${be.message || "Unknown error"}`) } finally { v(be => ({ ...be, device: !1 })) } }; b.useEffect(() => { const K = localStorage.getItem("solarToken"), ee = localStorage.getItem("solarTokenTimestamp"); K && ee && (Date.now() - parseInt(ee) < 3600 * 1e3 ? (x(K), t(K), console.log("Loaded saved token:", K.substring(0, 20) + "...")) : (localStorage.removeItem("solarToken"), localStorage.removeItem("solarTokenTimestamp"))) }, [t]), b.useEffect(() => { if (pe.current) { pe.current = !1; return } if (p && f && f.trim() && M.current) { console.log("Auto-fetching device data for serial number:", f); const K = setTimeout(() => { A() }, 800); return () => clearTimeout(K) } }, [f, p]), b.useEffect(() => () => { me.current && clearTimeout(me.current) }, []); const z = K => { K.key === "Escape" && (W(!1), le.current && le.current.focus()) }, $ = () => { M.current = !1, A() }; return a.jsxs("div", { children: [a.jsx("div", { className: "space-y-3", children: a.jsx("div", { className: "flex items-center justify-between p-3 bg-gray-50 rounded-lg", children: a.jsx("button", { onClick: () => { g.login || (u(!c), c || G()) }, disabled: g.login, className: `w-full px-4 py-2 rounded-lg font-medium transition flex items-center justify-center gap-2 text-sm ${g.login ? "bg-gray-200 text-gray-500 cursor-not-allowed" : c ? "bg-green-600 hover:bg-green-700 text-white" : "bg-gray-600 hover:bg-gray-700 text-white"}`, children: g.login ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white" }), a.jsx("span", { children: "Logging in..." })] }) : a.jsxs(a.Fragment, { children: [a.jsx(zl, { className: "w-4 h-4" }), a.jsx("span", { children: c ? "Auto Login - Refresh Token" : "Enable Auto Login & Refresh" })] }) }) }) }), a.jsxs("div", { className: "space-y-3", children: [a.jsxs("h3", { className: "text-lg font-semibold text-gray-800 flex items-center gap-2", children: [a.jsx(fr, { className: "w-5 h-5" }), "Beneficiary Search"] }), a.jsx("div", { className: "space-y-2", children: a.jsxs("div", { ref: de, className: "relative", onMouseEnter: I, onMouseLeave: _, onKeyDown: z, children: [a.jsxs("div", { className: "flex gap-2", children: [a.jsxs("div", { className: "relative flex-1", children: [a.jsx("input", { ref: le, type: "text", value: k, onChange: K => ce(K.target.value), onFocus: T, onBlur: Y, placeholder: "Type beneficiary name...", className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm" }), k && a.jsx("button", { onClick: q, className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600", type: "button", "aria-label": "Clear search", children: "" })] }), a.jsxs("button", { onClick: Z, disabled: g.googleSheets, className: `px-4 py-3 rounded-lg font-medium transition flex items-center gap-2 whitespace-nowrap text-sm ${g.googleSheets ? "bg-gray-100 text-gray-500 cursor-not-allowed" : "bg-gray-100 hover:bg-gray-200 text-gray-700"}`, type: "button", children: [g.googleSheets ? a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700" }) : a.jsx(zl, { className: "w-4 h-4" }), "Refresh"] })] }), P && J.length > 0 && a.jsx("div", { ref: U, className: "absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto", onMouseEnter: X, onMouseLeave: E, children: J.map((K, ee) => { const te = D.filter(ue => ue.beneficiaryName === K), oe = [], fe = new Set; return te.forEach(ue => { fe.has(ue.inverterId) || (fe.add(ue.inverterId), oe.push(ue)) }), a.jsxs("button", { type: "button", onClick: () => ne(K), className: "w-full text-left px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0 focus:outline-none focus:bg-blue-50", onMouseDown: ue => ue.preventDefault(), children: [a.jsx("div", { className: "font-medium text-gray-800", children: K }), oe.length > 0 && a.jsxs("div", { className: "text-xs text-gray-500 mt-1", children: [oe.length === 1 ? "Inverter ID: " : "Inverter IDs: ", oe.map((ue, ye) => a.jsxs("span", { children: [ue.inverterId, ue.capacity ? ` (${ue.capacity}kW)` : "", ye < oe.length - 1 ? ", " : ""] }, ye))] })] }, ee) }) }), a.jsxs("div", { className: "my-2 flex items-center justify-between", children: [a.jsx("div", { children: g.googleSheets ? a.jsx("p", { className: "text-xs text-gray-500", children: "Loading beneficiary data..." }) : H.length > 0 ? a.jsx("p", { className: "text-xs text-gray-500", children: V && a.jsxs("span", { className: "ml-2 text-blue-600 font-medium", children: ["Selected: ", V] }) }) : a.jsx("p", { className: "text-xs text-gray-500", children: 'No beneficiary data loaded. Click "Refresh" to load.' }) }), V && a.jsx("button", { onClick: () => { ae(""), F("") }, className: "text-xs text-red-600 hover:text-red-800", type: "button", children: "Clear Selection" })] })] }) })] }), a.jsx("div", { className: "space-y-3", children: a.jsxs("div", { className: "space-y-2", children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700", children: "Inverter Serial Number" }), a.jsxs("div", { className: "flex gap-2", children: [a.jsx("input", { type: "text", value: f, onChange: L, className: "flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-sm font-mono", placeholder: "Enter inverter serial number..." }), a.jsx("button", { onClick: $, disabled: g.device || !p, className: `px-4 py-3 rounded-lg font-medium transition flex items-center gap-2 text-sm ${g.device || !p ? "bg-gray-300 cursor-not-allowed text-gray-500" : "bg-blue-600 hover:bg-blue-700 text-white"}`, type: "button", children: g.device ? a.jsx("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white" }) : a.jsx(fr, { className: "w-4 h-4" }) })] }), a.jsxs("div", { className: "flex flex-wrap gap-3 mt-2", children: [f && p && a.jsxs("div", { className: "flex items-center gap-1", children: [a.jsx("div", { className: "w-2 h-2 rounded-full bg-green-500 animate-pulse" }), a.jsx("span", { className: "text-xs text-gray-600", children: "Auto-search enabled" })] }), w && a.jsxs("div", { className: "flex items-center gap-1", children: [a.jsx("div", { className: "w-2 h-2 rounded-full bg-blue-500" }), a.jsx("span", { className: "text-xs text-gray-600", children: "Device data loaded" })] })] })] }) }), j && a.jsx("div", { className: "p-4 bg-red-50 border border-red-200 rounded-lg", children: a.jsxs("div", { className: "flex items-center gap-3", children: [a.jsx(ed, { className: "w-5 h-5 text-red-600 flex-shrink-0" }), a.jsxs("div", { children: [a.jsx("h4", { className: "font-medium text-red-800 text-sm", children: "Error" }), a.jsx("p", { className: "text-sm text-red-700 mt-1", children: j }), a.jsx("button", { onClick: () => S(""), className: "text-xs text-red-600 hover:text-red-800 mt-2", type: "button", children: "Dismiss" })] })] }) })] }) }, cP = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], Cie = he.memo(({ viewMode: t, conversionMode: e, setConversionMode: r, dateTime: n, setDateTime: s, minuteForm: o, setMinuteForm: c, selectedParameter: u, setSelectedParameter: f, dailyDateRange: h, setDailyDateRange: p, dailyForm: x, setDailyForm: g, monthlyDailyDateRange: v, setMonthlyDailyDateRange: j, monthlyDailyForm: S, setMonthlyDailyForm: w, applyDailyPreset: O, monthRange: D, setMonthRange: R, monthlyForm: H, setMonthlyForm: C, applyMonthPreset: k, yearRange: F, setYearRange: P, yearlyForm: W, setYearlyForm: J, applyYearPreset: Q, token: V, loading: ae, error: ie, getFetchFunction: se, getLoadingState: U, minuteData: le, dailyData: de, monthlyData: me, yearlyData: pe, formatMinuteData: M, formatDailyData: Z, formatMonthlyData: ce, formatYearlyData: ne, psKey: L, onFetchData: I }) => { const _ = b.useCallback(() => { if (!n.startDate || !n.startTime || !n.endDate || !n.endTime) return 0; const oe = new Date(`${n.startDate}T${n.startTime}`); return (new Date(`${n.endDate}T${n.endTime}`).getTime() - oe.getTime()) / 36e5 }, [n]), X = b.useCallback((oe, fe) => { if (t !== "minute") return { ...n, [oe]: fe }; const ue = { ...n, [oe]: fe }; if (!ue.startDate || !ue.startTime || !ue.endDate || !ue.endTime) return ue; const ye = new Date(`${ue.startDate}T${ue.startTime}`); if ((new Date(`${ue.endDate}T${ue.endTime}`).getTime() - ye.getTime()) / (1e3 * 60 * 60) > 3) { const Fe = new Date(ye.getTime() + 108e5), Ue = Fe.toISOString().split("T")[0], Ze = Fe.toTimeString().slice(0, 5); return { ...ue, endDate: Ue, endTime: Ze } } return ue }, [n, t]), E = b.useCallback((oe, fe) => { const ue = X(oe, fe); s(ue) }, [X, s]); b.useCallback(() => t !== "minute" ? !0 : _() === 3, [t, _]), b.useEffect(() => { if (t === "minute" && n.startDate && n.startTime) { const oe = new Date(`${n.startDate}T${n.startTime}`), fe = new Date(oe.getTime() + 10800 * 1e3), ue = fe.toISOString().split("T")[0], ye = fe.toTimeString().slice(0, 5); (n.endDate !== ue || n.endTime !== ye) && s(be => ({ ...be, endDate: ue, endTime: ye })) } }, [n.startDate, n.startTime, t, s]); const q = b.useMemo(() => _(), [_]), T = b.useMemo(() => q === 3, [q]); b.useMemo(() => t !== "minute" || t === "minute" && T, [t, T]); const Y = b.useMemo(() => I || (se ? se() : () => console.warn("No fetch function provided")), [I, se]), G = b.useMemo(() => typeof U == "function" ? U() : ae || !1, [U, ae]), A = b.useCallback(() => { if (!V) { console.error("No token available"); return } if (t === "minute" && !T) { console.error("Time period must be exactly 3 hours for minute data"); return } typeof Y == "function" && Y() }, [Y, V, t, T]), z = b.useMemo(() => { switch (t) { case "minute": return { icon: a.jsx(td, { className: "w-5 h-5" }), loadingText: "Loading Minute Data...", text: "Fetch Minute Data" }; case "daily": return { icon: a.jsx(om, { className: "w-5 h-5" }), loadingText: "Loading Weekly Data...", text: "Fetch Weekly Data" }; case "monthly_daily": return { icon: a.jsx(im, { className: "w-5 h-5" }), loadingText: "Loading Monthly Data...", text: "Fetch Monthly Data" }; case "monthly": return { icon: a.jsx(na, { className: "w-5 h-5" }), loadingText: "Loading Yearly Data...", text: "Fetch Yearly Data" }; case "yearly": return { icon: a.jsx(TN, { className: "w-5 h-5" }), loadingText: "Loading Life Time Data...", text: "Fetch Life Time Data" }; default: return { icon: a.jsx(tC, { className: "w-5 h-5" }), loadingText: "Loading Data...", text: "Fetch Data" } } }, [t]), $ = b.useCallback(oe => { const fe = oe.target.value; if (!fe) { p(Pe => ({ ...Pe, startDate: fe })); return } const ue = new Date(fe), ye = new Date(ue); ye.setDate(ue.getDate() + 6); const be = ye.toISOString().split("T")[0]; p({ startDate: fe, endDate: be }) }, [p]), K = b.useCallback(oe => { const fe = oe.target.value; if (!fe) { j(Pe => ({ ...Pe, startDate: fe })); return } const ue = new Date(fe), ye = new Date(ue); ye.setDate(ue.getDate() + 29); const be = ye.toISOString().split("T")[0]; j({ startDate: fe, endDate: be }) }, [j]), ee = b.useCallback((oe, fe, ue) => { R(ye => { const be = { ...ye, [fe]: ue }; if (oe === "end") { const Fe = parseInt(be.endYear); let Ze = parseInt(be.endMonth) - 11, nt = Fe; Ze <= 0 && (Ze += 12, nt -= 1), be.startYear = nt.toString(), be.startMonth = Ze.toString().padStart(2, "0") } const Pe = parseInt(`${be.startYear}${be.startMonth}`), $e = parseInt(`${be.endYear}${be.endMonth}`); return oe === "start" && Pe > $e && (be.endYear = be.startYear, be.endMonth = be.startMonth), be }) }, [R]), te = b.useMemo(() => { switch (t) { case "minute": return "Daily Data Config"; case "daily": return "Weekly Data Config"; case "monthly": return "Yearly Data Config"; case "yearly": return "Life Time Data Config"; default: return "Data Configuration" } }, [t]); return a.jsxs("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-5", children: [a.jsxs("div", { className: "flex items-center justify-between gap-4 mb-2", children: [a.jsxs("div", { className: "flex items-center gap-2", children: [a.jsx(tC, { className: "w-5 h-5 text-gray-600" }), a.jsx("h3", { className: "text-lg font-semibold text-gray-900", children: te })] }), t === "minute" && a.jsxs("div", { className: "", children: [a.jsxs("button", { type: "button", className: `flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm font-medium transition-colors ${T ? "border-green-500 bg-green-50 text-green-700 hover:bg-green-100" : "border-rose-500 bg-rose-50 text-rose-500 hover:bg-rose-200"}`, children: [a.jsx(td, { className: "h-4 w-4" }), a.jsxs("span", { children: [q.toFixed(2), "h"] })] }), !T && a.jsx("p", { className: "text-xs text-rose-600 mt-1", children: "End time will be adjusted to exactly 3 hours from start time" })] })] }), t === "minute" ? a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Start Date" }), a.jsx("input", { type: "date", value: n.startDate || "", onChange: oe => E("startDate", oe.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Start Time" }), a.jsx("input", { type: "time", value: n.startTime || "", onChange: oe => E("startTime", oe.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", step: "60" }), a.jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Seconds: 00" })] })] }), a.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "End Date" }), a.jsx("input", { type: "date", value: n.endDate || "", onChange: oe => E("endDate", oe.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", readOnly: !0 }), a.jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Auto-calculated" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "End Time" }), a.jsx("input", { type: "time", value: n.endTime || "", onChange: oe => E("endTime", oe.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", step: "60", readOnly: !0 }), a.jsx("p", { className: "text-xs text-gray-500 mt-1", children: "Auto-calculated (3 hours from start)" })] })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Minute Interval" }), a.jsxs("select", { value: (o == null ? void 0 : o.minute_interval) || 5, onChange: oe => c(fe => ({ ...fe, minute_interval: Number(oe.target.value) })), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", children: [a.jsx("option", { value: "5", children: "5 minutes" }), a.jsx("option", { value: "10", children: "10 minutes" }), a.jsx("option", { value: "15", children: "15 minutes" }), a.jsx("option", { value: "30", children: "30 minutes" }), a.jsx("option", { value: "60", children: "60 minutes" })] })] })] }) : t === "daily" ? a.jsx("div", { className: "space-y-4", children: a.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Start Date" }), a.jsx("input", { type: "date", value: h.startDate || "", onChange: $, className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "End Date" }), a.jsx("input", { type: "date", value: h.endDate || "", onChange: oe => p(fe => ({ ...fe, endDate: oe.target.value })), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" })] })] }) }) : t === "monthly_daily" ? a.jsx("div", { className: "space-y-4", children: a.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Start Date" }), a.jsx("input", { type: "date", value: v.startDate || "", onChange: K, className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "End Date" }), a.jsx("input", { type: "date", value: v.endDate || "", onChange: oe => j(fe => ({ ...fe, endDate: oe.target.value })), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" })] })] }) }) : t === "monthly" ? a.jsxs("div", { className: "space-y-4", children: [a.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Start Month" }), a.jsx("select", { value: D.startMonth || "01", onChange: oe => ee("start", "startMonth", oe.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", children: Array.from({ length: 12 }, (oe, fe) => a.jsx("option", { value: (fe + 1).toString().padStart(2, "0"), children: cP[fe] }, fe + 1)) })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Start Year" }), a.jsx("select", { value: D.startYear || new Date().getFullYear().toString(), onChange: oe => ee("start", "startYear", oe.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", children: Array.from({ length: 10 }, (oe, fe) => { const ue = new Date().getFullYear() - 5 + fe; return a.jsx("option", { value: ue.toString(), children: ue }, ue) }) })] })] }), a.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "End Month" }), a.jsx("select", { value: D.endMonth || "12", onChange: oe => ee("end", "endMonth", oe.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", children: Array.from({ length: 12 }, (oe, fe) => a.jsx("option", { value: (fe + 1).toString().padStart(2, "0"), children: cP[fe] }, fe + 1)) })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "End Year" }), a.jsx("select", { value: D.endYear || new Date().getFullYear().toString(), onChange: oe => ee("end", "endYear", oe.target.value), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", children: Array.from({ length: 10 }, (oe, fe) => { const ue = new Date().getFullYear() - 5 + fe; return a.jsx("option", { value: ue.toString(), children: ue }, ue) }) })] })] })] }) : a.jsx("div", { className: "space-y-4", children: a.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Start Year" }), a.jsx("select", { value: F.startYear || (new Date().getFullYear() - 5).toString(), onChange: oe => P(fe => ({ ...fe, startYear: oe.target.value })), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", children: Array.from({ length: 15 }, (oe, fe) => { const ue = new Date().getFullYear() - 10 + fe; return a.jsx("option", { value: ue.toString(), children: ue }, ue) }) })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "End Year" }), a.jsx("select", { value: F.endYear || new Date().getFullYear().toString(), onChange: oe => P(fe => ({ ...fe, endYear: oe.target.value })), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition", children: Array.from({ length: 15 }, (oe, fe) => { const ue = new Date().getFullYear() - 10 + fe; return a.jsx("option", { value: ue.toString(), children: ue }, ue) }) })] })] }) }), a.jsx("button", { onClick: A, disabled: G || !V || t === "minute" && !T, className: `w-full mt-6 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${G || !V || t === "minute" && !T ? "bg-gray-300 cursor-not-allowed text-gray-500" : "bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl"}`, children: G ? a.jsxs(a.Fragment, { children: [a.jsx("div", { className: "animate-spin rounded-full h-5 w-5 border-b-2 border-white" }), z.loadingText] }) : a.jsxs(a.Fragment, { children: [z.icon, z.text] }) }), t === "minute" && !T && a.jsxs("div", { className: "mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg", children: [a.jsxs("div", { className: "flex items-center gap-2 text-yellow-700", children: [a.jsx(ed, { className: "w-5 h-5" }), a.jsx("span", { className: "font-medium", children: "Validation Required" })] }), a.jsx("p", { className: "text-sm text-yellow-600 mt-1", children: "For minute data, the time period must be exactly 3 hours. Please wait for auto-adjustment or check your inputs." })] }), ie && a.jsxs("div", { className: "mt-4 p-4 bg-red-50 border border-red-200 rounded-lg", children: [a.jsxs("div", { className: "flex items-center gap-2 text-red-700", children: [a.jsx(ed, { className: "w-5 h-5" }), a.jsx("span", { className: "font-medium", children: "Error" })] }), a.jsx("p", { className: "text-sm text-red-600 mt-1", children: ie })] })] }) }), kie = ({ chartType: t, setChartType: e, chartConfig: r, setChartConfig: n }) => a.jsx("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-5 ", children: a.jsx("div", { className: "space-y-4", children: a.jsx("div", { children: a.jsxs("div", { className: "flex gap-2", children: [a.jsxs("button", { onClick: () => e("area"), className: `flex-1 px-3 py-2 rounded-lg text-sm font-medium transition flex items-center justify-center gap-2 ${t === "area" ? "bg-blue-100 text-blue-700 border border-blue-300" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: [a.jsx(lB, { className: "w-4 h-4" }), "Area"] }), a.jsxs("button", { onClick: () => e("line"), className: `flex-1 px-3 py-2 rounded-lg text-sm font-medium transition flex items-center justify-center gap-2 ${t === "line" ? "bg-blue-100 text-blue-700 border border-blue-300" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: [a.jsx(K8, { className: "w-4 h-4" }), "Line"] }), a.jsxs("button", { onClick: () => e("bar"), className: `flex-1 px-3 py-2 rounded-lg text-sm font-medium transition flex items-center justify-center gap-2 ${t === "bar" ? "bg-blue-100 text-blue-700 border border-blue-300" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: [a.jsx(TN, { className: "w-4 h-4" }), "Bar"] })] }) }) }) }), Mu = "7FD3CECA7507BDB20A80E72982E7DCDF", Ru = "smu1jqi8wg712d2uuujfgwexgdvrsvj2", $u = "207", Aie = () => {
  const { psKey: t, setPsKey: e } = X1(), [r, n] = b.useState(!1), [s, o] = b.useState(1), [c, u] = b.useState("minute"), [f, h] = b.useState(""), [p, x] = b.useState({ login: !1, minute: !1, daily: !1, monthly: !1, yearly: !1, device: !1, monthly_daily: !1 }), [g, v] = b.useState(""), [j, S] = b.useState(null), [w, O] = b.useState(null), [D, R] = b.useState(null), [H, C] = b.useState(null), [k, F] = b.useState(null), [P, W] = b.useState(null), [J, Q] = b.useState({ ps_key_list: t || "1589518_1_1_1", points: "p5,p6,p18,p21,p24", start_time_stamp: "", end_time_stamp: "", minute_interval: 10, is_get_data_acquisition_time: "1", lang: "_en_US" }), [V, ae] = b.useState({ ps_key: t || "1589518_1_1_1", data_point: "p2", start_date: "", end_date: "", data_type: "2", query_type: "1", order: "0" }), [ie, se] = b.useState({ ps_key: t || "1589518_1_1_1", data_point: "p2", start_date: "", end_date: "", data_type: "2", query_type: "1", order: "0" }), [U, le] = b.useState({ ps_key: t || "1589518_1_1_1", data_point: "p2", start_year: "", start_month: "", end_year: "", end_month: "", data_type: "2", query_type: "2", order: "0" }), [de, me] = b.useState({ ps_key: t || "1589518_1_1_1", data_point: "p2", start_year: "", end_year: "", data_type: "2", query_type: "3", order: "0" }), [pe, M] = b.useState("p24"), [Z, ce] = b.useState("bar"), [ne, L] = b.useState(!1), [I, _] = b.useState("period"), [X, E] = b.useState({ startDate: "", startTime: "08:00", endDate: "", endTime: "18:00" }), [q, T] = b.useState({ startDate: "", endDate: "" }), [Y, G] = b.useState({ startDate: "", endDate: "" }), [A, z] = b.useState(""), [$, K] = b.useState({ startYear: "2025", startMonth: "01", endYear: "2025", endMonth: "12" }), [ee, te] = b.useState({ startYear: "2022", endYear: "2025" }), [oe, fe] = b.useState({ showGrid: !0, showPoints: !0, gradient: !0, animate: !0, strokeWidth: 2 }), ue = b.useRef(null), ye = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], be = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], Pe = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], $e = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], Fe = b.useCallback(_e => { h(_e) }, []), Ue = b.useCallback(_e => { W(_e) }, []), Ze = b.useCallback(({ beneficiary: _e, inverterId: we, capacity: Ce }) => { console.log("Beneficiary selected:", _e, "Inverter ID:", we, "Capacity:", Ce), Ce && o(parseFloat(Ce)), n(!0) }, []); b.useEffect(() => { t && (Q(_e => ({ ..._e, ps_key_list: t })), ae(_e => ({ ..._e, ps_key: t })), se(_e => ({ ..._e, ps_key: t })), le(_e => ({ ..._e, ps_key: t })), me(_e => ({ ..._e, ps_key: t }))) }, [t]); const nt = b.useCallback(_e => { const we = _e.getFullYear(), Ce = String(_e.getMonth() + 1).padStart(2, "0"), Be = String(_e.getDate()).padStart(2, "0"); return `${we}${Ce}${Be}` }, []), Kt = b.useCallback(_e => `${_e.slice(0, 4)}-${_e.slice(4, 6)}-${_e.slice(6, 8)}`, []), ft = b.useCallback(_e => { const we = parseInt(_e.slice(0, 4)), Ce = parseInt(_e.slice(4, 6)) - 1, Be = parseInt(_e.slice(6, 8)), Re = new Date(we, Ce, Be); return Re.setDate(Re.getDate() - 1), nt(Re) }, [nt]), Fr = b.useCallback((_e, we, Ce) => { if (!we || !Ce || !Array.isArray(_e)) return _e; const Be = we.replace(/-/g, ""), Re = Ce.replace(/-/g, ""); return _e.filter(qe => { const Me = qe.timestamp || qe.time_stamp || "", Ie = Me.length > 8 ? Me.slice(0, 8) : Me; return Ie >= Be && Ie <= Re }) }, []); b.useEffect(() => { const _e = new Date, we = new Date(_e.getTime() - 7200 * 1e3), Ce = new Date(_e.getTime() - 10080 * 60 * 1e3), Be = Ct => { const Ks = Ct.getFullYear(), Ui = String(Ct.getMonth() + 1).padStart(2, "0"), Hi = String(Ct.getDate()).padStart(2, "0"); return `${Ks}-${Ui}-${Hi}` }, Re = Ct => { const Ks = String(Ct.getHours()).padStart(2, "0"), Ui = String(Ct.getMinutes()).padStart(2, "0"); return `${Ks}:${Ui}` }, qe = Be(_e), Me = Be(we), Ie = Re(we), Ve = Be(Ce); E({ startDate: Me, startTime: Ie, endDate: qe, endTime: Re(_e) }); const He = Ve, Ye = qe; T({ startDate: He, endDate: Ye }); const ze = new Date(He); ze.setDate(ze.getDate() - 1); const rt = nt(ze); z(rt), ae(Ct => ({ ...Ct, start_date: rt, end_date: nt(new Date(Ye)) })); const Ke = new Date(_e.getTime() - 696 * 60 * 60 * 1e3), Xe = Be(Ke); G({ startDate: Xe, endDate: qe }), se(Ct => ({ ...Ct, start_date: nt(Ke), end_date: nt(new Date(qe)) })); const vt = (Ct, Ks) => { const Ui = Ct.replace(/-/g, ""), Hi = Ks.replace(/:/g, ""); return `${Ui}${Hi}00` }, _r = vt(Me, Ie), Wt = vt(qe, Re(_e)); Q(Ct => ({ ...Ct, start_time_stamp: _r, end_time_stamp: Wt })); const Ln = _e.getFullYear(), sf = _e.getMonth() + 1; let Vo = sf - 11, Ac = Ln; Vo <= 0 && (Vo += 12, Ac -= 1); const of = Ac.toString(), zi = Vo.toString().padStart(2, "0"), ca = Ln.toString(), Fn = sf.toString().padStart(2, "0"); K({ startYear: of, startMonth: zi, endYear: ca, endMonth: Fn }), le(Ct => ({ ...Ct, start_year: of, start_month: zi, end_year: ca, end_month: Fn })), te({ startYear: (parseInt(ca) - 3).toString(), endYear: ca }), me(Ct => ({ ...Ct, start_year: (parseInt(ca) - 3).toString(), end_year: ca })) }, [nt]), b.useEffect(() => { if (r && f && t) { switch (console.log("Auto-fetching graph data for new beneficiary..."), c) { case "minute": J.start_time_stamp && J.end_time_stamp && yr(); break; case "daily": q.startDate && q.endDate && er(); break; case "monthly_daily": Y.startDate && Y.endDate && Uo(); break; case "monthly": $.startYear && $.startMonth && Tr(); break; case "yearly": ee.startYear && Br(); break }n(!1) } }, [r, f, t, c, J.start_time_stamp, J.end_time_stamp, q.startDate, q.endDate, $.startYear, $.startMonth, ee.startYear]), b.useEffect(() => { if (!f || !t || p.device) return; let _e = !1, we = null; switch (c) { case "minute": _e = X.startDate && X.startTime && X.endDate && X.endTime, we = yr; break; case "daily": _e = q.startDate && q.endDate, we = er; break; case "monthly_daily": _e = Y.startDate && Y.endDate, we = Uo; break; case "monthly": _e = $.startYear && $.startMonth && $.endYear && $.endMonth, we = Tr; break; case "yearly": _e = ee.startYear && ee.endYear, we = Br; break }if (_e && we) { console.log(`Auto-fetching ${c} data...`); const Ce = setTimeout(() => { we() }, 500); return () => clearTimeout(Ce) } }, [f, t, c, X, q, Y, $, ee, pe, V.data_point, ie.data_point, U.data_point, de.data_point, V.ps_key, ie.ps_key, U.ps_key, de.ps_key]), b.useEffect(() => { if (r && f && t) { console.log("Beneficiary selected, auto-fetching data..."), n(!1); const _e = setTimeout(() => { switch (c) { case "minute": J.start_time_stamp && J.end_time_stamp && yr(); break; case "daily": q.startDate && q.endDate && er(); break; case "monthly": $.startYear && $.startMonth && Tr(); break; case "yearly": ee.startYear && Br(); break } }, 1e3); return () => clearTimeout(_e) } }, [r, f, t, c]); const jt = b.useCallback((_e, we) => { if (!_e || !we) return ""; let Ce = we; Ce.includes(":") || (Ce = `${Ce}:00`); const [Be, Re] = Ce.split(":"); return `${_e.replace(/-/g, "")}${Be.padStart(2, "0")}${Re.padStart(2, "0")}00` }, []); b.useEffect(() => { if (X.startDate && X.startTime && X.endDate && X.endTime) { const _e = jt(X.startDate, X.startTime), we = jt(X.endDate, X.endTime); Q(Ce => ({ ...Ce, start_time_stamp: _e, end_time_stamp: we })) } }, [X, jt]); const yr = b.useCallback(async () => { if (!f) { v("No login token available. Please login first."); return } if (!J.start_time_stamp || !J.end_time_stamp) { v("Please set valid start and end times"); return } x(_e => ({ ..._e, minute: !0 })), v(""); try { const _e = jt(X.startDate, X.startTime), we = jt(X.endDate, X.endTime), Ce = { appkey: Mu, end_time_stamp: we, is_get_data_acquisition_time: J.is_get_data_acquisition_time, lang: J.lang, minute_interval: Number(J.minute_interval), points: J.points, ps_key_list: t.split(",").map(qe => qe.trim()), start_time_stamp: _e, sys_code: 207 }, Be = await fetch("https://gateway.isolarcloud.com.hk/openapi/getDevicePointMinuteDataList", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": Ru, sys_code: $u, token: f }, body: JSON.stringify(Ce) }); if (!Be.ok) throw new Error(`HTTP error! status: ${Be.status}`); const Re = await Be.json(); Re.result_code === "1" ? (S(Re), v("")) : (v(`API Error: ${Re.result_msg}`), S(null)) } catch (_e) { v(`Fetch error: ${_e.message || "Unknown error"}`), S(null) } finally { x(_e => ({ ..._e, minute: !1 })) } }, [f, J, X, t, jt]), er = b.useCallback(async () => { if (!f) { v("No login token available. Please login first."); return } if (!V.start_date || !V.end_date) { v("Please set valid start and end dates"); return } const _e = new Date(q.startDate), we = new Date(q.endDate); if (Math.ceil((we.getTime() - _e.getTime()) / (1e3 * 60 * 60 * 24)) > 100) { v("Daily data queries are limited to 100 days maximum"); return } x(Be => ({ ...Be, daily: !0 })), v(""); try { const Be = new Date(q.startDate), Re = new Date(q.endDate), qe = new Date(Be); qe.setDate(qe.getDate() - 1); const Me = nt(qe), Ie = nt(Re), Ve = { appkey: Mu, data_point: V.data_point, data_type: V.data_type, end_time: Ie, lang: "_en_US", order: V.order, ps_key_list: [t || V.ps_key], query_type: V.query_type, start_time: Me, sys_code: 207 }, He = await fetch("https://gateway.isolarcloud.com.hk/openapi/getDevicePointsDayMonthYearDataList", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": Ru, sys_code: $u, token: f }, body: JSON.stringify(Ve) }); if (!He.ok) throw new Error(`HTTP error! status: ${He.status}`); const Ye = await He.json(); Ye.result_code === "1" ? (O(Ye), v("")) : (v(`API Error: ${Ye.result_msg}`), O(null)) } catch (Be) { v(`Fetch error: ${Be.message || "Unknown error"}`), O(null) } finally { x(Be => ({ ...Be, daily: !1 })) } }, [f, V, q, t, nt]), Uo = b.useCallback(async () => { if (!f) { v("No login token available. Please login first."); return } x(_e => ({ ..._e, monthly_daily: !0 })), v(""); try { const _e = new Date(Y.startDate), we = new Date(Y.endDate), Ce = new Date(_e); Ce.setDate(Ce.getDate() - 1); const Be = nt(Ce), Re = nt(we), qe = { appkey: Mu, data_point: ie.data_point, data_type: ie.data_type, end_time: Re, lang: "_en_US", order: ie.order, ps_key_list: [t || ie.ps_key], query_type: ie.query_type, start_time: Be, sys_code: 207 }, Me = await fetch("https://gateway.isolarcloud.com.hk/openapi/getDevicePointsDayMonthYearDataList", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": Ru, sys_code: $u, token: f }, body: JSON.stringify(qe) }); if (!Me.ok) throw new Error(`HTTP error! status: ${Me.status}`); const Ie = await Me.json(); Ie.result_code === "1" ? (R(Ie), v("")) : (v(`API Error: ${Ie.result_msg}`), R(null)) } catch (_e) { v(`Fetch error: ${_e.message || "Unknown error"}`), R(null) } finally { x(_e => ({ ..._e, monthly_daily: !1 })) } }, [f, ie, Y, t, nt]), Tr = b.useCallback(async () => { if (!f) { v("No login token available"); return } x(_e => ({ ..._e, monthly: !0 })), v(""); try { const _e = parseInt($.startYear), we = parseInt($.startMonth); let Ce = _e, Be = we - 1; Be <= 0 && (Be = 12, Ce -= 1); const Re = `${Ce}${Be.toString().padStart(2, "0")}`, qe = `${$.endYear}${$.endMonth}`, Me = { appkey: Mu, data_point: U.data_point, data_type: U.data_type, end_time: qe, lang: "_en_US", order: U.order, ps_key_list: [t || U.ps_key], query_type: U.query_type, start_time: Re, sys_code: 207 }, Ve = await (await fetch("https://gateway.isolarcloud.com.hk/openapi/getDevicePointsDayMonthYearDataList", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": Ru, sys_code: $u, token: f }, body: JSON.stringify(Me) })).json(); Ve.result_code === "1" ? C(Ve) : v("API Error: " + Ve.result_msg) } catch (_e) { v("Fetch error: " + _e.message) } finally { x(_e => ({ ..._e, monthly: !1 })) } }, [f, U, $, t]), Br = b.useCallback(async () => { if (!f) { v("No login token available"); return } x(_e => ({ ..._e, yearly: !0 })), v(""); try { const Ce = (parseInt(ee.startYear) - 1).toString(), Be = ee.endYear, Re = { appkey: Mu, data_point: de.data_point, data_type: de.data_type, end_time: Be, lang: "_en_US", order: de.order, ps_key_list: [t || de.ps_key], query_type: de.query_type, start_time: Ce, sys_code: 207 }, Me = await (await fetch("https://gateway.isolarcloud.com.hk/openapi/getDevicePointsDayMonthYearDataList", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": Ru, sys_code: $u, token: f }, body: JSON.stringify(Re) })).json(); Me.result_code === "1" ? F(Me) : v("API Error: " + Me.result_msg) } catch (_e) { v("Fetch error: " + _e.message) } finally { x(_e => ({ ..._e, yearly: !1 })) } }, [f, de, ee, t]), qr = b.useCallback(() => { if (!j || !j.result_data) return []; const _e = Object.keys(j.result_data)[0]; if (!_e) return []; const we = j.result_data[_e]; return !we || !Array.isArray(we) || we.length === 0 ? [] : we.map((Ce, Be) => { const Re = Ce.time_stamp; let qe = "00", Me = "00"; return Re && Re.length >= 12 && (qe = Re.slice(8, 10), Me = Re.slice(10, 12)), { time: `${qe}:${Me}`, fullTime: Re, date: (Re == null ? void 0 : Re.slice(0, 8)) || "", p5: parseFloat(Ce.p5 || "0"), p6: parseFloat(Ce.p6 || "0"), p18: parseFloat(Ce.p18 || "0"), p21: parseFloat(Ce.p21 || "0"), p24: parseFloat(Ce.p24 || "0"), [pe]: parseFloat(Ce[pe] || "0") } }) }, [j, pe]), Pr = b.useCallback(() => { const _e = c === "monthly_daily", we = _e ? D : w, Ce = _e ? Y.startDate : q.startDate; if (!we || !we.result_data) return []; const Be = Object.keys(we.result_data)[0]; if (!Be) return []; const Re = Object.keys(we.result_data[Be])[0], qe = we.result_data[Be][Re]; return !qe || qe.length === 0 ? [] : [...qe].sort((Ie, Ve) => Ie.time_stamp.localeCompare(Ve.time_stamp)).map((Ie, Ve) => { const He = Ie.time_stamp, Ye = Kt(He), ze = Object.keys(Ie).find(Xe => Xe !== "time_stamp"); if (!ze) return { timestamp: He, date: Ye, originalWh: 0, cumulativeKwh: 0, cumulativeWh: 0, period: "Daily", isFirstPeriod: Ce && He === Ce.replace(/-/g, "") }; const rt = parseFloat(Ie[ze]) || 0, Ke = Number((rt / 1e3).toFixed(2)); return { timestamp: He, date: Ye, originalWh: rt, cumulativeKwh: Ke, cumulativeWh: rt, period: "Daily", isFirstPeriod: Ce && He === Ce.replace(/-/g, "") } }) }, [c, w, D, q, Y, Kt]), zr = b.useCallback(_e => { const Ce = c === "monthly_daily" ? Y.startDate : q.startDate; if (!Ce) return _e; const Be = Ce.replace(/-/g, ""); return _e.filter(Re => Re.timestamp >= Be) }, [q.startDate, Y.startDate, c]), In = b.useCallback(_e => { if (!Array.isArray(_e) || _e.length === 0) return []; const we = zr(_e); if (we.length === 0) return []; const Ce = [...we].sort((qe, Me) => qe.timestamp.localeCompare(Me.timestamp)), Be = [..._e].sort((qe, Me) => qe.timestamp.localeCompare(Me.timestamp)); let Re = 0; return Ce.map((qe, Me) => { const Ie = qe.timestamp, Ve = ft(Ie), He = Be.find(Xe => Xe.timestamp === Ve); let Ye = 0, ze = ""; if (He) Ye = qe.cumulativeKwh - He.cumulativeKwh, ze = `${qe.cumulativeKwh.toFixed(2)} kWh - ${He.cumulativeKwh.toFixed(2)} kWh = ${Ye.toFixed(2)} kWh`; else if (Me === 0) { const vt = c === "monthly_daily" ? Y.startDate : q.startDate; if (vt) { const _r = ft(vt.replace(/-/g, "")), Wt = Be.find(Ln => Ln.timestamp === _r); Wt ? (Ye = qe.cumulativeKwh - Wt.cumulativeKwh, ze = `${qe.cumulativeKwh.toFixed(2)} kWh - ${Wt.cumulativeKwh.toFixed(2)} kWh = ${Ye.toFixed(2)} kWh`) : (Ye = 0, ze = "No previous day data available, set to 0 kWh") } else Ye = 0, ze = "Start date not set" } else { const Xe = Ce[Me - 1]; Ye = qe.cumulativeKwh - Xe.cumulativeKwh, ze = `${qe.cumulativeKwh.toFixed(2)} kWh - ${Xe.cumulativeKwh.toFixed(2)} kWh = ${Ye.toFixed(2)} kWh` } const rt = Math.max(0, Ye); Ye < 0 && console.warn(`Negative period value detected: ${qe.date} (${Ye.toFixed(2)} kWh). Using 0 instead.`); let Ke = 0; return Me > 0 && (Ke = Re > 0 ? Number(((rt - Re) / Re * 100).toFixed(1)) : rt > 0 ? 100 : 0), Re = rt, { timestamp: qe.timestamp, date: qe.date, periodProductionKwh: Number(rt.toFixed(2)), cumulativeKwh: qe.cumulativeKwh, originalWh: qe.originalWh, period: "Daily", growth: Ke, calculation: ze, isFirstPeriod: Me === 0 } }) }, [zr, ft, q.startDate, Y.startDate, c]), Wa = b.useMemo(() => { if (c !== "daily" && c !== "monthly_daily") return []; const _e = Pr(); return In(_e) }, [c, Pr, In]), bn = b.useCallback(() => { const _e = c === "monthly_daily", we = _e ? D : w, Ce = _e ? ie : V, Be = _e ? Y : q; if (!we || !we.result_data) return []; const Re = Object.keys(we.result_data)[0]; if (!Re) return []; const qe = Object.keys(we.result_data[Re])[0], Me = we.result_data[Re][qe]; if (!Me || !Array.isArray(Me) || Me.length === 0) return []; const Ie = new Date().toISOString().split("T")[0]; if (!["p2", "p87"].includes(Ce.data_point)) { const He = [...Me].sort((ze, rt) => ze.time_stamp.localeCompare(rt.time_stamp)); return Fr(He.map(ze => ({ timestamp: ze.time_stamp, value: parseFloat(ze[Object.keys(ze).find(rt => rt !== "time_stamp") || ""] || "0") })), Be.startDate, Be.endDate).map((ze, rt) => { const Ke = Kt(ze.timestamp), vt = new Date(Ke).getDay(); return { date: Ke, value: ze.value, formattedValue: ze.value.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), rawValue: ze.value.toString(), timestamp: ze.timestamp, formattedDate: `${$e[vt]} ${Ke.split("-")[2]}`, dayOfWeek: Pe[vt], isToday: Ke === Ie, growth: "", isEnergyParameter: !1, isFirstPeriod: rt === 0 } }) } if (I === "cumulative") { const He = Pr(); return zr(He).map((ze, rt) => { const Xe = new Date(ze.date).getDay(); return { date: ze.date, value: ze.cumulativeKwh, formattedValue: ze.cumulativeKwh.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), rawValue: ze.originalWh.toString(), timestamp: ze.timestamp, formattedDate: `${$e[Xe]} ${ze.date.split("-")[2]}`, dayOfWeek: Pe[Xe], isToday: ze.date === Ie, growth: "", dailyKwh: ze.cumulativeKwh, cumulativeKwh: ze.cumulativeKwh, formattedCumulativeKwh: ze.cumulativeKwh.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), isEnergyParameter: !0, isFirstPeriod: ze.isFirstPeriod, cumulativeValue: ze.cumulativeKwh, originalValue: ze.originalWh, displayValue: ze.cumulativeKwh.toFixed(2), unit: "kWh", label: "Cumulative Energy" } }) } else return Wa.map((He, Ye) => { const rt = new Date(He.date).getDay(); return { date: He.date, value: He.periodProductionKwh, formattedValue: He.periodProductionKwh.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), rawValue: He.originalWh.toString(), timestamp: He.timestamp, formattedDate: `${$e[rt]} ${He.date.split("-")[2]}`, dayOfWeek: Pe[rt], isToday: He.date === Ie, growth: He.growth !== void 0 ? He.growth.toString() : "", dailyKwh: He.periodProductionKwh, cumulativeKwh: He.cumulativeKwh, formattedCumulativeKwh: He.cumulativeKwh.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), isEnergyParameter: !0, isFirstPeriod: He.isFirstPeriod, calculation: He.calculation, periodProductionKwh: He.periodProductionKwh, cumulativeValue: He.cumulativeKwh, originalValue: He.originalWh, displayValue: He.periodProductionKwh.toFixed(2), unit: "kWh", label: "Daily Production" } }) }, [c, w, D, V, ie, q, Y, Kt, Fr, I, Pr]), Xa = b.useCallback(() => { if (!H || !H.result_data) return []; const _e = Object.keys(H.result_data)[0]; if (!_e) return []; const we = Object.keys(H.result_data[_e])[0], Ce = H.result_data[_e][we]; if (!Ce || Ce.length === 0) return []; const Be = [...Ce].sort((Me, Ie) => Me.time_stamp.localeCompare(Ie.time_stamp)), Re = []; let qe = 0; return Be.forEach((Me, Ie) => { const Ve = Me.time_stamp, He = Ve.slice(0, 4), Ye = parseInt(Ve.slice(4, 6)), ze = Object.keys(Me).find(Wt => Wt !== "time_stamp"); if (!ze) return; const Ke = parseFloat(Me[ze]) / 1e3, Xe = Ke - qe; let vt = ""; if (Ie > 0 && Re[Ie - 1].monthlyKwh > 0) { const Wt = Re[Ie - 1].monthlyKwh; vt = ((Xe - Wt) / Wt * 100).toFixed(1) } const _r = { month: Ve, year: He, monthNum: Ye, monthlyKwh: Xe, cumulativeKwh: Ke, formattedMonthlyKwh: Xe.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), rawValue: Me[ze], monthName: ye[Ye - 1], date: `${be[Ye - 1]} ${He}`, shortDate: `${be[Ye - 1]} '${He.slice(2)}`, growth: vt, value: Xe, kwhValue: Xe, formattedValue: Xe.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) }; Re.push(_r), qe = Ke }), Re.filter(Me => parseInt(Me.month) >= parseInt(`${$.startYear}${$.startMonth}`)).sort((Me, Ie) => Me.year !== Ie.year ? parseInt(Me.year) - parseInt(Ie.year) : Me.monthNum - Ie.monthNum) }, [H, $]), Ea = b.useCallback(() => { if (!k || !k.result_data) return []; const _e = Object.keys(k.result_data)[0]; if (!_e) return []; const we = Object.keys(k.result_data[_e])[0], Ce = k.result_data[_e][we]; if (!Ce || Ce.length === 0) return []; const Be = [...Ce].sort((Me, Ie) => parseInt(Me.time_stamp) - parseInt(Ie.time_stamp)), Re = []; let qe = 0; return Be.forEach((Me, Ie) => { const Ve = Me.time_stamp, He = Object.keys(Me).find(vt => vt !== "time_stamp"); if (!He) return; const ze = parseFloat(Me[He]) / 1e3, rt = ze - qe; let Ke = ""; if (Ie > 0 && Re[Ie - 1].monthlyKwh > 0) { const vt = Re[Ie - 1].monthlyKwh; Ke = ((rt - vt) / vt * 100).toFixed(1) } const Xe = { year: Ve, monthlyKwh: rt, cumulativeKwh: ze, formattedMonthlyKwh: rt.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), rawValue: Me[He], growth: Ke, formattedYear: Ve, value: rt, kwhValue: rt, formattedValue: rt.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) }; Re.push(Xe), qe = ze }), Re.filter(Me => parseInt(Me.year) >= parseInt(ee.startYear)).sort((Me, Ie) => parseInt(Me.year) - parseInt(Ie.year)) }, [k, ee]), Wr = b.useCallback(_e => ({ p5: { label: "PV2 Voltage", unit: "V", icon: $s, color: "#8884d8", gradient: "#8884d822" }, p6: { label: "PV1 Current", unit: "A", icon: sm, color: "#82ca9d", gradient: "#82ca9d22" }, p18: { label: "Grid Voltage", unit: "V", icon: ZO, color: "#ffc658", gradient: "#ffc65822" }, p21: { label: "Output Current", unit: "A", icon: xB, color: "#ff7300", gradient: "#ff730022" }, p24: { label: "Output Power", unit: "W", icon: Vw, color: "#0088fe", gradient: "#0088fe22" }, p2: { label: "Total Energy", unit: "kWh", icon: Vw, color: "#10B981", gradient: "#10B98122" }, p1: { label: "Total Power", unit: "W", icon: $s, color: "#3B82F6", gradient: "#3B82F622" }, p25: { label: "Temperature", unit: "C", icon: sB, color: "#EC4899", gradient: "#EC489922" }, p14: { label: "Grid Voltage", unit: "V", icon: ZO, color: "#9C27B0", gradient: "#9C27B022" }, p87: { label: "Today Energy", unit: "kWh", icon: om, color: "#FF9800", gradient: "#FF980022" } })[_e] || { label: _e, unit: "", icon: sm, color: "#6B7280", gradient: "#6B728022" }, []), Ys = b.useCallback(() => { var _e; if (c === "minute") { const we = qr(); if (we.length === 0) return null; const Ce = we.map(Ve => Ve[pe]), Be = Math.max(...Ce), Re = Math.min(...Ce), qe = Ce.reduce((Ve, He) => Ve + He, 0) / Ce.length; let Me = Ce.reduce((Ve, He) => Ve + He, 0), Ie = Wr(pe).unit; if (Ie === "W") { const Ve = Number(J.minute_interval) || 10; Me = Me * (Ve / 60) / 1e3, Ie = "kWh" } return { max: Be, min: Re, avg: qe, sum: Me, count: Ce.length, unit: Ie } } else if (c === "daily" || c === "monthly_daily") { const we = bn(); if (we.length === 0) return null; const Be = c === "monthly_daily" ? ie : V, Re = we.map(Xe => Xe.value), qe = Re.reduce((Xe, vt) => Xe + vt, 0), Me = qe / Re.length, Ie = Math.max(...Re), Ve = Math.min(...Re), He = we.find(Xe => Xe.value === Ie), Ye = we.find(Xe => Xe.value === Ve), ze = ((_e = we[0]) == null ? void 0 : _e.isEnergyParameter) || !1; let rt = 0, Ke = 0; if (ze) if (I === "cumulative") { const Xe = Pr(), vt = zr(Xe); if (vt.length >= 2) { const _r = vt[0].cumulativeKwh, Wt = vt[vt.length - 1].cumulativeKwh; rt = _r > 0 ? (Wt - _r) / _r * 100 : 0, Ke = Wt } } else { const Xe = we.map(vt => vt.periodProductionKwh || vt.value); if (Xe.length >= 2) { const vt = Xe.findIndex((_r, Wt) => Wt > 0 && _r > 0); if (vt !== -1) { const _r = Xe[vt], Wt = Xe[Xe.length - 1]; rt = _r > 0 ? (Wt - _r) / _r * 100 : 0 } Ke = we.length > 0 && we[we.length - 1].cumulativeKwh || 0 } } return { max: Ie, min: Ve, avg: Me, sum: qe, count: Re.length, maxDate: He ? He.date : "", minDate: Ye ? Ye.date : "", totalCumulativeKwh: Ke, totalGrowth: rt, nonZeroPeriods: Re.filter(Xe => Xe > 0).length, firstValue: Re[0] || 0, lastValue: Re[Re.length - 1] || 0, unit: Wr(Be.data_point).unit } } else if (c === "monthly") { const we = Xa(); if (we.length === 0) return null; const Ce = we.map(ze => ze.monthlyKwh), Be = Ce.reduce((ze, rt) => ze + rt, 0), Re = Be / Ce.length, qe = Math.max(...Ce), Me = Math.min(...Ce), Ie = we.find(ze => ze.monthlyKwh === qe), Ve = we.find(ze => ze.monthlyKwh === Me); let He = 0; if (we.length > 1) { const ze = we[we.length - 1].monthlyKwh, rt = we[we.length - 2].monthlyKwh; He = rt > 0 ? (ze - rt) / rt * 100 : 0 } const Ye = we.length > 0 ? we[we.length - 1].cumulativeKwh : 0; return { sum: Be, avg: Re, max: qe, min: Me, maxMonth: Ie ? `${Ie.monthName} ${Ie.year}` : "", minMonth: Ve ? `${Ve.monthName} ${Ve.year}` : "", count: Ce.length, monthlyGrowth: He.toFixed(1), totalCumulativeKwh: Ye, unit: Wr(U.data_point).unit } } else { const we = Ea(); if (we.length === 0) return null; const Ce = we.map(ze => ze.monthlyKwh), Be = Ce.reduce((ze, rt) => ze + rt, 0), Re = Be / Ce.length, qe = Math.max(...Ce), Me = Math.min(...Ce), Ie = we.find(ze => ze.monthlyKwh === qe), Ve = we.find(ze => ze.monthlyKwh === Me); let He = 0; if (we.length > 1) { const ze = we[we.length - 1].monthlyKwh, rt = we[we.length - 2].monthlyKwh; He = rt > 0 ? (ze - rt) / rt * 100 : 0 } const Ye = we.length > 0 ? we[we.length - 1].cumulativeKwh : 0; return { sum: Be, avg: Re, max: qe, min: Me, maxYear: Ie ? Ie.year : "", minYear: Ve ? Ve.year : "", count: Ce.length, yearlyGrowth: He.toFixed(1), totalCumulativeKwh: Ye, unit: Wr(de.data_point).unit } } }, [c, qr, pe, Wr, bn, I, Pr, zr, Wa, V.data_point, Xa, U.data_point, Ea, de.data_point]), Zd = b.useCallback(({ active: _e, payload: we, label: Ce }) => { var Be, Re, qe, Me, Ie, Ve, He; if (_e && we && we.length) { const Ye = we[0].payload; if (c === "daily" && Ye.isEnergyParameter) { const ze = I === "cumulative"; return a.jsxs("div", { className: "bg-white p-4 rounded-lg shadow-lg border border-gray-200", children: [a.jsx("p", { className: "font-semibold text-gray-900 mb-2", children: Ye.date }), a.jsxs("div", { className: "space-y-2", children: [ze ? a.jsxs(a.Fragment, { children: [a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsx("span", { className: "text-sm text-gray-600", children: "Cumulative Energy:" }), a.jsxs("span", { className: "font-semibold text-blue-600 ml-2", children: [((Be = Ye.cumulativeKwh) == null ? void 0 : Be.toFixed(2)) || ((Re = Ye.value) == null ? void 0 : Re.toFixed(2)), " kWh"] })] }), a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsx("span", { className: "text-sm text-gray-600", children: "Original Wh:" }), a.jsxs("span", { className: "font-semibold text-gray-900", children: [((qe = Ye.originalValue) == null ? void 0 : qe.toLocaleString()) || (Ye.value * 1e3).toLocaleString(), " Wh"] })] })] }) : a.jsxs(a.Fragment, { children: [a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsx("span", { className: "text-sm text-gray-600", children: "Daily Production:" }), a.jsxs("span", { className: `font-semibold ${Ye.isFirstPeriod ? "text-gray-500" : "text-green-600"} ml-2`, children: [((Me = Ye.periodProductionKwh) == null ? void 0 : Me.toFixed(2)) || ((Ie = Ye.value) == null ? void 0 : Ie.toFixed(2)), " kWh"] })] }), a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsx("span", { className: "text-sm text-gray-600", children: "Cumulative to Date:" }), a.jsxs("span", { className: "font-semibold text-blue-600", children: [((Ve = Ye.cumulativeValue) == null ? void 0 : Ve.toFixed(2)) || ((He = Ye.cumulativeKwh) == null ? void 0 : He.toFixed(2)), " kWh"] })] }), Ye.growth !== void 0 && !Ye.isFirstPeriod && a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsx("span", { className: "text-sm text-gray-600", children: "Growth:" }), a.jsxs("span", { className: `font-semibold ${parseFloat(Ye.growth) > 0 ? "text-green-600" : parseFloat(Ye.growth) < 0 ? "text-red-600" : "text-gray-600"}`, children: [parseFloat(Ye.growth) > 0 ? "" : parseFloat(Ye.growth) < 0 ? "" : "", " ", Math.abs(parseFloat(Ye.growth)), "%"] })] })] }), Ye.isFirstPeriod && I === "period" && a.jsx("div", { className: "mt-2 pt-2 border-t border-gray-100", children: a.jsxs("div", { className: "flex items-center gap-1 text-xs text-gray-600", children: [a.jsx(SF, { className: "w-3 h-3" }), a.jsx("span", { children: "Calculated using previous day's cumulative data" })] }) }), !ze && Ye.calculation && a.jsx("div", { className: "mt-2 pt-2 border-t border-gray-100", children: a.jsx("p", { className: "text-xs text-gray-500", children: Ye.calculation }) })] })] }) } return a.jsxs("div", { className: "bg-white p-3 rounded-lg shadow border border-gray-200", children: [a.jsx("p", { className: "font-semibold text-gray-900", children: Ce }), a.jsxs("p", { className: "text-sm text-gray-700", children: [we[0].name, ": ", we[0].value.toFixed(2)] })] }) } return null }, [c, I]); b.useCallback(() => {
    var _e; if (c === "minute") {
      const we = qr(); if (we.length === 0) { v("No data to export"); return } const Be = [["Time", "Date", ...J.points.split(",").map(Ie => Wr(Ie).label)].join(","), ...we.map(Ie => { const Ve = J.points.split(",").map(He => Ie[He]); return `${Ie.time},${Ie.date},${Ve.join(",")}` })].join(`
`), Re = new Blob([Be], { type: "text/csv" }), qe = window.URL.createObjectURL(Re), Me = document.createElement("a"); Me.href = qe, Me.download = `minute-data-${new Date().toISOString().split("T")[0]}.csv`, Me.click()
    } else if (c === "daily") {
      const we = bn(); if (we.length === 0) { v("No data to export"); return } const Ce = ((_e = we[0]) == null ? void 0 : _e.isEnergyParameter) || !1, Re = [(Ce ? I === "cumulative" ? ["Date", "Day", "Cumulative (kWh)", "Cumulative (Wh)", "Period Type", "Is First Period"] : ["Date", "Day", "Daily Production (kWh)", "Cumulative (kWh)", "Growth %", "Calculation", "Original (Wh)", "Is First Period"] : ["Date", "Day", "Value", "Raw Value"]).join(","), ...Ce ? I === "cumulative" ? zr(Pr()).map(Ve => `${Ve.date},${Pe[new Date(Ve.date).getDay()]},${Ve.cumulativeKwh.toFixed(2)},${Ve.originalWh},Daily,${Ve.isFirstPeriod ? "Yes" : "No"}`) : Wa.map(Ve => `${Ve.date},${Pe[new Date(Ve.date).getDay()]},${Ve.periodProductionKwh.toFixed(2)},${Ve.cumulativeKwh.toFixed(2)},${Ve.growth || 0},${Ve.calculation},${Ve.originalWh},${Ve.isFirstPeriod ? "Yes" : "No"}`) : we.map(Ve => `${Ve.date},${Ve.dayOfWeek},${Ve.value},${Ve.rawValue}`)].join(`
`), qe = new Blob([Re], { type: "text/csv" }), Me = window.URL.createObjectURL(qe), Ie = document.createElement("a"); Ie.href = Me, Ie.download = `daily-${I}-data-${new Date().toISOString().split("T")[0]}.csv`, Ie.click()
    } else if (c === "monthly") {
      const we = Xa(); if (we.length === 0) { v("No data to export"); return } const Be = [["Year", "Month", "Monthly Production (kWh)", "Cumulative Energy (kWh)", "Growth %", "Raw Value (Wh)"].join(","), ...we.map(Ie => [Ie.year, Ie.monthName, Ie.monthlyKwh.toFixed(2), Ie.cumulativeKwh.toFixed(2), Ie.growth ? `${Ie.growth}%` : "0%", Ie.rawValue].join(","))].join(`
`), Re = new Blob([Be], { type: "text/csv" }), qe = window.URL.createObjectURL(Re), Me = document.createElement("a"); Me.href = qe, Me.download = `monthly-energy-data-${new Date().toISOString().split("T")[0]}.csv`, Me.click()
    } else {
      const we = Ea(); if (we.length === 0) { v("No data to export"); return } const Be = [["Year", "Yearly Production (kWh)", "Cumulative Energy (kWh)", "Growth %", "Raw Value (Wh)"].join(","), ...we.map(Ie => [Ie.year, Ie.monthlyKwh.toFixed(2), Ie.cumulativeKwh.toFixed(2), Ie.growth ? `${Ie.growth}%` : "0%", Ie.rawValue].join(","))].join(`
`), Re = new Blob([Be], { type: "text/csv" }), qe = window.URL.createObjectURL(Re), Me = document.createElement("a"); Me.href = qe, Me.download = `yearly-energy-data-${new Date().toISOString().split("T")[0]}.csv`, Me.click()
    }
  }, [c, qr, J.points, Wr, bn, I, zr, Pr, Wa, Xa, Ea]); const ef = b.useCallback(_e => { const we = new Date, Ce = new Date; switch (_e) { case "week": Ce.setDate(we.getDate() - 7); break; case "month": Ce.setMonth(we.getMonth() - 1); break; case "3months": Ce.setMonth(we.getMonth() - 3); break; case "6months": Ce.setMonth(we.getMonth() - 6); break; case "year": Ce.setFullYear(we.getFullYear() - 1); break }const Be = Ie => Ie.toISOString().split("T")[0], Re = Be(Ce), qe = Be(we); T({ startDate: Re, endDate: qe }); const Me = new Date(Re); Me.setDate(Me.getDate() - 1), z(nt(Me)) }, [nt]), tf = b.useCallback(_e => { const we = new Date, Ce = we.getFullYear(), Be = we.getMonth() + 1; switch (_e) { case "thisYear": K({ startYear: Ce.toString(), startMonth: "01", endYear: Ce.toString(), endMonth: Be.toString().padStart(2, "0") }); break; case "lastYear": K({ startYear: (Ce - 1).toString(), startMonth: "01", endYear: (Ce - 1).toString(), endMonth: "12" }); break; case "last6months": let Re = Be - 5, qe = Ce; Re < 1 && (Re += 12, qe -= 1), K({ startYear: qe.toString(), startMonth: Re.toString().padStart(2, "0"), endYear: Ce.toString(), endMonth: Be.toString().padStart(2, "0") }); break; case "yearToDate": K({ startYear: Ce.toString(), startMonth: "01", endYear: Ce.toString(), endMonth: Be.toString().padStart(2, "0") }); break } }, []), rf = b.useCallback(_e => { const Ce = new Date().getFullYear(); switch (_e) { case "last5years": te({ startYear: (Ce - 4).toString(), endYear: Ce.toString() }); break; case "last10years": te({ startYear: (Ce - 9).toString(), endYear: Ce.toString() }); break; case "decade": const Be = Math.floor(Ce / 10) * 10; te({ startYear: Be.toString(), endYear: (Be + 9).toString() }); break; case "allYears": te({ startYear: "2020", endYear: Ce.toString() }); break } }, []), Gs = b.useMemo(() => Ys(), [Ys]), Ho = b.useCallback(() => { var rt; let _e = [], we = {}, Ce = ""; if (c === "minute" ? (_e = qr(), we = Wr(pe), Ce = pe) : c === "daily" || c === "monthly_daily" ? (_e = bn(), we = Wr(c === "monthly_daily" ? ie.data_point : V.data_point), Ce = "value") : c === "monthly" ? (_e = Xa(), we = Wr(U.data_point), Ce = "value") : (_e = Ea(), we = Wr(de.data_point), Ce = "value"), _e.length === 0) return a.jsx("div", { className: "h-96 flex items-center justify-center bg-gray-50 rounded-xl", children: a.jsxs("div", { className: "text-center", children: [a.jsx(Di, { className: "w-16 h-16 text-gray-300 mx-auto mb-4" }), a.jsx("p", { className: "text-gray-500", children: "No data available for chart" }), a.jsx("p", { className: "text-sm text-gray-400 mt-2", children: c === "minute" ? "Load minute data to visualize" : c === "daily" ? "Load daily data to visualize" : c === "monthly" ? "Load monthly data to visualize" : "Load yearly data to visualize" })] }) }); const Be = ne ? "70vh" : "500px", Re = _e.map(Ke => c === "minute" ? { name: Ke.time, [Ce]: Ke[Ce], ...Ke } : c === "daily" || c === "monthly_daily" ? { name: Ke.formattedDate || Ke.date, value: Ke.value, date: Ke.date, formattedDate: Ke.formattedDate, ...Ke } : c === "monthly" ? { name: Ke.shortDate || Ke.monthName, value: Ke.value, date: Ke.date, monthName: Ke.monthName, ...Ke } : { name: Ke.year, value: Ke.value, year: Ke.year, ...Ke }), qe = { data: Re, margin: { top: 20, right: 30, left: 40, bottom: 40 } }, Me = () => c === "minute" ? a.jsx(Mn, { dataKey: "name", label: { value: "Time", position: "insideBottom", offset: -10 }, tick: { fontSize: 12 }, tickFormatter: Ke => { if (Ke && typeof Ke == "string") { const [Xe, vt] = Ke.split(":"); return `${Xe}:${vt}` } return Ke } }) : c === "daily" || c === "monthly_daily" ? a.jsx(Mn, { dataKey: "name", label: { value: "Date", position: "insideBottom", offset: -10 }, tick: { fontSize: 10 }, interval: 0, angle: -45, textAnchor: "end", height: 60 }) : c === "monthly" ? a.jsx(Mn, { dataKey: "name", label: { value: "Month", position: "insideBottom", offset: -10 }, tick: { fontSize: 12 }, angle: -45, textAnchor: "end", height: 80 }) : a.jsx(Mn, { dataKey: "name", label: { value: "Year", position: "insideBottom", offset: -10 }, tick: { fontSize: 12 } }), Ie = () => a.jsx(Ha, { tickFormatter: Ke => Math.abs(Ke) >= 1e3 ? `${(Ke / 1e3).toFixed(1)}k` : Ke.toLocaleString(), label: { value: `${we.label} (${we.unit})`, angle: -90, position: "insideLeft", offset: 15, style: { textAnchor: "middle" } }, width: 80, tick: { fontSize: 12 } }), Ve = () => { var Ke; return a.jsx(nn, { content: c === "daily" && ((Ke = _e[0]) != null && Ke.isEnergyParameter) ? a.jsx(Zd, {}) : void 0, contentStyle: { backgroundColor: "white", border: "1px solid #e5e7eb", borderRadius: "8px", boxShadow: "0 4px 6px rgba(0, 0, 0, 0.1)", fontSize: "14px" }, formatter: Xe => typeof Xe == "number" ? [Xe.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), we.label] : [Xe, we.label] }) }, He = () => c !== "minute" && Re.length > 10 ? a.jsx(Ro, { dataKey: "name", height: 30, stroke: we.color, fill: "#f8fafc", travellerWidth: 10 }) : null, Ye = () => a.jsx(Ps, { verticalAlign: "top", height: 36, formatter: Ke => a.jsx("span", { style: { fontSize: "14px", color: "#374151" }, children: Ke }) }), ze = () => { const Ke = { type: "monotone", stroke: we.color, strokeWidth: oe.strokeWidth, fillOpacity: oe.gradient ? .3 : .6, dot: oe.showPoints ? { strokeWidth: 2, r: 4 } : !1, activeDot: { r: 6, strokeWidth: 2 }, isAnimationActive: oe.animate }; switch (Z) { case "bar": return a.jsxs(cp, { ...qe, children: [a.jsx("defs", { children: a.jsxs("linearGradient", { id: "colorBar", x1: "0", y1: "0", x2: "0", y2: "1", children: [a.jsx("stop", { offset: "5%", stopColor: we.color, stopOpacity: .9 }), a.jsx("stop", { offset: "95%", stopColor: we.color, stopOpacity: .4 })] }) }), oe.showGrid && a.jsx(Es, { strokeDasharray: "3 3", stroke: "#f0f0f0", vertical: !1 }), Me(), Ie(), Ve(), Ye(), a.jsx(ka, { dataKey: Ce, name: `${we.label} (${we.unit})`, fill: "url(#colorBar)", fillOpacity: .8, stroke: we.color, strokeWidth: 1, radius: [4, 4, 0, 0], barSize: c === "minute" ? 30 : 50, isAnimationActive: oe.animate }), He()] }); case "area": return a.jsxs(o6, { ...qe, children: [a.jsx("defs", { children: a.jsxs("linearGradient", { id: "colorGradient", x1: "0", y1: "0", x2: "0", y2: "1", children: [a.jsx("stop", { offset: "5%", stopColor: we.color, stopOpacity: .8 }), a.jsx("stop", { offset: "95%", stopColor: we.color, stopOpacity: .1 })] }) }), oe.showGrid && a.jsx(Es, { strokeDasharray: "3 3", stroke: "#f0f0f0", vertical: !1 }), Me(), Ie(), Ve(), Ye(), a.jsx(Vs, { ...Ke, dataKey: Ce, name: `${we.label} (${we.unit})`, fill: oe.gradient ? "url(#colorGradient)" : we.color }), He()] }); case "line": return a.jsxs(i6, { ...qe, children: [oe.showGrid && a.jsx(Es, { strokeDasharray: "3 3", stroke: "#f0f0f0", vertical: !1 }), Me(), Ie(), Ve(), Ye(), a.jsx(Oc, { ...Ke, dataKey: Ce, name: `${we.label} (${we.unit})`, strokeWidth: oe.strokeWidth + 1 }), He()] }); default: return a.jsxs(cp, { ...qe, children: [a.jsx("defs", { children: a.jsxs("linearGradient", { id: "colorBar", x1: "0", y1: "0", x2: "0", y2: "1", children: [a.jsx("stop", { offset: "5%", stopColor: we.color, stopOpacity: .9 }), a.jsx("stop", { offset: "95%", stopColor: we.color, stopOpacity: .4 })] }) }), oe.showGrid && a.jsx(Es, { strokeDasharray: "3 3", stroke: "#f0f0f0", vertical: !1 }), Me(), Ie(), Ve(), Ye(), a.jsx(ka, { dataKey: Ce, name: `${we.label} (${we.unit})`, fill: "url(#colorBar)", fillOpacity: .8, stroke: we.color, strokeWidth: 1, radius: [4, 4, 0, 0], barSize: c === "minute" ? 30 : 50, isAnimationActive: oe.animate }), He()] }) } }; return a.jsx("div", { className: `relative ${ne ? "fixed inset-0 z-50 bg-white p-8 " : ""}`, children: a.jsxs("div", { className: "relative", style: { height: Be }, children: [a.jsxs("div", { className: "absolute top-0 left-0 right-0 z-10 flex justify-between items-center mb-4 px-4 pt-2", children: [a.jsxs("div", { className: "flex items-center gap-3", children: [a.jsx("div", { className: "w-3 h-3 rounded-full", style: { backgroundColor: we.color } }), a.jsxs("div", { children: [a.jsxs("div", { className: "flex items-center gap-4", children: [a.jsxs("h3", { className: "font-semibold text-gray-900 text-sm", children: [we.label, " ", c === "minute" ? "Daily" : c === "daily" ? "Weekly" : c === "monthly_daily" ? "Monthly" : c === "monthly" ? "Yearly" : "Life Time", " Data"] }), ["minute", "daily", "monthly_daily", "monthly", "yearly"].includes(c) && Gs && a.jsx("div", { className: "flex items-center", children: a.jsxs("span", { className: "inline-flex items-center px-4 py-2 rounded-lg text-base font-bold bg-white text-blue-700 border border-blue-200 shadow-md ring-4 ring-blue-50 transition-all hover:shadow-lg", children: ["Total: ", Gs.sum.toLocaleString(void 0, { minimumFractionDigits: 2, maximumFractionDigits: 2 }), " ", Gs.unit] }) })] }), a.jsx("p", { className: "text-xs text-gray-500", children: c === "minute" ? `${X.startDate} ${X.startTime} - ${X.endDate} ${X.endTime}` : c === "daily" ? `${q.startDate} - ${q.endDate}` : c === "monthly_daily" ? `${Y.startDate} - ${Y.endDate}` : c === "monthly" ? `${$.startYear}-${$.startMonth} to ${$.endYear}-${$.endMonth}` : `${ee.startYear} - ${ee.endYear}` })] })] }), a.jsx("div", { className: "flex items-center gap-2", children: a.jsx("button", { onClick: () => L(!ne), className: "p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition", title: ne ? "Exit fullscreen" : "Enter fullscreen", children: ne ? a.jsx(DP, { className: "w-4 h-4" }) : a.jsx(EP, { className: "w-4 h-4" }) }) })] }), a.jsx("div", { className: "h-full pt-12", children: a.jsx(bm, { width: "100%", height: "100%", children: ze() }) }), a.jsxs("div", { className: "absolute bottom-0 left-0 right-0 px-4 pb-2 text-xs text-gray-500 flex justify-between", children: [a.jsxs("span", { children: ["Total Data Points: ", _e.length] }), a.jsx("span", { children: c === "daily" && ((rt = _e[0]) != null && rt.isEnergyParameter) ? `Mode: ${I === "cumulative" ? "Cumulative kWh" : "Daily Production"}` : `View: ${c.charAt(0).toUpperCase() + c.slice(1)}` })] })] }) }) }, [c, qr, pe, Wr, bn, V.data_point, Xa, U.data_point, Ea, de.data_point, ne, X, q, $, ee, Z, oe, Zd, I, Gs]), nf = b.useCallback(() => { switch (c) { case "minute": return yr; case "daily": return er; case "monthly": return Tr; case "yearly": return Br; default: return yr } }, [c, yr, er, Tr, Br]), af = b.useCallback(() => { switch (c) { case "minute": return p.minute; case "daily": return p.daily; case "monthly": return p.monthly; case "yearly": return p.yearly; default: return !1 } }, [c, p]); return a.jsxs("div", { className: `min-h-screen ${ne ? "overflow-hidden" : "bg-gradient-to-br from-gray-50 to-gray-100 p-0  "}`, children: [!ne && a.jsxs("div", { className: "w-full max-h-screen ", children: [a.jsx("div", { className: "mb-8 ", children: a.jsx("div", { className: "flex items-center justify-end mb-6", children: a.jsxs("div", { className: "inline-flex rounded-lg border border-gray-300 bg-white p-1", children: [a.jsxs("button", { onClick: () => u("minute"), className: `px-6 py-3 rounded-md font-medium transition flex items-center gap-2 ${c === "minute" ? "bg-blue-600 text-white shadow-sm" : "text-gray-700 hover:text-gray-900"}`, children: [a.jsx(td, { className: "w-5 h-5" }), "Daily Data"] }), a.jsxs("button", { onClick: () => u("daily"), className: `px-6 py-3 rounded-md font-medium transition flex items-center gap-2 ${c === "daily" ? "bg-blue-600 text-white shadow-sm" : "text-gray-700 hover:text-gray-900"}`, children: [a.jsx(om, { className: "w-5 h-5" }), "Weekly Data"] }), a.jsxs("button", { onClick: () => u("monthly_daily"), className: `px-6 py-3 rounded-md font-medium transition flex items-center gap-2 ${c === "monthly_daily" ? "bg-blue-600 text-white shadow-sm" : "text-gray-700 hover:text-gray-900"}`, children: [a.jsx(im, { className: "w-5 h-5" }), "Monthly Data"] }), a.jsxs("button", { onClick: () => u("monthly"), className: `px-6 py-3 rounded-md font-medium transition flex items-center gap-2 ${c === "monthly" ? "bg-blue-600 text-white shadow-sm" : "text-gray-700 hover:text-gray-900"}`, children: [a.jsx(na, { className: "w-5 h-5" }), "Yearly Data"] }), a.jsxs("button", { onClick: () => u("yearly"), className: `px-6 py-3 rounded-md font-medium transition flex items-center gap-2 ${c === "yearly" ? "bg-blue-600 text-white shadow-sm" : "text-gray-700 hover:text-gray-900"}`, children: [a.jsx(im, { className: "w-5 h-5" }), "Life Time Data"] })] }) }) }), a.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-4 gap-6", children: [a.jsxs("div", { className: "lg:col-span-1 space-y-6", children: [a.jsx("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-5", children: a.jsx(Oie, { onTokenChange: Fe, onDeviceDataChange: Ue, onBeneficiarySelect: Ze }) }), a.jsx(Cie, { psKey: t, onFetchData: () => { switch (console.log("Manual fetch triggered for view mode:", c), c) { case "minute": J.start_time_stamp && J.end_time_stamp ? yr() : v("Please set valid start and end times for minute data"); break; case "daily": q.startDate && q.endDate ? er() : v("Please set valid date range for daily data"); break; case "monthly_daily": Y.startDate && Y.endDate ? Uo() : v("Please set valid date range for monthly data"); break; case "monthly": $.startYear && $.startMonth ? Tr() : v("Please set valid month and year for monthly data"); break; case "yearly": ee.startYear ? Br() : v("Please set valid year range for yearly data"); break; default: v("Please select a valid view mode") } }, viewMode: c, conversionMode: I, setConversionMode: _, dateTime: X, setDateTime: E, minuteForm: J, setMinuteForm: Q, selectedParameter: pe, setSelectedParameter: M, dailyDateRange: q, setDailyDateRange: T, dailyForm: V, setDailyForm: ae, monthlyDailyDateRange: Y, setMonthlyDailyDateRange: G, monthlyDailyForm: ie, setMonthlyDailyForm: se, applyDailyPreset: ef, monthRange: $, setMonthRange: K, monthlyForm: U, setMonthlyForm: le, applyMonthPreset: tf, yearRange: ee, setYearRange: te, yearlyForm: de, setYearlyForm: me, applyYearPreset: rf, token: f, loading: p, error: g, getFetchFunction: nf, getLoadingState: af, minuteData: j, dailyData: w, monthlyData: H, yearlyData: k, formatMinuteData: qr, formatDailyData: bn, formatMonthlyData: Xa, formatYearlyData: Ea })] }), a.jsxs("div", { className: "lg:col-span-3 space-y-6", children: [a.jsx("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-5 ", ref: ue, children: Ho() }), a.jsx(kie, { chartType: Z, setChartType: ce, chartConfig: oe, setChartConfig: fe })] })] })] }), ne && Ho()] })
}; Ni.register(wN, jN, nm, iie, mie, aie); const uP = { APPS_SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", ENERGY_ANALYSIS_SHEET_NAME: "Energy analysis" }, Eie = () => { const [t, e] = b.useState([]), [r, n] = b.useState([]), [s, o] = b.useState(!0), [c, u] = b.useState(null), [f, h] = b.useState("day"), [p, x] = b.useState(null), [g, v] = b.useState(null), [j, S] = b.useState([]), [w, O] = b.useState(""), D = b.useCallback(k => { if (!k) return null; try { if (typeof k == "string") if (k.includes("/") && k.includes(" ")) { const [F, P] = k.split(" "), [W, J, Q] = F.split("/"), [V, ae, ie] = P.split(":"); return new Date(Q, J - 1, W, V || 0, ae || 0, ie || 0) } else if (k.includes("/")) { const [F, P, W] = k.split("/"); return new Date(W, P - 1, F) } else return new Date(k); return new Date(k) } catch (F) { return console.error("Error parsing timestamp:", k, F), null } }, []), R = b.useCallback(async () => { o(!0), u(null); try { const k = `${uP.APPS_SCRIPT_URL}?sheet=${encodeURIComponent(uP.ENERGY_ANALYSIS_SHEET_NAME)}&action=fetch`, F = await fetch(k); if (!F.ok) throw new Error(`HTTP Error: ${F.status} - ${F.statusText}`); const P = await F.text(); let W; try { W = JSON.parse(P) } catch { const ie = P.indexOf("{"), se = P.lastIndexOf("}"); if (ie !== -1 && se !== -1) { const U = P.substring(ie, se + 1); W = JSON.parse(U) } else throw new Error("Invalid JSON response from server") } const J = [], Q = new Set; let V = []; W.table && W.table.rows ? V = W.table.rows : Array.isArray(W) ? V = W : W.values ? V = W.values.map(ae => ({ c: ae.map(ie => ({ v: ie })) })) : W.data && (V = W.data), V.forEach((ae, ie) => { if (ie === 0) return; let se = []; if (ae.c && Array.isArray(ae.c)) se = ae.c.map(Z => Z && Z.v !== void 0 ? Z.v : ""); else if (Array.isArray(ae)) se = ae; else return; const U = se[2] || ""; U && ie > 0 && Q.add(U); const le = se[3], de = se[4]; if (!le || !de) return; const me = D(le), pe = parseFloat(de); if (!me || isNaN(pe)) return; const M = { beneficiary: U, timestamp: me, timestampStr: le.toString(), production: pe, rowIndex: ie }; J.push(M) }), J.sort((ae, ie) => ae.timestamp - ie.timestamp), e(J), S(Array.from(Q).sort()) } catch (k) { console.error("Error fetching energy data:", k), u("Failed to load energy data: " + k.message) } finally { o(!1) } }, [D]), H = b.useCallback(() => { if (!t.length) { n([]); return } let k = [...t]; w && (k = k.filter(J => J.beneficiary === w)); const F = new Date; let P = new Date, W = new Date; switch (f) { case "day": P.setHours(0, 0, 0, 0), k = k.filter(ae => ae.timestamp.toDateString() === F.toDateString()); break; case "week": const J = (F.getDay() + 6) % 7, Q = new Date(F); Q.setDate(F.getDate() - J), Q.setHours(0, 0, 0, 0); const V = new Date(Q); V.setDate(Q.getDate() + 6), V.setHours(23, 59, 59, 999), k = k.filter(ae => ae.timestamp >= Q && ae.timestamp <= V); break; case "month": if (p === null) { k = []; break } P = new Date(F.getFullYear(), p, 1), W = new Date(F.getFullYear(), p + 1, 0, 23, 59, 59), k = k.filter(ae => ae.timestamp >= P && ae.timestamp <= W); break; case "sixmonths": if (!g) { k = []; break } g === "H1" ? (P = new Date(F.getFullYear(), 0, 1), W = new Date(F.getFullYear(), 5, 30, 23, 59, 59)) : (P = new Date(F.getFullYear(), 6, 1), W = new Date(F.getFullYear(), 11, 31, 23, 59, 59)), k = k.filter(ae => ae.timestamp >= P && ae.timestamp <= W); break }n(k) }, [t, f, p, g, w]); b.useMemo(() => { if (!r.length) return { labels: [], datasets: [{ label: "Energy Production (kWh)", data: [], backgroundColor: "rgba(34, 197, 94, 0.8)", borderColor: "rgba(34, 197, 94, 1)", borderWidth: 1 }] }; let k; f === "sixmonths" ? k = r.reduce((P, W) => { const J = new Date(W.timestamp), Q = `${J.getFullYear()}-${String(J.getMonth() + 1).padStart(2, "0")}`, V = W.production; return P[Q] = (P[Q] || 0) + V, P }, {}) : f === "year" ? k = r.reduce((P, W) => { const Q = new Date(W.timestamp).getFullYear().toString(), V = W.production; return P[Q] = (P[Q] || 0) + V, P }, {}) : k = r.reduce((P, W) => { const J = W.timestampStr, Q = W.production; return P[J] = (P[J] || 0) + Q, P }, {}); const F = Object.entries(k).map(([P, W]) => ({ date: P, production: W })); return F.sort((P, W) => { const J = D(P.date), Q = D(W.date); return J - Q }), { labels: F.map(P => { const W = D(P.date); if (!W) return P.date; switch (f) { case "day": return W.toLocaleDateString("en-GB", { day: "2-digit", month: "short", year: "2-digit" }); case "week": return W.toLocaleDateString("en-GB", { day: "2-digit", month: "short" }); case "sixmonths": return new Date(W).toLocaleDateString("en-GB", { month: "short", year: "2-digit" }); case "year": return new Date(W).getFullYear().toString(); default: return W.toLocaleDateString("en-GB") } }), datasets: [{ label: "Energy Production (kWh)", data: F.map(P => P.production), backgroundColor: "rgba(34, 197, 94, 0.8)", borderColor: "rgba(34, 197, 94, 1)", borderWidth: 1, borderRadius: 4, hoverBackgroundColor: "rgba(34, 197, 94, 1)" }] } }, [r, f, D]); const C = b.useMemo(() => r.reduce((k, F) => k + F.production, 0), [r]); return b.useMemo(() => ({ responsive: !0, maintainAspectRatio: !1, plugins: { legend: { display: !1 }, title: { display: !0, text: `Energy Production Analysis - Total: ${C.toLocaleString()} kWh`, font: { size: 18, weight: "bold" }, color: "#1f2937", padding: { top: 10, bottom: 30 } }, tooltip: { backgroundColor: "rgba(0, 0, 0, 0.8)", titleColor: "#fff", bodyColor: "#fff", borderColor: "rgb(34, 197, 94)", borderWidth: 1, cornerRadius: 4, displayColors: !1, titleFont: { size: 14 }, bodyFont: { size: 13 }, padding: 10, callbacks: { title: function (k) { const F = k[0].dataIndex; return F >= 0 && F < r.length ? `Date: ${r[F].timestampStr}` : "" }, label: function (k) { return `Production: ${k.parsed.y} kWh` } } } }, scales: { y: { beginAtZero: !0, grid: { color: "rgba(0, 0, 0, 0.1)" }, ticks: { stepSize: 5, callback: function (k) { return k + " kWh" }, font: { size: 12 }, color: "#374151" }, title: { display: !0, text: "kWh", font: { size: 14, weight: "bold" }, color: "#1f2937" } }, x: { grid: { display: !1 }, ticks: { font: { size: 11 }, color: "#374151" } } } }), [r]), b.useEffect(() => { R() }, [R]), b.useEffect(() => { H() }, [H]), a.jsx(ar, { children: a.jsx("div", { className: "space-y-6", children: a.jsx(Aie, {}) }) }) }, Bw = "7FD3CECA7507BDB20A80E72982E7DCDF", qw = "smu1jqi8wg712d2uuujfgwexgdvrsvj2", zw = "207", Die = "sahoo@rbpindia.com", Tie = "rbpindia@2025"; function Pie() { const [t, e] = b.useState([]), [r, n] = b.useState(!0), [s, o] = b.useState(null), [c, u] = b.useState(""), [f, h] = b.useState(() => { const se = localStorage.getItem("solarToken"), U = localStorage.getItem("solarTokenTimestamp"); return se && U && Date.now() - parseInt(U) < 3600 * 1e3 ? se : "" }), [p, x] = b.useState([]), [g, v] = b.useState({}), [j, S] = b.useState([]), [w, O] = b.useState(!1), [D, R] = b.useState(null), [H, C] = b.useState({ current: 0, total: 0, message: "" }), [k, F] = b.useState({ startYear: new Date().getFullYear() - 9, endYear: new Date().getFullYear() }), P = { data_point: "p2", data_type: "2", query_type: "3", order: "0" }, W = async () => { try { n(!0), o(null); const U = `https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec?sheet=${encodeURIComponent("Inverter_id")}&action=fetch`, le = await fetch(U); if (!le.ok) throw new Error(`Failed to fetch sheet: ${le.status}`); const de = await le.text(); let me; try { me = JSON.parse(de) } catch { const Z = de.indexOf("{"), ce = de.lastIndexOf("}"); if (Z !== -1 && ce !== -1) { const ne = de.substring(Z, ce + 1); me = JSON.parse(ne) } else throw new Error("Invalid JSON response from server") } let pe = []; me.table && me.table.rows ? pe = me.table.rows : Array.isArray(me) ? pe = me : me.values && (pe = me.values.map(Z => ({ c: Z.map(ce => ({ v: ce })) }))); const M = []; pe.forEach((Z, ce) => { if (ce === 0) return; let ne = []; Z.c ? ne = Z.c.map(X => (X == null ? void 0 : X.v) || "") : Array.isArray(Z) && (ne = Z); const L = String(ne[0] || "").trim(), I = String(ne[1] || "").trim(), _ = String(ne[2] || "").trim(); I && M.push({ serialNo: L || ce.toString(), inverterId: I, beneficiaryName: _ }) }), e(M), console.log(`Loaded ${M.length} inverters from Google Sheet`) } catch (se) { console.error("Sheet Fetch Error:", se), o(se.message) } finally { n(!1) } }, J = async () => { var se; if (t.length === 0) { R("No inverters found from sheet. Please fetch sheet data first."); return } O(!0), R(null), C({ current: 0, total: 100, message: "Starting cloud sync..." }); try { let U = f; const le = localStorage.getItem("solarTokenTimestamp"), de = le ? Date.now() - parseInt(le) : 1 / 0; if (!U || de > 3e3 * 1e3) { C({ current: 10, total: 100, message: "Authenticating..." }); const T = await (await fetch("https://gateway.isolarcloud.com.hk/openapi/login", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": qw, sys_code: zw }, body: JSON.stringify({ appkey: Bw, user_account: Die, user_password: Tie }) })).json(); if (T.result_code !== "1") throw new Error(T.result_msg); U = T.result_data.token, h(U), localStorage.setItem("solarToken", U), localStorage.setItem("solarTokenTimestamp", Date.now().toString()) } C({ current: 30, total: 100, message: "Mapping cloud devices..." }); const me = t.map(q => q.inverterId.trim()), M = await (await fetch("https://gateway.isolarcloud.com.hk/openapi/getPVInverterRealTimeData", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": qw, sys_code: zw, token: U }, body: JSON.stringify({ appkey: Bw, sn_list: me, lang: "_en_US", sys_code: 207 }) })).json(); if (M.result_code !== "1") throw new Error(M.result_msg); const Z = ((se = M.result_data) == null ? void 0 : se.device_point_list) || [], ce = []; if (Z.forEach(q => { const T = q.device_point; if (T && T.ps_key) { const Y = T.sn || T.serial_number || T.device_sn || me.find(A => { var z, $; return ((z = T.device_name) == null ? void 0 : z.includes(A)) || (($ = T.ps_key) == null ? void 0 : $.includes(A)) }), G = t.find(A => A.inverterId.trim() === Y); ce.push({ serialNumber: Y || "Unknown", psKey: T.ps_key, deviceName: (G == null ? void 0 : G.beneficiaryName) || T.device_name || Y, success: !0 }) } }), x(ce), ce.length === 0) throw new Error("Could not find cloud match for these inverters."); C({ current: 60, total: 100, message: "Retrieving annual logs..." }); const ne = ce.map(q => q.psKey), I = await (await fetch("https://gateway.isolarcloud.com.hk/openapi/getDevicePointsDayMonthYearDataList", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": qw, sys_code: zw, token: U }, body: JSON.stringify({ appkey: Bw, data_point: P.data_point, data_type: P.data_type, end_time: k.endYear.toString(), lang: "_en_US", order: P.order, ps_key_list: ne, query_type: P.query_type, start_time: k.startYear.toString(), sys_code: 207 }) })).json(); if (I.result_code !== "1") throw new Error(I.result_msg); const _ = I.result_data, X = {}; let E = 0; _ && ce.forEach(q => { const T = _[q.psKey]; if (T) { const Y = { result_data: { [q.psKey]: T } }; X[q.serialNumber] = { deviceName: q.deviceName, data: Y, formatted: Q(Y, q.serialNumber, k) }, E++ } }), v(X), E > 0 && V(X), C({ current: 100, total: 100, message: "Sync Complete" }), setTimeout(() => C({ current: 0, total: 0, message: "" }), 1500) } catch (U) { console.error("Solar Sync Error:", U), R(U.message) } finally { O(!1) } }, Q = (se, U, le) => { if (!se || !se.result_data) return []; const de = Object.keys(se.result_data)[0], me = Object.keys(se.result_data[de])[0], pe = se.result_data[de][me]; if (!pe || pe.length === 0) return []; const M = [...pe].sort((ne, L) => parseInt(ne.time_stamp) - parseInt(L.time_stamp)), Z = []; let ce = 0; return M.forEach(ne => { const L = ne.time_stamp, I = Object.keys(ne).find(T => T !== "time_stamp"); if (!I) return; const _ = (parseFloat(ne[I]) || 0) / 1e3, X = _ - ce, E = Math.max(0, X), q = parseInt(L); q >= le.startYear && q <= le.endYear && Z.push({ year: L, yearNum: q, yearlyKwh: E, cumulativeKwh: _, serialNumber: U }), ce = _ }), Z.sort((ne, L) => ne.yearNum - L.yearNum) }, V = se => { const U = new Set; Object.values(se).forEach(me => { me.formatted.forEach(pe => U.add(pe.year)) }); const de = Array.from(U).sort().map(me => { let pe = 0, M = 0; return Object.values(se).forEach(Z => { const ce = Z.formatted.find(ne => ne.year === me); ce && (pe += ce.yearlyKwh, M += ce.cumulativeKwh) }), { year: me, yearNum: parseInt(me), totalYearlyKwh: Number(pe.toFixed(2)), totalCumulativeKwh: Number(M.toFixed(2)) } }); S(de) }, ae = se => { const U = new Date().getFullYear(); se === "lastDecade" && F({ startYear: U - 9, endYear: U }), se === "2010s" && F({ startYear: 2010, endYear: 2019 }), se === "2000s" && F({ startYear: 2e3, endYear: 2009 }) }; b.useEffect(() => { W() }, []); const ie = t.filter(se => { var U, le; return ((U = se.beneficiaryName) == null ? void 0 : U.toString().toLowerCase().includes(c.toLowerCase())) || ((le = se.inverterId) == null ? void 0 : le.toString().toLowerCase().includes(c.toLowerCase())) }); return a.jsx(ar, { children: a.jsxs("div", { className: "p-8 space-y-8 bg-white min-h-full", children: [a.jsxs("div", { className: "bg-white rounded-3xl shadow-[0_8px_30px_-10px_rgba(0,0,0,0.08)] border border-gray-100 p-8", children: [a.jsxs("div", { className: "flex flex-col lg:flex-row lg:items-center justify-between gap-4", children: [a.jsxs("div", { className: "flex items-center gap-6", children: [a.jsx("div", { className: "p-4 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200", children: a.jsx($s, { className: "w-10 h-10 text-white" }) }), a.jsxs("div", { children: [a.jsx("h1", { className: "text-4xl font-extrabold text-gray-900 tracking-tight", children: "Solar Production Intelligence" }), a.jsxs("p", { className: "text-lg text-gray-500 font-semibold mt-2", children: ["Monitoring energy across ", a.jsx("span", { className: "text-blue-600 font-bold", children: t.length }), " verified units"] })] })] }), a.jsxs("div", { className: "flex flex-wrap items-center gap-4", children: [a.jsxs("div", { className: "relative group", children: [a.jsx(fr, { className: "absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400" }), a.jsx("input", { type: "text", placeholder: "Quick search units...", value: c, onChange: se => u(se.target.value), className: "pl-12 pr-6 py-4 bg-gray-50 border border-gray-100 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-100 w-full md:w-80 text-base font-bold transition-all" })] }), a.jsx("button", { onClick: J, disabled: w || r, className: `group relative flex items-center gap-4 px-10 py-5 rounded-2xl font-black text-lg transition-all duration-300 shadow-xl ${w ? "bg-gray-100 text-gray-400 cursor-not-allowed" : "bg-gray-900 text-white hover:bg-black active:scale-95 shadow-gray-200"}`, children: w ? a.jsxs(a.Fragment, { children: [a.jsx(zl, { className: "w-5 h-5 animate-spin" }), a.jsx("span", { children: "Syncing Cloud..." })] }) : a.jsxs(a.Fragment, { children: [a.jsx(zl, { className: "w-5 h-5 group-hover:rotate-180 transition-transform duration-500 text-blue-400" }), a.jsx("span", { children: "Sync Lifetime Data" })] }) })] })] }), a.jsxs("div", { className: " pt-8 border-t border-gray-50 flex flex-wrap items-center justify-between gap-4", children: [a.jsx("div", { className: "flex items-center gap-3", children: [].map(se => a.jsx("button", { onClick: () => ae(se), className: `px-5 py-2.5 text-sm font-black rounded-xl transition-all ${k.startYear === (se === "lastDecade" ? new Date().getFullYear() - 9 : se === "2010s" ? 2010 : 2e3) ? "bg-blue-600 text-white shadow-lg shadow-blue-100" : "bg-gray-50 text-gray-500 hover:bg-gray-100"}`, children: se === "lastDecade" ? "Current Decade" : se }, se)) }), a.jsxs("div", { className: "flex items-center gap-3 text-base font-black text-gray-700 bg-blue-50/50 border border-blue-100 px-6 py-3 rounded-2xl", children: [a.jsx(na, { className: "w-5 h-5 text-blue-600" }), a.jsxs("span", { children: ["Interval: ", k.startYear, "  ", k.endYear] })] })] })] }), (s || D) && a.jsxs("div", { className: "p-4 bg-red-50 border border-red-100 rounded-2xl flex items-center gap-3 text-red-600 animate-in fade-in slide-in-from-top-2", children: [a.jsx(PP, { className: "w-5 h-5 flex-shrink-0" }), a.jsx("p", { className: "text-sm font-semibold", children: s || D }), a.jsx("button", { onClick: () => { o(null), R(null) }, className: "ml-auto text-xs font-bold underline", children: "Dismiss" })] }), w && H.total > 0 && a.jsxs("div", { className: "bg-white rounded-2xl border border-blue-100 p-6 shadow-sm animate-pulse", children: [a.jsxs("div", { className: "flex items-center justify-between mb-3 text-sm font-bold text-blue-600", children: [a.jsxs("div", { className: "flex items-center gap-2", children: [a.jsx(sm, { className: "w-5 h-5" }), a.jsx("span", { children: H.message })] }), a.jsxs("span", { children: [H.current, "%"] })] }), a.jsx("div", { className: "w-full bg-blue-50 rounded-full h-3", children: a.jsx("div", { className: "bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out", style: { width: `${H.current}%` } }) })] }), a.jsx("div", { className: "bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden", children: a.jsx("div", { className: "overflow-x-auto", children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-100", children: [a.jsx("thead", { className: "bg-gray-50/50", children: a.jsxs("tr", { children: [a.jsx("th", { className: "px-8 py-6 text-left text-xs font-black text-gray-400 uppercase tracking-[0.2em]", children: "SN" }), a.jsx("th", { className: "px-8 py-6 text-left text-xs font-black text-gray-400 uppercase tracking-[0.2em]", children: "Hardware ID" }), a.jsx("th", { className: "px-8 py-6 text-left text-xs font-black text-gray-400 uppercase tracking-[0.2em]", children: "Beneficiary" }), a.jsx("th", { className: "px-8 py-6 text-left text-xs font-black text-gray-400 uppercase tracking-[0.2em]", children: "Cloud Status" }), a.jsx("th", { className: "px-8 py-6 text-left text-xs font-black text-gray-400 uppercase tracking-[0.2em]", children: "Lifecycle Total" })] }) }), a.jsx("tbody", { className: "divide-y divide-gray-50", children: r ? a.jsx("tr", { children: a.jsx("td", { colSpan: "5", className: "px-8 py-20 text-center", children: a.jsxs("div", { className: "flex flex-col items-center gap-4", children: [a.jsx(kF, { className: "w-12 h-12 text-blue-200 animate-spin" }), a.jsx("p", { className: "text-gray-500 text-lg font-bold", children: "Synchronizing registry..." })] }) }) }) : ie.length > 0 ? ie.map((se, U) => { var pe, M; const le = g[se.inverterId], de = (M = (pe = le == null ? void 0 : le.formatted) == null ? void 0 : pe.slice(-1)[0]) == null ? void 0 : M.cumulativeKwh, me = !!p.find(Z => Z.serialNumber === se.inverterId); return a.jsxs("tr", { className: "hover:bg-gray-50/50 transition-colors group", children: [a.jsx("td", { className: "px-8 py-8 text-base text-gray-500 font-black", children: se.serialNo || U + 1 }), a.jsx("td", { className: "px-8 py-8 text-lg font-black text-gray-900", children: se.inverterId }), a.jsx("td", { className: "px-8 py-8 text-base text-gray-700 font-bold group-hover:text-black transition-colors", children: se.beneficiaryName }), a.jsx("td", { className: "px-8 py-8", children: a.jsxs("span", { className: `inline-flex items-center gap-2 px-4 py-1.5 rounded-xl text-xs font-black uppercase tracking-wider ${me ? "bg-green-50 text-green-600" : "bg-gray-50 text-gray-400"}`, children: [a.jsx("div", { className: `w-2 h-2 rounded-full ${me ? "bg-green-500 animate-pulse" : "bg-gray-300"}` }), me ? "Online" : "Standby"] }) }), a.jsx("td", { className: "px-8 py-8", children: w ? a.jsx("div", { className: "h-8 w-32 bg-gray-100 animate-pulse rounded-lg" }) : de !== void 0 ? a.jsxs("div", { className: "flex flex-col", children: [a.jsxs("span", { className: "text-2xl font-black text-blue-600 leading-none", children: [de.toLocaleString(void 0, { minimumFractionDigits: 1, maximumFractionDigits: 1 }), a.jsx("span", { className: "text-xs ml-1.5 text-gray-400 font-bold", children: "kWh" })] }), a.jsx("span", { className: "text-xs text-gray-400 font-black uppercase tracking-tight mt-1", children: "Verified Lifecycle" })] }) : a.jsx("span", { className: "text-gray-300 font-black italic text-base", children: "No Cloud Data" }) })] }, U) }) : a.jsx("tr", { children: a.jsxs("td", { colSpan: "5", className: "px-8 py-20 text-center text-gray-400 font-black text-lg", children: ['No units found matching "', c, '"'] }) }) })] }) }) }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8", children: [a.jsxs("div", { className: "bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm flex flex-col justify-between hover:shadow-md transition-shadow", children: [a.jsxs("div", { className: "flex justify-between items-start", children: [a.jsx("span", { className: "text-xs font-black text-gray-400 uppercase tracking-widest", children: "Network Coverage" }), a.jsx(AP, { className: "w-6 h-6 text-blue-200" })] }), a.jsxs("div", { className: "mt-6", children: [a.jsx("div", { className: "text-4xl font-black text-gray-900", children: t.length }), a.jsx("div", { className: "text-sm text-gray-500 font-bold mt-2", children: "Total Registered Units" })] })] }), a.jsxs("div", { className: "bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm flex flex-col justify-between hover:shadow-md transition-shadow", children: [a.jsxs("div", { className: "flex justify-between items-start", children: [a.jsx("span", { className: "text-xs font-black text-gray-400 uppercase tracking-widest", children: "Cloud Availability" }), a.jsx(TN, { className: "w-6 h-6 text-green-200" })] }), a.jsxs("div", { className: "mt-6", children: [a.jsxs("div", { className: "text-4xl font-black text-gray-900", children: [p.length, " ", a.jsxs("span", { className: "text-sm text-gray-300 font-bold", children: ["/ ", t.length] })] }), a.jsxs("div", { className: "text-sm text-green-600 font-black mt-2 flex items-center gap-1.5", children: [a.jsx(DN, { className: "w-4 h-4" }), " Linked Successfully"] })] })] }), a.jsxs("div", { className: "bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm flex flex-col justify-between hover:shadow-md transition-shadow", children: [a.jsxs("div", { className: "flex justify-between items-start", children: [a.jsx("span", { className: "text-xs font-black text-gray-400 uppercase tracking-widest", children: "Aggregate Output" }), a.jsx(sm, { className: "w-6 h-6 text-orange-200" })] }), a.jsxs("div", { className: "mt-6", children: [a.jsxs("div", { className: "text-4xl font-black text-gray-900 leading-tight", children: [j.length > 0 ? j.reduce((se, U) => se + U.totalYearlyKwh, 0).toLocaleString() : "0", a.jsx("span", { className: "text-sm text-gray-300 ml-1.5 font-bold", children: "kWh" })] }), a.jsx("div", { className: "text-sm text-gray-500 font-bold mt-2", children: "Total System Production" })] })] }), a.jsxs("div", { className: "bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm flex flex-col justify-between hover:shadow-md transition-shadow", children: [a.jsxs("div", { className: "flex justify-between items-start", children: [a.jsx("span", { className: "text-xs font-black text-gray-400 uppercase tracking-widest", children: "Historical Span" }), a.jsx(na, { className: "w-6 h-6 text-purple-200" })] }), a.jsxs("div", { className: "mt-6", children: [a.jsx("div", { className: "text-4xl font-black text-gray-900", children: j.length }), a.jsx("div", { className: "text-sm text-gray-500 font-bold mt-2", children: "Years of Aggregated Data" })] })] })] })] }) }) } const dP = "7FD3CECA7507BDB20A80E72982E7DCDF", fP = "smu1jqi8wg712d2uuujfgwexgdvrsvj2", hP = "207", Mie = "https://script.google.com/macros/s/AKfycbzF4JjwpmtgsurRYkORyZvQPvRGc06VuBMCJM00wFbOOtVsSyFiUJx5xtb1J0P5ooyf/exec", Rie = "Inverter_id", $ie = () => {
  const { token: t } = X1(), [e, r] = b.useState({ inverters: !1, data: !1, allData: !1 }), [n, s] = b.useState(""), [o, c] = b.useState([]), [u, f] = b.useState([]), [h, p] = b.useState([]), [x, g] = b.useState(null), [v, j] = b.useState({ startDate: "", endDate: "", customRange: !1 }), [S, w] = b.useState("bar"), [O, D] = b.useState("specYield"), [R, H] = b.useState("desc"), [C, k] = b.useState(!1), [F, P] = b.useState("chart"), [W, J] = b.useState(!1), [Q, V] = b.useState(""); b.useEffect(() => { const I = new Date, _ = new Date; _.setDate(_.getDate() - 7); const X = E => { const q = E.getFullYear(), T = String(E.getMonth() + 1).padStart(2, "0"), Y = String(E.getDate()).padStart(2, "0"); return `${q}-${T}-${Y}` }; j({ startDate: X(_), endDate: X(I), customRange: !1 }) }, []); const ae = b.useCallback(async () => { var I; if (!e.inverters) { r(_ => ({ ..._, inverters: !0 })), s(""); try { const _ = `${Mie}?sheet=${encodeURIComponent(Rie)}&action=fetch`, X = await fetch(_); if (!X.ok) throw new Error("Failed to fetch inverter list"); const E = await X.text(); let q; try { q = JSON.parse(E) } catch { const G = E.indexOf("{"), A = E.lastIndexOf("}"); if (G !== -1 && A !== -1) q = JSON.parse(E.substring(G, A + 1)); else throw new Error("Invalid JSON response") } let T = []; (I = q.table) != null && I.rows ? T = q.table.rows : Array.isArray(q) ? T = q : q.values && (T = q.values.map(G => ({ c: G.map(A => ({ v: A })) }))); const Y = []; T.forEach((G, A) => { if (A === 0) return; let z = []; G.c ? z = G.c.map(fe => (fe == null ? void 0 : fe.v) || "") : Array.isArray(G) && (z = G); const $ = String(z[0] || "").trim(), K = String(z[1] || "").trim(), ee = String(z[2] || "").trim(), te = String(z[3] || "").trim(), oe = parseFloat(te) || 1; K && ee && Y.push({ id: A, serialNo: $, inverterId: K, beneficiaryName: ee, capacity: oe, selected: !0 }) }), c(Y), f(Y.map(G => G.inverterId)), s("") } catch (_) { console.error("Error fetching inverter list:", _), s(`Failed to load inverter list: ${_.message}`) } finally { r(_ => ({ ..._, inverters: !1 })) } } }, [e.inverters]), ie = b.useCallback(I => { const _ = I.getFullYear(), X = String(I.getMonth() + 1).padStart(2, "0"), E = String(I.getDate()).padStart(2, "0"); return `${_}${X}${E}` }, []), se = b.useCallback(() => { if (!v.startDate || !v.endDate) return 7; const I = new Date(v.startDate), _ = new Date(v.endDate), X = Math.abs(_ - I); return Math.ceil(X / (1e3 * 60 * 60 * 24)) + 1 }, [v]), U = b.useCallback(async () => { if (!t) { s("Please login first"); return } if (u.length === 0) { s("No inverters selected"); return } if (!v.startDate || !v.endDate) { s("Please select a date range"); return } r(I => ({ ...I, data: !0, allData: !0 })), s(""); try { const I = new Date(v.startDate), _ = new Date(v.endDate), X = new Date(I); X.setDate(X.getDate() - 1); const E = ie(X), q = ie(_), T = se(), Y = [], G = 3; for (let z = 0; z < u.length; z += G) { const K = u.slice(z, z + G).map(async te => { var oe, fe; try { const ue = o.find(ft => ft.inverterId === te); if (!ue) return null; const be = await (await fetch("https://gateway.isolarcloud.com.hk/openapi/getPVInverterRealTimeData", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": fP, sys_code: hP, token: t }, body: JSON.stringify({ appkey: dP, sn_list: [te], lang: "_en_US", sys_code: 207 }) })).json(); let Pe = null; if (be.result_code === "1" && ((oe = be.result_data) != null && oe.device_point_list)) { const ft = be.result_data.device_point_list.find(Fr => { var jt; return (jt = Fr == null ? void 0 : Fr.device_point) == null ? void 0 : jt.ps_key }); Pe = (fe = ft == null ? void 0 : ft.device_point) == null ? void 0 : fe.ps_key } if (!Pe) return console.warn(`No PS Key found for inverter: ${te}`), { ...ue, psKey: null, totalKwh: 0, avgDailyKwh: 0, specYield: 0, dailyData: [], error: "No PS Key found" }; const Fe = await (await fetch("https://gateway.isolarcloud.com.hk/openapi/getDevicePointsDayMonthYearDataList", { method: "POST", headers: { "Content-Type": "application/json", "x-access-key": fP, sys_code: hP, token: t }, body: JSON.stringify({ appkey: dP, data_point: "p2", data_type: "2", end_time: q, lang: "_en_US", order: "0", ps_key_list: [Pe], query_type: "1", start_time: E, sys_code: 207 }) })).json(); let Ue = 0; const Ze = []; if (Fe.result_code === "1" && Fe.result_data) { const ft = Object.keys(Fe.result_data)[0]; if (ft) { const Fr = Object.keys(Fe.result_data[ft])[0], jt = Fe.result_data[ft][Fr]; if (jt && Array.isArray(jt)) { const yr = [...jt].sort((Tr, Br) => Tr.time_stamp.localeCompare(Br.time_stamp)); let er = 0; yr.forEach((Tr, Br) => { const qr = Object.keys(Tr).find(Pr => Pr !== "time_stamp"); if (qr) { const zr = (parseFloat(Tr[qr]) || 0) / 1e3; if (Br === 0) er = zr; else { const In = Math.max(0, zr - er); Ze.push({ date: Tr.time_stamp, dailyKwh: In, cumulativeKwh: zr }), er = zr } } }), Ue = Ze.filter(Tr => { const Br = Tr.date.slice(0, 8), qr = v.startDate.replace(/-/g, ""), Pr = v.endDate.replace(/-/g, ""); return Br >= qr && Br <= Pr }).reduce((Tr, Br) => Tr + Br.dailyKwh, 0) } } } const nt = T > 0 ? Ue / T : 0, Kt = ue.capacity > 0 ? nt / ue.capacity : 0; return { ...ue, psKey: Pe, totalKwh: Number(Ue.toFixed(2)), avgDailyKwh: Number(nt.toFixed(2)), specYield: Number(Kt.toFixed(3)), dailyData: Ze, error: null, daysInRange: T } } catch (ue) { return console.error(`Error processing inverter ${te}:`, ue), { ...o.find(ye => ye.inverterId === te), psKey: null, totalKwh: 0, avgDailyKwh: 0, specYield: 0, dailyData: [], error: ue.message } } }), ee = await Promise.all(K); Y.push(...ee.filter(te => te !== null)), z + G < u.length && await new Promise(te => setTimeout(te, 1e3)) } const A = [...Y].sort((z, $) => { const K = z[O] || 0, ee = $[O] || 0; return R === "desc" ? ee - K : K - ee }); p(A), g(new Date), s("") } catch (I) { console.error("Error fetching performance data:", I), s(`Failed to fetch performance data: ${I.message}`) } finally { r(I => ({ ...I, data: !1, allData: !1 })) } }, [t, u, o, v, ie, se, O, R]); b.useEffect(() => { t && o.length === 0 && ae() }, [t, o.length, ae]), b.useEffect(() => { if (t && o.length > 0 && v.startDate && v.endDate && !e.inverters) { const I = setTimeout(() => { U() }, 500); return () => clearTimeout(I) } }, [t, o.length, v.startDate, v.endDate, U, e.inverters]); const le = b.useCallback(I => { u.includes(I) ? f(_ => _.filter(X => X !== I)) : f(_ => [..._, I]) }, [u]), de = b.useCallback(() => { u.length === o.length ? f([]) : f(o.map(I => I.inverterId)) }, [u, o]), me = b.useCallback(I => { O === I ? H(_ => _ === "desc" ? "asc" : "desc") : (D(I), H("desc")) }, [O]), pe = b.useMemo(() => { let I = [...h]; if (Q) { const _ = Q.toLowerCase(); I = I.filter(X => X.beneficiaryName.toLowerCase().includes(_) || X.inverterId.toLowerCase().includes(_) || X.serialNo.toLowerCase().includes(_)) } return I.sort((_, X) => { const E = _[O] || 0, q = X[O] || 0; return R === "desc" ? q - E : E - q }) }, [h, Q, O, R]), M = b.useMemo(() => { if (pe.length === 0) return null; const I = pe.reduce((G, A) => G + A.totalKwh, 0), _ = pe.reduce((G, A) => G + A.avgDailyKwh, 0) / pe.length, X = pe.reduce((G, A) => G + A.specYield, 0) / pe.length, E = pe.reduce((G, A) => G + A.capacity, 0), q = [...pe].sort((G, A) => A.specYield - G.specYield), T = q[0], Y = q[q.length - 1]; return { totalKwh: Number(I.toFixed(2)), avgDailyKwh: Number(_.toFixed(2)), avgSpecYield: Number(X.toFixed(3)), totalCapacity: Number(E.toFixed(2)), totalInverters: pe.length, bestPerformer: T, worstPerformer: Y } }, [pe]), Z = b.useCallback(I => { const _ = new Date, X = new Date; switch (I) { case "week": X.setDate(X.getDate() - 7); break; case "2weeks": X.setDate(X.getDate() - 14); break; case "month": X.setMonth(X.getMonth() - 1); break; case "3months": X.setMonth(X.getMonth() - 3); break; default: X.setDate(X.getDate() - 7) }const E = q => { const T = q.getFullYear(), Y = String(q.getMonth() + 1).padStart(2, "0"), G = String(q.getDate()).padStart(2, "0"); return `${T}-${Y}-${G}` }; j({ startDate: E(X), endDate: E(_), customRange: !1 }) }, []), ce = b.useCallback(() => {
    if (pe.length === 0) return; const _ = [["Serial No", "Inverter ID", "Beneficiary Name", "Capacity (kW)", `Total Energy (${v.startDate} to ${v.endDate}) (kWh)`, "Avg Daily Energy (kWh)", "Specific Yield (kWh/kW)", "Days in Range"].join(","), ...pe.map(T => [T.serialNo, T.inverterId, `"${T.beneficiaryName}"`, T.capacity, T.totalKwh, T.avgDailyKwh, T.specYield, T.daysInRange || se()].join(","))].join(`
`), X = new Blob([_], { type: "text/csv" }), E = window.URL.createObjectURL(X), q = document.createElement("a"); q.href = E, q.download = `weekly-performance-${new Date().toISOString().split("T")[0]}.csv`, document.body.appendChild(q), q.click(), document.body.removeChild(q), window.URL.revokeObjectURL(E)
  }, [pe, v, se]), ne = b.useMemo(() => pe.map(I => ({ name: I.beneficiaryName, inverterId: I.inverterId, specYield: I.specYield, avgDaily: I.avgDailyKwh, total: I.totalKwh, capacity: I.capacity, color: I.specYield >= 4 ? "#10B981" : I.specYield >= 3 ? "#F59E0B" : "#EF4444" })), [pe]), L = b.useCallback(() => { if (ne.length === 0) return a.jsx("div", { className: "h-96 flex items-center justify-center bg-gray-50 rounded-xl", children: a.jsxs("div", { className: "text-center", children: [a.jsx(Di, { className: "w-16 h-16 text-gray-300 mx-auto mb-4" }), a.jsx("p", { className: "text-gray-500", children: "No data available for chart" })] }) }); const I = C ? "70vh" : "400px"; return a.jsx("div", { className: `relative ${C ? "fixed inset-0 z-50 bg-white p-8" : ""}`, children: a.jsxs("div", { className: "relative", style: { height: I }, children: [a.jsxs("div", { className: "absolute top-0 left-0 right-0 z-10 flex justify-between items-center mb-4 px-4 pt-2", children: [a.jsxs("div", { className: "flex items-center gap-3", children: [a.jsx("div", { className: "w-3 h-3 rounded-full bg-blue-600" }), a.jsxs("div", { children: [a.jsx("h3", { className: "font-semibold text-gray-900 text-sm", children: "Specific Yield Ranking" }), a.jsxs("p", { className: "text-xs text-gray-500", children: [v.startDate, " to ", v.endDate, " (", se(), " days)"] })] })] }), a.jsx("div", { className: "flex items-center gap-2", children: a.jsx("button", { onClick: () => k(!C), className: "p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition", children: C ? a.jsx(DP, { className: "w-4 h-4" }) : a.jsx(EP, { className: "w-4 h-4" }) }) })] }), a.jsx("div", { className: "h-full pt-12", children: a.jsx(bm, { width: "100%", height: "100%", children: S === "bar" ? a.jsxs(cp, { data: ne, layout: "vertical", margin: { top: 20, right: 30, left: 150, bottom: 20 }, children: [a.jsx(Es, { strokeDasharray: "3 3", horizontal: !1 }), a.jsx(Mn, { type: "number", label: { value: "Specific Yield (kWh/kW)", position: "insideBottom", offset: -10 }, tick: { fontSize: 12 } }), a.jsx(Ha, { type: "category", dataKey: "name", tick: { fontSize: 11 }, width: 140 }), a.jsx(nn, { content: ({ active: _, payload: X }) => { if (_ && X && X.length) { const E = X[0].payload; return a.jsxs("div", { className: "bg-white p-3 rounded-lg shadow-lg border border-gray-200", children: [a.jsx("p", { className: "font-semibold text-gray-900 mb-2", children: E.name }), a.jsxs("p", { className: "text-sm text-gray-600", children: ["Inverter: ", E.inverterId] }), a.jsxs("p", { className: "text-sm text-gray-600", children: ["Capacity: ", E.capacity, " kW"] }), a.jsxs("div", { className: "mt-2 pt-2 border-t border-gray-100", children: [a.jsxs("p", { className: "text-sm", children: [a.jsx("span", { className: "font-medium", children: "Specific Yield: " }), a.jsxs("span", { className: `font-bold ${E.specYield >= 4 ? "text-green-600" : E.specYield >= 3 ? "text-yellow-600" : "text-red-600"}`, children: [E.specYield, " kWh/kW"] })] }), a.jsxs("p", { className: "text-sm", children: ["Avg Daily: ", E.avgDaily.toFixed(2), " kWh"] }), a.jsxs("p", { className: "text-sm", children: ["Total: ", E.total.toFixed(2), " kWh"] })] })] }) } return null } }), a.jsx(ex, { x: 4, stroke: "#10B981", strokeDasharray: "3 3", label: "Target" }), a.jsx(ka, { dataKey: "specYield", name: "Specific Yield", radius: [0, 4, 4, 0], children: ne.map((_, X) => a.jsx(Vd, { fill: _.color }, `cell-${X}`)) })] }) : S === "area" ? a.jsxs(o6, { data: ne, margin: { top: 20, right: 30, left: 20, bottom: 20 }, children: [a.jsx(Es, { strokeDasharray: "3 3" }), a.jsx(Mn, { dataKey: "name", angle: -45, textAnchor: "end", height: 80, tick: { fontSize: 10 } }), a.jsx(Ha, { label: { value: "Specific Yield (kWh/kW)", angle: -90, position: "insideLeft" }, tick: { fontSize: 12 } }), a.jsx(nn, { content: ({ active: _, payload: X }) => { if (_ && X && X.length) { const E = X[0].payload; return a.jsxs("div", { className: "bg-white p-3 rounded-lg shadow-lg border border-gray-200", children: [a.jsx("p", { className: "font-semibold text-gray-900 mb-2", children: E.name }), a.jsxs("p", { className: "text-sm", children: ["Specific Yield: ", E.specYield, " kWh/kW"] }), a.jsxs("p", { className: "text-sm", children: ["Avg Daily: ", E.avgDaily.toFixed(2), " kWh"] })] }) } return null } }), a.jsx(Vs, { type: "monotone", dataKey: "specYield", stroke: "#3B82F6", fill: "#3B82F6", fillOpacity: .3, name: "Specific Yield" })] }) : a.jsxs(i6, { data: ne, margin: { top: 20, right: 30, left: 20, bottom: 20 }, children: [a.jsx(Es, { strokeDasharray: "3 3" }), a.jsx(Mn, { dataKey: "name", angle: -45, textAnchor: "end", height: 80, tick: { fontSize: 10 } }), a.jsx(Ha, { label: { value: "Specific Yield (kWh/kW)", angle: -90, position: "insideLeft" }, tick: { fontSize: 12 } }), a.jsx(nn, { content: ({ active: _, payload: X }) => { if (_ && X && X.length) { const E = X[0].payload; return a.jsxs("div", { className: "bg-white p-3 rounded-lg shadow-lg border border-gray-200", children: [a.jsx("p", { className: "font-semibold text-gray-900 mb-2", children: E.name }), a.jsxs("p", { className: "text-sm", children: ["Specific Yield: ", E.specYield, " kWh/kW"] })] }) } return null } }), a.jsx(Oc, { type: "monotone", dataKey: "specYield", stroke: "#3B82F6", strokeWidth: 2, dot: { r: 4 }, activeDot: { r: 6 }, name: "Specific Yield" })] }) }) })] }) }) }, [ne, S, C, v, se]); return a.jsx(ar, { children: a.jsxs("div", { className: `min-h-screen ${C ? "overflow-hidden" : "bg-transparent"}`, children: [!C && a.jsx("div", { className: "w-full", children: a.jsxs("div", { className: "mb-6", children: [a.jsxs("div", { className: "flex items-center justify-between mb-4", children: [a.jsxs("div", { children: [a.jsxs("h1", { className: "text-2xl font-bold text-gray-900 flex items-center gap-2", children: [a.jsx(Di, { className: "w-8 h-8 text-blue-600" }), "Weekly Performance Report"] }), a.jsx("p", { className: "text-gray-600", children: "Compare performance across all inverters with customizable date range" })] }), a.jsxs("div", { className: "flex items-center gap-3", children: [a.jsxs("button", { onClick: ce, disabled: pe.length === 0, className: `px-4 py-2 rounded-lg font-medium transition flex items-center gap-2 ${pe.length === 0 ? "bg-gray-100 text-gray-400 cursor-not-allowed" : "bg-green-600 hover:bg-green-700 text-white"}`, children: [a.jsx(iF, { className: "w-4 h-4" }), "Export CSV"] }), a.jsxs("button", { onClick: U, disabled: e.data || !t, className: `px-4 py-2 rounded-lg font-medium transition flex items-center gap-2 ${e.data || !t ? "bg-gray-100 text-gray-400 cursor-not-allowed" : "bg-blue-600 hover:bg-blue-700 text-white"}`, children: [a.jsx(zl, { className: `w-4 h-4 ${e.data ? "animate-spin" : ""}` }), "Refresh Data"] })] })] }), M && a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-4 mb-6", children: [a.jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm border border-gray-200", children: [a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("div", { children: [a.jsx("p", { className: "text-sm text-gray-500", children: "Total Energy" }), a.jsxs("p", { className: "text-2xl font-bold text-blue-600", children: [M.totalKwh, " kWh"] })] }), a.jsx($s, { className: "w-8 h-8 text-blue-100 bg-blue-600 p-2 rounded-lg" })] }), a.jsxs("p", { className: "text-xs text-gray-400 mt-2", children: ["Across ", M.totalInverters, " inverters"] })] }), a.jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm border border-gray-200", children: [a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("div", { children: [a.jsx("p", { className: "text-sm text-gray-500", children: "Avg Daily" }), a.jsxs("p", { className: "text-2xl font-bold text-green-600", children: [M.avgDailyKwh, " kWh"] })] }), a.jsx(om, { className: "w-8 h-8 text-green-100 bg-green-600 p-2 rounded-lg" })] }), a.jsx("p", { className: "text-xs text-gray-400 mt-2", children: "Per inverter average" })] }), a.jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm border border-gray-200", children: [a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("div", { children: [a.jsx("p", { className: "text-sm text-gray-500", children: "Avg Spec. Yield" }), a.jsxs("p", { className: "text-2xl font-bold text-purple-600", children: [M.avgSpecYield, " kWh/kW"] })] }), a.jsx(nB, { className: "w-8 h-8 text-purple-100 bg-purple-600 p-2 rounded-lg" })] }), a.jsx("p", { className: "text-xs text-gray-400 mt-2", children: M.avgSpecYield >= 4 ? "Excellent" : M.avgSpecYield >= 3 ? "Good" : "Needs Improvement" })] }), a.jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm border border-gray-200", children: [a.jsxs("div", { className: "flex items-center justify-between", children: [a.jsxs("div", { children: [a.jsx("p", { className: "text-sm text-gray-500", children: "Total Capacity" }), a.jsxs("p", { className: "text-2xl font-bold text-orange-600", children: [M.totalCapacity, " kW"] })] }), a.jsx(Vw, { className: "w-8 h-8 text-orange-100 bg-orange-600 p-2 rounded-lg" })] }), a.jsx("p", { className: "text-xs text-gray-400 mt-2", children: "Installed capacity" })] })] }), a.jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-6", children: [a.jsxs("div", { className: "flex items-center justify-between mb-4", children: [a.jsxs("h3", { className: "font-semibold text-gray-900 flex items-center gap-2", children: [a.jsx(im, { className: "w-5 h-5" }), "Date Range Selection"] }), a.jsx("div", { className: "flex items-center gap-2", children: a.jsxs("span", { className: "text-sm text-gray-500", children: [v.startDate, " to ", v.endDate, " (", se(), " days)"] }) })] }), a.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Start Date" }), a.jsx("input", { type: "date", value: v.startDate, onChange: I => j(_ => ({ ..._, startDate: I.target.value, customRange: !0 })), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "End Date" }), a.jsx("input", { type: "date", value: v.endDate, onChange: I => j(_ => ({ ..._, endDate: I.target.value, customRange: !0 })), className: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" })] }), a.jsxs("div", { children: [a.jsx("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Quick Presets" }), a.jsxs("div", { className: "flex gap-2", children: [a.jsx("button", { onClick: () => Z("week"), className: "flex-1 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition", children: "Last 7 Days" }), a.jsx("button", { onClick: () => Z("2weeks"), className: "flex-1 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition", children: "Last 14 Days" }), a.jsx("button", { onClick: () => Z("month"), className: "flex-1 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition", children: "Last 30 Days" })] })] })] })] }), a.jsxs("div", { className: "flex flex-wrap items-center justify-between gap-4 mb-6", children: [a.jsxs("div", { className: "flex items-center gap-4", children: [a.jsxs("div", { className: "flex items-center gap-2", children: [a.jsxs("button", { onClick: () => P("chart"), className: `px-4 py-2 rounded-lg font-medium transition ${F === "chart" ? "bg-blue-600 text-white" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: [a.jsx(Di, { className: "w-4 h-4 inline mr-2" }), "Chart View"] }), a.jsxs("button", { onClick: () => P("table"), className: `px-4 py-2 rounded-lg font-medium transition ${F === "table" ? "bg-blue-600 text-white" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: [a.jsx(AP, { className: "w-4 h-4 inline mr-2" }), "Table View"] })] }), F === "chart" && a.jsxs("div", { className: "flex items-center gap-2", children: [a.jsx("button", { onClick: () => w("bar"), className: `px-3 py-1 rounded text-sm ${S === "bar" ? "bg-blue-100 text-blue-700 border border-blue-300" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: "Bar" }), a.jsx("button", { onClick: () => w("area"), className: `px-3 py-1 rounded text-sm ${S === "area" ? "bg-blue-100 text-blue-700 border border-blue-300" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: "Area" }), a.jsx("button", { onClick: () => w("line"), className: `px-3 py-1 rounded text-sm ${S === "line" ? "bg-blue-100 text-blue-700 border border-blue-300" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: "Line" })] })] }), a.jsxs("div", { className: "flex items-center gap-4", children: [a.jsxs("div", { className: "relative", children: [a.jsx("input", { type: "text", placeholder: "Search inverters...", value: Q, onChange: I => V(I.target.value), className: "px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" }), a.jsx(fr, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" }), Q && a.jsx("button", { onClick: () => V(""), className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600", children: a.jsx(Pt, { className: "w-4 h-4" }) })] }), a.jsxs("button", { onClick: () => J(!W), className: "px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition flex items-center gap-2", children: [a.jsx(Yw, { className: "w-4 h-4" }), "Filters"] })] })] }), W && a.jsxs("div", { className: "bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-6", children: [a.jsxs("div", { className: "flex items-center justify-between mb-4", children: [a.jsx("h3", { className: "font-semibold text-gray-900", children: "Inverter Selection" }), a.jsxs("div", { className: "flex items-center gap-2", children: [a.jsx("button", { onClick: de, className: "px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition", children: u.length === o.length ? "Deselect All" : "Select All" }), a.jsxs("span", { className: "text-sm text-gray-500", children: [u.length, " of ", o.length, " selected"] })] })] }), a.jsx("div", { className: "grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-3 max-h-60 overflow-y-auto p-2", children: o.map(I => a.jsxs("label", { className: `flex items-center gap-2 p-3 rounded-lg border cursor-pointer transition ${u.includes(I.inverterId) ? "bg-blue-50 border-blue-300" : "bg-gray-50 border-gray-200 hover:bg-gray-100"}`, children: [a.jsx("input", { type: "checkbox", checked: u.includes(I.inverterId), onChange: () => le(I.inverterId), className: "rounded text-blue-600 focus:ring-blue-500" }), a.jsxs("div", { children: [a.jsx("p", { className: "font-medium text-gray-900 text-sm", children: I.beneficiaryName }), a.jsxs("p", { className: "text-xs text-gray-500", children: [I.inverterId, " (", I.capacity, " kW)"] })] })] }, I.id)) })] }), F === "chart" && a.jsx("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 p-5 mb-6", children: L() }), F === "table" && a.jsxs("div", { className: "bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden", children: [a.jsx("div", { className: "overflow-x-auto", children: a.jsxs("table", { className: "min-w-full divide-y divide-gray-200", children: [a.jsx("thead", { className: "bg-gray-50", children: a.jsxs("tr", { children: [a.jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer", onClick: () => me("beneficiaryName"), children: a.jsxs("div", { className: "flex items-center gap-1", children: ["Beneficiary Name", O === "beneficiaryName" && (R === "asc" ? a.jsx(_l, { className: "w-4 h-4" }) : a.jsx(wi, { className: "w-4 h-4" }))] }) }), a.jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer", onClick: () => me("inverterId"), children: a.jsxs("div", { className: "flex items-center gap-1", children: ["Inverter ID", O === "inverterId" && (R === "asc" ? a.jsx(_l, { className: "w-4 h-4" }) : a.jsx(wi, { className: "w-4 h-4" }))] }) }), a.jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer", onClick: () => me("capacity"), children: a.jsxs("div", { className: "flex items-center gap-1", children: ["Capacity (kW)", O === "capacity" && (R === "asc" ? a.jsx(_l, { className: "w-4 h-4" }) : a.jsx(wi, { className: "w-4 h-4" }))] }) }), a.jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer", onClick: () => me("totalKwh"), children: a.jsxs("div", { className: "flex items-center gap-1", children: ["Total (kWh)", O === "totalKwh" && (R === "asc" ? a.jsx(_l, { className: "w-4 h-4" }) : a.jsx(wi, { className: "w-4 h-4" }))] }) }), a.jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer", onClick: () => me("avgDailyKwh"), children: a.jsxs("div", { className: "flex items-center gap-1", children: ["Avg/Day (kWh)", O === "avgDailyKwh" && (R === "asc" ? a.jsx(_l, { className: "w-4 h-4" }) : a.jsx(wi, { className: "w-4 h-4" }))] }) }), a.jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer", onClick: () => me("specYield"), children: a.jsxs("div", { className: "flex items-center gap-1", children: ["Spec. Yield (kWh/kW)", O === "specYield" && (R === "asc" ? a.jsx(_l, { className: "w-4 h-4" }) : a.jsx(wi, { className: "w-4 h-4" }))] }) }), a.jsx("th", { scope: "col", className: "px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Status" })] }) }), a.jsx("tbody", { className: "bg-white divide-y divide-gray-200", children: pe.map((I, _) => { var X, E; return a.jsxs("tr", { className: "hover:bg-gray-50 transition", children: [a.jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: a.jsx("div", { className: "flex items-center", children: a.jsxs("div", { className: "ml-4", children: [a.jsx("div", { className: "text-sm font-medium text-gray-900", children: I.beneficiaryName }), a.jsx("div", { className: "text-sm text-gray-500", children: I.serialNo })] }) }) }), a.jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: a.jsx("div", { className: "text-sm text-gray-900 font-mono", children: I.inverterId }) }), a.jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: a.jsxs("span", { className: "px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800", children: [I.capacity, " kW"] }) }), a.jsxs("td", { className: "px-6 py-4 whitespace-nowrap", children: [a.jsx("div", { className: "text-sm font-semibold text-gray-900", children: I.totalKwh.toFixed(2) }), a.jsxs("div", { className: "text-xs text-gray-500", children: [I.daysInRange || se(), " days"] })] }), a.jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: a.jsxs("div", { className: "flex items-center", children: [a.jsx("div", { className: "text-sm font-semibold text-green-600", children: I.avgDailyKwh.toFixed(2) }), _ === 0 && ((X = M == null ? void 0 : M.bestPerformer) == null ? void 0 : X.inverterId) === I.inverterId && a.jsx(B8, { className: "w-4 h-4 text-green-500 ml-1" }), _ === pe.length - 1 && ((E = M == null ? void 0 : M.worstPerformer) == null ? void 0 : E.inverterId) === I.inverterId && a.jsx(L8, { className: "w-4 h-4 text-red-500 ml-1" })] }) }), a.jsxs("td", { className: "px-6 py-4 whitespace-nowrap", children: [a.jsx("div", { className: `text-sm font-bold ${I.specYield >= 4 ? "text-green-600" : I.specYield >= 3 ? "text-yellow-600" : "text-red-600"}`, children: I.specYield.toFixed(3) }), a.jsx("div", { className: "text-xs text-gray-500", children: I.specYield >= 4 ? "Excellent" : I.specYield >= 3 ? "Good" : "Needs Improvement" })] }), a.jsx("td", { className: "px-6 py-4 whitespace-nowrap", children: I.error ? a.jsxs("span", { className: "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800", children: [a.jsx(ed, { className: "w-3 h-3 mr-1" }), "Error"] }) : a.jsxs("span", { className: "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800", children: [a.jsx(DN, { className: "w-3 h-3 mr-1" }), "Active"] }) })] }, I.id) }) })] }) }), a.jsxs("div", { className: "bg-gray-50 px-6 py-3 border-t border-gray-200 flex justify-between items-center", children: [a.jsxs("div", { className: "text-sm text-gray-500", children: ["Showing ", pe.length, " of ", o.length, " inverters", x && a.jsxs("span", { className: "ml-4", children: ["Last updated: ", x.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" })] })] }), a.jsx("div", { className: "flex items-center gap-2", children: a.jsx("button", { onClick: ce, disabled: pe.length === 0, className: `px-3 py-1 text-sm rounded ${pe.length === 0 ? "bg-gray-100 text-gray-400 cursor-not-allowed" : "bg-gray-100 text-gray-700 hover:bg-gray-200"}`, children: "Export Table" }) })] })] }), n && a.jsx("div", { className: "mt-4 p-4 bg-red-50 border border-red-200 rounded-lg", children: a.jsxs("div", { className: "flex items-center gap-3", children: [a.jsx(ed, { className: "w-5 h-5 text-red-600 flex-shrink-0" }), a.jsxs("div", { children: [a.jsx("h4", { className: "font-medium text-red-800 text-sm", children: "Error" }), a.jsx("p", { className: "text-sm text-red-700 mt-1", children: n }), a.jsx("button", { onClick: () => s(""), className: "text-xs text-red-600 hover:text-red-800 mt-2", children: "Dismiss" })] })] }) }), (e.data || e.allData) && a.jsx("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: a.jsxs("div", { className: "bg-white p-8 rounded-xl shadow-lg text-center", children: [a.jsx("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4" }), a.jsx("p", { className: "text-gray-700 font-medium", children: "Loading performance data..." }), a.jsxs("p", { className: "text-sm text-gray-500 mt-2", children: ["Processing ", u.length, " inverters"] })] }) })] }) }), C && L()] }) })
}, ur = ({ children: t, allowedRoles: e = [] }) => { const r = sessionStorage.getItem("username"), n = sessionStorage.getItem("role"); return r ? e.length > 0 && !e.includes(n) ? a.jsx(bi, { to: "/dashboard/admin", replace: !0 }) : t : a.jsx(bi, { to: "/login", replace: !0 }) }; function Iie() { return a.jsx(Nie, { children: a.jsx(N8, { children: a.jsxs(e8, { children: [a.jsx(Tt, { path: "/", element: a.jsx(bi, { to: "/login", replace: !0 }) }), a.jsx(Tt, { path: "/login", element: a.jsx(vB, {}) }), a.jsx(Tt, { path: "/dashboard", element: a.jsx(bi, { to: "/dashboard/admin", replace: !0 }) }), a.jsx(Tt, { path: "/dashboard/admin", element: a.jsx(ur, { children: a.jsx(fre, {}) }) }), a.jsx(Tt, { path: "/dashboard/assign-task", element: a.jsx(ur, { allowedRoles: ["admin", "user"], children: a.jsx(hre, {}) }) }), a.jsx(Tt, { path: "/dashboard/SurveyReport", element: a.jsx(ur, { children: a.jsx(pre, {}) }) }), a.jsx(Tt, { path: "/dashboard/Quotationsend", element: a.jsx(ur, { children: a.jsx(gre, {}) }) }), a.jsx(Tt, { path: "/dashboard/Followup", element: a.jsx(ur, { children: a.jsx(bre, {}) }) }), a.jsx(Tt, { path: "/dashboard/OrderPlace", element: a.jsx(ur, { children: a.jsx(wre, {}) }) }), a.jsx(Tt, { path: "/dashboard/IPAssigment", element: a.jsx(ur, { children: a.jsx(Nre, {}) }) }), a.jsx(Tt, { path: "/dashboard/Dispatchmaterial", element: a.jsx(ur, { children: a.jsx(_re, {}) }) }), a.jsx(Tt, { path: "/dashboard/InformToCustomer", element: a.jsx(ur, { children: a.jsx(Cre, {}) }) }), a.jsx(Tt, { path: "/dashboard/Materialreceived", element: a.jsx(ur, { children: a.jsx(Are, {}) }) }), a.jsx(Tt, { path: "/dashboard/Installation", element: a.jsx(ur, { children: a.jsx(Dre, {}) }) }), a.jsx(Tt, { path: "/dashboard/Billing", element: a.jsx(ur, { children: a.jsx(Pre, {}) }) }), a.jsx(Tt, { path: "/dashboard/CspdclForSynconization", element: a.jsx(ur, { children: a.jsx(Rre, {}) }) }), a.jsx(Tt, { path: "/dashboard/Inspection", element: a.jsx(ur, { children: a.jsx(Ire, {}) }) }), a.jsx(Tt, { path: "/dashboard/ProjectCommissioning", element: a.jsx(ur, { children: a.jsx(Fre, {}) }) }), a.jsx(Tt, { path: "/dashboard/Redemption", element: a.jsx(ur, { children: a.jsx(qre, {}) }) }), a.jsx(Tt, { path: "/dashboard/SubsidyDisbursal", element: a.jsx(ur, { children: a.jsx(Ure, {}) }) }), a.jsx(Tt, { path: "/dashboard/Payment", element: a.jsx(ur, { children: a.jsx(Vre, {}) }) }), a.jsx(Tt, { path: "/dashboard/energy-analysis", element: a.jsx(ur, { children: a.jsx(Wre, {}) }) }), a.jsx(Tt, { path: "/dashboard/analysis-graph", element: a.jsx(ur, { children: a.jsx(Eie, {}) }) }), a.jsx(Tt, { path: "/dashboard/all-graph", element: a.jsx(ur, { children: a.jsx(Pie, {}) }) }), a.jsx(Tt, { path: "/dashboard/weekly-performance-report", element: a.jsx(ur, { children: a.jsx($ie, {}) }) }), a.jsx(Tt, { path: "/admin/*", element: a.jsx(bi, { to: "/dashboard/admin", replace: !0 }) }), a.jsx(Tt, { path: "/admin/dashboard", element: a.jsx(bi, { to: "/dashboard/admin", replace: !0 }) }), a.jsx(Tt, { path: "/admin/assign-task", element: a.jsx(bi, { to: "/dashboard/assign-task", replace: !0 }) }), a.jsx(Tt, { path: "/user/*", element: a.jsx(bi, { to: "/dashboard/admin", replace: !0 }) })] }) }) }) } lL.createRoot(document.getElementById("root")).render(a.jsx(b.StrictMode, { children: a.jsx(Iie, {}) }));
